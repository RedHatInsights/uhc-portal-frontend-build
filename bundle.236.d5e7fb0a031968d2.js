"use strict";(self.webpackChunkcloud_openshift_com=self.webpackChunkcloud_openshift_com||[]).push([[236,334],{62869:(e,t,n)=>{n.d(t,{ZP:()=>S});var a=n(87462),o=n(15671),r=n(43144),i=n(97326),s=n(60136),l=n(20245),c=n(61120),u=n(4942),p=n(92950),d=n.n(p),m=n(12181),E=n(12167),h=n(45697),v=n.n(h),R=n(21458),f=n(90285),g=n(86175);var Z=function(e){(0,s.Z)(E,e);var t,n,p=(t=E,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(a,arguments,o)}else e=a.apply(this,arguments);return(0,l.Z)(this,e)});function E(){var e;(0,o.Z)(this,E);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=p.call.apply(p,[this].concat(n)),(0,u.Z)((0,i.Z)(e),"state",{page:1}),(0,u.Z)((0,i.Z)(e),"onSetPage",(function(t,n){e.setState({page:n})})),e}return(0,r.Z)(E,[{key:"render",value:function(){var e=this.state.page,t=this.props,n=t.notifications,o=t.removeNotification,r=t.rootId,i=t.onClearAll,s=n&&n.length<=5?n:n&&n.slice(5*(e-1),5*e);return!n||Array.isArray(n)&&0===n.length?null:(0,m.createPortal)(d().createElement("div",{className:"notifications-portal"},n&&n.length>5&&d().createElement(g.Z,{onSetPage:this.onSetPage,count:n.length,page:e,onClearAll:i}),s.map((function(e){return d().createElement(f.Z,(0,a.Z)({onDismiss:o,key:e.id},e))}))),document.getElementById(r)||document.body)}}]),E}(p.Component);Z.propTypes={notifications:v().arrayOf(v().shape({id:v().string.isRequired,title:v().string.isRequired,variant:v().string.isRequired,description:v().node,dismissable:v().bool})),removeNotification:v().func.isRequired,onClearAll:v().func};const S=(0,E.connect)((function(e,t){var n=e.notifications;return{notifications:t.notifications||n}}),(function(e,t){return{removeNotification:t.removeNotification?t.removeNotification:function(t){return e((0,R.FV)(t))},onClearAll:t.clearNotifications?t.clearNotifications:function(){return e((0,R.L1)())}}}))(Z)},47820:(e,t,n)=>{n.r(t),n.d(t,{BrowserClient:()=>o.RE,Hub:()=>o.Xb,Integrations:()=>p,SDK_NAME:()=>o.jJ,SDK_VERSION:()=>o.Jn,Scope:()=>o.sX,Severity:()=>o.zb,Status:()=>o.qb,Transports:()=>l,addBreadcrumb:()=>o.n_,addGlobalEventProcessor:()=>o.cc,captureEvent:()=>o.eN,captureException:()=>o.Tb,captureMessage:()=>o.uT,close:()=>o.xv,configureScope:()=>o.e,defaultIntegrations:()=>o.SS,eventFromException:()=>o.dr,eventFromMessage:()=>o.aB,flush:()=>o.yl,forceLoad:()=>o.Eg,getCurrentHub:()=>o.Gd,getHubFromCarrier:()=>o.vi,init:()=>o.S1,injectReportDialog:()=>o.BS,lastEventId:()=>o.eW,makeMain:()=>o.pj,onLoad:()=>o.lA,setContext:()=>o.v,setExtra:()=>o.sU,setExtras:()=>o.rJ,setTag:()=>o.YA,setTags:()=>o.mG,setUser:()=>o.av,showReportDialog:()=>o.jp,startTransaction:()=>o.Yr,withScope:()=>o.$e,wrap:()=>o.re});var a=n(66856),o=n(66886),r=n(53162),i=n(62844),s=n(21114),l=n(8153),c={},u=(0,i.Rf)();u.Sentry&&u.Sentry.Integrations&&(c=u.Sentry.Integrations);var p=(0,a.pi)((0,a.pi)((0,a.pi)({},c),r),s)},66084:(e,t,n)=>{n.d(t,{x:()=>o});var a=function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},o=function(){function e(){this.name=e.id,this._startTime=Date.now()}return e.prototype.setupOnce=function(t,n){t((function(t){var a=n().getIntegration(e);return a?a.process(t):t}))},e.prototype.process=function(e){var t,n=Date.now();return a(a({},e),{extra:a(a({},e.extra),(t={},t["session:start"]=this._startTime,t["session:duration"]=n-this._startTime,t["session:end"]=n,t))})},e.id="SessionTiming",e}()},64236:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var a=n(92950),o=n.n(a),r=(n(26398),n(334)),i=n(12167),s=n(62869),l=n(79074),c=n(47820),u=n(40802),p=n(66084),d=n(95517),m=n(78913),E=n(58995),h=n(49596),v=n(98371),R=n(38432),f=n(19744),g=n(34677),Z=n(1703);const{Api:S,Config:w}=d;S.setAuthInterceptor(g.w),w.setRouteBasePath("/assisted-installer");class _ extends o().Component{constructor(){super(...arguments),this.state={ready:!1}}componentDidMount(){insights.chrome.init(),insights.chrome.identifyApp("").then((()=>{insights.chrome.appNavClick((0,E.Z)(window.location.pathname))})),insights.chrome.auth.getUser().then((e=>{var t;(null===(t=null==e?void 0:e.identity)||void 0===t?void 0:t.user)&&f.h.dispatch((0,v.userInfoResponse)(e.identity.user)),m.default.fetchConfig().then((()=>{var t;if(f.h.dispatch((0,R.c6)()),this.setState({ready:!0}),!m.default.envOverride&&m.default.configData.sentryDSN&&(l.S1({dsn:m.default.configData.sentryDSN,integrations:[new p.x,new c.Integrations.GlobalHandlers({onerror:!0,onunhandledrejection:!1})]}),null===(t=null==e?void 0:e.identity)||void 0===t?void 0:t.user)){const{email:t,username:n}=e.identity.user;u.e((e=>{e.setUser({email:t,username:n})}))}}))})),insights.chrome.enable.segmentDev()}render(){const{ready:e}=this.state;if(e){const e=(0,h.default)();return o().createElement(i.Provider,{store:f.h},o().createElement(s.ZP,null),o().createElement(r.BrowserRouter,{basename:e,getUserConfirmation:()=>{}},o().createElement(Z.Z,null)))}return null}}const T=_},49596:(e,t,n)=>{n.r(t),n.d(t,{advisorBaseName:()=>r,default:()=>c,getResourcesBase:()=>l,removeOcmBaseName:()=>s});const{insights:{appname:a}}=n(4147),o=()=>(null===window||void 0===window?void 0:window.location.pathname.startsWith("/beta"))?"/beta":(null===window||void 0===window||window.location.pathname.startsWith("/preview"),"/preview"),r=()=>`${o()}/openshift/insights/advisor`,i=new RegExp(`^(/preview|/beta|)/${a}`,"i"),s=e=>e.replace(i,""),l=()=>`/beta/apps/${a}`,c=()=>`${o()}/${a}`},58995:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(49596);function o(e){const t=(0,a.removeOcmBaseName)(e).replace(/^\//,"").split("/");switch(t[0]){case"downloads":case"token":return{id:"downloads"};case"quota":return{id:t[1]||"openshift-quota",parentId:"subscriptions",secondaryNav:!0};case"subscriptions":return{id:t[1],parentId:"subscriptions",secondaryNav:!0};case"overview":case"releases":return{id:t[0]};default:return{id:""}}}},1703:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(92950),o=n.n(a),r=n(72052),i=n(31611),s=n(67057),l=n(78913);const c=({children:e})=>o().createElement(o().Fragment,null,o().createElement("span",{id:"scrollToTop"}),l.default.envOverride&&o().createElement(s.Z,{env:l.default.envOverride}),o().createElement(i.default,null,e||o().createElement(r.Z,null)))},67057:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(92950),o=n.n(a),r=n(35356),i=n(78913),s=n(49596);const l=({env:e})=>o().createElement(r.Alert,{variant:"warning",isInline:!0,id:"env-override-message",title:"Environment override active",actionLinks:o().createElement(r.Button,{variant:r.ButtonVariant.link,isInline:!0,onClick:()=>{localStorage.removeItem(i.ENV_OVERRIDE_LOCALSTORAGE_KEY),window.location.href=(0,s.default)()}},"Go back to ",o().createElement("b",null,"disabled"))},"You're now using the ",o().createElement("b",null,e)," environment API.")},31611:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(92950),o=n.n(a),r=n(35356),i=n(40802);class s extends o().Component{constructor(){super(...arguments),this.state={}}componentDidCatch(e,t){this.setState({error:e.toString(),componentStack:t.componentStack}),i.$e((n=>{n.setExtras({componentStack:t.componentStack}),i.Tb(e)}))}render(){const{error:e,componentStack:t}=this.state;if(e)return o().createElement(r.EmptyState,null,o().createElement(r.Alert,{variant:"danger",isInline:!0,title:"Something went wrong"},o().createElement("div",{style:{whiteSpace:"pre-wrap",textAlign:"left",fontFamily:"monospace"}},e,t)));const{children:n}=this.props;return n}}const l=s},72052:(e,t,n)=>{n.d(t,{Z:()=>Be});var a=n(92950),o=n.n(a),r=n(334),i=n(17420),s=n(27361),l=n.n(s),c=n(12167),u=n(95517),p=n(55140),d=n(58045),m=n(34677),E=n(43736),h=n(30517),v=n(71847),R=n(59228),f=n(90053),g=n(51930),Z=n(1258),S=n(32839),w=n(55705),_=n(49541),T=n(62800),A=n(94845),P=n(27612),b=n(28275),I=n(36926),y=n(98452),O=n(13268),D=n(68575),N=n(64835),k=n(78456),F=n(44710),C=n(58900),L=n(94203),x=n(12691),z=n(6738),U=n(23311),G=n(1214),j=n(96134),M=n(80635),V=n(39048),W=n(24236),$=n(34997),B=n(69733),H=n(64536),q=n(59446),Y=n(57729),K=n(30726),J=n(14858),X=n(74396),Q=n(34782),ee=n(57531),te=n(57364),ne=n(720),ae=n(95870),oe=n(92087),re=n(83782),ie=n(20239),se=n(7100),le=n(49758),ce=n(357),ue=n(6309),pe=n(97123),de=n(32677),me=n(17298),Ee=n(25822),he=n(41205),ve=n(49943),Re=n(77994),fe=n(507),ge=n(23664),Ze=n(30832),Se=n(48249),we=n(38352),_e=n(35087),Te=n(69817),Ae=n(95404),Pe=n(97636),be=n(33378),Ie=n(75288),ye=n(39286),Oe=n(28986),De=n(52758),Ne=n(52964),ke=n(36842),Fe=n(16551),Ce=n(59958),Le=n(94634),xe=n(6775),ze=n(77696),Ue=n(73531),Ge=n(30320),je=n(30116),Me=n(96106);const{AssistedUiRouter:Ve}=u,We=(0,Ze.default)(Ve,we.ASSISTED_INSTALLER_FEATURE),$e=(0,Ze.default)(y.Z,we.ASSISTED_INSTALLER_FEATURE,Te.ZP),Be=(0,c.connect)((e=>{const{cluster:t}=e.clusters.details;return{planType:l()(t,"subscription.plan.type",De.normalizedProducts.UNKNOWN),clusterId:l()(t,"subscription.cluster_id"),externalClusterId:l()(t,"subscription.external_cluster_id")}}))((0,r.withRouter)((({history:e,planType:t,clusterId:n,externalClusterId:s})=>{const{pathname:l}=(0,r.useLocation)(),{segment:{setPageMetadata:c}}=(0,p.Z)(),u=(0,Me.useFeatureGate)(we.HYPERSHIFT_WIZARD_FEATURE),y=(0,Me.useFeatureGate)(we.OSD_WIZARD_V2_FEATURE),{[we.OSD_WIZARD_V1]:Ze}=(0,Se.h)();return o().useEffect((()=>{console.info("---------------Features---------------\n",`HYPERSHIFT_WIZARD_FEATURE: ${u?"Enabled":"Disabled"}\n`,`OSD_WIZARD_V2_FEATURE: ${y?"Enabled":"Disabled"}\n`,`OSD_WIZARD_V1: ${Ze?"Enabled":"Disabled"}\n`,"-------------------------------------")}),[u,y,Ze]),(0,a.useEffect)((()=>{c(Object.assign(Object.assign({},(0,je.Z)(l,t,n,s)),(0,je.b)()?{title:"404 Not Found"}:{}))}),[l,t,n,s,c]),o().createElement(o().Fragment,null,o().createElement(ge.Z,null),o().createElement(i.xI,{history:e},o().createElement(E.Z,{apiRequest:m.Z},o().createElement(r.Switch,null,o().createElement(r.Redirect,{from:"/install/osp/installer-provisioned",to:"/install/openstack/installer-provisioned"}),o().createElement(r.Redirect,{from:"/install/crc/installer-provisioned",to:"/create/local"}),o().createElement(r.Redirect,{from:"/token/moa",to:"/token/rosa"}),o().createElement(r.Redirect,{from:"/insights",to:"/overview"}),o().createElement(r.Redirect,{from:"/subscriptions",to:"/quota"}),o().createElement(r.Route,{path:"/downloads",component:Ee.Z}),o().createElement(d.Z,{path:"/token/rosa/show",history:e,render:()=>o().createElement(o().Fragment,null,o().createElement(ve.Z,{show:!0}),o().createElement(Ce.Z,null))}),o().createElement(d.Z,{path:"/token/rosa",history:e,render:()=>o().createElement(o().Fragment,null,o().createElement(ve.Z,{show:!1,showPath:"/token/rosa/show"}),o().createElement(Ce.Z,null))}),o().createElement(r.Route,{path:"/token/show",render:()=>o().createElement(he.Z,{show:!0})}),o().createElement(r.Route,{path:"/token",render:()=>o().createElement(he.Z,{show:!1,showPath:"/token/show"})}),o().createElement(r.Route,{path:"/install/alibaba/installer-provisioned",component:S.ZP}),o().createElement(r.Route,{path:"/install/arm/installer-provisioned",component:be.ZP}),o().createElement(r.Route,{path:"/install/arm/user-provisioned",component:Ie.ZP}),o().createElement(r.Route,{path:"/install/arm/pre-release",component:me.ZP}),o().createElement(r.Route,{path:"/install/arm",component:Pe.Z}),o().createElement(r.Route,{path:"/install/aws/installer-provisioned",component:b.ZP}),o().createElement(r.Route,{path:"/install/aws/user-provisioned",component:P.ZP}),o().createElement(r.Route,{path:"/install/aws/arm/installer-provisioned",component:_.ZP}),o().createElement(r.Route,{path:"/install/aws/arm/user-provisioned",component:T.ZP}),o().createElement(r.Route,{path:"/install/aws/arm",component:w.Z}),o().createElement(r.Route,{path:"/install/aws/multi/installer-provisioned",component:I.ZP}),o().createElement(r.Route,{path:"/install/aws",component:A.Z}),o().createElement(r.Route,{path:"/install/gcp/installer-provisioned",component:z.ZP}),o().createElement(r.Route,{path:"/install/gcp/user-provisioned",component:U.ZP}),o().createElement(r.Route,{path:"/install/gcp",component:x.Z}),o().createElement(r.Route,{path:"/install/nutanix",exact:!0,component:Q.Z}),o().createElement(r.Route,{path:"/install/nutanix/installer-provisioned",component:V.ZP}),o().createElement(r.Route,{path:"/install/openstack/installer-provisioned",component:$.ZP}),o().createElement(r.Route,{path:"/install/openstack/user-provisioned",component:B.ZP}),o().createElement(r.Route,{path:"/install/openstack",component:W.Z}),o().createElement(r.Route,{path:"/install/rhv/installer-provisioned",component:q.ZP}),o().createElement(r.Route,{path:"/install/rhv/user-provisioned",component:Y.ZP}),o().createElement(r.Route,{path:"/install/rhv",component:H.Z}),o().createElement(r.Route,{path:"/install/azure/arm/installer-provisioned",component:k.ZP}),o().createElement(r.Route,{path:"/install/azure/multi/installer-provisioned",component:j.ZP}),o().createElement(r.Route,{path:"/install/azure/installer-provisioned",component:C.ZP}),o().createElement(r.Route,{path:"/install/azure/user-provisioned",component:L.ZP}),o().createElement(r.Route,{path:"/install/azure",exact:!0,component:F.Z}),o().createElement(r.Route,{path:"/install/azure-stack-hub/installer-provisioned",exact:!0,component:D.ZP}),o().createElement(r.Route,{path:"/install/azure-stack-hub/user-provisioned",exact:!0,component:N.ZP}),o().createElement(r.Route,{path:"/install/azure-stack-hub",exact:!0,component:O.Z}),o().createElement(r.Route,{path:"/install/metal/user-provisioned",component:Te.ZP}),o().createElement(r.Route,{path:"/install/metal/installer-provisioned",component:Ae.ZP}),o().createElement(r.Route,{path:"/install/metal/agent-based",component:_e.ZP}),o().createElement(r.Route,{path:"/install/metal/multi",component:ye.ZP}),o().createElement(r.Route,{path:"/install/metal",component:$e}),o().createElement(r.Route,{path:"/install/multi/pre-release",component:M.ZP}),o().createElement(r.Route,{path:"/install/vsphere",exact:!0,component:ee.Z}),o().createElement(r.Route,{path:"/install/vsphere/agent-based",component:K.ZP}),o().createElement(r.Route,{path:"/install/vsphere/user-provisioned",component:J.ZP}),o().createElement(r.Route,{path:"/install/vsphere/installer-provisioned",component:X.ZP}),o().createElement(r.Route,{path:"/install/ibm-cloud",component:G.ZP}),o().createElement(r.Route,{path:"/install/ibmz/user-provisioned",component:se.ZP}),o().createElement(r.Route,{path:"/install/ibmz/pre-release",component:le.ZP}),o().createElement(r.Route,{path:"/install/ibmz",exact:!0,component:ce.Z}),o().createElement(r.Route,{path:"/install/power/user-provisioned",component:ue.ZP}),o().createElement(r.Route,{path:"/install/power/pre-release",component:pe.ZP}),o().createElement(r.Route,{path:"/install/power",exact:!0,component:de.Z}),o().createElement(r.Route,{path:"/install/powervs/installer-provisioned",component:Oe.ZP}),o().createElement(r.Route,{path:"/install/platform-agnostic/agent-based",component:ne.ZP}),o().createElement(r.Route,{path:"/install/platform-agnostic/user-provisioned",component:ae.ZP}),o().createElement(r.Route,{path:"/install/platform-agnostic",component:te.Z}),o().createElement(r.Route,{path:"/install/pre-release",component:oe.ZP}),o().createElement(r.Route,{path:"/install/pull-secret",component:re.ZP}),o().createElement(r.Route,{path:"/install/azure/aro-provisioned",component:ie.ZP}),o().createElement(r.Redirect,{from:"/install",to:"/create"}),o().createElement(r.Redirect,{from:"/create/osd/aws",to:"/create/osd"}),o().createElement(r.Redirect,{from:"/create/osd/gcp",to:"/create/osd"}),o().createElement(r.Redirect,{from:"/create/osdtrial/aws",to:"/create/osdtrial"}),o().createElement(r.Redirect,{from:"/create/osdtrial/gcp",to:"/create/osdtrial"}),y&&!Ze?o().createElement(d.Z,{path:"/create/osdtrial",gobackPath:"/create",render:()=>o().createElement(Ge.j,{product:De.normalizedProducts.OSDTrial}),history:e}):o().createElement(d.Z,{path:"/create/osdtrial",gobackPath:"/create",render:()=>o().createElement(Ue.Z,{product:De.normalizedProducts.OSDTrial}),history:e}),y&&!Ze?o().createElement(d.Z,{path:"/create/osd",gobackPath:"/create",component:Ge.j,history:e}):o().createElement(d.Z,{path:"/create/osd",gobackPath:"/create",render:()=>o().createElement(Ue.Z,{product:De.normalizedProducts.OSD}),history:e}),o().createElement(r.Route,{path:"/create/cloud",render:e=>o().createElement(f.Z,Object.assign({activeTab:"cloud"},e))}),o().createElement(r.Route,{path:"/create/datacenter",render:e=>o().createElement(f.Z,Object.assign({activeTab:"datacenter"},e))}),o().createElement(r.Route,{path:"/create/local",render:e=>o().createElement(f.Z,Object.assign({activeTab:"local"},e))}),o().createElement(r.Redirect,{from:"/create/rosa/welcome",to:"/create/rosa/getstarted"}),o().createElement(d.Z,{path:"/create/rosa/getstarted",history:e,component:Fe.Z}),o().createElement(d.Z,{path:"/create/rosa/wizard",history:e,component:Z.Z}),o().createElement(r.Route,{path:"/create",component:f.Z}),o().createElement(r.Route,{path:"/details/s/:id/insights/:reportId/:errorKey",component:Le.default}),o().createElement(r.Route,{path:"/details/s/:id/add-idp/:idpTypeName",component:ke.Z}),o().createElement(r.Route,{path:"/details/s/:id/edit-idp/:idpName",render:({match:e})=>o().createElement(ke.Z,{isEditForm:!0,match:e})}),o().createElement(r.Route,{path:"/details/s/:id",component:xe.Z}),o().createElement(r.Route,{path:"/details/:id/insights/:reportId/:errorKey",component:Le.default}),o().createElement(r.Route,{path:"/details/:id",component:ze.Z}),o().createElement(r.Route,{path:"/register",component:g.Z}),o().createElement(r.Route,{path:"/quota/resource-limits",render:()=>o().createElement(fe.Z,{marketplace:!0})}),o().createElement(r.Route,{path:"/quota",component:fe.Z}),o().createElement(r.Route,{path:"/archived",component:R.Z}),o().createElement(r.Route,{path:"/overview",exact:!0,component:h.Z}),o().createElement(r.Route,{path:"/releases",exact:!0,component:Ne.Z}),o().createElement(r.Route,{path:"/assisted-installer",component:We}),o().createElement(r.Route,{path:"/",exact:!0,component:v.Z}),o().createElement(r.Route,{component:Re.Z})))))})))},78913:(e,t,n)=>{n.r(t),n.d(t,{ENV_OVERRIDE_LOCALSTORAGE_KEY:()=>a,default:()=>r});const a="ocmOverridenEnvironment",o={};o.production=Promise.resolve().then(n.t.bind(n,68923,19)),o.stageSSO=Promise.resolve().then(n.t.bind(n,93723,19)),o.staging=Promise.resolve().then(n.t.bind(n,90860,19)),o.integration=Promise.resolve().then(n.t.bind(n,16706,19)),o.default=o.disabled;const r={configData:{},envOverride:void 0,fakeOSD:!1,loadConfig(e){var t;this.configData=Object.assign(Object.assign({},e),{apiGateway:e.apiGateway.replace("$SELF_PATH$",window.location.host),insightsGateway:(null===(t=e.insightsGateway)||void 0===t?void 0:t.replace("$SELF_PATH$",window.location.host))||void 0}),window.ocmConfig=this},fetchConfig(){const e=this;return new Promise((t=>{var n;(()=>{let e=!1;return window.location.search.substring(1).split("&").forEach((t=>{const[n,a]=t.split("=");"fake"===n&&"true"===a&&(e=!0)})),e})()&&(e.fakeOSD=!0);const r=(()=>{let e;return window.location.search.substring(1).split("&").forEach((t=>{const[n,a]=t.split("=");"env"===n&&o[a]?e=a:"env"===n&&"mockserver"===a&&o.mockdata&&(e="mockdata")})),e})()||localStorage.getItem(a);r&&o[r]?o[r].then((n=>{this.loadConfig(n),console.info(`Loaded override config: ${r}`),e.envOverride=r,localStorage.setItem(a,r),t()})):null===(n=o.default)||void 0===n||n.then((e=>{this.loadConfig(e),console.info("Loaded default config: disabled"),t()}))}))}}},38432:(e,t,n)=>{n.d(t,{R2:()=>d,c6:()=>m});var a=n(91757),o=n(38352),r=n(84353),i=n(61810),s=n(40933),l=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function i(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((a=a.apply(e,t||[])).next())}))};const c=(e,t)=>(0,a.action)(o.SET_FEATURE,{feature:e,enabled:t}),u=(e,t)=>({name:t,action:()=>r.Z.selfFeatureReview(e).then((e=>e.data.enabled))}),p=e=>l(void 0,void 0,void 0,(function*(){var t,n,a;p.cache||(p.cache=new Map);let o=!1;const r=null===(n=null===(t=(yield i.default.getCurrentAccount()).data)||void 0===t?void 0:t.organization)||void 0===n?void 0:n.id;if(r){if(!p.cache.has(r)){const e=(yield i.default.getOrganization(r)).data;p.cache.set(r,JSON.parse(JSON.stringify(null!==(a=e.capabilities)&&void 0!==a?a:[])))}const t=p.cache.get(r),n=null==t?void 0:t.find((({name:t})=>t===e));o="true"===(null==n?void 0:n.value)}return o})),d=[u("osd-trial",o.OSD_TRIAL_FEATURE),u("hypershift-creation-wizard",o.HYPERSHIFT_WIZARD_FEATURE),u("hcp-rosa-getting-started-page",o.HCP_ROSA_GETTING_STARTED_PAGE),u("assisted-installer-sno",o.ASSISTED_INSTALLER_SNO_FEATURE),u("assisted-installer-ocs",o.ASSISTED_INSTALLER_OCS_FEATURE),u("assisted-installer-cnv",o.ASSISTED_INSTALLER_CNV_FEATURE),u("assisted-installer-merge-lists",o.ASSISTED_INSTALLER_MERGE_LISTS_FEATURE),u("assisted-installer-network-type-selection",o.ASSISTED_INSTALLER_NETWORK_TYPE_SELECTION_FEATURE),u("assisted-installer-platform-integration",o.ASSISTED_INSTALLER_PLATFORM_INTEGRATION_FEATURE),u("osd-creation-wizard-v2",o.OSD_WIZARD_V2_FEATURE),u("rosa-creation-wizard",o.ROSA_CREATION_WIZARD_FEATURE),{name:o.ASSISTED_INSTALLER_FEATURE,action:()=>Promise.all([r.Z.selfAccessReview({action:s.J.action.CREATE,resource_type:"BareMetalCluster"}),r.Z.selfFeatureReview("assisted-installer")]).then((([e,t])=>e.data.allowed&&t.data.enabled))},{name:o.ASSISTED_INSTALLER_PLATFORM_OCI,action:()=>l(void 0,void 0,void 0,(function*(){return p("capability.organization.bare_metal_installer_platform_oci")}))}],m=()=>e=>{d.forEach((({name:t,action:n})=>n().then((n=>e(c(t,n)))).catch((()=>e(c(t,!1))))))}},98371:(e,t,n)=>{n.r(t),n.d(t,{getOrganizationAndQuota:()=>p,selfTermsReview:()=>d,userActions:()=>m,userInfoResponse:()=>s});var a=n(91757),o=n(51955),r=n(33047),i=n(11689);const s=e=>(0,a.action)(o.userConstants.USER_INFO_RESPONSE,e),l=e=>{var t,n;return{items:(null!==(n=null===(t=e.data)||void 0===t?void 0:t.items)&&void 0!==n?n:[]).map(i.ME)}},c=e=>r.accountsService.getOrganizationQuota(e).then(l),u=(e,t)=>{const n=[c(e),t?Promise.resolve({data:t}):r.accountsService.getOrganization(e)];return Promise.all(n).then((([e,t])=>({quota:e,organization:t.data})))},p=()=>(e,t)=>{var n;const{userProfile:i}=t(),s=(null==i?void 0:i.organization.fulfilled)?null===(n=null==i?void 0:i.organization)||void 0===n?void 0:n.details:void 0,l=null==s?void 0:s.id;var c;e((c=void 0!==l?u(l,s):r.accountsService.getCurrentAccount().then((e=>{var t,n;const a=null===(n=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===n?void 0:n.id;return void 0!==a?u(a):Promise.reject(Error("No organization"))})),(0,a.action)(o.userConstants.GET_ORGANIZATION,c)))},d=()=>(0,a.action)(o.userConstants.SELF_TERMS_REVIEW,r.authorizationsService.selfTermsReview()),m={userInfoResponse:s,getOrganizationAndQuota:p,processQuota:l,selfTermsReview:d}},19744:(e,t,n)=>{n.d(t,{h:()=>E});var a=n(35592),o=n(53894),r=n(57283),i=n.n(r),s=n(10810),l=n(42358),c=n(72796),u=n(70315),p=n(45048);const d=(0,l.lX)(),m=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.compose,E=(0,a.createStore)((0,u.aA)(d),m((0,a.applyMiddleware)((0,s.Z)(d),o.Z,i(),(0,c.uv)(Object.assign({},{dispatchDefaultFailure:!1})),p.Z)))}}]);
//# sourceMappingURL=bundle.236.d5e7fb0a031968d2.js.map