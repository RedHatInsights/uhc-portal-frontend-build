"use strict";(self.webpackChunkcloud_openshift_com=self.webpackChunkcloud_openshift_com||[]).push([[236,334],{64236:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var n=a(92950),o=a.n(n),r=(a(26398),a(334)),l=a(12167),i=a(62869),s=a(79074),c=a(47820),p=a(40802),m=a(66084),d=a(95517),u=a(78913),E=a(58995),h=a(49596),R=a(98371),v=a(38432),Z=a(19744),g=a(34677),_=a(1703);const{Api:S,Config:f}=d;S.setAuthInterceptor(g.w),f.setRouteBasePath("/assisted-installer");class w extends o().Component{constructor(){super(...arguments),this.state={ready:!1}}componentDidMount(){insights.chrome.init(),insights.chrome.identifyApp("").then((()=>{insights.chrome.appNavClick((0,E.Z)(window.location.pathname))})),insights.chrome.auth.getUser().then((e=>{var t;(null===(t=null==e?void 0:e.identity)||void 0===t?void 0:t.user)&&Z.h.dispatch((0,R.userInfoResponse)(e.identity.user)),u.default.fetchConfig().then((()=>{var t;if(Z.h.dispatch((0,v.c6)()),this.setState({ready:!0}),!u.default.envOverride&&u.default.configData.sentryDSN&&(s.S1({dsn:u.default.configData.sentryDSN,integrations:[new m.x,new c.Integrations.GlobalHandlers({onerror:!0,onunhandledrejection:!1})]}),null===(t=null==e?void 0:e.identity)||void 0===t?void 0:t.user)){const{email:t,username:a}=e.identity.user;p.e((e=>{e.setUser({email:t,username:a})}))}}))})),insights.chrome.enable.segmentDev()}render(){const{ready:e}=this.state;if(e){const e=(0,h.default)();return o().createElement(l.Provider,{store:Z.h},o().createElement(i.ZP,null),o().createElement(r.BrowserRouter,{basename:e,getUserConfirmation:()=>{}},o().createElement(_.Z,null)))}return null}}const P=w},49596:(e,t,a)=>{a.r(t),a.d(t,{advisorBaseName:()=>r,default:()=>c,getResourcesBase:()=>s,removeOcmBaseName:()=>i});const{insights:{appname:n}}=a(4147),o=()=>(null===window||void 0===window?void 0:window.location.pathname.startsWith("/beta"))?"/beta":(null===window||void 0===window||window.location.pathname.startsWith("/preview"),"/preview"),r=()=>`${o()}/openshift/insights/advisor`,l=new RegExp(`^(/preview|/beta|)/${n}`,"i"),i=e=>e.replace(l,""),s=()=>`/beta/apps/${n}`,c=()=>`${o()}/${n}`},58995:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(49596);function o(e){const t=(0,n.removeOcmBaseName)(e).replace(/^\//,"").split("/");switch(t[0]){case"downloads":case"token":return{id:"downloads"};case"quota":return{id:t[1]||"openshift-quota",parentId:"subscriptions",secondaryNav:!0};case"subscriptions":return{id:t[1],parentId:"subscriptions",secondaryNav:!0};case"overview":case"releases":return{id:t[0]};default:return{id:""}}}},1703:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(92950),o=a.n(n),r=a(92236),l=a(72052);const i=({children:e})=>{const t=document.getElementsByTagName("header")[0],[a,i]=(0,n.useState)(t.getBoundingClientRect().height);return(0,r.Z)(t,(e=>{const{contentRect:t}=e;a!==t.height&&i(t.height)})),o().createElement("div",{id:"app-outer-div",style:{height:`calc(100vh - ${a}px`}},o().createElement(l.Z,null))}},72052:(e,t,a)=>{a.d(t,{Z:()=>Ve});var n=a(92950),o=a.n(n),r=a(334),l=a(17420),i=a(27361),s=a.n(i),c=a(12167),p=a(95517),m=a(55140),d=a(58045),u=a(34677),E=a(43736),h=a(30517),R=a(71847),v=a(59228),Z=a(90053),g=a(51930),_=a(1258),S=a(32839),f=a(55705),w=a(49541),P=a(62800),T=a(94845),A=a(27612),I=a(28275),b=a(36926),O=a(98452),N=a(13268),y=a(68575),D=a(64835),F=a(78456),z=a(44710),L=a(58900),k=a(94203),U=a(12691),C=a(6738),x=a(23311),W=a(1214),j=a(96134),M=a(80635),G=a(39048),B=a(24236),$=a(34997),H=a(69733),V=a(64536),q=a(59446),K=a(57729),Q=a(30726),Y=a(14858),J=a(74396),X=a(34782),ee=a(57531),te=a(57364),ae=a(720),ne=a(95870),oe=a(92087),re=a(83782),le=a(20239),ie=a(7100),se=a(49758),ce=a(357),pe=a(6309),me=a(97123),de=a(32677),ue=a(17298),Ee=a(25822),he=a(41205),Re=a(49943),ve=a(77994),Ze=a(507),ge=a(23664),_e=a(30832),Se=a(48249),fe=a(38352),we=a(35087),Pe=a(69817),Te=a(95404),Ae=a(97636),Ie=a(33378),be=a(75288),Oe=a(39286),Ne=a(28986),ye=a(52758),De=a(52964),Fe=a(36842),ze=a(16551),Le=a(59958),ke=a(94634),Ue=a(6775),Ce=a(77696),xe=a(73531),We=a(30320),je=a(30116),Me=a(96106),Ge=a(27849);const{AssistedUiRouter:Be}=p,$e=(0,_e.default)((e=>o().createElement(Ge.AppPage,null,o().createElement(Be,Object.assign({},e)))),fe.ASSISTED_INSTALLER_FEATURE),He=(0,_e.default)(O.Z,fe.ASSISTED_INSTALLER_FEATURE,Pe.ZP),Ve=(0,c.connect)((e=>{const{cluster:t}=e.clusters.details;return{planType:s()(t,"subscription.plan.type",ye.normalizedProducts.UNKNOWN),clusterId:s()(t,"subscription.cluster_id"),externalClusterId:s()(t,"subscription.external_cluster_id")}}))((0,r.withRouter)((({history:e,planType:t,clusterId:a,externalClusterId:i})=>{const{pathname:s}=(0,r.useLocation)(),{segment:{setPageMetadata:c}}=(0,m.Z)(),p=(0,Me.useFeatureGate)(fe.HYPERSHIFT_WIZARD_FEATURE),O=(0,Me.useFeatureGate)(fe.OSD_WIZARD_V2_FEATURE),{[fe.OSD_WIZARD_V1]:_e}=(0,Se.h)();return o().useEffect((()=>{console.info("---------------Features---------------\n",`HYPERSHIFT_WIZARD_FEATURE: ${p?"Enabled":"Disabled"}\n`,`OSD_WIZARD_V2_FEATURE: ${O?"Enabled":"Disabled"}\n`,`OSD_WIZARD_V1: ${_e?"Enabled":"Disabled"}\n`,"-------------------------------------")}),[p,O,_e]),(0,n.useEffect)((()=>{c(Object.assign(Object.assign({},(0,je.Z)(s,t,a,i)),(0,je.b)()?{title:"404 Not Found"}:{}))}),[s,t,a,i,c]),o().createElement(o().Fragment,null,o().createElement(ge.Z,null),o().createElement(l.xI,{history:e},o().createElement(E.Z,{apiRequest:u.Z},o().createElement(r.Switch,null,o().createElement(r.Redirect,{from:"/install/osp/installer-provisioned",to:"/install/openstack/installer-provisioned"}),o().createElement(r.Redirect,{from:"/install/crc/installer-provisioned",to:"/create/local"}),o().createElement(r.Redirect,{from:"/token/moa",to:"/token/rosa"}),o().createElement(r.Redirect,{from:"/insights",to:"/overview"}),o().createElement(r.Redirect,{from:"/subscriptions",to:"/quota"}),o().createElement(r.Route,{path:"/downloads",component:Ee.Z}),o().createElement(d.Z,{path:"/token/rosa/show",history:e,render:()=>o().createElement(Ge.AppPage,null,o().createElement(Re.Z,{show:!0}),o().createElement(Le.Z,null))}),o().createElement(d.Z,{path:"/token/rosa",history:e,render:()=>o().createElement(Ge.AppPage,null,o().createElement(Re.Z,{show:!1,showPath:"/token/rosa/show"}),o().createElement(Le.Z,null))}),o().createElement(r.Route,{path:"/token/show",render:()=>o().createElement(he.Z,{show:!0})}),o().createElement(r.Route,{path:"/token",render:()=>o().createElement(he.Z,{show:!1,showPath:"/token/show"})}),o().createElement(r.Route,{path:"/install/alibaba/installer-provisioned",component:S.ZP}),o().createElement(r.Route,{path:"/install/arm/installer-provisioned",component:Ie.ZP}),o().createElement(r.Route,{path:"/install/arm/user-provisioned",component:be.ZP}),o().createElement(r.Route,{path:"/install/arm/pre-release",component:ue.ZP}),o().createElement(r.Route,{path:"/install/arm",component:Ae.Z}),o().createElement(r.Route,{path:"/install/aws/installer-provisioned",component:I.ZP}),o().createElement(r.Route,{path:"/install/aws/user-provisioned",component:A.ZP}),o().createElement(r.Route,{path:"/install/aws/arm/installer-provisioned",component:w.ZP}),o().createElement(r.Route,{path:"/install/aws/arm/user-provisioned",component:P.ZP}),o().createElement(r.Route,{path:"/install/aws/arm",component:f.Z}),o().createElement(r.Route,{path:"/install/aws/multi/installer-provisioned",component:b.ZP}),o().createElement(r.Route,{path:"/install/aws",component:T.Z}),o().createElement(r.Route,{path:"/install/gcp/installer-provisioned",component:C.ZP}),o().createElement(r.Route,{path:"/install/gcp/user-provisioned",component:x.ZP}),o().createElement(r.Route,{path:"/install/gcp",component:U.Z}),o().createElement(r.Route,{path:"/install/nutanix",exact:!0,component:X.Z}),o().createElement(r.Route,{path:"/install/nutanix/installer-provisioned",component:G.ZP}),o().createElement(r.Route,{path:"/install/openstack/installer-provisioned",component:$.ZP}),o().createElement(r.Route,{path:"/install/openstack/user-provisioned",component:H.ZP}),o().createElement(r.Route,{path:"/install/openstack",component:B.Z}),o().createElement(r.Route,{path:"/install/rhv/installer-provisioned",component:q.ZP}),o().createElement(r.Route,{path:"/install/rhv/user-provisioned",component:K.ZP}),o().createElement(r.Route,{path:"/install/rhv",component:V.Z}),o().createElement(r.Route,{path:"/install/azure/arm/installer-provisioned",component:F.ZP}),o().createElement(r.Route,{path:"/install/azure/multi/installer-provisioned",component:j.ZP}),o().createElement(r.Route,{path:"/install/azure/installer-provisioned",component:L.ZP}),o().createElement(r.Route,{path:"/install/azure/user-provisioned",component:k.ZP}),o().createElement(r.Route,{path:"/install/azure",exact:!0,component:z.Z}),o().createElement(r.Route,{path:"/install/azure-stack-hub/installer-provisioned",exact:!0,component:y.ZP}),o().createElement(r.Route,{path:"/install/azure-stack-hub/user-provisioned",exact:!0,component:D.ZP}),o().createElement(r.Route,{path:"/install/azure-stack-hub",exact:!0,component:N.Z}),o().createElement(r.Route,{path:"/install/metal/user-provisioned",component:Pe.ZP}),o().createElement(r.Route,{path:"/install/metal/installer-provisioned",component:Te.ZP}),o().createElement(r.Route,{path:"/install/metal/agent-based",component:we.ZP}),o().createElement(r.Route,{path:"/install/metal/multi",component:Oe.ZP}),o().createElement(r.Route,{path:"/install/metal",component:He}),o().createElement(r.Route,{path:"/install/multi/pre-release",component:M.ZP}),o().createElement(r.Route,{path:"/install/vsphere",exact:!0,component:ee.Z}),o().createElement(r.Route,{path:"/install/vsphere/agent-based",component:Q.ZP}),o().createElement(r.Route,{path:"/install/vsphere/user-provisioned",component:Y.ZP}),o().createElement(r.Route,{path:"/install/vsphere/installer-provisioned",component:J.ZP}),o().createElement(r.Route,{path:"/install/ibm-cloud",component:W.ZP}),o().createElement(r.Route,{path:"/install/ibmz/user-provisioned",component:ie.ZP}),o().createElement(r.Route,{path:"/install/ibmz/pre-release",component:se.ZP}),o().createElement(r.Route,{path:"/install/ibmz",exact:!0,component:ce.Z}),o().createElement(r.Route,{path:"/install/power/user-provisioned",component:pe.ZP}),o().createElement(r.Route,{path:"/install/power/pre-release",component:me.ZP}),o().createElement(r.Route,{path:"/install/power",exact:!0,component:de.Z}),o().createElement(r.Route,{path:"/install/powervs/installer-provisioned",component:Ne.ZP}),o().createElement(r.Route,{path:"/install/platform-agnostic/agent-based",component:ae.ZP}),o().createElement(r.Route,{path:"/install/platform-agnostic/user-provisioned",component:ne.ZP}),o().createElement(r.Route,{path:"/install/platform-agnostic",component:te.Z}),o().createElement(r.Route,{path:"/install/pre-release",component:oe.ZP}),o().createElement(r.Route,{path:"/install/pull-secret",component:re.ZP}),o().createElement(r.Route,{path:"/install/azure/aro-provisioned",component:le.ZP}),o().createElement(r.Redirect,{from:"/install",to:"/create"}),o().createElement(r.Redirect,{from:"/create/osd/aws",to:"/create/osd"}),o().createElement(r.Redirect,{from:"/create/osd/gcp",to:"/create/osd"}),o().createElement(r.Redirect,{from:"/create/osdtrial/aws",to:"/create/osdtrial"}),o().createElement(r.Redirect,{from:"/create/osdtrial/gcp",to:"/create/osdtrial"}),O&&!_e?o().createElement(d.Z,{path:"/create/osdtrial",gobackPath:"/create",render:()=>o().createElement(We.j,{product:ye.normalizedProducts.OSDTrial}),history:e}):o().createElement(d.Z,{path:"/create/osdtrial",gobackPath:"/create",render:()=>o().createElement(xe.Z,{product:ye.normalizedProducts.OSDTrial}),history:e}),O&&!_e?o().createElement(d.Z,{path:"/create/osd",gobackPath:"/create",component:We.j,history:e}):o().createElement(d.Z,{path:"/create/osd",gobackPath:"/create",render:()=>o().createElement(xe.Z,{product:ye.normalizedProducts.OSD}),history:e}),o().createElement(r.Route,{path:"/create/cloud",render:e=>o().createElement(Z.Z,Object.assign({activeTab:"cloud"},e))}),o().createElement(r.Route,{path:"/create/datacenter",render:e=>o().createElement(Z.Z,Object.assign({activeTab:"datacenter"},e))}),o().createElement(r.Route,{path:"/create/local",render:e=>o().createElement(Z.Z,Object.assign({activeTab:"local"},e))}),o().createElement(r.Redirect,{from:"/create/rosa/welcome",to:"/create/rosa/getstarted"}),o().createElement(d.Z,{path:"/create/rosa/getstarted",history:e,component:ze.Z}),o().createElement(d.Z,{path:"/create/rosa/wizard",history:e,component:_.Z}),o().createElement(r.Route,{path:"/create",component:Z.Z}),o().createElement(r.Route,{path:"/details/s/:id/insights/:reportId/:errorKey",component:ke.default}),o().createElement(r.Route,{path:"/details/s/:id/add-idp/:idpTypeName",component:Fe.Z}),o().createElement(r.Route,{path:"/details/s/:id/edit-idp/:idpName",render:({match:e})=>o().createElement(Fe.Z,{isEditForm:!0,match:e})}),o().createElement(r.Route,{path:"/details/s/:id",component:Ue.Z}),o().createElement(r.Route,{path:"/details/:id/insights/:reportId/:errorKey",component:ke.default}),o().createElement(r.Route,{path:"/details/:id",component:Ce.Z}),o().createElement(r.Route,{path:"/register",component:g.Z}),o().createElement(r.Route,{path:"/quota/resource-limits",render:()=>o().createElement(Ze.Z,{marketplace:!0})}),o().createElement(r.Route,{path:"/quota",component:Ze.Z}),o().createElement(r.Route,{path:"/archived",component:v.Z}),o().createElement(r.Route,{path:"/overview",exact:!0,component:h.Z}),o().createElement(r.Route,{path:"/releases",exact:!0,component:De.Z}),o().createElement(r.Route,{path:"/assisted-installer",component:$e}),o().createElement(r.Route,{path:"/",exact:!0,component:R.Z}),o().createElement(r.Route,{component:ve.Z})))))})))},38432:(e,t,a)=>{a.d(t,{R2:()=>d,c6:()=>u});var n=a(91757),o=a(38352),r=a(84353),l=a(61810),i=a(40933),s=function(e,t,a,n){return new(a||(a=Promise))((function(o,r){function l(e){try{s(n.next(e))}catch(e){r(e)}}function i(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((n=n.apply(e,t||[])).next())}))};const c=(e,t)=>(0,n.action)(o.SET_FEATURE,{feature:e,enabled:t}),p=(e,t)=>({name:t,action:()=>r.Z.selfFeatureReview(e).then((e=>e.data.enabled))}),m=e=>s(void 0,void 0,void 0,(function*(){var t,a,n;m.cache||(m.cache=new Map);let o=!1;const r=null===(a=null===(t=(yield l.default.getCurrentAccount()).data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id;if(r){if(!m.cache.has(r)){const e=(yield l.default.getOrganization(r)).data;m.cache.set(r,JSON.parse(JSON.stringify(null!==(n=e.capabilities)&&void 0!==n?n:[])))}const t=m.cache.get(r),a=null==t?void 0:t.find((({name:t})=>t===e));o="true"===(null==a?void 0:a.value)}return o})),d=[p("osd-trial",o.OSD_TRIAL_FEATURE),p("hypershift-creation-wizard",o.HYPERSHIFT_WIZARD_FEATURE),p("hcp-rosa-getting-started-page",o.HCP_ROSA_GETTING_STARTED_PAGE),p("assisted-installer-sno",o.ASSISTED_INSTALLER_SNO_FEATURE),p("assisted-installer-ocs",o.ASSISTED_INSTALLER_OCS_FEATURE),p("assisted-installer-cnv",o.ASSISTED_INSTALLER_CNV_FEATURE),p("assisted-installer-merge-lists",o.ASSISTED_INSTALLER_MERGE_LISTS_FEATURE),p("assisted-installer-network-type-selection",o.ASSISTED_INSTALLER_NETWORK_TYPE_SELECTION_FEATURE),p("assisted-installer-platform-integration",o.ASSISTED_INSTALLER_PLATFORM_INTEGRATION_FEATURE),p("osd-creation-wizard-v2",o.OSD_WIZARD_V2_FEATURE),p("rosa-creation-wizard",o.ROSA_CREATION_WIZARD_FEATURE),{name:o.ASSISTED_INSTALLER_FEATURE,action:()=>Promise.all([r.Z.selfAccessReview({action:i.J.action.CREATE,resource_type:"BareMetalCluster"}),r.Z.selfFeatureReview("assisted-installer")]).then((([e,t])=>e.data.allowed&&t.data.enabled))},{name:o.ASSISTED_INSTALLER_PLATFORM_OCI,action:()=>s(void 0,void 0,void 0,(function*(){return m("capability.organization.bare_metal_installer_platform_oci")}))}],u=()=>e=>{d.forEach((({name:t,action:a})=>a().then((a=>e(c(t,a)))).catch((()=>e(c(t,!1))))))}},98371:(e,t,a)=>{a.r(t),a.d(t,{getOrganizationAndQuota:()=>m,selfTermsReview:()=>d,userActions:()=>u,userInfoResponse:()=>i});var n=a(91757),o=a(51955),r=a(33047),l=a(11689);const i=e=>(0,n.action)(o.userConstants.USER_INFO_RESPONSE,e),s=e=>{var t,a;return{items:(null!==(a=null===(t=e.data)||void 0===t?void 0:t.items)&&void 0!==a?a:[]).map(l.ME)}},c=e=>r.accountsService.getOrganizationQuota(e).then(s),p=(e,t)=>{const a=[c(e),t?Promise.resolve({data:t}):r.accountsService.getOrganization(e)];return Promise.all(a).then((([e,t])=>({quota:e,organization:t.data})))},m=()=>(e,t)=>{var a;const{userProfile:l}=t(),i=(null==l?void 0:l.organization.fulfilled)?null===(a=null==l?void 0:l.organization)||void 0===a?void 0:a.details:void 0,s=null==i?void 0:i.id;var c;e((c=void 0!==s?p(s,i):r.accountsService.getCurrentAccount().then((e=>{var t,a;const n=null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id;return void 0!==n?p(n):Promise.reject(Error("No organization"))})),(0,n.action)(o.userConstants.GET_ORGANIZATION,c)))},d=()=>(0,n.action)(o.userConstants.SELF_TERMS_REVIEW,r.authorizationsService.selfTermsReview()),u={userInfoResponse:i,getOrganizationAndQuota:m,processQuota:s,selfTermsReview:d}},19744:(e,t,a)=>{a.d(t,{h:()=>E});var n=a(35592),o=a(53894),r=a(57283),l=a.n(r),i=a(10810),s=a(42358),c=a(72796),p=a(70315),m=a(45048);const d=(0,s.lX)(),u=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.compose,E=(0,n.createStore)((0,p.aA)(d),u((0,n.applyMiddleware)((0,i.Z)(d),o.Z,l(),(0,c.uv)(Object.assign({},{dispatchDefaultFailure:!1})),m.Z)))}}]);
//# sourceMappingURL=bundle.236.3aedc4d4c2efe099.js.map