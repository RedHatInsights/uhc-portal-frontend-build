"use strict";(self.webpackChunkcloud_openshift_com=self.webpackChunkcloud_openshift_com||[]).push([[236],{64236:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var a=n(28416),o=n.n(a),r=(n(26398),n(73727)),l=n(20133),s=n(62869),i=n(79074),c=n(47820),p=n(40802),m=n(66084),d=n(84896),h=n(78913),u=n(58995),E=n(49596),v=n(98371),A=n(38432),Z=n(19744),W=n(34677),g=n(1703);const{Api:f,Config:P}=d;f.setAuthInterceptor(W.w),P.setRouteBasePath("/assisted-installer");class w extends o().Component{constructor(){super(...arguments),this.state={ready:!1}}componentDidMount(){insights.chrome.init(),insights.chrome.identifyApp("").then((()=>{insights.chrome.appNavClick((0,u.Z)(window.location.pathname))})),insights.chrome.auth.getUser().then((e=>{var t;(null===(t=null==e?void 0:e.identity)||void 0===t?void 0:t.user)&&Z.store.dispatch((0,v.userInfoResponse)(e.identity.user)),h.default.fetchConfig().then((()=>{var t;if(Z.store.dispatch((0,A.c6)()),this.setState({ready:!0}),!h.default.envOverride&&h.default.configData.sentryDSN&&(i.S1({dsn:h.default.configData.sentryDSN,integrations:[new m.x,new c.Integrations.GlobalHandlers({onerror:!0,onunhandledrejection:!1})]}),null===(t=null==e?void 0:e.identity)||void 0===t?void 0:t.user)){const{email:t,username:n}=e.identity.user;p.e((e=>{e.setUser({email:t,username:n})}))}}))})),insights.chrome.enable.segmentDev()}render(){const{ready:e}=this.state;if(e){const e=(0,E.default)();return o().createElement(l.Provider,{store:Z.store},o().createElement(s.ZP,null),o().createElement(r.BrowserRouter,{basename:e,getUserConfirmation:()=>{}},o().createElement(g.Z,null)))}return null}}const _=w},49596:(e,t,n)=>{n.r(t),n.d(t,{advisorBaseName:()=>l,default:()=>p,getResourcesBase:()=>c,ocmAppPath:()=>r,removeOcmBaseName:()=>i});const{insights:{appname:a}}=n(4147),o=()=>(null===window||void 0===window?void 0:window.location.pathname.startsWith("/beta"))?"/beta":(null===window||void 0===window||window.location.pathname.startsWith("/preview"),"/preview"),r=`/${a}`,l=()=>`${o()}/openshift/insights/advisor`,s=new RegExp(`^(/preview|/beta|)/${a}`,"i"),i=e=>e.replace(s,""),c=()=>`/beta/apps/${a}`,p=()=>`${o()}/${a}`},58995:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(49596);function o(e){const t=(0,a.removeOcmBaseName)(e).replace(/^\//,"").split("/");switch(t[0]){case"downloads":case"token":return{id:"downloads"};case"quota":return{id:t[1]||"openshift-quota",parentId:"subscriptions",secondaryNav:!0};case"subscriptions":return{id:t[1],parentId:"subscriptions",secondaryNav:!0};case"overview":case"releases":return{id:t[0]};default:return{id:""}}}},1703:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(28416),o=n.n(a),r=n(92236),l=n(72052);const s=({children:e})=>{const t=document.getElementsByTagName("header")[0],[n,s]=(0,a.useState)(t.getBoundingClientRect().height);return(0,r.Z)(t,(e=>{const{contentRect:t}=e;n!==t.height&&s(t.height)})),o().createElement("div",{id:"app-outer-div",style:{height:`calc(100vh - ${n}px`}},o().createElement(l.Z,null))}},72052:(e,t,n)=>{n.d(t,{Z:()=>$e});var a=n(84896),o=n(55140),r=n(17420),l=n(27361),s=n.n(l),i=n(28416),c=n.n(i),p=n(20133),m=n(16317),d=n(96106),h=n(52758),u=n(38352),E=n(34677),v=n(59228),A=n(77696),Z=n(6775),W=n(36842),g=n(71847),f=n(90053),P=n(1258),w=n(16551),_=n(94634),S=n(51930),R=n(13268),b=n(68575),T=n(64835),I=n(94845),y=n(28275),N=n(27612),O=n(32839),z=n(55705),k=n(49541),C=n(62800),x=n(78456),D=n(97636),F=n(33378),L=n(75288),U=n(17298),G=n(44710),H=n(58900),j=n(94203),B=n(98452),M=n(35087),q=n(95404),$=n(69817),Q=n(12691),K=n(6738),J=n(23311),X=n(1214),Y=n(357),V=n(49758),ee=n(7100),te=n(36926),ne=n(96134),ae=n(39286),oe=n(80635),re=n(34782),le=n(39048),se=n(24236),ie=n(34997),ce=n(69733),pe=n(57364),me=n(720),de=n(95870),he=n(32677),ue=n(97123),Ee=n(6309),ve=n(28986),Ae=n(92087),Ze=n(83782),We=n(20239),ge=n(64536),fe=n(59446),Pe=n(57729),we=n(57531),_e=n(30726),Se=n(74396),Re=n(14858),be=n(40994),Te=n(59958),Ie=n(25822),ye=n(30832),Ne=n(30517),Oe=n(507),ze=n(52964),ke=n(41205),Ce=n(49943),xe=n(43736),De=n(27849),Fe=n(23556),Le=n(13802),Ue=n(23664),Ge=n(77994),He=n(58045),je=n(30116),Be=n(65968);const Me=(0,ye.default)((e=>c().createElement(De.AppPage,null,c().createElement(a.Routes,Object.assign({},e)))),u.ASSISTED_INSTALLER_FEATURE,a.NoPermissionsError),qe=(0,ye.default)(B.Z,u.ASSISTED_INSTALLER_FEATURE,$.ZP),$e=(0,p.connect)((e=>{const{cluster:t}=e.clusters.details;return{planType:s()(t,"subscription.plan.type",h.normalizedProducts.UNKNOWN),clusterId:s()(t,"subscription.cluster_id"),externalClusterId:s()(t,"subscription.external_cluster_id")}}))((0,m.EN)((({history:e,planType:t,clusterId:n,externalClusterId:a})=>{const{pathname:l}=(0,m.TH)(),{segment:{setPageMetadata:s}}=(0,o.Z)(),p=(0,d.useFeatureGate)(u.HYPERSHIFT_WIZARD_FEATURE);return c().useEffect((()=>{console.info("---------------Features---------------\n",`HYPERSHIFT_WIZARD_FEATURE: ${p?"Enabled":"Disabled"}\n`,"-------------------------------------")}),[p]),(0,i.useEffect)((()=>{s(Object.assign(Object.assign({},(0,je.Z)(l,t,n,a)),(0,je.b)()?{title:"404 Not Found"}:{}))}),[l,t,n,a,s]),c().createElement(c().Fragment,null,c().createElement(Ue.Z,null),c().createElement(r.xI,{history:e},c().createElement(xe.Z,{apiRequest:E.Z},c().createElement(m.rs,null,c().createElement(m.l_,{from:"/install/osp/installer-provisioned",to:"/install/openstack/installer-provisioned"}),c().createElement(m.l_,{from:"/install/crc/installer-provisioned",to:"/create/local"}),c().createElement(m.l_,{from:"/token/moa",to:"/token/rosa"}),c().createElement(m.l_,{from:"/insights",to:"/overview"}),c().createElement(m.l_,{from:"/subscriptions",to:"/quota"}),c().createElement(m.AW,{path:"/downloads",component:Ie.Z}),c().createElement(He.Z,{path:"/token/rosa/show",history:e,render:()=>c().createElement(De.AppPage,null,c().createElement(Ce.Z,{show:!0}),c().createElement(Te.Z,null))}),c().createElement(He.Z,{path:"/token/rosa",history:e,render:()=>c().createElement(De.AppPage,null,c().createElement(Ce.Z,{show:!1,showPath:"/token/rosa/show"}),c().createElement(Te.Z,null))}),c().createElement(m.AW,{path:"/token/show",render:()=>c().createElement(ke.Z,{show:!0})}),c().createElement(m.AW,{path:"/token",render:()=>c().createElement(ke.Z,{show:!1,showPath:"/token/show"})}),c().createElement(m.AW,{path:"/install/alibaba/installer-provisioned",component:O.ZP}),c().createElement(m.AW,{path:"/install/arm/installer-provisioned",component:F.ZP}),c().createElement(m.AW,{path:"/install/arm/user-provisioned",component:L.ZP}),c().createElement(m.AW,{path:"/install/arm/pre-release",component:U.ZP}),c().createElement(m.AW,{path:"/install/arm",component:D.Z}),c().createElement(m.AW,{path:"/install/aws/installer-provisioned",component:y.ZP}),c().createElement(m.AW,{path:"/install/aws/user-provisioned",component:N.ZP}),c().createElement(m.AW,{path:"/install/aws/arm/installer-provisioned",component:k.ZP}),c().createElement(m.AW,{path:"/install/aws/arm/user-provisioned",component:C.ZP}),c().createElement(m.AW,{path:"/install/aws/arm",component:z.Z}),c().createElement(m.AW,{path:"/install/aws/multi/installer-provisioned",component:te.ZP}),c().createElement(m.AW,{path:"/install/aws",component:I.Z}),c().createElement(m.AW,{path:"/install/gcp/installer-provisioned",component:K.ZP}),c().createElement(m.AW,{path:"/install/gcp/user-provisioned",component:J.ZP}),c().createElement(m.AW,{path:"/install/gcp",component:Q.Z}),c().createElement(m.AW,{path:"/install/nutanix",exact:!0,component:re.Z}),c().createElement(m.AW,{path:"/install/nutanix/installer-provisioned",component:le.ZP}),c().createElement(m.AW,{path:"/install/openstack/installer-provisioned",component:ie.ZP}),c().createElement(m.AW,{path:"/install/openstack/user-provisioned",component:ce.ZP}),c().createElement(m.AW,{path:"/install/openstack",component:se.Z}),c().createElement(m.AW,{path:"/install/rhv/installer-provisioned",component:fe.ZP}),c().createElement(m.AW,{path:"/install/rhv/user-provisioned",component:Pe.ZP}),c().createElement(m.AW,{path:"/install/rhv",component:ge.Z}),c().createElement(m.AW,{path:"/install/azure/arm/installer-provisioned",component:x.ZP}),c().createElement(m.AW,{path:"/install/azure/multi/installer-provisioned",component:ne.ZP}),c().createElement(m.AW,{path:"/install/azure/installer-provisioned",component:H.ZP}),c().createElement(m.AW,{path:"/install/azure/user-provisioned",component:j.ZP}),c().createElement(m.AW,{path:"/install/azure",exact:!0,component:G.Z}),c().createElement(m.AW,{path:"/install/azure-stack-hub/installer-provisioned",exact:!0,component:b.ZP}),c().createElement(m.AW,{path:"/install/azure-stack-hub/user-provisioned",exact:!0,component:T.ZP}),c().createElement(m.AW,{path:"/install/azure-stack-hub",exact:!0,component:R.Z}),c().createElement(m.AW,{path:"/install/metal/user-provisioned",component:$.ZP}),c().createElement(m.AW,{path:"/install/metal/installer-provisioned",component:q.ZP}),c().createElement(m.AW,{path:"/install/metal/agent-based",component:M.ZP}),c().createElement(m.AW,{path:"/install/metal/multi",component:ae.ZP}),c().createElement(m.AW,{path:"/install/metal",component:qe}),c().createElement(m.AW,{path:"/install/multi/pre-release",component:oe.ZP}),c().createElement(m.AW,{path:"/install/vsphere",exact:!0,component:we.Z}),c().createElement(m.AW,{path:"/install/vsphere/agent-based",component:_e.ZP}),c().createElement(m.AW,{path:"/install/vsphere/user-provisioned",component:Re.ZP}),c().createElement(m.AW,{path:"/install/vsphere/installer-provisioned",component:Se.ZP}),c().createElement(m.AW,{path:"/install/ibm-cloud",component:X.ZP}),c().createElement(m.AW,{path:"/install/ibmz/user-provisioned",component:ee.ZP}),c().createElement(m.AW,{path:"/install/ibmz/pre-release",component:V.ZP}),c().createElement(m.AW,{path:"/install/ibmz",exact:!0,component:Y.Z}),c().createElement(m.AW,{path:"/install/power/user-provisioned",component:Ee.ZP}),c().createElement(m.AW,{path:"/install/power/pre-release",component:ue.ZP}),c().createElement(m.AW,{path:"/install/power",exact:!0,component:he.Z}),c().createElement(m.AW,{path:"/install/powervs/installer-provisioned",component:ve.ZP}),c().createElement(m.AW,{path:"/install/platform-agnostic/agent-based",component:me.ZP}),c().createElement(m.AW,{path:"/install/platform-agnostic/user-provisioned",component:de.ZP}),c().createElement(m.AW,{path:"/install/platform-agnostic",component:pe.Z}),c().createElement(m.AW,{path:"/install/pre-release",component:Ae.ZP}),c().createElement(m.AW,{path:"/install/pull-secret",component:Ze.ZP}),c().createElement(m.AW,{path:"/install/azure/aro-provisioned",component:We.ZP}),c().createElement(m.l_,{from:"/install",to:"/create"}),c().createElement(m.l_,{from:"/create/osd/aws",to:"/create/osd"}),c().createElement(m.l_,{from:"/create/osd/gcp",to:"/create/osd"}),c().createElement(m.l_,{from:"/create/osdtrial/aws",to:"/create/osdtrial"}),c().createElement(m.l_,{from:"/create/osdtrial/gcp",to:"/create/osdtrial"}),c().createElement(He.Z,{path:"/create/osdtrial",gobackPath:"/create",render:()=>c().createElement(be.j,{product:h.normalizedProducts.OSDTrial}),history:e}),c().createElement(He.Z,{path:"/create/osd",gobackPath:"/create",component:be.j,history:e}),c().createElement(m.AW,{path:"/create/cloud",render:e=>c().createElement(f.Z,Object.assign({activeTab:"cloud"},e))}),c().createElement(m.AW,{path:"/create/datacenter",render:e=>c().createElement(f.Z,Object.assign({activeTab:"datacenter"},e))}),c().createElement(m.AW,{path:"/create/local",render:e=>c().createElement(f.Z,Object.assign({activeTab:"local"},e))}),c().createElement(m.l_,{from:"/create/rosa/welcome",to:"/create/rosa/getstarted"}),c().createElement(He.Z,{path:"/create/rosa/getstarted",history:e,component:w.Z}),c().createElement(m.AW,{path:"/create/rosa/govcloud",component:Fe.Z}),c().createElement(He.Z,{path:"/create/rosa/wizard",history:e,component:P.Z}),c().createElement(m.AW,{path:"/create",component:f.Z}),c().createElement(m.AW,{path:"/details/s/:id/insights/:reportId/:errorKey",component:_.default}),c().createElement(m.AW,{path:"/details/s/:id/add-idp/:idpTypeName",component:W.ZP}),c().createElement(m.AW,{path:"/details/s/:id/edit-idp/:idpName",render:({match:e})=>c().createElement(W.ZP,{isEditForm:!0,match:e})}),c().createElement(m.AW,{path:"/details/s/:id",component:Z.Z}),c().createElement(m.AW,{path:"/details/:id/insights/:reportId/:errorKey",component:_.default}),c().createElement(m.AW,{path:"/details/:id",component:A.Z}),c().createElement(m.AW,{path:"/register",component:S.Z}),c().createElement(m.AW,{path:"/quota/resource-limits",render:()=>c().createElement(Oe.Z,{marketplace:!0})}),c().createElement(m.AW,{path:"/quota",component:Oe.Z}),c().createElement(m.AW,{path:"/archived",component:v.Z}),c().createElement(m.AW,{path:"/overview",exact:!0,component:Ne.Z}),c().createElement(m.AW,{path:"/releases",exact:!0,component:ze.Z}),c().createElement(m.AW,{path:"/assisted-installer",component:Me}),c().createElement(m.AW,{path:"/services/rosa/demo",component:Be.Z}),c().createElement(m.AW,{path:"/services/rosa",component:Le.Z}),c().createElement(m.AW,{path:"/",exact:!0,component:g.Z}),c().createElement(m.AW,{component:Ge.Z})))))})))},38432:(e,t,n)=>{n.d(t,{R2:()=>d,c6:()=>h});var a=n(91757),o=n(38352),r=n(84353),l=n(61810),s=n(40933),i=function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function l(e){try{i(a.next(e))}catch(e){r(e)}}function s(e){try{i(a.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,s)}i((a=a.apply(e,t||[])).next())}))};const c=(e,t)=>(0,a.action)(o.SET_FEATURE,{feature:e,enabled:t}),p=(e,t)=>({name:t,action:()=>r.Z.selfFeatureReview(e).then((e=>e.data.enabled))}),m=e=>i(void 0,void 0,void 0,(function*(){var t,n,a;m.cache||(m.cache=new Map);let o=!1;const r=null===(n=null===(t=(yield l.default.getCurrentAccount()).data)||void 0===t?void 0:t.organization)||void 0===n?void 0:n.id;if(r){if(!m.cache.has(r)){const e=(yield l.default.getOrganization(r)).data;m.cache.set(r,JSON.parse(JSON.stringify(null!==(a=e.capabilities)&&void 0!==a?a:[])))}const t=m.cache.get(r),n=null==t?void 0:t.find((({name:t})=>t===e));o="true"===(null==n?void 0:n.value)}return o})),d=[p("hypershift-creation-wizard",o.HYPERSHIFT_WIZARD_FEATURE),p("hcp-rosa-getting-started-page",o.HCP_ROSA_GETTING_STARTED_PAGE),p("hcp-aws-billing-show",o.HCP_AWS_BILLING_SHOW),p("hcp-use-unmanaged-policies",o.HCP_USE_UNMANAGED),p("hcp-aws-billing-required",o.HCP_AWS_BILLING_REQUIRED),p("assisted-installer-merge-lists",o.ASSISTED_INSTALLER_MERGE_LISTS_FEATURE),p("osd-google-marketplace",o.OSD_GOOGLE_MARKETPLACE_FEATURE),{name:o.ASSISTED_INSTALLER_FEATURE,action:()=>Promise.all([r.Z.selfAccessReview({action:s.J.action.CREATE,resource_type:"BareMetalCluster"}),r.Z.selfFeatureReview("assisted-installer")]).then((([e,t])=>e.data.allowed&&t.data.enabled))},{name:o.ASSISTED_INSTALLER_PLATFORM_OCI,action:()=>i(void 0,void 0,void 0,(function*(){return m("capability.organization.bare_metal_installer_platform_oci")}))}],h=()=>e=>{d.forEach((({name:t,action:n})=>n().then((n=>e(c(t,n)))).catch((()=>e(c(t,!1))))))}},98371:(e,t,n)=>{n.r(t),n.d(t,{getOrganizationAndQuota:()=>m,selfTermsReview:()=>d,userActions:()=>h,userInfoResponse:()=>s});var a=n(91757),o=n(33174),r=n(33047),l=n(11689);const s=e=>(0,a.action)(o.userConstants.USER_INFO_RESPONSE,e),i=e=>{var t,n;return{items:(null!==(n=null===(t=e.data)||void 0===t?void 0:t.items)&&void 0!==n?n:[]).map(l.normalizeQuotaCost)}},c=e=>r.accountsService.getOrganizationQuota(e).then(i),p=(e,t)=>{const n=[c(e),t?Promise.resolve({data:t}):r.accountsService.getOrganization(e)];return Promise.all(n).then((([e,t])=>({quota:e,organization:t.data})))},m=()=>(e,t)=>{var n;const{userProfile:l}=t(),s=(null==l?void 0:l.organization.fulfilled)?null===(n=null==l?void 0:l.organization)||void 0===n?void 0:n.details:void 0,i=null==s?void 0:s.id;var c;e((c=void 0!==i?p(i,s):r.accountsService.getCurrentAccount().then((e=>{var t,n;const a=null===(n=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===n?void 0:n.id;return void 0!==a?p(a):Promise.reject(Error("No organization"))})),(0,a.action)(o.userConstants.GET_ORGANIZATION,c)))},d=()=>(0,a.action)(o.userConstants.SELF_TERMS_REVIEW,r.authorizationsService.selfTermsReview()),h={userInfoResponse:s,getOrganizationAndQuota:m,processQuota:i,selfTermsReview:d}},19744:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E,history:()=>h,store:()=>E});var a=n(14890),o=n(53894),r=n(57283),l=n.n(r),s=n(10810),i=n(42358),c=n(72796),p=n(45663),m=n(45048),d=n(94783);const h=(0,i.lX)(),u=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.compose,E=(0,a.createStore)((0,p.aA)(h),u((0,a.applyMiddleware)((0,s.Z)(h),o.Z,d.Z,l(),(0,c.uv)(Object.assign({},{dispatchDefaultFailure:!1})),m.Z)))}}]);
//# sourceMappingURL=bundle.236.8e4a2022a2438b88.js.map