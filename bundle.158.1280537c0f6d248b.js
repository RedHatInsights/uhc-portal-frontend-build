
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="78a04d89-7cf3-5fd9-8c55-da04c07a6df1")}catch(e){}}();
(self.webpackChunkopenshift=self.webpackChunkopenshift||[]).push([[158],{29487:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(62193)),i=l(a(47091)),s=l(a(5556)),o=a(73729),u=a(13818),c=a(45924),d=a(51513),m=a(69304),p=a(98515),f=a(22637),E=a(27241),g=a(67285),v=a(62384),h=l(a(93413)),_=a(10135),S=a(75166),b=a(22916),C=l(a(7691)),y=l(a(55816)),I=l(a(48609)),A=l(a(71299)),R=l(a(84197)),T=l(a(32742)),O=a(20230),P=a(29015),D=l(a(46823)),L=l(a(2333)),N=a(15136),w=l(a(62779)),k=l(a(40902)),F=l(a(17779)),M=l(a(62306)),x=l(a(15077));a(22608);const G=n.default.createElement(C.default,{path:[{label:"Cluster List"},{label:"Cluster Archives"}]}),U=()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(F.default,null),n.default.createElement(u.PageSection,{variant:u.PageSectionVariants.light},n.default.createElement(u.Split,null,n.default.createElement(u.SplitItem,{className:"pf-v5-u-pb-md"},G)),n.default.createElement(u.Split,null,n.default.createElement(u.SplitItem,null,n.default.createElement(u.Title,{headingLevel:"h1"},"Cluster Archives")))));U.propTypes={};const H=e=>{let{getCloudProviders:t,cloudProviders:a,closeModal:l,clearGlobalError:s,openModal:C,getMultiRegion:F}=e;const G=(0,o.useDispatch)(),H=b.viewConstants.ARCHIVED_CLUSTERS_VIEW,{isLoading:V,data:B,refetch:q,isError:j,errors:z,isFetching:W,isFetched:$}=(0,f.useFetchClusters)(!0,F),K=null==B?void 0:B.items,Y=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[H])||void 0===t?void 0:t.totalCount}));n.default.useEffect((()=>{(!V||(null==B?void 0:B.itemsCount)>0)&&G((0,E.onSetTotalClusters)(null==B?void 0:B.itemsCount,H))}),[null==B?void 0:B.itemsCount]);const Q=(z||[]).reduce(((e,t)=>t.reason?[...e,`${t.reason}.${t.region?` While getting clusters for ${t.region.region}.`:""}${t.operation_id?` (Operation ID: ${t.operation_id})`:""}`]:e),[]),Z=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[H])||void 0===t?void 0:t.currentPage})),X=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[H])||void 0===t?void 0:t.pageSize})),J=Z&&X&&Y>0?(Z-1)*X+1:0,ee=Z&&X?Math.min(Z*X,Y):0,te=n.default.useCallback((()=>{a.fulfilled||a.pending||!$||t()}),[a.fulfilled,a.pending,t,$]),ae=n.default.useCallback(((e,t)=>{G((0,E.onPageInput)(t,H))}),[G,H]);n.default.useEffect((()=>{if(K&&Y<J&&!V){const e=Math.ceil(Y/X);ae(void 0,e)}}),[K,J,Z,X,ae,Y,V]);const le=(e,t,a)=>{G((0,E.onPageInput)(a,H)),G((0,E.onPerPageSelect)(t,H,!0))},ne=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[H])||void 0===t?void 0:t.sorting})),re=ne.sortField,ie=ne.isAscending?c.SortByDirection.asc:c.SortByDirection.desc;n.default.useEffect((()=>{te(),(0,v.isRestrictedEnv)()&&G((0,E.onListFlagsSet)("subscriptionFilter",{plan_id:[S.normalizedProducts.ROSA]},H));const e=(0,_.getQueryParam)("plan_id")||"";if(!(0,r.default)(e)){const t={};S.productFilterOptions.forEach((e=>{t[e.key]=!0}));const a=e.split(",").filter((e=>t[e]));G((0,E.onListFlagsSet)("subscriptionFilter",{plan_id:a},H))}return()=>{l(),s("archivedClusterList")}}),[]);const se=(0,o.useSelector)((e=>e.viewOptions.ARCHIVED_CLUSTERS_VIEW)),{showMyClustersOnly:oe,subscriptionFilter:ue}=se.flags,ce=h.default.nestedIsEmpty(ue)&&!oe&&!se.filter,de=!(0,i.default)(K)&&(V||!$),me=W||V;return(0,N.ClusterListFilterHook)(ue),n.default.createElement(p.AppPage,{title:"Cluster Archives | Red Hat OpenShift Cluster Manager"},n.default.createElement(U,{showSpinner:me,error:j,errorDetails:Q,isPendingNoData:de,refresh:q}),n.default.createElement(u.PageSection,null,n.default.createElement(u.Card,null,n.default.createElement("div",{className:"cluster-list"},n.default.createElement(k.default,null),j&&K.length>0&&n.default.createElement(y.default,{variant:"warning",message:"Some operations are unavailable, try again later",response:{errorDetails:[{items:Q}]},isExpandable:!0,hideOperationID:!0,forceAsAlert:!0}),n.default.createElement(u.Toolbar,{id:"cluster-list-toolbar"},n.default.createElement(u.ToolbarContent,null,n.default.createElement(u.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-filter-list"},n.default.createElement(L.default,{isDisabled:de&&ce,view:g.ARCHIVED_CLUSTERS_VIEW})),(0,v.isRestrictedEnv)()?null:n.default.createElement(u.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-list-filter-dropdown","data-testid":"cluster-list-filter-dropdown"},n.default.createElement(T.default,{view:g.ARCHIVED_CLUSTERS_VIEW,isDisabled:V||W})),n.default.createElement(D.default,{view:g.ARCHIVED_CLUSTERS_VIEW,bodyContent:"Show only the clusters you previously archived, or all archived clusters in your organization.",localStorageKey:d.ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST}),n.default.createElement(u.ToolbarItem,{className:"pf-v5-l-split__item split-margin-left"},n.default.createElement("div",{className:"show-active-clusters-link"},n.default.createElement(m.Link,{to:"/cluster-list"},"Show active clusters"))),n.default.createElement(u.ToolbarItem,null,me&&n.default.createElement(u.Spinner,{size:"lg",className:"cluster-list-spinner","aria-label":"Loading cluster list data"}),j&&n.default.createElement(w.default,{className:"cluster-list-warning",item:"clusters"})),n.default.createElement(u.ToolbarItem,{align:{default:"alignRight"},variant:"pagination",className:"pf-m-hidden visible-on-lgplus"},n.default.createElement(O.PaginationRow,{currentPage:Z,pageSize:X,itemCount:Y,variant:"top",isDisabled:de,itemsStart:J,itemsEnd:ee,onPerPageSelect:le,onPageChange:ae})),n.default.createElement(u.ToolbarItem,{spacer:{default:"spacerNone"}},n.default.createElement(P.RefreshButton,{isDisabled:me,refreshFunc:q})))),(0,v.isRestrictedEnv)()?null:n.default.createElement(R.default,{archive:!0}),j&&!(0,i.default)(K)&&$?n.default.createElement(A.default,{message:"Error retrieving clusters",response:{errorMessage:"",operationID:"",errorCode:"",errorDetails:Q}}):n.default.createElement(x.default,{openModal:C,clusters:K||[],isPending:de,activeSortIndex:re,activeSortDirection:ie,setSort:(e,t)=>{const a={isAscending:t===c.SortByDirection.asc,sortField:e};G(E.viewActions.onListSortBy(a,H))}}),n.default.createElement(O.PaginationRow,{currentPage:Z,pageSize:X,itemCount:Y,variant:"bottom",isDisabled:de,itemsStart:J,itemsEnd:ee,onPerPageSelect:le,onPageChange:ae}),n.default.createElement(I.default,{ModalComponent:M.default,onClose:()=>{q()}})))))};H.propTypes={getCloudProviders:s.default.func.isRequired,cloudProviders:s.default.object.isRequired,openModal:s.default.func.isRequired,closeModal:s.default.func.isRequired,getMultiRegion:s.default.bool,queryParams:s.default.shape({has_filters:s.default.bool}),clearGlobalError:s.default.func.isRequired},t.default=H},45745:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(10138),i=a(9059),s=a(91089),o=l(a(29487));const u={getCloudProviders:r.cloudProviderActions.getCloudProviders,openModal:s.modalActions.openModal,closeModal:s.modalActions.closeModal,clearGlobalError:i.clearGlobalError};t.A=(0,n.connect)((e=>({cloudProviders:e.cloudProviders})),u)(o.default)},60183:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(73729),o=a(95376),u=ye(a(25247)),c=a(13818),d=a(67080),m=a(69304),p=a(98515),f=a(91089),E=l(a(82333)),g=a(55379),v=a(1179),h=a(23711),_=a(73848),S=a(41955),b=a(52045),C=a(21481),y=a(57189),I=a(96678),A=a(11353),R=a(52202),T=a(85825),O=a(27241),P=a(36165),D=a(62384),L=a(13642),N=l(a(6071)),w=a(93413),k=a(22902),F=a(11009),M=a(75166),x=a(56349),G=a(23557),U=a(9059),H=a(13683),V=a(33799),B=a(22916),q=l(a(59759)),j=l(a(71299)),z=ye(a(23271)),W=l(a(87814)),$=a(9225),K=a(71626),Y=l(a(17779)),Q=a(38544),Z=l(a(2311)),X=a(99908),J=l(a(11779)),ee=a(61465),te=l(a(15493)),ae=l(a(36958)),le=l(a(62148)),ne=a(20542),re=l(a(98579)),ie=l(a(85471)),se=a(47349),oe=l(a(95871)),ue=a(82198),ce=l(a(15179)),de=l(a(42461)),me=a(77944),pe=a(22039),fe=l(a(96533)),Ee=a(91916),ge=l(a(30739)),ve=l(a(62622)),he=l(a(75439)),_e=l(a(81586)),Se=l(a(47956)),be=a(48539);function Ce(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(Ce=function(e){return e?a:t})(e)}function ye(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=Ce(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}const{HostsClusterDetailTab:Ie,getAddHostsTabState:Ae}=u,Re="Red Hat OpenShift Cluster Manager",Te=e=>{var t,a,l,i;const u=(0,o.useLocation)(),{toggleSubscriptionReleased:Ce}=e,[ye,Te]=n.default.useState(""),Oe=(0,P.useGlobalState)((e=>e.monitoring)),Pe=(0,P.useGlobalState)((e=>(0,K.userCanHibernateClustersSelector)(e))),De=(0,P.useGlobalState)((e=>!!e.modal.modalName)),Le=(0,P.useGlobalState)((e=>e.cost.userAccess)),{organization:Ne}=(0,P.useGlobalState)((e=>e.userProfile)),{insightsData:we}=(0,P.useGlobalState)((e=>e.insightsData)),{notificationContacts:ke={pending:!1}}=(0,P.useGlobalState)((e=>e.clusterSupport)),{clusterRouters:Fe}=(0,P.useGlobalState)((e=>e.clusterRouters)),Me=(0,P.useGlobalState)((e=>(0,r.default)(e,"subscriptionSettings.requestState.pending",!1))),xe=(0,m.useNavigate)(),Ge=(0,o.useParams)(),Ue=(0,s.useDispatch)(),He=Ge.id,{isLoading:Ve,cluster:Be,isError:qe,error:je,isFetching:ze}=(0,S.useFetchClusterDetails)(He),{isLoading:We,clusterIdentityProviders:$e,isError:Ke}=(0,b.useFetchClusterIdentityProviders)(null==Be?void 0:Be.id,null==Be||null===(t=Be.subscription)||void 0===t?void 0:t.rh_region_id),{isLoading:Ye,data:Qe,isError:Ze}=(0,y.useFetchCloudProviders)(),{mutate:Xe,isSuccess:Je,isPending:et,error:tt,status:at}=(0,_.useAddNotificationContact)(He),{data:lt}=(0,A.useFetchGetAvailableRegionalInstances)(!0),nt=null==Be||null===(a=Be.region)||void 0===a?void 0:a.id,rt=(0,I.findRegionalInstance)(nt,lt),{data:it,isLoading:st}=(0,g.useFetchAccessProtection)(He),{data:ot}=(0,h.useFetchPendingAccessRequests)(He,st,it),ut=(0,r.default)(Be,"external_id"),ct=(0,$.canSubscribeOCPMultiRegion)(Be),dt=(0,Q.canTransferClusterOwnershipMultiRegion)(Be),mt=(0,pe.issuesAndWarningsSelector)(Oe,Be).issues.totalCount>0,pt=Be&&(!!Be.external_id||!!Be.id),ft=u.hash.replace("#",""),[Et,gt]=n.default.useState(""),[vt,ht]=n.default.useState({type:be.eventTypes.NONE}),_t=n.default.useRef(),St=n.default.useRef(),bt=n.default.useRef(),Ct=n.default.useRef(),yt=n.default.useRef(),It=n.default.useRef(),At=n.default.useRef(),Rt=n.default.useRef(),Tt=n.default.useRef(),Ot=n.default.useRef(),Pt=n.default.useRef(),Dt=n.default.useRef(null==Be?void 0:Be.id),Lt=()=>{const e=null==Be?void 0:Be.id;!(0,w.isValid)(e)||We||Ke||(0,b.refetchClusterIdentityProviders)(e)},[Nt,wt]=n.default.useState(!1),[kt,Ft]=n.default.useState(),[Mt,xt]=n.default.useState(""),Gt=()=>{Ft(void 0),wt(!1),xt("")},Ut=e=>{const t=(0,r.default)(Be,"id"),a=(0,r.default)(Be,"managed",!1);if((0,w.shouldRefetchQuota)(Ne)&&Ue(x.userActions.getOrganizationAndQuota()),ut&&(Ue((0,ue.fetchClusterInsights)(ut)),(()=>{var e;const t=null==Be||null===(e=Be.subscription)||void 0===e?void 0:e.id;(0,w.isValid)(t)&&(ke.pending||Ue((0,H.getNotificationContacts)(t)))})()),(ut||t)&&(0,C.refetchClusterLogsQueries)(),!He||st||(0,D.isRestrictedEnv)()||(0,g.refetchAccessProtection)(),a)Ue((0,ne.getAddOns)(t)),Ue((0,ne.getClusterAddOns)(t)),Ue(te.default.getUsers(t)),Ue((0,Ee.getClusterRouters)(t)),Lt(),Ue((0,X.getSchedules)(t,(0,z.isHypershiftCluster)(Be))),Ue((0,V.fetchUpgradeGates)()),"gcp"!==(0,r.default)(Be,"cloud_provider.id")&&Ue((0,ee.getGrants)(t));else{var l;const e=null==Be||null===(l=Be.subscription)||void 0===l?void 0:l.id;Ue((0,me.getOnDemandMetrics)(e))}ht({type:e||be.eventTypes.AUTO})},Ht=e=>{(0,w.isValid)(He)&&(0,S.invalidateClusterDetailsQueries)();const t=(0,r.default)(Be,"id"),a=(0,r.default)(Be,"subscription.status");(0,w.isValid)(t)&&a!==L.SubscriptionCommonFields.status.DEPROVISIONED&&Ut(e)};n.default.useEffect((()=>(Ue((0,U.clearGlobalError)("clusterDetails")),Ht(),Ye||Ze||Qe||(0,y.invalidateCloudProviders)(),Ue((0,G.getUserAccess)({type:"OCP"})),()=>{(0,b.refetchClusterIdentityProviders)(),Ue(f.modalActions.closeModal()),(0,C.refetchClusterLogsQueries)(),Ue(T.clusterAutoscalerActions.clearClusterAutoscalerResponse()),Ue((0,O.onResetFiltersAndFlags)(B.viewConstants.CLUSTER_LOGS_VIEW)),Ue((0,R.clearListVpcs)())})),[]),n.default.useEffect((()=>{const e=Ge.id;if((0,r.default)(Be,"subscription.id")===e){const e=(0,N.default)(Be);document.title=`${e} | Red Hat OpenShift Cluster Manager`}!Dt.current&&!Ve&&Be&&null!=Be&&Be.id&&(Ut(),Dt.current=null==Be?void 0:Be.id)}),[Ge,Be,He]);const Vt=Ge.id,Bt=(0,r.default)(Be,"subscription.id")!==Vt;if(Ve||!Ne.fulfilled&&!je&&!qe)return n.default.createElement(p.AppPage,{title:Re},n.default.createElement("div",{id:"clusterdetails-content"},n.default.createElement("div",{className:"cluster-loading-container"},n.default.createElement(d.Spinner,{centered:!0}))));if(qe&&(!Be||(0,r.default)(Be,"subscription.id")!==Vt))return 404===(null==je?void 0:je.errorCode)||403===(null==je?void 0:je.errorCode)?((0,g.refetchAccessProtection)(),(0,v.refetchAccessRequest)(),Ue((0,U.setGlobalError)(n.default.createElement(n.default.Fragment,null,"Cluster with subscription ID ",n.default.createElement("b",null,Vt)," was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",`${null==je?void 0:je.errorMessage}`)),n.default.createElement(m.Navigate,{to:"/cluster-list"})):n.default.createElement(p.AppPage,{title:Re},n.default.createElement(j.default,{message:"Error retrieving cluster details",response:je}),Bt&&n.default.createElement(d.Spinner,null));const qt=(0,z.isHibernating)(Be),jt=(0,r.default)(Be,"subscription.status",!1)===L.SubscriptionCommonFields.status.ARCHIVED||(0,r.default)(Be,"subscription.status",!1)===L.SubscriptionCommonFields.status.DEPROVISIONED,zt=(0,r.default)(Be,"subscription.plan.type","")===M.knownProducts.ARO,Wt=(0,r.default)(Be,"subscription.plan.type","")===M.knownProducts.OSDTRIAL,$t=(0,r.default)(Be,"subscription.plan.type","")===M.knownProducts.RHOIC,Kt=(0,r.default)(Fe,"getRouters.routers.length",0)>0,Yt=Be.managed,Qt=(0,z.isHypershiftCluster)(Be),Zt=Be.state===z.default.WAITING,Xt=Be.state===z.default.PENDING,Jt=Be.state===z.default.INSTALLING,ea=Be.state===z.default.READY,ta=Be.state===z.default.UPDATING,aa="read_only"===(null==Be||null===(l=Be.status)||void 0===l?void 0:l.configuration_mode),la=((0,F.hasCapability)(Ne.details,F.subscriptionCapabilities.CREATE_GCP_NON_CCS_CLUSTER),!Jt&&!Xt&&!Zt&&Be.managed&&!jt&&!(0,D.isRestrictedEnv)()),na=!(jt||Be.managed||zt||$t||(0,k.isUninstalledAICluster)(Be)||(0,D.isRestrictedEnv)()),ra=!jt,ia=(0,r.default)(Be,"cloud_provider.id"),sa=(ea||ta||qt)&&Be.managed&&!!(0,r.default)(Be,"api.url")&&("aws"===ia||"gcp"===ia&&((0,r.default)(Be,"ccs.enabled")||Kt))&&!jt,oa=!(!(0,D.isRestrictedEnv)()&&Be.managed&&void 0===Be.external_id||Wt),ua=Be.managed&&!zt&&Be.canEdit&&!jt,ca=null==it?void 0:it.enabled;let da={showTab:!1,isDisabled:!1,tabTooltip:""};return(0,k.isAssistedInstallCluster)(Be)&&!jt&&(da=Ae(Be)),n.default.createElement(E.default,{title:null==kt?void 0:kt.title,content:null==kt?void 0:kt.content,isOpen:Nt,onClose:Gt},n.default.createElement(p.AppPage,{title:Re},n.default.createElement(Y.default,{isReadOnly:aa}),n.default.createElement(c.PageSection,{id:"clusterdetails-content"},n.default.createElement(re.default,{cluster:Be,isRefetching:ze,pending:Ve,refreshFunc:Ht,clickRefreshFunc:()=>Ht(be.eventTypes.CLICKED),clusterIdentityProviders:$e,organization:Ne,error:qe,errorMessage:null==je?void 0:je.errorObj.response.data.reason,canSubscribeOCP:ct,canTransferClusterOwnership:dt,canHibernateCluster:Pe,autoRefreshEnabled:!De,toggleSubscriptionReleased:Ce,showPreviewLabel:Qt,isClusterIdentityProvidersLoading:We,clusterIdentityProvidersError:Ke,gcpOrgPolicyWarning:ye,regionalInstance:rt,openDrawer:(e,t)=>{Ft({title:e,content:t}),wt(!0),xt(e)},closeDrawer:Gt,selectedCardTitle:Mt},n.default.createElement(_e.default,{tabsInfo:{overview:{ref:_t,hasIssues:!1},monitoring:{ref:St,show:na,hasIssues:Be.state!==z.default.INSTALLING&&mt},accessControl:{ref:bt,show:ra},addOns:{ref:Ct,show:la},clusterHistory:{ref:yt,show:pt},networking:{ref:It,show:sa},machinePools:{ref:Rt,show:(0,z.canViewMachinePoolTab)(Be)},support:{ref:At,show:oa},upgradeSettings:{ref:Tt,show:ua},addAssisted:{ref:Ot,show:!1,isDisabled:da.isDisabled,tooltip:da.tabTooltip},accessRequest:{ref:Pt,show:ca,tooltip:n.default.createElement(c.Tooltip,{content:(null==ot?void 0:ot.total)>0?`${ot.total} pending request${ot.total>1?"s":""}`:"No pending requests"}),hasIssues:(null==ot?void 0:ot.total)>0,numberOfIssues:null==ot?void 0:ot.total,isLoading:null==ot?void 0:ot.pending}},initTabOpen:ft,onTabSelected:e=>{gt(e)}})),n.default.createElement(c.TabContent,{eventKey:0,id:"overviewTabContent",ref:_t,"aria-label":"Overview",ouiaId:"overviewTabContent"},n.default.createElement(q.default,null,n.default.createElement(ge.default,{cluster:Be,region:Be.subscription.rh_region_id,clusterDetailsLoading:Ve,clusterDetailsFetching:ze,subscription:Be.subscription,cloudProviders:Qe,refresh:Ht,insightsData:we[Be.external_id],userAccess:Le,canSubscribeOCP:ct,isSubscriptionSettingsRequestPending:Me}))),na&&n.default.createElement(c.TabContent,{eventKey:1,id:"monitoringTabContent",ref:St,"aria-label":"Monitoring",hidden:!0},n.default.createElement(q.default,null,n.default.createElement(de.default,{cluster:Be}))),ra&&n.default.createElement(c.TabContent,{eventKey:2,id:"accessControlTabContent",ref:bt,"aria-label":"Access Control",hidden:!0},n.default.createElement(q.default,null,n.default.createElement(J.default,{cluster:Be,refreshEvent:vt,region:Be.subscription.rh_region_id}))),Yt&&n.default.createElement(c.TabContent,{eventKey:3,id:"addOnsTabContent",ref:Ct,"aria-label":"Add-ons",hidden:!0},n.default.createElement(q.default,null,n.default.createElement(le.default,{clusterID:Be.id,isHypershift:Qt,region:Be.subscription.xcm_id,cluster:Be}))),pt&&n.default.createElement(c.TabContent,{eventKey:4,id:"clusterHistoryTabContent",ref:yt,"aria-label":"Cluster history",hidden:!0},n.default.createElement(q.default,null,n.default.createElement(ie.default,{externalClusterID:Be.external_id,clusterID:Be.id,region:null===(i=Be.subscription)||void 0===i?void 0:i.rh_region_id,createdAt:Be.creation_timestamp,refreshEvent:{type:vt.type,reset:()=>ht({type:be.eventTypes.NONE})},isVisible:Et===se.ClusterTabsId.CLUSTER_HISTORY,findGcpOrgPolicyWarning:"gcp"===ia?e=>{var t;let a="";a=null==e?void 0:e.find((e=>{var t,a;return(null===(t=e.summary)||void 0===t?void 0:t.includes("Please enable the Org Policy API for the GCP project"))||(null===(a=e.summary)||void 0===a?void 0:a.includes("GCP Organization Policy Service"))})),Te(null===(t=a)||void 0===t?void 0:t.summary)}:void 0}))),sa&&n.default.createElement(c.TabContent,{eventKey:5,id:"networkingTabContent",ref:It,"aria-label":"Networking",hidden:!0},n.default.createElement(q.default,null,n.default.createElement(fe.default,{clusterID:Be.id,refreshCluster:Ht,cluster:Be,isManaged:Be.managed,region:Be.subscription.xcm_id}))),(0,z.canViewMachinePoolTab)(Be)&&n.default.createElement(c.TabContent,{eventKey:6,id:"machinePoolsContent",ref:Rt,"aria-label":"Machine pools",hidden:!0},n.default.createElement(q.default,null,n.default.createElement(ce.default,{cluster:Be}))),n.default.createElement(c.TabContent,{eventKey:7,id:"supportTabContent",ref:At,"aria-label":"Support",hidden:!0},n.default.createElement(q.default,null,Be?n.default.createElement(ve.default,{isDisabled:jt,cluster:Be,addNotificationStatus:at,isAddNotificationContactSuccess:Je,isAddNotificationContactPending:et}):null)),ua&&n.default.createElement(c.TabContent,{eventKey:8,id:"upgradeSettingsContent",ref:Tt,"aria-label":"Upgrade settings",hidden:!0},n.default.createElement(q.default,null,n.default.createElement(Se.default,{cluster:Be}))),da.showTab&&!da.isDisabled&&n.default.createElement(c.TabContent,{eventKey:9,id:"addHostsContent",ref:Ot,"aria-label":"Add Hosts",hidden:!0},n.default.createElement(q.default,null,n.default.createElement(Ie,{cluster:Be,isVisible:Et===se.ClusterTabsId.ADD_ASSISTED_HOSTS}))),ca?n.default.createElement(c.TabContent,{eventKey:10,id:"accessRequestsContent",ref:Pt,"aria-label":"Access Requests",hidden:!0},n.default.createElement(q.default,null,n.default.createElement(ae.default,{subscriptionId:He}))):null,n.default.createElement(W.default,{onClose:()=>{(0,w.isValid)(He)&&(0,S.invalidateClusterDetailsQueries)()},onClusterDeleted:()=>{(0,S.invalidateClusterDetailsQueries)(),xe("/cluster-list")}}),n.default.createElement(oe.default,{refreshParent:Lt}),Be?n.default.createElement(he.default,{cluster:Be,addNotificationMutation:Xe,isAddNotificationContactSuccess:Je,isAddNotificationContactPending:et,addNotificationContactError:tt}):null,n.default.createElement(Z.default,{isHypershift:Qt}))))};Te.propTypes={toggleSubscriptionReleased:i.default.func.isRequired},t.default=Te},92472:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(95376),i=l(a(62786)),s=l(a(34158));t.A=e=>"#insights"===(0,r.useLocation)().hash?n.default.createElement(s.default,e):n.default.createElement(i.default,e)},98240:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(95376),i=l(a(34158)),s=l(a(28673));t.A=e=>"#insights"===(0,r.useLocation)().hash?n.default.createElement(i.default,e):n.default.createElement(s.default,e)},11779:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(13818),o=a(23271),u=a(48539),c=a(22118),d=l(a(68281)),m=l(a(71939)),p=l(a(78045)),f=l(a(60948));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function g(e){var t,a;let{cluster:l,refreshEvent:i=null}=e;const[E,g]=n.default.useState(0),v=null==l?void 0:l.id,h=null==l||null===(t=l.subscription)||void 0===t?void 0:t.id,_=null==l||null===(a=l.subscription)||void 0===a?void 0:a.rh_region_id,S=null==l?void 0:l.canUpdateClusterResource,[b,C]=(0,n.useState)(!0),[y,I]=(0,n.useState)(""),[A,R]=(0,n.useState)(""),T={console:(0,r.default)(l,"console.url"),api:(0,r.default)(l,"api.url")},[O,P]=(0,n.useState)(!1),[D,L]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),[k,F]=(0,n.useState)(!1),[M,x]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=window.matchMedia?window.matchMedia("(min-width: 768px)"):null,t=e=>{e.matches?(C(!0),I("")):(C(!1),I("pf-m-scrollable"))};return window.matchMedia&&(t(e),e.addEventListener("change",t)),()=>{e&&e.removeEventListener("change",t)}}),[]),(0,n.useEffect)((()=>{var e;const t=!(0,u.isReadyForExternalActions)(l)||!(0,u.isExtenalAuthenicationActive)(l),a=!(0,u.isReadyForRoleAccessActions)(l)||(0,u.isExtenalAuthenicationActive)(l),n=!(0,u.isReadyForIdpActions)(l)||(0,u.isExtenalAuthenicationActive)(l),r=!(0,u.isReadyForAwsAccessActions)(l);L(a),w(n),F(r),P("read_only"===(null==l||null===(e=l.status)||void 0===e?void 0:e.configuration_mode)),x(t),R(a&&n&&r?"single-tab":"")}),[l]),n.default.createElement(s.Card,null,n.default.createElement(s.CardBody,{id:"cluster-details-access-control-tab-contents",className:A},n.default.createElement(s.Tabs,{activeKey:E,onSelect:(e,t)=>g(t),isVertical:b,className:y,isBox:!0},n.default.createElement(s.Tab,{eventKey:0,id:"identity-providers",title:n.default.createElement(s.TabTitleText,null,"Identity providers"),isHidden:N},n.default.createElement(d.default,{clusterID:v,isHypershift:(0,o.isHypershiftCluster)(l),clusterUrls:T,idpActions:l.idpActions,clusterHibernating:(0,o.isHibernating)(l),isReadOnly:O,subscriptionID:h,cluster:l})),n.default.createElement(s.Tab,{eventKey:1,id:"cluster-roles-access",title:n.default.createElement(s.TabTitleText,null,"Cluster Roles and Access"),isHidden:D},n.default.createElement(f.default,{cluster:l,clusterHibernating:(0,o.isHibernating)(l),isReadOnly:O,region:_})),n.default.createElement(s.Tab,{eventKey:2,id:"ocm-roles-access",title:n.default.createElement(s.TabTitleText,null,"OCM Roles and Access")},n.default.createElement(p.default,{subscription:l.subscription,canEditOCMRoles:l.canEditOCMRoles,canViewOCMRoles:l.canViewOCMRoles,refreshEvent:i})),n.default.createElement(s.Tab,{eventKey:3,id:"aws-infra-access",isHidden:k,title:n.default.createElement(s.TabTitleText,null,"AWS infrastructure access")},n.default.createElement(m.default,{clusterID:(0,r.default)(l,"id"),canEdit:l.canEdit,clusterHibernating:(0,o.isHibernating)(l),isReadOnly:O,region:_})),n.default.createElement(s.Tab,{eventKey:4,id:"external-authentication",title:n.default.createElement(s.TabTitleText,null,"External authentication"),isHidden:M},n.default.createElement(c.ExternalAuthenticationSection,{canUpdateClusterResource:S,clusterID:v,subscriptionID:h,region:_})))))}g.propTypes={cluster:i.default.object.isRequired,refreshEvent:i.default.object},t.default=g},32697:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(45924),u=l(a(29564)),c=a(69304),d=a(52045),m=l(a(65702)),p=l(a(97932)),f=a(91089),E=a(47208);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const v=e=>{var t;const{clusterID:a,clusterUrls:l,idpActions:r={},clusterHibernating:g,isReadOnly:v,isHypershift:h,subscriptionID:_,cluster:S}=e,b=(0,c.useNavigate)(),C=(0,i.useDispatch)(),[y,I]=n.default.useState(!1),A=null==S||null===(t=S.subscription)||void 0===t?void 0:t.rh_region_id,{clusterIdentityProviders:R,isLoading:T,isError:O}=(0,d.useFetchClusterIdentityProviders)(a,A),P=null==R?void 0:R.items,D=n.default.createElement("a",{rel:"noopener noreferrer",href:m.default.UNDERSTANDING_IDENTITY_PROVIDER,target:"_blank"},"Learn more."),L=T&&!O,N=!(null==P||!P.length),w=v?"This operation is not available during maintenance":g&&"This operation is not available while cluster is hibernating",k=w||!r.create&&"You do not have permission to add an identity provider. Only cluster owners, cluster editors, identity provider editors, and Organization Administrators can add identity providers.",F=n.default.createElement(s.DropdownList,null,Object.values(E.IDPTypeNames).map((e=>n.default.createElement(s.DropdownItem,{key:e,onClick:()=>b(`/details/s/${_}/add-idp/${e.toLowerCase()}`,{state:{cluster:S,clusterIDPs:P,subscriptionID:_}})},e)))),M=(0,n.useRef)();let x=n.default.createElement(s.Dropdown,{isOpen:y,onOpenChange:e=>I(e),toggle:{toggleRef:M,toggleNode:n.default.createElement(s.MenuToggle,{id:"add-identity-provider",ref:M,isDisabled:k,isExpanded:y,onClick:()=>{I(!y)}},"Add identity provider")}},F);k&&(x=n.default.createElement(s.Tooltip,{content:k},x));const G="Name",U="Type",H="Auth callback URL";return L?n.default.createElement(s.Card,null,n.default.createElement(s.CardTitle,null,n.default.createElement(u.default,{size:"md"})),n.default.createElement(s.CardBody,null,n.default.createElement(u.default,{size:"lg"})),n.default.createElement(s.CardFooter,null,n.default.createElement(u.default,{size:"md"}))):n.default.createElement(s.Card,null,n.default.createElement(s.CardBody,null,n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,n.default.createElement(s.Title,{headingLevel:"h2",size:"lg",className:"card-title"},"Identity providers"),n.default.createElement("p",null,"Configure identity providers to allow users to log into the cluster. ",D)),n.default.createElement(s.StackItem,null,x),n.default.createElement(s.StackItem,null,N&&r.list&&n.default.createElement(o.Table,{"aria-label":"Identity Providers",variant:o.TableVariant.compact},n.default.createElement(o.Thead,null,n.default.createElement(o.Tr,null,n.default.createElement(o.Th,{width:30},G),n.default.createElement(o.Th,{width:30},U),n.default.createElement(o.Th,{width:30},H),n.default.createElement(o.Th,{screenReaderText:"Action"}))),n.default.createElement(o.Tbody,null,P.map((e=>{var t;const i=(e=>{const t={title:"Edit",isAriaDisabled:!r.update,onClick:()=>{b(`/details/s/${_}/edit-idp/${e.name}`)}},l={title:"Delete",isAriaDisabled:!r.delete,onClick:()=>{C(f.modalActions.openModal("delete-idp",{clusterID:a,idpID:e.id,idpName:e.name,idpType:E.IDPTypeNames[e.type],region:A}))}};return E.IDPTypeNames[e.type]===E.IDPTypeNames[E.IDPformValues.HTPASSWD]?[l]:[t,l]})(e);return n.default.createElement(o.Tr,{key:e.id},n.default.createElement(o.Td,{dataLabel:G,modifier:"truncate"},e.name),n.default.createElement(o.Td,{dataLabel:U},null!==(t=E.IDPTypeNames[e.type])&&void 0!==t?t:e.type),n.default.createElement(o.Td,{dataLabel:H},(0,E.IDPNeedsOAuthURL)(e.type)?n.default.createElement(p.default,{className:"access-control-tables-copy",text:(0,E.getOauthCallbackURL)(l,e.name,h)},"Copy URL to clipboard"):"N/A"),n.default.createElement(o.Td,{isActionCell:!0},n.default.createElement(o.ActionsColumn,{items:i,isDisabled:!!w})))}))))))))};v.propTypes={cluster:r.default.object,clusterID:r.default.string,clusterUrls:r.default.shape({console:r.default.string,api:r.default.string}),idpActions:r.default.shape({get:r.default.bool,list:r.default.bool,create:r.default.bool,update:r.default.bool,delete:r.default.bool}),clusterHibernating:r.default.bool,isReadOnly:r.default.bool,isHypershift:r.default.bool,subscriptionID:r.default.string},t.default=v},68281:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(32697));t.default=n.default},61204:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(38715),u=l(a(14419)),c=a(32347),d=a(25514),m=a(84037),p=l(a(55816)),f=l(a(28592)),E=a(91089),g=l(a(55213));a(46181);const v=e=>{let{addGrantsMutate:t,roles:a,isAddGrantsPending:l,isAddGrantsError:r,addGrantsError:v,resetAddGrantsMutate:h}=e;const _=(0,i.useDispatch)(),[S,b]=n.default.useState(""),[C,y]=n.default.useState(""),[I,A]=n.default.useState(!1),R=!(null==a||!a.length),T=(0,d.useGlobalState)((e=>(0,u.default)(e,"grant-modal"))),O=()=>{b(""),y(""),A(!1),h()};n.default.useEffect((()=>{!S&&R&&b(a[0].id)}),[a,S,R]);const P=()=>{h(),O(),_(E.modalActions.closeModal())},D=r&&n.default.createElement(p.default,{message:"Error adding grant",response:v.error}),L=(0,m.validateUserOrGroupARN)(C),N=()=>{!L&&S&&t({roleId:S,arn:C},{onSuccess:()=>{(0,c.refetchGrants)(),_(E.modalActions.closeModal()),O()}})};return T&&n.default.createElement(f.default,{title:"Grant AWS infrastructure role",onClose:P,primaryText:"Grant role",secondaryText:"Cancel",onPrimaryClick:N,onSecondaryClick:P,isPrimaryDisabled:!!L||l,isPending:l},n.default.createElement(n.default.Fragment,null,D,n.default.createElement(s.Form,{className:"control-form-cursor",onSubmit:e=>{N(),e.preventDefault()}},n.default.createElement(s.FormGroup,{label:"AWS IAM ARN",isRequired:!0,fieldId:"aws-iam-arn",labelIcon:n.default.createElement(g.default,{hint:n.default.createElement("div",null,n.default.createElement("p",null,"Need help configuring ARNs?"),n.default.createElement("a",{href:"https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html",target:"_blank",rel:"noreferrer noopener"},"Check the AWS documentation.")),iconClassName:"hand-pointer"})},n.default.createElement(s.TextInput,{value:C,isRequired:!0,id:"aws-iam-arn-input",type:"text",validated:I&&L?"error":"default",placeholder:"arn:aws:iam::123456789012:user/name",onChange:(e,t)=>(e=>{y(e),A(!0)})(t),"aria-label":"AWS IAM ARN"}),n.default.createElement(o.FormGroupHelperText,{touched:I,error:L})),n.default.createElement("h3",{id:"grant-role-select"},"Role"),a.map((e=>(e=>n.default.createElement(s.Radio,{className:"radio-button",key:e.id,isChecked:S===e.id,name:e.id,onChange:(e,t)=>((e,t)=>{b(t.target.value)})(0,e),label:n.default.createElement(n.default.Fragment,null,e.displayName,n.default.createElement("div",{className:"radio-helptext"},e.description)),id:e.id,value:e.id}))(e))))))};v.propTypes={addGrantsMutate:r.default.func,roles:r.default.array,isAddGrantsPending:r.default.bool,isAddGrantsError:r.default.bool,addGrantsError:r.default.object,resetAddGrantsMutate:r.default.func},t.default=v},61465:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRoles=t.getGrants=t.deleteGrant=t.default=t.clearAddGrantResponse=t.addGrant=void 0;var l=a(90020),n=a(5643);const r=()=>e=>e({type:n.GET_ROLES,payload:l.clusterService.getRoles()});t.getRoles=r;const i=e=>t=>t({type:n.GET_GRANTS,payload:l.clusterService.getGrants(e)});t.getGrants=i;const s=(e,t,a)=>r=>r({type:n.ADD_GRANT,payload:l.clusterService.addGrant(e,t,a)});t.addGrant=s;const o=(e,t)=>a=>a({type:n.DELETE_GRANT,payload:l.clusterService.deleteGrant(e,t)});t.deleteGrant=o;const u=()=>e=>e({type:n.CLEAR_ADD_GRANT_RESPONSE});t.clearAddGrantResponse=u;const c={getRoles:r,getGrants:i,addGrant:s,clearAddGrantResponse:u,deleteGrant:o};t.default=c},5643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GET_ROLES=t.GET_GRANTS=t.DELETE_GRANT=t.CLEAR_GET_ROLES_RESPONSE=t.CLEAR_GET_GRANTS_RESPONSE=t.CLEAR_ADD_GRANT_RESPONSE=t.ADD_GRANT=void 0;const a=t.GET_ROLES="GET_ROLES",l=t.GET_GRANTS="GET_GRANTS",n=t.ADD_GRANT="ADD_GRANT",r=t.DELETE_GRANT="DELETE_GRANT",i={GET_ROLES:a,GET_GRANTS:l,ADD_GRANT:n,CLEAR_GET_ROLES_RESPONSE:t.CLEAR_GET_ROLES_RESPONSE="CLEAR_GET_ROLES_RESPONSE",CLEAR_GET_GRANTS_RESPONSE:t.CLEAR_GET_GRANTS_RESPONSE="CLEAR_GET_GRANTS_RESPONSE",CLEAR_ADD_GRANT_RESPONSE:t.CLEAR_ADD_GRANT_RESPONSE="CLEAR_ADD_GRANT_RESPONSE",DELETE_GRANT:r};t.default=i},88971:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grantsDataAggregator=void 0,t.grantsDataAggregator=(e,t)=>{const a=e=>{const a=null==t?void 0:t.find((t=>t.id===e));return a?a.displayName:e};return null==e?void 0:e.map((e=>({id:e.id,user_arn:e.user_arn,state:e.state,state_description:e.state_description,console_url:e.console_url,roleName:a(e.role.id)})))}},1270:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(43693)),r=a(89407),i=l(a(33031)),s=a(89217),o=a(95762),u=a(5643);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const m={roles:d(d({},o.baseRequestState),{},{data:[]}),grants:d(d({},o.baseRequestState),{},{data:[]}),addGrantResponse:d({},o.baseRequestState),deleteGrantResponse:d({},o.baseRequestState)};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,o.PENDING_ACTION)(u.GET_ROLES):e.roles.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.GET_ROLES):e.roles=d(d({},m.roles),{},{fulfilled:!0,data:t.payload.data.items.map((e=>({id:e.id,displayName:e.display_name||e.id,description:e.description})))});break;case(0,o.REJECTED_ACTION)(u.GET_ROLES):e.roles=d(d({},m.roles),(0,s.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.GET_GRANTS):e.grants.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.GET_GRANTS):e.grants=d(d({},m.grants),{},{fulfilled:!0,data:(0,i.default)(t.payload.data.items,["user_arn","role.id"])});break;case(0,o.REJECTED_ACTION)(u.GET_GRANTS):e.grants=d(d({},m.grants),(0,s.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.ADD_GRANT):e.addGrantResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.ADD_GRANT):e.addGrantResponse=d(d({},m.addGrantResponse),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.ADD_GRANT):e.addGrantResponse=d(d({},m.addGrantResponse),(0,s.getErrorState)(t));break;case u.CLEAR_ADD_GRANT_RESPONSE:e.addGrantResponse=d({},m.addGrantResponse);break;case(0,o.PENDING_ACTION)(u.DELETE_GRANT):e.deleteGrantResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.DELETE_GRANT):e.deleteGrantResponse=d(d({},m.deleteGrantResponse),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.DELETE_GRANT):e.deleteGrantResponse=d(d({},m.addGrantResponse),(0,s.getErrorState)(t))}}))}p.initialState=m,t.A=p},12843:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(19202),c=a(31003),d=a(31358),m=a(21888),p=a(48266),f=a(45924),E=l(a(29564)),g=a(58274),v=l(a(8888)),h=a(91167),_=a(33365),S=a(64671),b=a(32347),C=a(13551),y=l(a(12200)),I=l(a(97932)),A=l(a(55816)),R=a(91089),T=l(a(61204)),O=a(88971);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const N=e=>{var t;let{clusterID:a,canEdit:l,clusterHibernating:n,isReadOnly:i,region:P}=e;const D=(0,s.useDispatch)(),[N,w]=r.default.useState(void 0),{data:k,isLoading:F,isError:M,error:x,isFetching:G}=(0,b.useFetchGrants)(a,P),{data:U}=(0,C.useFetchRoles)(P),{data:H,isPending:V,isError:B,error:q,mutate:j,reset:z}=(0,_.useAddGrant)(a,P),{isError:W,error:$,mutate:K,reset:Y}=(0,S.useDeleteGrant)(a,P),Q=(0,r.useMemo)((()=>L(L({},k),{},{data:(0,O.grantsDataAggregator)(k,U)})),[k,U]),Z=(0,h.usePreviousProps)(Q),X=(0,h.usePreviousProps)(G);if(r.default.useEffect((()=>{var e;if(!G&&X&&0!==(null==Q||null===(e=Q.data)||void 0===e?void 0:e.length)){var t;const e=null==Z?void 0:Z.data,a=null==e?void 0:e.reduce(((e,t)=>L(L({},e),{},{[t.id]:t.state})),{});null==Q||null===(t=Q.data)||void 0===t||t.forEach((e=>{a&&a[e.id]&&e.state!==a[e.id]&&("failed"===e.state?D((0,g.addNotification)({variant:"danger",title:`Role creation failed for ${e.user_arn}`,description:e.state_description,dismissDelay:8e3,dismissable:!1})):"ready"===e.state&&D((0,g.addNotification)({variant:"success",title:`${e.roleName} role successfully created for ${e.user_arn}`,dismissDelay:8e3,dismissable:!1})))}))}void 0===N||F||w(void 0)}),[a,N,k,D,Q,X,Z,G,F]),M)return r.default.createElement(o.EmptyState,null,r.default.createElement(A.default,{message:"Error getting cluster users",response:x.error}));const J=r.default.createElement(v.default,{href:"https://console.aws.amazon.com/console/home"},"Log in to your aws account."),ee=!(null==Q||null===(t=Q.data)||void 0===t||!t.length),te=(i?"This operation is not available during maintenance":n&&"This operation is not available while cluster is hibernating")||!l&&"You do not have permission to grant a role. Only cluster owners, cluster editors, and Organization Administrators can grant roles.",ae=r.default.createElement(y.default,{onClick:()=>{setTimeout((()=>D(R.modalActions.openModal("grant-modal"))),0)},variant:"secondary",className:"access-control-add",disableReason:te},"Grant role"),le="Role",ne="Status",re="AWS OSD console URL";return F&&!ee?r.default.createElement(o.Card,null,r.default.createElement(o.CardTitle,null,r.default.createElement(E.default,{size:"md"})),r.default.createElement(o.CardBody,null,r.default.createElement(E.default,{size:"lg"})),r.default.createElement(o.CardFooter,null,r.default.createElement(E.default,{size:"md"}))):r.default.createElement(o.Card,{id:"networkSelfService"},r.default.createElement(o.CardBody,null,W&&r.default.createElement(A.default,{message:"Error deleting grant",response:$.error}),r.default.createElement(o.Title,{size:"lg",className:"card-title",headingLevel:"h3"},"AWS infrastructure access"),r.default.createElement("p",null,"Grant permission to view or manage the AWS infrastructure of the cluster to IAM users defined in your AWS account. ",J),ee&&r.default.createElement(f.Table,{"aria-label":"Grants",variant:f.TableVariant.compact},r.default.createElement(f.Thead,null,r.default.createElement(f.Tr,null,r.default.createElement(f.Th,null,r.default.createElement(r.default.Fragment,null,"ARN",r.default.createElement(o.Popover,{position:o.PopoverPosition.top,"aria-label":"ARNs",bodyContent:r.default.createElement("p",null,"Amazon Resource Names (ARNs) uniquely identify AWS resources.")},r.default.createElement(o.Button,{variant:"plain",isInline:!0},r.default.createElement(o.Icon,{size:"md"},r.default.createElement(d.HelpIcon,null)))))),r.default.createElement(f.Th,null,le),r.default.createElement(f.Th,null,ne),r.default.createElement(f.Th,null,re),r.default.createElement(f.Th,{screenReaderText:"Grant action"}))),r.default.createElement(f.Tbody,null,Q.data.map(((e,t)=>{const a=((e,t)=>[{title:"Delete",onClick:()=>{w(t),K(e.id,{onSuccess:()=>{Y(),(0,b.refetchGrants)()}})}}])(e,t);return r.default.createElement(f.Tr,{key:e.id},r.default.createElement(f.Td,{dataLabel:"ARN"},e.user_arn),r.default.createElement(f.Td,{dataLabel:le},e.roleName),r.default.createElement(f.Td,{dataLabel:ne},((e,t)=>{let a,l;switch(e){case"ready":a=r.default.createElement(u.CheckCircleIcon,{className:"status-icon success"}),l="Ready";break;case"failed":a=r.default.createElement(c.ExclamationCircleIcon,{className:"status-icon danger"}),l="Failed";break;case"pending":a=r.default.createElement(m.InProgressIcon,{className:"status-icon"}),l="Pending";break;case"deleting":a=r.default.createElement(m.InProgressIcon,{className:"status-icon"}),l="Deleting";break;case"removed":a=r.default.createElement(p.UnknownIcon,{className:"status-icon"}),l="Removed";break;default:a=r.default.createElement(p.UnknownIcon,{className:"status-icon"}),l="Unknown"}return"failed"===e?r.default.createElement("span",null,r.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:t,"aria-label":"grant-failed"},r.default.createElement(o.Button,{className:"self-service-failed",variant:"link",isInline:!0,icon:a},l))):r.default.createElement(r.default.Fragment,null,a," ",r.default.createElement("span",null,l)," ")})(N===t?"deleting":e.state,e.state_description)),r.default.createElement(f.Td,{dataLabel:re},r.default.createElement(I.default,{className:"access-control-tables-copy",text:e.console_url,isDisabled:!e.console_url},"Copy URL to clipboard")),r.default.createElement(f.Td,{isActionCell:!0},r.default.createElement(f.ActionsColumn,{items:a,isDisabled:"deleting"===e.state||!!te})))})))),ae),r.default.createElement(T.default,{clusterID:a,addGrantsMutate:j,roles:U,addGrantsData:H,isAddGrantsPending:V,isAddGrantsError:B,addGrantsError:q,resetAddGrantsMutate:z}))};N.propTypes={region:i.default.string,clusterID:i.default.string,canEdit:i.default.bool.isRequired,clusterHibernating:i.default.bool.isRequired,isReadOnly:i.default.bool.isRequired},t.default=N},71939:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(12843));t.default=n.default},18124:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(38715),u=a(9638),c=l(a(65702)),d=a(84037),m=l(a(55816)),p=l(a(8888)),f=l(a(28592)),E=a(91089);const g=e=>{let{isOpen:t,canAddClusterAdmin:a,addUserMutate:l,isAddUserPending:r,isAddUserError:g,addUserError:v,isAddUserSuccess:h}=e;const _=(0,i.useDispatch)(),[S,b]=n.default.useState("dedicated-admins"),[C,y]=n.default.useState(""),[I,A]=n.default.useState(!1),R=()=>{b("dedicated-admins"),y(""),A(!1)};n.default.useEffect((()=>{h&&(_(E.modalActions.closeModal()),R())}),[h,_]);const T=(e,t)=>{b(t.target.value)},O=()=>{R(),_(E.modalActions.closeModal())},P=g&&n.default.createElement(m.default,{message:"Error adding grant",response:v.error}),D=(0,d.checkUserID)(C),L=()=>{!D&&S&&l({selectedGroup:S,userId:C},{onSuccess:()=>(0,u.refetchUsers)()})},N="dedicated-admins",w="cluster-admins";return t&&n.default.createElement(f.default,{title:"Add cluster user",onClose:O,primaryText:"Add user",secondaryText:"Cancel",onPrimaryClick:L,onSecondaryClick:O,isPrimaryDisabled:!!D||r,isPending:r},n.default.createElement(n.default.Fragment,null,P,n.default.createElement(s.Form,{className:"control-form-cursor",onSubmit:e=>{L(),e.preventDefault()}},n.default.createElement(s.FormGroup,{label:"User ID",isRequired:!0,fieldId:"user-id"},n.default.createElement(s.TextInput,{value:C,isRequired:!0,id:"user-id",type:"text",validated:I&&D?"error":"default",onChange:(e,t)=>(e=>{y(e),A(!0)})(t),"aria-label":"user id"}),n.default.createElement(o.FormGroupHelperText,{touched:I,error:D})),n.default.createElement("h3",{id:"user-group-select"},"Group"),n.default.createElement(s.Radio,{className:"radio-button",key:N,isChecked:S===N,name:N,onChange:(e,t)=>T(0,e),label:n.default.createElement(n.default.Fragment,null,N,n.default.createElement("div",{className:"radio-helptext"},"Grants standard administrative privileges for OpenShift Dedicated. Users can perform administrative actions listed in the"," ",n.default.createElement(p.default,{href:c.default.OSD_DEDICATED_ADMIN_ROLE},"documentation"),".")),id:N,value:N}),a&&n.default.createElement(s.Radio,{className:"radio-button",key:w,isChecked:S===w,name:w,onChange:(e,t)=>T(0,e),label:n.default.createElement(n.default.Fragment,null,w,n.default.createElement("div",{className:"radio-helptext"}," ","Gives users full administrative access to the cluster. This is the highest level of privilege available to users. It should be granted with extreme care, because it is possible with this level of access to get the cluster into an unsupportable state.")),id:w,value:w}))))};g.propTypes={isOpen:r.default.bool,canAddClusterAdmin:r.default.bool.isRequired,addUserMutate:r.default.func.isRequired,isAddUserPending:r.default.bool.isRequired,isAddUserError:r.default.bool.isRequired,addUserError:r.default.object,isAddUserSuccess:r.default.bool.isRequired},g.defaultProps={isOpen:!1},t.default=g},15493:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(90020),i=l(a(93175));const s={getUsers:e=>t=>t({type:i.default.GET_USERS,payload:r.clusterService.getClusterGroupUsers(e).then((e=>(e.data.items=(0,n.default)(e,"data.items",[]).map((e=>{const t=e;return t.users&&(t.users.items=(0,n.default)(t,"users.items",[]).filter((e=>"cluster-admin"!==e.id))),t})),e)))}),addUser:(e,t,a)=>l=>l({type:i.default.ADD_USER,payload:r.clusterService.addClusterGroupUser(e,t,a)}),deleteUser:(e,t,a)=>l=>l({type:i.default.DELETE_USER,payload:r.clusterService.deleteClusterGroupUser(e,t,a)}),clearUsersResponses:()=>({type:i.default.CLEAR_USER_RESPONSES}),clearAddUserResponses:()=>({type:i.default.CLEAR_ADD_USER_RESPONSES})};t.default=s},93175:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_USERS:"GET_USERS",GET_CLUSTER_ADMINS:"GET_CLUSTER_ADMINS",GET_DEDICATED_ADMNIS:"GET_DEDICATED_ADMNIS",DELETE_USER:"DELETE_USER",ADD_USER:"ADD_USER",CLEAR_USER_RESPONSES:"CLEAR_USER_RESPONSES",CLEAR_ADD_USER_RESPONSES:"CLEAR_ADD_USER_RESPONSES"}},41434:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(43693)),r=a(89407),i=l(a(58156)),s=a(89217),o=a(95762),u=l(a(93175));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const m={groupUsers:d(d({},o.baseRequestState),{},{clusterID:void 0,users:[]}),deleteUserResponse:d({},o.baseRequestState),addUserResponse:d({},o.baseRequestState)};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,o.PENDING_ACTION)(u.default.GET_USERS):e.groupUsers.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.default.GET_USERS):{const a=[];t.payload.data.items.forEach((e=>(0,i.default)(e,"users.items",[]).forEach((t=>a.push(d(d({},t),{},{group:e.id})))))),e.groupUsers=d(d({},o.baseRequestState),{},{fulfilled:!0,clusterID:t.payload.clusterID,users:a});break}case(0,o.REJECTED_ACTION)(u.default.GET_DEDICATED_ADMNIS):e.groupUsers=d(d({},m.groupUsers),(0,s.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.default.ADD_USER):e.addUserResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.default.ADD_USER):e.addUserResponse={pending:!1,fulfilled:!0};break;case(0,o.REJECTED_ACTION)(u.default.ADD_USER):e.addUserResponse=d(d({},m),(0,s.getErrorState)(t));break;case(0,o.PENDING_ACTION)(u.default.DELETE_USER):e.deleteUserResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.default.DELETE_USER):e.deleteUserResponse={pending:!1,fulfilled:!0};break;case(0,o.REJECTED_ACTION)(u.default.DELETE_USER):e.deleteUserResponse=d(d({},m),(0,s.getErrorState)(t));break;case u.default.CLEAR_ADD_USER_RESPONSES:e.addUserResponse=d({},o.baseRequestState);break;case u.default.CLEAR_USER_RESPONSES:return m}}))}p.initialState=m,t.Ay=p},12071:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(31358),u=a(45924),c=l(a(29564)),d=l(a(14419)),m=a(38823),p=a(9206),f=a(9638),E=a(25514),g=l(a(65702)),v=l(a(12200)),h=l(a(55816)),_=l(a(8888)),S=a(91089),b=l(a(18124)),C=l(a(6894));const y=e=>{var t,a;const{cluster:l,clusterHibernating:r,isReadOnly:y,region:I}=e,A=(0,i.useDispatch)(),{data:R,isLoading:T,isError:O,error:P,isSuccess:D,isRefetching:L}=(0,f.useFetchUsers)(l.id,I),{isPending:N,isError:w,error:k,mutate:F,isSuccess:M}=(0,m.useAddUser)(l.id,I),{isError:x,error:G,mutate:U}=(0,p.useDeleteUser)(l.id,I),H=(0,E.useGlobalState)((e=>(0,d.default)(e,"add-user"))),V=(0,C.default)(l),B=R,q=(null==R||null===(t=R.users)||void 0===t?void 0:t.length)>0,[j,z]=n.default.useState(null);if(n.default.useEffect((()=>{B.clusterID===l.id&&T||(0,f.refetchUsers)()}),[]),n.default.useEffect((()=>{L&&D&&null!==j&&z(null)}),[L,D,j]),!q&&O)return n.default.createElement(s.EmptyState,null,n.default.createElement(h.default,{message:"Error getting cluster users",response:P.error}));const W=!q&&L,$=y&&"This operation is not available during maintenance",K=r&&"This operation is not available while cluster is hibernating",Y=!l.canEdit&&"You do not have permission to add a user. Only cluster owners, cluster editors, and Organization Administrators can add users.",Q=$||K||Y,Z=n.default.createElement(v.default,{onClick:()=>{setTimeout((()=>A(S.modalActions.openModal("add-user"))),0)},variant:"secondary",className:"access-control-add",disableReason:Q},"Add user"),X="User ID",J="Group",ee=n.default.createElement(n.default.Fragment,null,X,n.default.createElement(s.Popover,{position:s.PopoverPosition.top,"aria-label":"User IDs",bodyContent:n.default.createElement("p",null,"User IDs are matched by the cluster's identity providers.")},n.default.createElement(s.Button,{variant:"plain",isInline:!0,"aria-label":"Help"},n.default.createElement(s.Icon,{size:"md"},n.default.createElement(o.HelpIcon,null))))),te=n.default.createElement(n.default.Fragment,null,J,n.default.createElement(s.Popover,{position:s.PopoverPosition.top,"aria-label":"Groups",bodyContent:n.default.createElement("p",null,"Groups are mapped to role bindings on the cluster. For more information check the"," ",n.default.createElement(_.default,{href:g.default.UNDERSTANDING_AUTHENTICATION},"OpenShift 4 documentation"))},n.default.createElement(s.Button,{variant:"plain",isInline:!0,"aria-label":"Help"},n.default.createElement(s.Icon,{size:"md"},n.default.createElement(o.HelpIcon,null)))));return W?n.default.createElement(s.Card,null,n.default.createElement(s.CardTitle,null,n.default.createElement(c.default,{size:"md"})),n.default.createElement(s.CardBody,null,n.default.createElement(c.default,{size:"lg"})),n.default.createElement(s.CardFooter,null,n.default.createElement(c.default,{size:"md"}))):n.default.createElement(s.Card,null,O&&n.default.createElement(h.default,{message:"Error getting cluster users",response:P.error}),n.default.createElement(s.CardBody,null,n.default.createElement(s.Title,{className:"card-title",headingLevel:"h3",size:"lg"},"Cluster administrative users"),n.default.createElement("p",null,"Grant permission to manage this cluster to users defined in your identity provider."," ",n.default.createElement(_.default,{href:g.default.OSD_DEDICATED_ADMIN_ROLE},"Learn more.")),w&&n.default.createElement(h.default,{message:"Error adding user",response:k.error}),x&&n.default.createElement(h.default,{message:"Error deleting user",response:G.error}),q&&n.default.createElement(u.Table,{"aria-label":"Users",variant:u.TableVariant.compact},n.default.createElement(u.Thead,null,n.default.createElement(u.Tr,null,n.default.createElement(u.Th,null,ee),n.default.createElement(u.Th,null,te),n.default.createElement(u.Th,{screenReaderText:"User action"}))),n.default.createElement(u.Tbody,null,null==R||null===(a=R.users)||void 0===a?void 0:a.map(((e,t)=>j===t?n.default.createElement(u.Tr,{key:e.id},n.default.createElement(u.Td,{dataLabel:X},n.default.createElement(c.default,{size:"md"})),n.default.createElement(u.Td,{dataLabel:J},n.default.createElement(c.default,{size:"md"})),n.default.createElement(u.Td,{isActionCell:!0})):n.default.createElement(u.Tr,{key:e.id},n.default.createElement(u.Td,{dataLabel:X,modifier:"truncate"},e.id),n.default.createElement(u.Td,{dataLabel:J},e.group),n.default.createElement(u.Td,{isActionCell:!0},n.default.createElement(u.ActionsColumn,{items:[{title:"Delete",onClick:()=>{z(t),U({groupID:e.group,userID:e.id},{onSuccess:()=>{(0,f.refetchUsers)()}})}}],isDisabled:!!Q}))))))),Z,n.default.createElement(b.default,{addUserMutate:F,isAddUserSuccess:M,isAddUserPending:N,isAddUserError:w,addUserError:k,isOpen:H,clusterID:l.id,canAddClusterAdmin:V})))};y.propTypes={region:r.default.string,cluster:r.default.object.isRequired,clusterHibernating:r.default.bool.isRequired,isReadOnly:r.default.bool.isRequired},t.default=y},60948:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(12071));t.default=n.default},9557:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(19202),o=a(3913),u=a(31003),c=a(21888),d=a(48266),m=l(a(1508)),p=a(43245);function f(e){const{addOn:t,installedAddOn:a,requirements:l}=e;if((0,p.hasRequirements)(t)&&!l.fulfilled)return n.default.createElement(i.Label,{variant:"outline",color:"red",icon:n.default.createElement(o.CubesIcon,{"data-icon":"cubes"})},"Prerequisites not met");if(!a)return"";switch(a.state){case void 0:return"";case m.default.INSTALLATION_STATE.PENDING:case m.default.INSTALLATION_STATE.INSTALLING:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(c.InProgressIcon,{"data-icon":"inProgress"})},"Installing");case m.default.INSTALLATION_STATE.UPDATING:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(c.InProgressIcon,{"data-icon":"inProgress"})},"Updating");case m.default.INSTALLATION_STATE.DELETED:case m.default.INSTALLATION_STATE.DELETING:case m.default.INSTALLATION_STATE.DELETE_PENDING:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(c.InProgressIcon,{"data-icon":"inProgress"})},"Uninstalling");case m.default.INSTALLATION_STATE.FAILED:return n.default.createElement(i.Label,{variant:"outline",color:"red",icon:n.default.createElement(u.ExclamationCircleIcon,{"data-icon":"exclamationCircle"})},"Add-on failed");case m.default.INSTALLATION_STATE.READY:return n.default.createElement(i.Label,{variant:"outline",color:"green",icon:n.default.createElement(s.CheckCircleIcon,{"data-icon":"checkCircle"})},"Installed");default:return n.default.createElement(i.Label,{variant:"outline",icon:n.default.createElement(d.UnknownIcon,{"data-icon":"unknown"})},"Unknown")}}f.propTypes={addOn:r.default.object,installedAddOn:r.default.object,requirements:r.default.object},t.default=f},50795:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(3913),u=a(56862),c=a(67080),d=a(81123),m=a(9097),p=a(29327),f=a(98703),E=a(64407),g=a(25514),v=a(2479),h=l(a(55816)),_=l(a(97843)),S=a(43245);const b=e=>{let{clusterID:t,region:a,cluster:l,isHypershift:r}=e;const b=(0,i.useDispatch)(),C=(0,g.useGlobalState)((e=>e.userProfile.organization)),y=(0,g.useGlobalState)((e=>e.userProfile.organization.quotaList)),{data:I,isError:A,error:R}=(0,p.useFetchAddOns)(t,a),{data:T,isLoading:O,isError:P,error:D}=(0,f.useFetchClusterAddOns)(t,a),{isPending:L,isError:N,error:w,isSuccess:k,mutate:F}=(0,d.useAddClusterAddOn)(a),{isPending:M,isError:x,error:G,isSuccess:U,mutate:H}=(0,E.useUpdateClusterAddOn)(a),{isPending:V,isError:B,error:q,isSuccess:j,mutate:z}=(0,m.useDeleteClusterAddOn)(a);if(n.default.useEffect((()=>{O||((0,p.refetchAddOns)(),(0,f.refetchClusterAddOns)()),b((0,v.getOrganizationAndQuota)())}),[]),r)return n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateHeader,{titleText:"Coming soon",icon:n.default.createElement(s.EmptyStateIcon,{icon:o.CubesIcon}),headingLevel:"h5"}),n.default.createElement(s.EmptyStateBody,null,"Add-ons will be available soon for hosted control plane clusters."),n.default.createElement(s.EmptyStateFooter,null,n.default.createElement(s.EmptyStateActions,null,n.default.createElement(s.Button,{variant:"link",onClick:()=>{document.location.hash="overview"}},"Go back to overview"))));if((!T||0===T.items.length)&&O)return n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateBody,null,n.default.createElement(c.Spinner,{centered:!0})));const W=(0,S.availableAddOns)(I,l,T,C,y);return W.length>0?P?n.default.createElement(s.EmptyState,null,n.default.createElement(h.default,{message:"Error getting cluster add-ons",response:D})):n.default.createElement(n.default.Fragment,null,N&&n.default.createElement(h.default,{message:"Error adding add-ons",response:w}),n.default.createElement(_.default,{addOnsList:W,clusterAddOns:T,cluster:l,organization:C,quota:y,addClusterAddOn:F,isAddClusterAddOnError:N,addClusterAddOnError:w,isAddClusterAddOnPending:L,updateClusterAddOn:H,isUpdateClusterAddOnError:x,updateClusterAddOnError:G,isUpdateClusterAddOnPending:M,deleteClusterAddOn:z,isDeleteClusterAddOnPending:V,isDeleteClusterAddOnError:B,deleteClusterAddOnError:q,isDeleteClusterAddOnSuccess:j,isUpdateClusterAddOnSuccess:U,isAddClusterAddOnSuccess:k})):n.default.createElement(s.EmptyState,null,n.default.createElement(s.EmptyStateHeader,{titleText:"No add-ons available for this cluster",icon:n.default.createElement(s.EmptyStateIcon,{icon:u.PlusCircleIcon}),headingLevel:"h5"}),A&&n.default.createElement(h.default,{message:"Error getting add-ons",response:R}),n.default.createElement(s.EmptyStateBody,null,"There are no add-ons available for this cluster."))};b.propTypes={clusterID:r.default.string.isRequired,cluster:r.default.object.isRequired,region:r.default.string,isHypershift:r.default.bool.isRequired},t.default=b},20542:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.updateClusterAddOn=t.setAddonsDrawer=t.getClusterAddOns=t.getAddOns=t.deleteClusterAddOn=t.clearClusterAddOnsResponses=t.addOnsActions=t.addClusterAddOn=void 0;var n=l(a(58156)),r=a(90020),i=l(a(1508));const s=e=>t=>t({type:i.default.GET_ADDONS,payload:r.clusterService.getEnabledAddOns(e).then((e=>{const t=(0,n.default)(e,"data.items",[]);return{items:t,resourceNames:t.map((e=>e.resource_name))}}))});t.getAddOns=s;const o=e=>t=>t({type:i.default.GET_CLUSTER_ADDONS,payload:r.clusterService.getClusterAddOns(e).then((t=>{const a=(0,n.default)(t,"data.items",[]);return{clusterID:e,items:a}}))});t.getClusterAddOns=o;const u=(e,t)=>a=>a({type:i.default.ADD_CLUSTER_ADDON,payload:r.clusterService.addClusterAddOn(e,t)});t.addClusterAddOn=u;const c=(e,t,a)=>l=>l({type:i.default.UPDATE_CLUSTER_ADDON,payload:r.clusterService.updateClusterAddOn(e,t,a).then((t=>(l(o(e)),t)))});t.updateClusterAddOn=c;const d=(e,t)=>a=>a({type:i.default.DELETE_CLUSTER_ADDON,payload:r.clusterService.deleteClusterAddOn(e,t)});t.deleteClusterAddOn=d;const m=()=>({type:i.default.CLEAR_CLUSTER_ADDON_RESPONSES});t.clearClusterAddOnsResponses=m,t.setAddonsDrawer=e=>t=>t({type:i.default.SET_ADDONS_DRAWER,payload:e}),t.addOnsActions={getAddOns:s,getClusterAddOns:o,addClusterAddOn:u,updateClusterAddOn:c,deleteClusterAddOn:d,clearClusterAddOnsResponses:m}},70329:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=l(a(9557));a(53790);const o=e=>{let{addOn:t,installedAddOn:a,requirements:l,activeCard:r,onClick:o}=e;return n.default.createElement(i.Card,{isSelectableRaised:!0,isSelected:r===t.id,key:t.id,ouiaId:`card-addon-${t.id}`,onClick:o,className:"ocm-c-addons__card","data-testid":"addOnCard"},n.default.createElement(i.CardHeader,{className:"ocm-c-addons__card--header"},t.icon&&n.default.createElement("img",{alt:t.name,src:`data:image/png;base64,${t.icon}`})),n.default.createElement(i.CardTitle,null,t.name),n.default.createElement(i.CardBody,{className:"ocm-c-addons__card--body","data-testid":"cardBody"},(e=>e.description.length>60?`${e.description.substring(0,57)}...`:e.description)(t)),n.default.createElement(i.CardFooter,null,n.default.createElement(s.default,{addOn:t,requirements:l,installedAddOn:a})))};o.propTypes={addOn:r.default.object.isRequired,installedAddOn:r.default.object,requirements:r.default.object.isRequired,onClick:r.default.func.isRequired,activeCard:r.default.string},t.default=o},23180:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(70329));t.default=n.default},1508:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_ADDONS:"GET_ADDONS",GET_CLUSTER_ADDONS:"GET_CLUSTER_ADDONS",UPDATE_CLUSTER_ADDON:"UPDATE_CLUSTER_ADDON",ADD_CLUSTER_ADDON:"ADD_CLUSTER_ADDON",DELETE_CLUSTER_ADDON:"DELETE_CLUSTER_ADDON",CLEAR_CLUSTER_ADDON_RESPONSES:"CLEAR_CLUSTER_ADDON_RESPONSES",INSTALLATION_STATE:{PENDING:"pending",INSTALLING:"installing",UPDATING:"updating",DELETING:"deleting",DELETED:"deleted",DELETE_PENDING:"delete-pending",FAILED:"failed",READY:"ready"},SET_ADDONS_DRAWER:"SET_ADDONS_DRAWER"}},21433:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(98703),u=a(2479),c=a(25514),d=l(a(55816)),m=l(a(28592)),p=a(91089),f=l(a(14419)),E=a(20542);a(20524);const g=e=>{let{deleteClusterAddOn:t,isDeleteClusterAddOnError:a,deleteClusterAddOnError:l,isDeleteClusterAddOnPending:r}=e;const g=(0,i.useDispatch)(),v=(0,c.useGlobalState)((e=>(0,f.default)(e,"add-ons-delete-modal"))),{addOnName:h,addOnID:_,clusterID:S}=(0,c.useGlobalState)((e=>e.modal.data)),[b,C]=n.default.useState(""),y=n.default.useCallback((()=>{C(""),g((0,p.closeModal)()),g((0,E.setAddonsDrawer)({open:!1,activeCard:null}))}),[g,C]),I=b===h,A=()=>{t({clusterID:S,addOnID:_},{onSuccess:()=>{g((0,u.getOrganizationAndQuota)()),(0,o.refetchClusterAddOns)(),y(),g((0,E.setAddonsDrawer)({open:!1,activeCard:null}))}})},R=a&&n.default.createElement(d.default,{message:"Error uninstalling add-on",response:l}),T=r;return v&&n.default.createElement(m.default,{title:`Uninstall ${h}`,onClose:y,primaryText:"Uninstall",primaryVariant:"danger",isPrimaryDisabled:!I,onPrimaryClick:A,onSecondaryClick:y,isPending:T},n.default.createElement("p",null,R,"This action will uninstall the add-on, removing add-on data from cluster can not be undone."),n.default.createElement(s.Form,{onSubmit:e=>{e.preventDefault(),I&&A()}},n.default.createElement("p",null,"Confirm deletion by typing"," ",n.default.createElement("span",{className:"addon-delete-modal-textinput"},h)," below:"),n.default.createElement(s.TextInput,{type:"text",value:b,placeholder:"Enter name",onChange:(e,t)=>(e=>{C(e)})(t),"aria-label":"addon name"})))};g.propTypes={isDeleteClusterAddOnError:r.default.bool.isRequired,isDeleteClusterAddOnPending:r.default.bool.isRequired,deleteClusterAddOn:r.default.func.isRequired,deleteClusterAddOnError:r.default.object.isRequired},t.default=g},9846:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(21433));t.default=n.default},37907:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(36165),u=a(20542),c=l(a(23180)),d=l(a(1508)),m=l(a(9846)),p=a(43245),f=l(a(98353)),E=l(a(9557)),g=l(a(66533)),v=l(a(89691)),h=l(a(78562)),_=l(a(8001)),S=l(a(87795)),b=l(a(18273));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}a(64180);const y=e=>{var t,a;let{cluster:l,organization:r,quota:C,clusterAddOns:y,addClusterAddOn:I,isAddClusterAddOnError:A,addClusterAddOnError:R,isAddClusterAddOnPending:T,addOnsList:O,updateClusterAddOn:P,isUpdateClusterAddOnError:D,updateClusterAddOnError:L,isUpdateClusterAddOnPending:N,deleteClusterAddOn:w,isDeleteClusterAddOnPending:k,isDeleteClusterAddOnError:F,deleteClusterAddOnError:M}=e;const x=(0,i.useDispatch)(),G=(0,o.useGlobalState)((e=>e.addOns.drawer)),U=e=>(0,p.getInstalled)(e,y),H=()=>{x((0,u.setAddonsDrawer)({activeCard:null,activeCardRequirements:null,activeCardRequirementsFulfilled:!0,open:!1,activeTabKey:0}))},V=(0,n.useCallback)((e=>{const t=O.find((t=>t.id===e)),a=(0,p.getInstalled)(t,y),l=(0,p.validateAddOnRequirements)(t),n=(0,p.getAddOnBillingQuota)(t,C);x((0,u.setAddonsDrawer)({activeCard:t,activeCardRequirementsFulfilled:l.fulfilled,activeCardRequirements:l.errorMsgs,installedAddOn:a,billingQuota:n,open:!0,activeTabKey:0}))}),[O,y,x,C]),B=e=>()=>{var t;e.id!==(null===(t=G.activeCard)||void 0===t?void 0:t.id)?V(e.id):H()},{open:q,activeCard:j,installedAddOn:z,activeCardRequirements:W,activeCardRequirementsFulfilled:$,billingQuota:K,activeTabKey:Y,subscriptionModels:Q}=G;(0,n.useEffect)((()=>{var e;y&&O&&G.open&&null!==(e=G.activeCard)&&void 0!==e&&e.id&&V(G.activeCard.id)}),[O,y,null===(t=G.activeCard)||void 0===t?void 0:t.id,G.open,V]);const Z=n.default.createElement(s.DrawerPanelContent,{className:"ocm-c-addons__drawer--panel-content"},n.default.createElement(s.DrawerHead,{className:"ocm-c-addons__drawer--header"},n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,{span:3},(null==j?void 0:j.icon)&&n.default.createElement("img",{alt:null==j?void 0:j.name,src:`data:image/png;base64,${null==j?void 0:j.icon}`})),n.default.createElement(s.GridItem,{span:9},n.default.createElement(s.Title,{headingLevel:"h2",size:"xl"},null==j?void 0:j.name))),n.default.createElement(s.DrawerActions,null,n.default.createElement(s.DrawerCloseButton,{onClick:H}))),n.default.createElement(s.DrawerPanelBody,null,n.default.createElement(E.default,{addOn:j,requirements:(0,p.validateAddOnRequirements)(j),installedAddOn:z}),n.default.createElement(g.default,{installedAddOn:z})),n.default.createElement("div",null,n.default.createElement(s.Tabs,{activeKey:Y,onSelect:(e,t)=>{x((0,u.setAddonsDrawer)({activeTabKey:t})),e.preventDefault()},inset:{default:"insetNone",md:"insetSm",xl:"inset2xl","2xl":"insetLg"}},n.default.createElement(s.Tab,{eventKey:0,title:n.default.createElement(s.TabTitleText,null,"Details")},n.default.createElement(s.DrawerPanelBody,{className:"ocm-addons-tab--drawer-panel-body"},n.default.createElement(s.Flex,{spaceItems:{default:"spaceItemsLg"},direction:{default:"column"}},n.default.createElement(s.FlexItem,null,null==j?void 0:j.description),n.default.createElement(v.default,{activeCardDocsLink:null==j?void 0:j.docs_link,installedAddOnOperatorVersion:null==z?void 0:z.operator_version,addonID:null==j?void 0:j.id,clusterID:null==l?void 0:l.id,externalClusterID:null==l?void 0:l.external_id,subscriptionPlanID:null==l||null===(a=l.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.id}),n.default.createElement(h.default,{installedAddOn:z,activeCard:j,activeCardID:null==j?void 0:j.id,installedAddOnState:null==z?void 0:z.state,cluster:l}),n.default.createElement(b.default,{activeCardId:null==j?void 0:j.id,billingQuota:K,installedAddOn:z,subscriptionModels:Q}))),(null==z?void 0:z.state)===d.default.INSTALLATION_STATE.DELETING?null:n.default.createElement(s.DrawerPanelBody,null,n.default.createElement(_.default,{activeCard:j,activeCardRequirementsFulfilled:$,addClusterAddOn:I,isAddClusterAddOnPending:T,cluster:l,hasQuota:(X=j,null!==X&&(0,p.hasQuota)(X,l,r,C)),installedAddOn:z,installedAddOnOperatorVersion:null==z?void 0:z.operator_version,subscriptionModels:Q,updateClusterAddOn:P}))),!$&&n.default.createElement(s.Tab,{eventKey:1,title:n.default.createElement(s.TabTitleText,null,"Prerequisites")},n.default.createElement(s.DrawerPanelBody,{className:"ocm-addons-tab--drawer-panel-body"},n.default.createElement(s.Flex,{spaceItems:{default:"spaceItemsLg"},direction:{default:"column"}},n.default.createElement(s.FlexItem,null,n.default.createElement(S.default,{activeCardRequirements:W}))))))));var X;return n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Drawer,{isExpanded:q,isInline:!0,className:"ocm-addons-tab--addon-drawer pf-m-inline-on-2xl"},n.default.createElement(s.DrawerContent,{panelContent:j?Z:null,className:"pf-m-no-background ocm-c-addons__drawer--panel-gallery"},n.default.createElement(s.DrawerContentBody,null,n.default.createElement(s.Gallery,{hasGutter:!0},O.map((e=>n.default.createElement(c.default,{key:e.id,addOn:e,installedAddOn:U(e),requirements:(0,p.validateAddOnRequirements)(e),onClick:B(e),activeCard:null==j?void 0:j.id}))))))),n.default.createElement(f.default,{clusterID:l.id,cluster:l,quota:C,updateClusterAddOn:P,isUpdateClusterAddOnError:D,updateClusterAddOnError:L,isUpdateClusterAddOnPending:N,addClusterAddOn:I,isAddClusterAddOnError:A,addClusterAddOnError:R,isAddClusterAddOnPending:T}),n.default.createElement(m.default,{deleteClusterAddOn:w,isDeleteClusterAddOnPending:k,isDeleteClusterAddOnError:F,deleteClusterAddOnError:M}))};y.propTypes={addOnsList:r.default.array.isRequired,clusterAddOns:r.default.object.isRequired,cluster:r.default.object.isRequired,organization:r.default.object.isRequired,quota:r.default.object.isRequired,addClusterAddOn:r.default.func.isRequired,updateClusterAddOn:r.default.func.isRequired,deleteClusterAddOnError:r.default.object.isRequired,isDeleteClusterAddOnError:r.default.bool.isRequired,isDeleteClusterAddOnPending:r.default.bool.isRequired,isAddClusterAddOnError:r.default.bool.isRequired,addClusterAddOnError:r.default.object.isRequired,isAddClusterAddOnPending:r.default.bool.isRequired,isUpdateClusterAddOnError:r.default.bool.isRequired,updateClusterAddOnError:r.default.object.isRequired,isUpdateClusterAddOnPending:r.default.bool.isRequired,deleteClusterAddOn:r.default.func.isRequired},t.default=y},66533:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=l(a(8888));function o(e){const{installedAddOn:t}=e;return"failed"===(null==t?void 0:t.state)?n.default.createElement(i.Alert,{variant:"danger",isInline:!0,title:"Add-on failed",className:"ocm-addons-failed--error-box",role:"alert"},n.default.createElement(i.Flex,{direction:{default:"column"}},n.default.createElement(i.FlexItem,null,null==t?void 0:t.state_description),n.default.createElement(i.FlexItem,null,n.default.createElement(s.default,{noIcon:!0,href:"https://access.redhat.com/support/cases/#/case/new"},"Contact support")))):null}o.propTypes={installedAddOn:r.default.object},t.default=o},78562:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(7019),u=a(53966),c=a(91089),d=a(43245),m=l(a(98353));function p(e){const t=(0,i.useDispatch)(),{installedAddOn:a,activeCard:l,activeCardID:r,cluster:p}=e;if(a&&l&&(0,d.hasParameters)(l)){const e=(0,d.parameterAndValue)(a,l,p),i=Object.entries(e.parameters).map((e=>{let[t,a]=e;return n.default.createElement("p",{key:t},n.default.createElement("b",{className:"parameter-list-key"},a.name)," ",n.default.createElement(s.Popover,{"aria-label":"param-popover",headerContent:n.default.createElement("div",null,a.name),bodyContent:n.default.createElement("div",null,a.description)},n.default.createElement(s.Button,{isInline:!0,variant:"link",icon:n.default.createElement(o.OutlinedQuestionCircleIcon,{className:"ocm-addons-tab--parameter-tooltip-icon"})}))," ",a.value)}));return n.default.createElement(s.FlexItem,null,n.default.createElement("p",{className:"ocm-addons-tab--configuration-title"},"Configuration",n.default.createElement(s.Button,{ouiaId:`update-addon-${r}`,variant:"link",isDisabled:!p.canEdit,icon:n.default.createElement(u.PencilAltIcon,{className:"ocm-addons-tab--configuration-title-icon"}),onClick:()=>t((0,c.openModal)("add-ons-parameters-modal",{clusterID:p.id,addOn:l,addOnInstallation:a,isUpdateForm:!0}))})),i,n.default.createElement(m.default,{clusterID:p.id}))}return null}a(64180),p.propTypes={installedAddOn:r.default.object,activeCard:r.default.object,activeCardID:r.default.string,cluster:r.default.object},t.default=p},8001:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(40167),c=a(57294),d=a(93413),m=l(a(12200)),p=a(91089),f=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),E=l(a(1508)),g=a(43245);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e){var t,a;const{activeCard:l,activeCardRequirementsFulfilled:n,addClusterAddOn:i,isAddClusterAddOnPending:v,updateClusterAddOn:h,cluster:S,hasQuota:b,installedAddOn:C,subscriptionModels:y}=e,I=(0,s.useDispatch)(),A=y[null==l?void 0:l.id],R=async()=>{(0,g.hasParameters)(l)?I((0,p.openModal)("add-ons-parameters-modal",{clusterID:S.id,addOn:l,isUpdateForm:!1})):i(S.id,{addon:{id:null==l?void 0:l.id},billing:_({billing_model:A.billingModel},A.cloudAccount&&{billing_marketplace_account:A.cloudAccount})})},T=!S.canEdit&&"You do not have permission to install add ons. Only cluster owners, cluster editors, and Organization Administrators can install add ons.",O="read_only"===(null==S||null===(t=S.status)||void 0===t?void 0:t.configuration_mode)&&"This operation is not available during maintenance",P=(0,f.isHibernating)(S)&&"This operation is not available while cluster is hibernating",D=S.state!==f.default.READY&&"This cluster is not ready",L=!n&&"Prerequisites not met",N=(!b||(null==A?void 0:A.billingModel)===c.NO_QUOTA)&&d.noQuotaTooltip,w="marketplace"===(null==A?void 0:A.billingModel)&&"Select a subscription type",k=(null==C||null===(a=C.billing)||void 0===a||a.billing_model,null==A||A.billingModel,m.default,o.ButtonSize.sm,function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.default.createElement(m.default,{ouiaId:`uninstall-addon-${null==l?void 0:l.id}`,variant:"secondary",isDanger:!0,disableReason:O||P||D||T,size:o.ButtonSize.sm,onClick:()=>I((0,p.openModal)("add-ons-delete-modal",{addOnName:null==l?void 0:l.name,addOnID:null==l?void 0:l.id,clusterID:S.id})),className:e&&"pf-v5-u-ml-xs"},"Uninstall")});if(!C){const e=v?"installing...":null;return r.default.createElement(m.default,{disableReason:O||P||D||L||T||N||e||w,ouiaId:`install-addon-${null==l?void 0:l.id}`,variant:"primary","aria-label":"Install",onClick:R,size:o.ButtonSize.sm},"Install")}let F;switch(null==C?void 0:C.state){case E.default.INSTALLATION_STATE.PENDING:case E.default.INSTALLATION_STATE.INSTALLING:case E.default.INSTALLATION_STATE.UPDATING:return r.default.createElement(r.default.Fragment,null,k(!1));case void 0:return"";case E.default.INSTALLATION_STATE.FAILED:return F="https://access.redhat.com/support/cases/#/case/new",r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Button,{component:"a",variant:"secondary",href:F,target:"_blank",rel:"noopener noreferrer",size:o.ButtonSize.sm},"Contact support")," ",k());case E.default.INSTALLATION_STATE.READY:return null!=S&&S.console.url?(F=`${S.console.url}/k8s/ns/${null==l?void 0:l.target_namespace}/operators.coreos.com~v1alpha1~ClusterServiceVersion/${null==C?void 0:C.csv_name}`,r.default.createElement("div",null,r.default.createElement(o.Button,{component:"a",variant:"primary",href:F,target:"_blank",rel:"noopener noreferrer",size:o.ButtonSize.sm},"Open in Console ",r.default.createElement(u.ExternalLinkAltIcon,{className:"link-icon"}))," ",k())):"";default:return""}}a(64180),S.propTypes={activeCard:i.default.object,activeCardRequirementsFulfilled:i.default.bool.isRequired,addClusterAddOn:i.default.func.isRequired,cluster:i.default.object.isRequired,hasQuota:i.default.bool.isRequired,installedAddOn:i.default.object,updateClusterAddOn:i.default.func.isRequired,subscriptionModels:i.default.object.isRequired,isAddClusterAddOnPending:i.default.bool},t.default=S},87795:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818);function s(e){const{activeCardRequirements:t}=e;return n.default.createElement(i.List,null,null==t?void 0:t.map((e=>n.default.createElement(i.ListItem,{key:e},e))))}a(64180),s.propTypes={activeCardRequirements:r.default.array},t.default=s},97843:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(37907));t.default=n.default},43245:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.validateAddOnRequirements=t.quotaCostOptions=t.parameterValuesForEditing=t.parameterAndValue=t.minQuotaCount=t.isInstalled=t.isAvailable=t.hasRequirements=t.hasQuota=t.hasParameters=t.getParameters=t.getParameterValue=t.getParameter=t.getInstalled=t.getAddOnBillingQuota=t.availableAddOns=void 0;var n=l(a(43693)),r=l(a(58156)),i=a(38046),s=a(13642),o=a(98229);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d=(e,t,a,l)=>!(!e.enabled||!a.fulfilled)&&(0,o.hasPotentialQuota)(l,c(c({},(0,o.queryFromCluster)(t)),{},{resourceType:i.QuotaTypes.ADD_ON,resourceName:e.resource_name,billingModel:s.RelatedResource.billing_model.ANY}))>=1;t.isAvailable=d;const m=(e,t)=>!!(0,r.default)(t,"items.length",!1)&&t.items.some((t=>t.addon.id===e.id));t.isInstalled=m,t.getInstalled=(e,t)=>t.items.find((t=>t.addon.id===e.id));const p=e=>{if(void 0===e)return"";const t=[];return Object.entries(e).forEach((e=>{let[a,l]=e;Array.isArray(l)?t.push(`${a} is ${l.join(" or ")}`):"number"==typeof l?t.push(`${a} >= ${l}`):t.push(`${a} is ${l}`)})),`where ${t.join(" and ")}`};t.validateAddOnRequirements=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a={fulfilled:!0,errorMsgs:[]};return e.length>0&&e.every((e=>{const[l,n]=(e=>{const t=(0,r.default)(e,"status.fulfilled",!1),a=(0,r.default)(e,"status.error_msgs",[]);return t||0===(0,r.default)(a,"length",0)&&("addon"===e.resource?a.push(`This addon requires another addon to be installed ${p(e.data)}`):"machine_pool"===e.resource?a.push(`This addon requires a machine pool to exist ${p(e.data)}`):a.push(`This addon requires a ${e.resource} ${p(e.data)}`)),[t,a]})(e);return l||a.errorMsgs.push(...n),a.fulfilled&&(a.fulfilled=l),!(!a.fulfilled&&t)})),a}((0,r.default)(e,"requirements",[]),t)};const f=e=>(0,r.default)(e,"parameters.items",[]);t.getParameters=f;const E=e=>(0,r.default)(f(e),"length",0)>0;t.hasParameters=E;const g=e=>{let t=1;return E(e)&&e.parameters.items.forEach((a=>{if("resource"===a.value_type&&a.id===e.resource_name&&void 0!==a.options&&a.options.length>0){const e=a.options.map((e=>Number(e.value))).filter((e=>!Number.isNaN(e)));t=Math.min(...e)}})),t};t.minQuotaCount=g,t.hasQuota=(e,t,a,l)=>{if(!d(e,t,a,l))return!1;const n=g(e);return(0,o.availableQuota)(l,c(c({},(0,o.queryFromCluster)(t)),{},{resourceType:i.QuotaTypes.ADD_ON,resourceName:e.resource_name,billingModel:s.RelatedResource.billing_model.ANY}))>=n},t.getAddOnBillingQuota=(e,t)=>(0,o.addOnBillingQuota)(t,{resourceType:i.QuotaTypes.ADD_ON,resourceName:e.resource_name}),t.quotaCostOptions=function(e,t,a,l){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;n=Number.isNaN(n)?0:n;const r=c(c({},(0,o.queryFromCluster)(t)),{},{resourceType:i.QuotaTypes.ADD_ON,resourceName:e,billingModel:s.RelatedResource.billing_model.ANY});if(!(0,o.hasPotentialQuota)(a,r))return l;const u=(0,o.availableQuota)(a,r);return l.filter((e=>u+n>=e.value))},t.availableAddOns=(e,t,a,l,n)=>(0,r.default)(e,"items.length",!1)?e.items.filter((e=>d(e,t,l,n)||m(e,a))):[],t.hasRequirements=e=>(0,r.default)(e,"requirements.length",0)>0;const v=(e,t)=>{if(E(e))return e.parameters.items.find((e=>e.id===t))};t.getParameter=v;const h=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const l=v(e,t);return l?l.value:a};t.getParameterValue=h,t.parameterValuesForEditing=(e,t)=>{const a={parameters:{}};return E(t)&&(a.parameters=t.parameters.items.reduce(((t,a)=>{let l=h(e,a.id);return"boolean"===a.value_type&&(l="true"===(l||"").toLowerCase()),void 0!==a.options&&a.options.length>0&&(l=l||void 0),void 0!==l&&(t[a.id]=l),t}),{})),a},t.parameterAndValue=(e,t)=>{const a={parameters:{}};return E(t)&&(a.parameters=f(t).reduce(((t,a)=>{let l=h(e,a.id);if("boolean"===a.value_type&&(l="true"===(l||"").toString().toLowerCase()),a.options){const e=a.options.find((e=>e.value===l));null!=e&&e.name&&(l=e.name)}if(void 0!==l){const e=c({value:l.toString()},a);t[a.id]=e}return t}),{})),a}},45656:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validationsForParameterField=t.setDefaultParamValue=t.isFieldDisabled=t.getParamDefault=t.getHelpText=t.getFieldProps=t.getDropdownParamOptions=t.getDefaultValueText=void 0;var l=a(84037),n=a(55576),r=a(29568),i=a(77051),s=a(43245);t.isFieldDisabled=(e,t,a)=>t&&!e.editable&&void 0!==a.parameters&&void 0!==a.parameters.items.find((t=>t.id===e.id)),t.getParamDefault=(e,t)=>t||void 0===e.default_value?"":e.default_value,t.getHelpText=(e,t)=>t&&t&&e.default_value&&e.editable?`${e.description}. For example "${e.default_value}"`:e.description,t.setDefaultParamValue=(e,t)=>{let a=e.default_value;"boolean"===e.value_type&&(a="true"===(a||"").toLowerCase()),t(e.id,a)},t.getDropdownParamOptions=(e,t,a,l,n,r)=>{if(void 0!==e.options&&e.options.length>0){let i;if("resource"===e.value_type){let o;t&&e.id===n.resource_name&&(o=1);const u=Number((0,s.getParameterValue)(r,e.id,o));i=(0,s.quotaCostOptions)(e.id,a,l,e.options,u)}else i=e.options;return i}},t.getFieldProps=(e,t,a,l,o,u)=>{if(void 0!==e.options&&e.options.length>0){let n;if("resource"===e.value_type){let r;t&&e.id===a.resource_name&&(r=1);const i=Number((0,s.getParameterValue)(u,e.id,r));n=(0,s.quotaCostOptions)(e.id,l,o,e.options,i)}else n=e.options;return{component:r.AddOnsFormDropdown,options:[...n],type:"select"}}switch(e.value_type){case"number":return{component:i.NumberInputField,type:"text"};case"boolean":return{component:n.CheckboxField,isHelperTextBeforeField:!0};default:return{component:n.TextInputField,type:"text"}}},t.validationsForParameterField=(e,t)=>{let a="";return"boolean"===e.value_type?(void 0!==e.validation&&"^true$"===e.validation||e.required)&&(a=(0,l.requiredTrue)(t)):e.required&&(a=(0,l.required)(t)),"number"===e.value_type&&(a=(0,l.validateNumericInput)(t)),a},t.getDefaultValueText=e=>{if(void 0!==e.options&&e.options.length>0){const t=e.options.find((t=>t.value===e.default_value));if(void 0!==t)return t.name}return e.default_value}},741:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(43693)),i=l(a(93345)),s=a(88139),o=l(a(5556)),u=a(73729),c=a(13818),d=a(44537),m=a(55576),p=a(2786),f=l(a(55816)),E=a(29568),g=l(a(75913)),v=l(a(28592)),h=a(98703),_=a(2479),S=a(25514),b=a(91089),C=l(a(14419)),y=a(20542),I=a(43245),A=a(45656);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(20524);const O=e=>{let{clusterID:t,cluster:a,quota:l,updateClusterAddOn:r,isUpdateClusterAddOnError:o,updateClusterAddOnError:R,isUpdateClusterAddOnPending:O,addClusterAddOn:P,isAddClusterAddOnError:D,addClusterAddOnError:L,isAddClusterAddOnPending:N}=e;const w=(0,u.useDispatch)(),k=(0,S.useGlobalState)((e=>(0,C.default)(e,"add-ons-parameters-modal"))),F=(0,S.useGlobalState)((e=>e.addOns.drawer.subscriptionModels)),{addOn:M,isUpdateForm:x,addOnInstallation:G}=(0,S.useGlobalState)((e=>e.modal.data)),U=(0,I.parameterValuesForEditing)(G,M),H=e=>{e.resetForm(),w((0,b.closeModal)())},V=N||O;return k?i.default.createElement(s.Formik,{initialValues:U.parameters,onSubmit:async(e,a)=>{((e,a)=>{const l=M.id,{billingModel:n}=F[l],i={addon:{id:l},billing:T({billing_model:n},F[l].cloudAccount&&{billing_marketplace_account:F[l].cloudAccount})};e&&(i.parameters={items:Object.entries(e).map((e=>{let[t,a]=e;return{id:t,value:a.toString()}}))});const s={clusterID:t,addOnData:i};x?r(T({},{clusterID:t,addOnID:l,addOnData:i}),{onSuccess:()=>{w((0,_.getOrganizationAndQuota)()),H(a),(0,h.refetchClusterAddOns)(),w((0,y.setAddonsDrawer)({open:!1,activeCard:null}))}}):P(T({},s),{onSuccess:()=>{w((0,_.getOrganizationAndQuota)()),H(a),(0,h.refetchClusterAddOns)(),w((0,y.setAddonsDrawer)({open:!1,activeCard:null}))}})})(e,a)}},(e=>i.default.createElement(v.default,{title:`Configure ${M.name}`,width:810,variant:"large",onClose:()=>H(e),primaryText:x?"Update":"Install",secondaryText:"Cancel",onPrimaryClick:e.submitForm,onSecondaryClick:()=>H(e),isPrimaryDisabled:x&&!e.dirty,isPending:V},(o||D)&&i.default.createElement(f.default,{message:"Error adding add-ons",response:R||L}),i.default.createElement(c.Form,{id:`form-addon-${M.id}`,onSubmit:t=>{e.submitForm(),t.preventDefault()}},(0,I.getParameters)(M).map((t=>i.default.createElement(c.FormGroup,{key:t.id},((e,t)=>{if(e.value_type&&"boolean"===e.value_type&&e.required)return i.default.createElement(i.default.Fragment,null,i.default.createElement(m.CheckboxField,(0,n.default)({fieldId:`${e.id}`},(0,A.getFieldProps)(e,x,M,a,l,G),{key:e.id,name:`${e.id}`,label:e.name,placeholder:(0,A.getParamDefault)(e,x),isRequired:e.required,isDisabled:(0,A.isFieldDisabled)(e,x,G),validate:t=>(0,A.validationsForParameterField)(e,t),description:(0,A.getHelpText)(e,x)})),i.default.createElement(p.CheckboxDescription,null,(0,A.getHelpText)(e,x)));if(e.value_type&&"boolean"===e.value_type&&!e.required)return i.default.createElement(i.default.Fragment,null,i.default.createElement(m.CheckboxField,(0,n.default)({fieldId:`${e.id}`},(0,A.getFieldProps)(e,x,M,a,l,G),{key:e.id,name:`${e.id}`,label:e.name,placeholder:(0,A.getParamDefault)(e,x),isRequired:e.required,isDisabled:(0,A.isFieldDisabled)(e,x,G),description:(0,A.getHelpText)(e,x)})),i.default.createElement(p.CheckboxDescription,null,(0,A.getHelpText)(e,x)));if(e.options&&e.options.length>0){let r;if("resource"===e.value_type){let t;x&&e.id===M.resource_name&&(t=1);const n=Number((0,I.getParameterValue)(G,e.id,t));r=(0,I.quotaCostOptions)(e.id,a,l,e.options,n)}else r=e.options;return i.default.createElement(s.Field,(0,n.default)({component:E.AddOnsFormDropdown,options:[...r],fieldId:`${e.id}`},(0,A.getFieldProps)(e,x,M,a,l,G),{key:e.id,name:`${e.id}`,label:e.name,placeholder:(0,A.getParamDefault)(e,x),isRequired:e.required,helperText:(0,A.getHelpText)(e,x),isDisabled:(0,A.isFieldDisabled)(e,x,G),placeHolderText:(0,A.getParamDefault)(e,x),validateOnSubmit:!0,validate:t=>(0,A.validationsForParameterField)(e,t),meta:t.getFieldMeta(e.id)}))}return e.required?i.default.createElement(m.TextInputField,{validate:t=>(0,A.validationsForParameterField)(e,t),key:e.id,name:`${e.id}`,label:e.name,helperText:(0,A.getHelpText)(e,x),isDisabled:(0,A.isFieldDisabled)(e,x,G),placeHolderText:(0,A.getParamDefault)(e,x),meta:t.getFieldMeta(e.id),validateOnSubmit:!0}):i.default.createElement(g.default,{key:e.id,name:`${e.id}`,label:e.name,isRequired:e.required,helpText:(0,A.getHelpText)(e,x),isDisabled:(0,A.isFieldDisabled)(e,x,G),placeHolderText:(0,A.getParamDefault)(e,x),meta:t.getFieldMeta(e.id),fieldId:e.id})})(t,e),(x&&t.editable&&t.default_value||!x&&t.default_value)&&i.default.createElement(c.Button,{onClick:()=>(0,A.setDefaultParamValue)(t,e.setFieldValue),id:`reset-addon-${t.id}`,variant:"link",icon:i.default.createElement(d.LevelUpAltIcon,null),iconPosition:"right",className:"addon-parameter-default-button"},"Use default: ",(0,A.getDefaultValueText)(t))))))))):null};O.propTypes={clusterID:o.default.string.isRequired,updateClusterAddOn:o.default.func.isRequired,isUpdateClusterAddOnError:o.default.bool.isRequired,isUpdateClusterAddOnPending:o.default.bool.isRequired,addClusterAddOn:o.default.func.isRequired,isAddClusterAddOnError:o.default.bool.isRequired,isAddClusterAddOnPending:o.default.bool.isRequired,updateClusterAddOnError:o.default.object.isRequired,addClusterAddOnError:o.default.object.isRequired,addOn:o.default.object,addOnInstallation:o.default.object,cluster:o.default.object.isRequired,quota:o.default.object.isRequired,isUpdateForm:o.default.bool,submitClusterAddOnResponse:o.default.object,change:o.default.func},t.default=O},98353:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(741));t.default=n.default},78405:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=l(a(1508));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d={addOns:c(c({},s.baseRequestState),{},{items:[],resourceNames:[]}),clusterAddOns:c(c({},s.baseRequestState),{},{clusterID:void 0,items:[]}),drawer:{open:!1,activeCard:null,activeCardRequirementsFulfilled:!0,activeCardRequirements:null,installedAddOn:null,billingQuota:null,activeTabKey:0,subscriptionModels:{}},addClusterAddOnResponse:c({},s.baseRequestState),updateClusterAddOnResponse:c({},s.baseRequestState),deleteClusterAddOnResponse:c({},s.baseRequestState)};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(a=>{switch(t.type){case o.default.SET_ADDONS_DRAWER:return c(c({},e),{},{drawer:c(c({},e.drawer),t.payload)});case o.default.CLEAR_CLUSTER_ADDON_RESPONSES:return c(c({},d),{},{addOns:e.addOns,clusterAddOns:e.clusterAddOns});case(0,s.REJECTED_ACTION)(o.default.GET_ADDONS):a.addOns=c(c({},d.addOns),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.GET_ADDONS):a.addOns.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.GET_ADDONS):a.addOns=c(c({},d.addOns),{},{fulfilled:!0,items:t.payload.items,resourceNames:t.payload.resourceNames});break;case(0,s.REJECTED_ACTION)(o.default.GET_CLUSTER_ADDONS):a.clusterAddOns=c(c({},d.clusterAddOns),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.GET_CLUSTER_ADDONS):a.clusterAddOns.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.GET_CLUSTER_ADDONS):a.clusterAddOns=c(c({},d.clusterAddOns),{},{fulfilled:!0,clusterID:t.payload.clusterID,items:t.payload.items});break;case(0,s.REJECTED_ACTION)(o.default.ADD_CLUSTER_ADDON):a.addClusterAddOnResponse=c(c({},d.addClusterAddOnResponse),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.ADD_CLUSTER_ADDON):a.addClusterAddOnResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.ADD_CLUSTER_ADDON):a.addClusterAddOnResponse=c(c({},d.addClusterAddOnResponse),{},{fulfilled:!0});break;case(0,s.REJECTED_ACTION)(o.default.UPDATE_CLUSTER_ADDON):a.updateClusterAddOnResponse=c(c({},d.updateClusterAddOnResponse),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.UPDATE_CLUSTER_ADDON):a.updateClusterAddOnResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.UPDATE_CLUSTER_ADDON):a.updateClusterAddOnResponse=c(c({},d.updateClusterAddOnResponse),{},{fulfilled:!0});break;case(0,s.REJECTED_ACTION)(o.default.DELETE_CLUSTER_ADDON):a.deleteClusterAddOnResponse=c(c({},d.deleteClusterAddOnResponse),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.DELETE_CLUSTER_ADDON):a.deleteClusterAddOnResponse.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.DELETE_CLUSTER_ADDON):a.deleteClusterAddOnResponse=c(c({},d),{},{fulfilled:!0})}}))}m.initialState=d,t.Ay=m},62148:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(50795));t.default=n.default},98579:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=V(a(93345)),i=l(a(58156)),s=l(a(5556)),o=a(73729),u=a(13818),c=a(67080),d=l(a(6071)),m=a(93413),p=V(a(22902)),f=a(51513),E=a(69304),g=a(75166),v=a(903),h=l(a(7691)),_=l(a(12200)),S=a(91089),b=l(a(43775)),C=l(a(67716)),y=a(36291),I=a(13642),A=l(a(84518)),R=V(a(23271)),T=l(a(62779)),O=l(a(43202)),P=a(83280),D=l(a(73068)),L=l(a(25655)),N=l(a(32298)),w=l(a(94696)),k=l(a(13767)),F=l(a(80116)),M=a(77965),x=l(a(12627)),G=l(a(47434)),U=l(a(40507));function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(H=function(e){return e?a:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=H(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}const B=()=>{const e=(0,E.useNavigate)();return r.default.createElement(u.Alert,{id:"idpHint",className:"pf-v5-u-mt-md",isInline:!0,title:"Create an identity provider to access cluster"},"Identity providers determine how you can log into the cluster. You'll need to set this up so you can access your cluster"," ",r.default.createElement("p",null,r.default.createElement(u.Button,{variant:"link",isInline:!0,onClick:()=>e({hash:"#accessControl"})},"Create identity provider")," "))};function q(e){var t,a;const{cluster:l,pending:s,clusterIdentityProviders:E,organization:H,error:V,errorMessage:q,children:j,canSubscribeOCP:z,canTransferClusterOwnership:W,canHibernateCluster:$,autoRefreshEnabled:K,toggleSubscriptionReleased:Y,showPreviewLabel:Q,isClusterIdentityProvidersLoading:Z,clusterIdentityProvidersError:X,isRefetching:J,gcpOrgPolicyWarning:ee,regionalInstance:te,openDrawer:ae,closeDrawer:le,selectedCardTitle:ne,refreshFunc:re,region:ie}=e,se=localStorage.getItem(f.HAS_USER_DISMISSED_RECOMMENDED_OPERATORS_ALERT),oe=(0,i.default)(l,"subscription.status",!1)===I.SubscriptionCommonFields.status.ARCHIVED,ue=(0,i.default)(l,"subscription.status",!1)===I.SubscriptionCommonFields.status.DEPROVISIONED,[ce,de]=(0,r.useState)(!se&&!oe&&!ue);let me=null;const{openModal:pe}=S.modalActions;(0,R.isHibernating)(l)?me=r.default.createElement(O.default,{cluster:l,openModal:pe}):l&&!(0,p.default)(l.subscription)&&((0,P.shouldShowLogs)(l)||(0,R.hasInflightEgressErrors)(l))&&(me=r.default.createElement(L.default,{cluster:l,regionalInstance:te}));const fe=(0,o.useDispatch)(),Ee=(0,i.default)(l,"subscription.plan.type","")===g.normalizedProducts.OSDTRIAL,ge=(0,i.default)(l,"subscription.plan.type","")===g.normalizedProducts.OSD&&(0,i.default)(l,"subscription.cluster_billing_model","")===I.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE,ve=(0,i.default)(l,"subscription.plan.type")===g.normalizedProducts.OSD,he=(0,i.default)(l,"subscription.plan.type")===g.normalizedProducts.ROSA,_e=(0,d.default)(l),Se=!!l.console&&l.console.url,be=(0,i.default)(l,"creation_timestamp",""),Ce=(null==E||null===(t=E.items)||void 0===t?void 0:t.length)>0,ye=l.managed&&(null===(a=l.idpActions)||void 0===a?void 0:a.create)&&l.state===R.default.READY&&!Z&&!X&&!Ce,Ie=l.state===R.default.READY&&l.canEdit?{trialExpiration:!0,openModal:pe,cluster:l}:{};let Ae;Se&&!(0,R.isOffline)(l)?Ae=r.default.createElement("a",{href:Se,target:"_blank",rel:"noopener noreferrer",className:"pull-left","data-testid":"console-url-link"},r.default.createElement(u.Button,{variant:"primary"},"Open console")):l.managed?Ae=r.default.createElement(u.Button,{variant:"primary",isDisabled:!0,title:l.state===R.default.UNINSTALLING?"The cluster is being uninstalled":"Admin console is not yet available for this cluster"},"Open console"):l.canEdit&&!(0,p.isUninstalledAICluster)(l)&&(Ae=r.default.createElement(u.Button,{variant:"primary",onClick:()=>{fe(S.modalActions.openModal(b.default.EDIT_CONSOLE_URL,l))}},"Add console URL"));const Re=!(0,p.isUninstalledAICluster)(l)&&r.default.createElement(A.default,{disabled:!l.canEdit&&!l.canDelete,cluster:l,organization:H.details,showConsoleButton:!1,canSubscribeOCP:z,canTransferClusterOwnership:W,toggleSubscriptionReleased:Y,canHibernateCluster:$,refreshFunc:y.refreshClusterDetails}),Te=r.default.createElement(h.default,{path:[{label:"Cluster List"},(oe||ue)&&{label:"Cluster Archives",path:"/archived"},{label:_e}].filter(Boolean)}),Oe=s||H.pending||Z||J,Pe=Ee&&(0,i.default)(l,"subscription.trial_end_date"),De=ge&&(0,m.goZeroTime2Null)((0,i.default)(l,"subscription.billing_expiration_date")),Le=!l.canEdit&&"You do not have permissions to unarchive this cluster",Ne=r.default.createElement(_.default,{variant:"secondary",onClick:()=>{fe(pe(b.default.UNARCHIVE_CLUSTER,{subscriptionID:l.subscription?l.subscription.id:"",name:_e}))},disableReason:Le},"Unarchive"),we=ee&&!ue&&l.state!==R.default.READY&&l.state!==R.default.UNINSTALLING,ke=[R.default.WAITING,R.default.PENDING,R.default.INSTALLING,R.default.ERROR,R.default.UNINSTALLING].includes(l.state)||(0,R.hasInflightEgressErrors)(l);return r.default.createElement("div",{id:"cl-details-top",className:"top-row"},r.default.createElement(u.Split,null,r.default.createElement(u.SplitItem,{className:"pf-v5-u-pb-md"},Te)),r.default.createElement(u.Split,{id:"cl-details-top-row"},r.default.createElement(u.SplitItem,null,r.default.createElement(u.Title,{size:"2xl",headingLevel:"h1",className:"cl-details-page-title"},_e,Q&&r.default.createElement(v.PreviewLabel,{creationDateStr:be,className:"pf-v5-u-ml-sm"}))),r.default.createElement(u.SplitItem,null,Oe&&r.default.createElement(c.Spinner,{className:"cluster-details-spinner"}),V&&r.default.createElement(T.default,{errorMessage:q,className:"cluster-details-warning"})),r.default.createElement(u.SplitItem,{isFilled:!0}),r.default.createElement(u.SplitItem,null,r.default.createElement(u.Flex,{flexWrap:{default:"nowrap"},alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsSm"},id:"cl-details-btns"},oe||ue?!ue&&Ne:r.default.createElement(r.default.Fragment,null,Ae,Re),!ue&&!oe&&r.default.createElement(C.default,{id:"refresh",autoRefresh:K,refreshFunc:y.refreshClusterDetails,clickRefreshFunc:y.refreshClusterDetails,useShortTimer:!Object.values(R.default).includes(l.state)})))),me,r.default.createElement(F.default,{limitedSupportReasons:l.limitedSupportReasons,isOSD:ve,isROSA:he}),ke?r.default.createElement(N.default,{region:ie,refresh:re,cluster:l}):null,ye&&r.default.createElement(u.Split,null,r.default.createElement(u.SplitItem,{isFilled:!0},r.default.createElement(B,null))),l.expiration_timestamp&&r.default.createElement(w.default,{expirationTimestamp:l.expiration_timestamp}),Pe&&!ue&&r.default.createElement(w.default,(0,n.default)({expirationTimestamp:Pe},Ie)),De&&!ue&&r.default.createElement(w.default,{expirationTimestamp:De,OSDRHMExpiration:!0}),we&&r.default.createElement(k.default,{summary:ee}),r.default.createElement(x.default,{cluster:l,openModal:pe,canSubscribeOCP:z}),!l.canEdit&&(0,p.isAvailableAssistedInstallCluster)(l)&&r.default.createElement(D.default,null),r.default.createElement(U.default,{subscription:l.subscription}),r.default.createElement(G.default,{subscription:l.subscription}),ce?r.default.createElement(M.RecommendedOperatorsAlert,{openLearnMore:ae,selectedCardTitle:ne,closeDrawer:le,onDismissAlertCallback:()=>de(!1),clusterState:l.state,consoleURL:Se}):null,j)}q.propTypes={cluster:s.default.object,pending:s.default.bool.isRequired,clusterIdentityProviders:s.default.object,organization:s.default.object.isRequired,error:s.default.bool,errorMessage:s.default.oneOfType([s.default.string,s.default.node,s.default.element]),children:s.default.any,canSubscribeOCP:s.default.bool.isRequired,canHibernateCluster:s.default.bool.isRequired,canTransferClusterOwnership:s.default.bool.isRequired,autoRefreshEnabled:s.default.bool,toggleSubscriptionReleased:s.default.func.isRequired,showPreviewLabel:s.default.bool.isRequired,isClusterIdentityProvidersLoading:s.default.bool.isRequired,clusterIdentityProvidersError:s.default.bool,isRefetching:s.default.bool.isRequired,gcpOrgPolicyWarning:s.default.string,regionalInstance:s.default.shape({environment:s.default.string,id:s.default.string,isDefault:s.default.bool,url:s.default.string}),openDrawer:s.default.func,closeDrawer:s.default.func,selectedCardTitle:s.default.string,refreshFunc:s.default.func,region:s.default.string},t.default=q},86734:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=l(a(23158)),u=l(a(56862)),c=a(45924),d=a(3678),m=l(a(6071)),p=a(51513),f=a(77969),E=a(69304),g=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),v=l(a(10501)),h=l(a(91497)),_=l(a(8888)),S=a(8116),b=a(77910),C=a(17629);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}const I=e=>{var t;const{cluster:a,refresh:l,region:r}=e,y=(0,E.useNavigate)(),I=(0,i.useDispatch)(),[A,R]=n.default.useState(!1),{data:T,isLoading:O,isError:P,error:D}=(0,S.useFetchClusterStatus)(a.id,r,A),{checks:L,isLoading:N}=(0,b.useFetchInflightChecks)(a.id,r,A,"fetchClusterStatusMonitorInflightChecks"),{data:w,isLoading:k}=(0,b.useFetchRerunInflightChecks)(null==a||null===(t=a.aws)||void 0===t?void 0:t.subnet_ids,r,A),{data:F,isPending:M,isError:x,error:G,mutateAsync:U}=(0,b.useMutateRerunInflightChecks)(a.id,r),[H,V]=n.default.useState(!1),[B,q]=n.default.useState(!1),[j,z]=n.default.useState(!1),[W,$]=n.default.useState(!1);n.default.useEffect((()=>{var e;return(0,S.useInvalidateFetchClusterStatus)(),(0,b.useInvalidateFetchInflightChecks)(),null!=a&&null!==(e=a.aws)&&void 0!==e&&e.subnet_ids&&(0,b.useInvalidateFetchRerunInflightChecks)(),()=>{R(!1)}}),[]),n.default.useEffect((()=>{if(!O&&!N&&T&&L){const e=e=>[g.default.INSTALLING,g.default.PENDING,g.default.VALIDATING,g.default.WAITING].includes(e);R(!1);const t=()=>{var e;return null===(e=L.items)||void 0===e?void 0:e.some((e=>e.state===C.InflightCheckState.RUNNING||e.state===C.InflightCheckState.FAILED))};if(O||N)P&&(e(a.state)?R(!0):a.state===g.default.UNINSTALLING&&404===D.errorCode&&(I((0,d.addNotification)({title:`Successfully uninstalled cluster ${(0,m.default)(a)}`,variant:"success"})),y("/cluster-list")));else{const n=T.state;(T.state!==a.state||t())&&l(),(e(n)||n===g.default.UNINSTALLING||t())&&R(!0)}}}),[A,L,T,d.addNotification]),n.default.useEffect((()=>{if(M||(x&&(q(!0),z(!0)),F&&setTimeout((()=>{z(!1)}),1e4)),!k&&w){const e=w.data.items.some((e=>e.state===C.InflightCheckState.RUNNING||e.state===C.InflightCheckState.PENDING));$(e)}}),[k,M,F,w]);if(!O&&T&&T.id===a.id){const e=T.provision_error_code||"",t=[];return T.state===g.default.ERROR&&t.push(n.default.createElement(s.Alert,{variant:"danger",isInline:!0,title:`${e} Cluster installation failed`},n.default.createElement("p",null,"This cluster cannot be recovered, however you can use the logs and network validation to diagnose the problem:"),n.default.createElement(v.default,{clusterStatus:T,showDescription:!0}))),t.push((()=>{if(a.state!==g.default.VALIDATING&&a.state!==g.default.PENDING){var e;const t=null==L||null===(e=L.items)||void 0===e?void 0:e.find((e=>e.state===C.InflightCheckState.FAILED));if((0,g.hasInflightEgressErrors)(a)&&t){let e,l,r,i=[];const d=`${p.HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY}_${a.id}`;localStorage.setItem(d,!!t);const m="To allow this cluster to be fully-managed, add these URLs to the allowlist of these subnet firewalls. For more information review the egress requirements or contact Red Hat support.",{details:f}=t;if(Object.keys(f).forEach((t=>{if("documentation_link"===t)e=f[t];else if(t.startsWith("subnet")){const e=[];i.push({name:t,egressErrors:e}),Object.keys(f[t]).forEach((a=>{if(a.startsWith("egress_url_errors")){const l=/(https?:\/\/[^\s)]+)/,n=f[t][a].match(l);n&&e.push(n[0])}})),e.sort(((e,t)=>{var a,l;const n=e.split(":"),r=t.split(":"),i=null===(a=n[1])||void 0===a?void 0:a.localeCompare(r[1]);return 0===i?null===(l=n[0])||void 0===l?void 0:l.localeCompare(r[0]):i}))}})),i.length){const e=i.length>1;e&&!H&&(i=i.slice(0,1));const t=[{title:"Subnet"},{title:"URLs"}],d=e=>{let{name:t,egressErrors:a}=e;return n.default.createElement(c.Tbody,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Td,null),n.default.createElement(c.Td,{modifier:"nowrap"},t),n.default.createElement(c.Td,{style:{whiteSpace:"break-spaces"}},a.join(",   "))))};l=n.default.createElement(n.default.Fragment,null,n.default.createElement(c.Table,{"aria-label":"Missing allowlist URLs",variant:c.TableVariant.compact,style:{backgroundColor:"unset"}},n.default.createElement(c.Thead,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Th,null),t.map((e=>n.default.createElement(c.Th,{key:e.title},e.title))))),i.map((e=>d(e)))),e&&n.default.createElement(s.Button,{variant:"link",icon:H?n.default.createElement(o.default,null):n.default.createElement(u.default,null),onClick:()=>(e=>{V(e)})(!H)},H?"Show less":"Show more")),r=()=>{z(!0),U(a.id)}}const E=j||W;return n.default.createElement(s.Alert,{variant:"warning",isInline:!0,title:"User action required"},n.default.createElement(s.Flex,{direction:{default:"column"}},n.default.createElement(s.FlexItem,null,`${m}`),l&&n.default.createElement(s.FlexItem,null,l),n.default.createElement(s.FlexItem,null,n.default.createElement(s.Flex,{direction:{default:"row"}},e&&n.default.createElement(s.FlexItem,null,n.default.createElement(_.default,{noIcon:!0,href:e},"Review egress requirements")),n.default.createElement(s.FlexItem,null,n.default.createElement(_.default,{noIcon:!0,href:"https://access.redhat.com/support/cases/#/case/new"},"Contact support")),n.default.createElement(s.FlexItem,null,E&&n.default.createElement("span",{className:"pf-v5-u-mr-sm"},n.default.createElement(s.Spinner,{size:"sm"})),n.default.createElement(s.Button,{variant:s.ButtonVariant.link,isInline:!0,isDisabled:E,onClick:r},W?"Network validation in progress":"Rerun network validation"),B&&n.default.createElement(h.default,{title:"Error Rerunning Validator ",errorResponse:G,resetResponse:()=>q(!1)}))))))}}return null})()),t.push((()=>{if((0,g.isOSDGCPWaitingForRolesOnHostProject)(a)){var e,t;const l=null==a||null===(e=a.gcp_network)||void 0===e?void 0:e.vpc_project_id,r=null==a||null===(t=a.status)||void 0===t||null===(t=t.description)||void 0===t?void 0:t.match(f.emailRegex),i=r?r.length:0,o=r?n.default.createElement(n.default.Fragment,null,r.map(((e,t)=>n.default.createElement(n.default.Fragment,{key:e},n.default.createElement("strong",null,e),t<r.length-1&&", ")))):n.default.createElement("strong",null,"unknown"),u=[];return u.push("To continue cluster installation, contact the VPC owner of the "),u.push(n.default.createElement("strong",null,l)),u.push(" host project, who must grant the "),u.push(o),u.push(` service account${i>1?"s":""} the following roles: `),u.push(n.default.createElement("strong",null,"Compute Network Administrator, ")),u.push(n.default.createElement("strong",null,"Compute Security Administrator, ")),u.push(n.default.createElement("strong",null,"DNS Administrator.")),n.default.createElement(s.Alert,{variant:"warning",isInline:!0,title:"Permissions needed:"},n.default.createElement(s.Flex,{direction:{default:"column"}},n.default.createElement(s.FlexItem,null,u),n.default.createElement(s.FlexItem,null,n.default.createElement(_.default,{href:"https://cloud.google.com/vpc/docs/provisioning-shared-vpc#migs-service-accounts"},"Learn more about permissions"))))}return null})()),T.state!==g.default.ERROR&&(T.provision_error_code||T.provision_error_message)&&t.push(n.default.createElement(s.Alert,{variant:"warning",isInline:!0,title:`${e} Installation is taking longer than expected`,"data-testid":"alert-long-install"},n.default.createElement(v.default,{clusterStatus:T}))),n.default.createElement(n.default.Fragment,null,t.filter((e=>e)))}return null};I.propTypes={region:r.default.string,cluster:r.default.shape({id:r.default.string,state:r.default.string,status:r.default.shape({description:r.default.string}),aws:r.default.shape({subnet_ids:r.default.array}),gcp_network:r.default.shape({vpc_project_id:r.default.string})}),refresh:r.default.func},t.default=I},32298:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(86734));t.default=n.default},12627:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(68720),c=l(a(6071)),d=a(75166),m=l(a(43775)),p=a(13642),f=a(48539);function E(e){let{cluster:t,openModal:a,canSubscribeOCP:l=!1}=e;const i=(0,s.useDispatch)(),E=(0,r.default)(t,"subscription");if((0,r.default)(E,"plan.type")!==d.normalizedProducts.OCP)return null;const g=(0,r.default)(E,"support_level");if(g!==p.SubscriptionCommonFields.support_level.EVAL&&g!==p.SubscriptionCommonFields.support_level.NONE)return null;const v=(0,r.default)(E,"status");if(v===p.SubscriptionCommonFields.status.ARCHIVED||v===p.SubscriptionCommonFields.status.DEPROVISIONED)return null;const h=(0,f.getSubscriptionLastReconciledDate)(E),_=(0,c.default)(t),S=h?n.default.createElement("p",null,"Last checked: ",h):"",b=l?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Button,{variant:"link",isInline:!0,onClick:()=>{i(a(m.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:E}))}},"Edit subscription settings")," for non-evaluation use. "):n.default.createElement(n.default.Fragment,null,n.default.createElement("a",{href:"https://www.redhat.com/en/contact",target:"_blank",rel:"noreferrer noopener"},"Contact sales")," to purchase an OpenShift subscription."),C=n.default.createElement(n.default.Fragment,null,"The cluster owner or an Organization Administrator can edit subscription settings for non-evaluation use.");return g===p.SubscriptionCommonFields.support_level.NONE?n.default.createElement(o.Alert,{className:"subscription-settings compliancy-alert pf-v5-u-mt-md",isInline:!0,variant:"danger",title:"Your 60-day OpenShift evaluation has expired"},S,n.default.createElement("p",null,"Your cluster is not supported and you may stop receiving updates."," ",t.canEdit?n.default.createElement(n.default.Fragment,null,b," ",n.default.createElement(o.Button,{variant:"link",isInline:!0,onClick:()=>{const e={subscriptionID:(0,r.default)(E,"id"),name:_};a(m.default.ARCHIVE_CLUSTER,e)}},"Archive this cluster")," if it no longer exists. "):C)):n.default.createElement(o.Alert,{className:"subscription-settings compliancy-alert pf-v5-u-mt-md",isInline:!0,variant:"warning",title:"OpenShift evaluation expiration date"},S,n.default.createElement("p",null,"Your OpenShift evaluation will expire at ",n.default.createElement(u.DateFormat,{date:E.eval_expiration_date,type:"onlyDate"}),". ",t.canEdit?b:C))}E.propTypes={cluster:i.default.shape({creation_timestamp:i.default.string,canEdit:i.default.bool}),openModal:i.default.func.isRequired,canSubscribeOCP:i.default.bool.isRequired},t.default=E},64765:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(95376),o=l(a(13495)),u=a(90280),c=a(69304),d=a(10135),m=a(73509);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const E=e=>{const{currentFilter:t,currentFlags:a,setFilter:l,setFlags:n}=e,i=(0,c.useNavigate)(),p=(0,s.useLocation)(),[E,g]=r.default.useState(null),[v,h]=r.default.useState({description:"",loggedBy:""}),[_,S]=r.default.useState({severityTypes:[],logTypes:[]}),b=r.default.useRef(v),C=r.default.useRef(_);r.default.useEffect((()=>{b.current=v,C.current=_}),[v,_]),r.default.useEffect((()=>{t&&h(f({},t)),a&&S({severityTypes:a.severityTypes,logTypes:a.logTypes})}),[a,t]);const y=()=>{l(f(f({},t),b.current))},I=(e,t)=>{null!==E&&clearTimeout(E),h({[t]:e});const a=setTimeout(y,300);g(a)},A=()=>{const{severityTypes:e,logTypes:t}=C.current;n({severityTypes:e,logTypes:t}),i(f(f({},p),{},{search:(0,d.buildFilterURLParams)({logTypes:t,severityTypes:e})}),{replace:!0})},R=(e,t)=>{null!==E&&clearTimeout(E),S(f(f({},_),{},{[t]:e}));const a=setTimeout(A,300);g(a)},{description:T,loggedBy:O}=v,{severityTypes:P,logTypes:D}=_,L={type:u.conditionalFilterType.text,value:"Description",label:"Description",filterValues:{"aria-label":"Description Filter Input",onChange:(e,t)=>I(t,"description"),value:T}},N={type:u.conditionalFilterType.checkbox,label:"Severity",value:"Severity",filterValues:{onChange:(e,t)=>R(t,"severityTypes"),items:m.SEVERITY_TYPES.map((e=>({label:e,value:e}))),value:P}},w={type:u.conditionalFilterType.checkbox,label:"Type",value:"Type",filterValues:{onChange:(e,t)=>R(t,"logTypes"),items:m.LOG_TYPES.map((e=>({label:e,value:e}))),value:D}},k={type:u.conditionalFilterType.text,value:"Logged by",label:"Logged by",filterValues:{"aria-label":"Logged by Filter Input",onChange:(e,t)=>I(t,"loggedBy"),value:O}};return r.default.createElement(o.default,{items:[L,N,w,k]})};E.propTypes={currentFilter:i.default.shape({description:i.default.string,loggedBy:i.default.string,timestampFrom:i.default.string,timestampTo:i.default.string}).isRequired,currentFlags:i.default.shape({severityTypes:i.default.arrayOf(i.default.string),logTypes:i.default.arrayOf(i.default.string)}).isRequired,setFilter:i.default.func.isRequired,setFlags:i.default.func.isRequired},t.default=E},12773:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.onDateChangeFromFilter=t.getTimestampFrom=t.default=t.dateParse=t.dateFormat=void 0;var n=l(a(94634)),r=l(a(43693)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),s=l(a(74353)),o=l(a(5556)),u=a(13818);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}a(27722);const m=/^\d{4}-\d{2}-\d{2}$/,p=e=>e.replace(/T.*/,"").split("-").filter((e=>""!==e&&0!==Number.parseInt(e,10))),f=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=p(e);if(3!==a.length)return"";const l=a[0],n=a[1],r=a[2],i=`${l.padStart(4,"0")}-${n.padStart(2,"0")}-${r.padStart(2,"0")}`;return t?new Date(l,Number.parseInt(n,10)-1,r):i};let E;t.dateParse=f;const g=function(){if(!E||arguments.length>0&&void 0!==arguments[0]&&arguments[0]){const e=f((new Date).toISOString()),t=new Date(e);t.setMonth(t.getMonth()-1);const a=new Date(e);a.setDate(a.getDate()-7);const l=new Date(e);return l.setDate(l.getDate()-3),E={now:e,lastMonthStart:t,lastWeekStart:a,last72HoursStart:l},E}return E},v=e=>{const{lastMonthStart:t}=g();return e<t?t:e};t.getTimestampFrom=v;const h="Last month",_="Last week",S="Last 72 hours",b="Custom",C=e=>{const t=e.getFullYear(),a=e.getMonth()+1,l=e.getDate();return`${t}-${a.toString().padStart(2,"0")}-${l.toString().padStart(2,"0")}`};t.dateFormat=C;const y=e=>({date:`${e}T00:00:00.000Z`,key:"timestampFrom",symbol:">="});t.onDateChangeFromFilter=y;const I=e=>({date:`${e}T23:59:59.999Z`,key:"timestampTo",symbol:"<="}),A=e=>{let{setFilter:t,currentFilter:a,createdAt:l}=e;const{now:o,lastMonthStart:c,lastWeekStart:E,last72HoursStart:A}=g(),R=f(l),T=[{value:h},{value:_},{value:S},{value:b}],[O,P]=(0,i.useState)(C(v(R))),[D,L]=(0,i.useState)(C(o)),[N,w]=(0,i.useState)(!1),[k,F]=(0,i.useState)(!1),[M,x]=(0,i.useState)(!1),[G,U]=(0,i.useState)(T[0].value),[H,V]=(0,i.useState)(0),B=f(D),q=f(O);let j;j=q>B&&q<=o&&B<=o&&B>=R?"The end date cannot be before the start date.":"";const z=e=>{const l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);e.forEach((e=>{let{key:t,symbol:a,date:n}=e;l[t]=`${a} '${n}'`})),t(l)},W=e=>{P(e),z([y(f(e,!1))])},$=e=>{L(e),z([I(f(e,!1))])},K=[e=>e<R&&!N?"The start date cannot be before the cluster creation date.":"",e=>e>o?"The start date cannot be in the future.":""],Y=[e=>e<R&&!k?"The end date cannot be before the cluster creation date.":"",e=>e>o?"The end date cannot be in the future.":""],Q=(e,t)=>(t(!1),!(!(e=>(0,u.isValidDate)(new Date(e)))(e)||!m.test(e))||(t(!0),!1)),Z=(e,t)=>{w(!1),U(b),3===p(e).length&&t&&Q(e,w)&&W(e)},X=(e,t)=>{F(!1),U(b),3===p(e).length&&t&&Q(e,F)&&$(e)},J="YYYY-MM-DD",ee={className:"cluster-log__date-picker",placeholder:J,invalidFormatText:`Invalid: ${J}`,dateFormat:C,popoverProps:{position:"right"},key:H},te=i.default.createElement(u.DatePicker,(0,n.default)({onChange:(e,t,a)=>Z(t,a),onBlur:(e,t,a)=>Z(t,a),value:O,dateParse:f,validators:K},ee)),ae=i.default.createElement(u.DatePicker,(0,n.default)({onChange:(e,t,a)=>X(t,a),onBlur:(e,t,a)=>X(t,a),value:D,dateParse:f,validators:Y},ee)),le=e=>e<R?R:e,ne=i.default.createElement(u.Select,{isOpen:M,selected:G,onOpenChange:e=>x(e),toggle:e=>i.default.createElement(u.MenuToggle,{ref:e,onClick:()=>x(!M),isExpanded:M,isFullWidth:!0,"aria-label":"Date range menu"},G),onSelect:(e,t)=>{let a;switch(U(t),x(!1),V(H+1),t){case h:a=le(c);break;case _:a=le(E);break;case S:a=le(A);break;default:return}Q(C(a),w),Q(C(o),F),P(C(a)),L(C(o)),z([y(C(a)),I(C(o))])},"aria-label":"Select a date range","aria-labelledby":"select-date-range"},i.default.createElement(u.SelectList,{"aria-label":"date range list"},T.map(((e,t)=>i.default.createElement(u.SelectOption,{key:t,value:e.value},e.value)))));return(0,i.useEffect)((()=>z([y(O),I(D)])),[]),(0,i.useEffect)((()=>{if(a.timestampFrom){const e=(0,s.default)(a.timestampFrom.replaceAll("'","").split(" ")[1]).utcOffset(0).format("YYYY-MM-DD");e!==O&&(W(e),U(T[3].value))}if(a.timestampTo){const e=(0,s.default)(a.timestampTo.replaceAll("'","").split(" ")[1]).utcOffset(0).format("YYYY-MM-DD");e!==D&&($(e),U(T[3].value))}}),[a.timestampFrom,a.timestampTo]),i.default.createElement(i.default.Fragment,null,i.default.createElement(u.ToolbarItem,null,ne),i.default.createElement(u.ToolbarItem,null,te," ",N?i.default.createElement(u.HelperText,null,i.default.createElement(u.HelperTextItem,{variant:"error"},`Invalid: ${J}`)):void 0),i.default.createElement(u.ToolbarItem,null,ae," ",j?i.default.createElement(u.HelperText,null,i.default.createElement(u.HelperTextItem,{variant:"error"},j)):void 0,k?i.default.createElement(u.HelperText,null,i.default.createElement(u.HelperTextItem,{variant:"error"},`Invalid: ${J}`)):void 0))};A.propTypes={currentFilter:o.default.shape({description:o.default.string,timestampFrom:o.default.string,timestampTo:o.default.string}).isRequired,setFilter:o.default.func.isRequired,createdAt:o.default.string.isRequired},t.default=A},50018:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(91847)),r=l(a(43693)),i=l(a(93345)),s=l(a(62193)),o=l(a(5556)),u=a(95376),c=a(13818),d=a(69304),m=l(a(93413)),p=a(10135),f=a(73509);const E=["timestampFrom","timestampTo"];function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const h=[{key:"severityTypes",label:"Severity Type",optionLabels:f.SEVERITY_TYPES.reduce(((e,t)=>(e[t]=t,e)),{})},{key:"logTypes",label:"Type",optionLabels:f.LOG_TYPES.reduce(((e,t)=>(e[t]=t,e)),{})}];function _(e){let{currentFilter:t,setFilter:a,currentFlags:l,setFlags:r,clearFiltersAndFlags:o}=e;const f=(0,u.useLocation)(),g=(0,d.useNavigate)(),{timestampFrom:_,timestampTo:S}=t,b=(0,n.default)(t,E);return m.default.nestedIsEmpty(b)&&m.default.nestedIsEmpty(l)?null:i.default.createElement(c.Split,null,i.default.createElement(c.SplitItem,null,i.default.createElement(c.ChipGroup,null,[{key:"description",label:"Description"},{key:"loggedBy",label:"Logged by"}].map((e=>((e,t,a,l,n)=>{const{key:r}=e,o=t[r]||[];return(0,s.default)(o)?null:i.default.createElement(c.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},i.default.createElement(c.Chip,{key:r,onClick:()=>{((e,t)=>{l({pathname:n.path,hash:n.hash,search:(0,p.buildFilterURLParams)({[e]:[t]})},{replace:!0}),a(t)})(r,v(v({},t),{},{[e.key]:""}))}},o))})(e,t,a,g,f))).filter(Boolean)),i.default.createElement(c.ChipGroup,null,h.map((e=>((e,t,a,l,n)=>{const r=t[e.key]||[];return(0,s.default)(r)?null:i.default.createElement(c.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},r.map((s=>{const o=e.optionLabels[s];return i.default.createElement(c.Chip,{key:s,onClick:()=>{var i;i=v(v({},t),{},{[e.key]:r.filter((e=>e!==s))}),l({pathname:n.path,hash:n.hash,search:(0,p.buildFilterURLParams)(i)},{replace:!0}),a(i)}},o)})))})(e,l,r,g,f))).filter(Boolean))),i.default.createElement(c.SplitItem,null,i.default.createElement(c.Button,{variant:"link",onClick:()=>((e,t,a)=>{const l=(0,p.getQueryParam)("timestampFrom")||"",n=(0,p.getQueryParam)("timestampTo")||"";e({hash:a.hash,search:(0,p.buildFilterURLParams)({timestampFrom:[l],timestampTo:[n]})},{replace:!0}),t()})(g,o,f)},"Clear filters")))}_.propTypes={setFilter:o.default.func.isRequired,currentFilter:o.default.shape({description:o.default.string,loggedBy:o.default.string,timestampFrom:o.default.string,timestampTo:o.default.string}).isRequired,setFlags:o.default.func.isRequired,currentFlags:o.default.shape({severityTypes:o.default.arrayOf(o.default.string),logTypes:o.default.arrayOf(o.default.string)}).isRequired,clearFiltersAndFlags:o.default.func.isRequired},t.default=_},53778:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(22916),o=l(a(13945)),u=l(a(64765)),c=l(a(12773)),d=l(a(87857)),m=l(a(50018));class p extends n.default.PureComponent{render(){const{viewOptions:e,history:t,setFlags:a,setFilter:l,externalClusterID:r,currentFilter:p,currentFlags:f,clearFiltersAndFlags:E,isPendingNoData:g,createdAt:v,clusterID:h,logs:_,itemCount:S,page:b,perPage:C,itemsStart:y,itemsEnd:I,onSetPage:A,onPerPageSelect:R}=this.props;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Toolbar,{className:"cluster-log__toolbar","data-testid":"cluster-history-toolbar"},n.default.createElement(i.ToolbarContent,null,n.default.createElement(i.ToolbarGroup,{variant:"filter-group"},n.default.createElement(c.default,{currentFilter:p,currentFlags:f,setFilter:l,setFlags:a,createdAt:v})),n.default.createElement(i.ToolbarItem,null,n.default.createElement(u.default,{view:s.viewConstants.CLUSTER_LOGS_VIEW,history:t,currentFilter:p,currentFlags:f,setFilter:l,setFlags:a})),n.default.createElement(i.ToolbarItem,null,n.default.createElement(d.default,{externalClusterID:r,clusterID:h,viewOptions:e,logs:_})),n.default.createElement(i.ToolbarItem,{align:{default:"alignRight"},variant:"pagination"},n.default.createElement(o.default,{itemCount:S,isDisabled:g,page:b,perPage:C,itemsStart:y,itemsEnd:I,variant:i.PaginationVariant.top,onSetPage:A,onPerPageSelect:R})))),n.default.createElement(m.default,{view:s.viewConstants.CLUSTER_LOGS_VIEW,currentFilter:p,currentFlags:f,setFilter:l,setFlags:a,clearFiltersAndFlags:E}))}}p.propTypes={setFilter:r.default.func.isRequired,currentFilter:r.default.shape({description:r.default.string,timestampFrom:r.default.string,timestampTo:r.default.string}).isRequired,setFlags:r.default.func.isRequired,currentFlags:r.default.shape({severityTypes:r.default.arrayOf(r.default.string),logTypes:r.default.arrayOf(r.default.string)}).isRequired,clearFiltersAndFlags:r.default.func.isRequired,history:r.default.shape({push:r.default.func.isRequired}),externalClusterID:r.default.string.isRequired,viewOptions:r.default.object.isRequired,isPendingNoData:r.default.bool.isRequired,createdAt:r.default.string.isRequired,clusterID:r.default.string.isRequired,logs:r.default.number.isRequired,itemCount:r.default.number,page:r.default.number,perPage:r.default.number,itemsStart:r.default.number,itemsEnd:r.default.number,onSetPage:r.default.func,onPerPageSelect:r.default.func},t.default=p},86395:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(27241),i=a(22916),s=l(a(53778));t.A=(0,n.connect)(((e,t)=>({viewOptions:e.viewOptions[i.viewConstants.CLUSTER_LOGS_VIEW],currentFilter:e.viewOptions[t.view].filter||{conditionalFilterFlags:{}},currentFlags:e.viewOptions[t.view].flags.conditionalFilterFlags||{}})),((e,t)=>({setFilter:a=>e((0,r.onListFilterSet)(a,t.view)),setFlags:a=>e((0,r.onListFlagsSet)("conditionalFilterFlags",a,t.view)),clearFiltersAndFlags:()=>e((0,r.onClearFiltersAndFlags)(t.view))})))(s.default)},84683:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(67396),o=a(52045),u=a(25514),c=l(a(55816)),d=l(a(28592)),m=a(91089),p=l(a(14419));const f=e=>{const{refreshParent:t}=e,a=(0,u.useGlobalState)((e=>e.modal.data)),{clusterID:l,idpID:r,idpName:f,idpType:E,region:g}=a,v=(0,i.useDispatch)(),h=(0,u.useGlobalState)((e=>(0,p.default)(e,"delete-idp"))),{isPending:_,isError:S,error:b,mutate:C,isSuccess:y}=(0,s.useDeleteIdentityProvider)(l,g),I=n.default.useCallback((e=>{v(m.modalActions.closeModal()),e&&t()}),[v,t]);n.default.useEffect((()=>{y&&!S&&I(!0)}),[y,S,I]);const A=()=>I(!1),R=S&&n.default.createElement(c.default,{message:"Error removing identity provider",response:b.error});return h&&n.default.createElement(d.default,{onClose:A,primaryText:"Remove",primaryVariant:"danger",onPrimaryClick:()=>C(r,{onSuccess:()=>{I(!0),(0,o.refetchClusterIdentityProviders)(l)}}),onSecondaryClick:A,title:"Remove identity provider",isPending:_},R,n.default.createElement("p",null,"You're about to remove the ",n.default.createElement("b",null,E)," identity provider"," ",n.default.createElement("b",null,'"',f,'"')," ","from this cluster."),n.default.createElement("p",null,"You may lose access to this cluster if you remove this identity provider. At least one identity provider is required to access the cluster."))};f.propTypes={refreshParent:r.default.func},t.default=f},95871:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(84683));t.default=n.default},47581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identityProvidersConstants=t.UPDATE_CLUSTER_IDENTITY_PROVIDER=t.RESET_IDENTITY_PROVIDERS_STATE=t.RESET_DELETED_IDP_RESPONSE=t.RESET_CREATED_CLUSTER_IDP_RESPONSE=t.GET_CLUSTER_IDENTITY_PROVIDERS=t.DELETE_IDENTITY_PROVIDER=t.CREATE_CLUSTER_IDENTITY_PROVIDER=void 0;const a=t.GET_CLUSTER_IDENTITY_PROVIDERS="GET_CLUSTER_IDENTITY_PROVIDERS",l=t.CREATE_CLUSTER_IDENTITY_PROVIDER="CREATE_CLUSTER_IDENTITY_PROVIDER",n=t.RESET_CREATED_CLUSTER_IDP_RESPONSE="RESET_CREATED_CLUSTER_IDP_RESPONSE",r=t.DELETE_IDENTITY_PROVIDER="DELETE_IDENTITY_PROVIDER",i=t.RESET_DELETED_IDP_RESPONSE="RESET_DELETED_IDP_RESPONSE",s=t.RESET_IDENTITY_PROVIDERS_STATE="RESET_IDENTITY_PROVIDERS_STATE",o=t.UPDATE_CLUSTER_IDENTITY_PROVIDER="UPDATE_CLUSTER_IDENTITY_PROVIDER";t.identityProvidersConstants={GET_CLUSTER_IDENTITY_PROVIDERS:a,CREATE_CLUSTER_IDENTITY_PROVIDER:l,RESET_CREATED_CLUSTER_IDP_RESPONSE:n,DELETE_IDENTITY_PROVIDER:r,RESET_DELETED_IDP_RESPONSE:i,RESET_IDENTITY_PROVIDERS_STATE:s,UPDATE_CLUSTER_IDENTITY_PROVIDER:o}},45811:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(43693)),i=l(a(93345)),s=a(88139),o=l(a(58156)),u=l(a(5556)),c=a(73729),d=a(95376),m=a(13818),p=a(65589),f=a(67080),E=a(69304),g=a(98515),v=a(23271),h=a(74281),_=a(41955),S=a(52045),b=l(a(6071)),C=a(93413),y=a(9059),I=a(13642),A=l(a(7691)),R=l(a(71299)),T=a(45455),O=l(a(40274)),P=a(47208);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const N="Red Hat OpenShift Cluster Manager",w=e=>{var t;const{isEditForm:a}=e,l=(0,d.useParams)(),r=l.id,{cluster:u,isLoading:D,isError:w,error:k}=(0,_.useFetchClusterDetails)(r),F=null==u?void 0:u.managed,M=null==u?void 0:u.id,x=null==u?void 0:u.subscription.status,G=null==u||null===(t=u.subscription)||void 0===t?void 0:t.rh_region_id,{clusterIdentityProviders:U,isLoading:H,isSuccess:V}=(0,S.useFetchClusterIdentityProviders)(null==u?void 0:u.id,G),{isPending:B,isError:q,error:j,mutate:z,isSuccess:W}=(0,h.usePostIDPForm)(M,G),$=(null==U?void 0:U.items)||[],K=(0,c.useDispatch)();let Y={},Q="",Z="";if(a?V&&(Y=U.items.find((e=>e.name===l.idpName))||{},Q=(0,o.default)(P.IDPObjectNames,Y.type,""),Z=Y.type):!a&&l.idpTypeName&&(Z=(0,o.default)(P.IDPformValues,l.idpTypeName.toUpperCase(),!1)),i.default.useEffect((()=>{if((null==u?void 0:u.subscription.id)===r){const e=(0,b.default)(u);document.title=`${e} | Red Hat OpenShift Cluster Manager`}!D&&null!=u&&u.id&&(0,C.isValid)(M)&&x!==I.SubscriptionCommonFields.status.DEPROVISIONED&&F&&(0,S.refetchClusterIdentityProviders)()}),[u,D,F,x,r,M]),W)return i.default.createElement(E.Navigate,{replace:!0,to:`/details/s/${null==u?void 0:u.subscription.id}#accessControl`});const X=l.id,J=null==u?void 0:u.subscription.id,ee=J!==X&&!w;if((ee||H)&&!w)return i.default.createElement(g.AppPage,{title:N},i.default.createElement("div",{id:"clusterdetails-content"},i.default.createElement("div",{className:"cluster-loading-container"},i.default.createElement(f.Spinner,{centered:!0}))));if(w&&(!u||J!==X))return 404===k.errorCode||403===k.errorCode?(K((0,y.setGlobalError)(i.default.createElement(i.default.Fragment,null,"Cluster with subscription ID ",i.default.createElement("b",null,X)," was not found, it might have been deleted or you don't have permission to see it."),"identityProvidersPage",k.errorMessage)),i.default.createElement(E.Navigate,{replace:!0,to:"/cluster-list"})):i.default.createElement(g.AppPage,{title:N},i.default.createElement(R.default,{message:"Error retrieving IDP page",response:u}),ee&&i.default.createElement(f.Spinner,null));if(!F)return K((0,y.setGlobalError)(i.default.createElement(i.default.Fragment,null,"Cluster with subscription ID ",i.default.createElement("b",null,X)," is not a managed cluster."),"identityProvidersPage","Go to the cluster's console to see and edit identity providers.")),i.default.createElement(E.Navigate,{replace:!0,to:"/cluster-list"});if(!a&&!Z&&!l.idpTypeName||a&&V&&!Z)return i.default.createElement(E.Navigate,{replace:!0,to:`/details/s/${null==u?void 0:u.subscription.id}#accessControl`});const te=P.IDPTypeNames[Z],ae=a?`Edit identity provider: ${Y.name}`:`Add identity provider: ${te}`,le=(0,b.default)(u),ne=a?ae:`Add ${P.singularFormIDP[Z]} identity provider`,re=e=>!!(Object.keys(e.errors).length>0||e.isSubmitting);return i.default.createElement(g.AppPage,{title:N},i.default.createElement(p.PageHeader,null,i.default.createElement(A.default,{path:[{label:"Cluster List"},{label:le,path:`/details/s/${u.subscription.id}`},{label:"Access control",path:`/details/s/${u.subscription.id}#accessControl`},{label:ae}]}),i.default.createElement(p.PageHeaderTitle,{title:ae})),i.default.createElement(m.PageSection,null,i.default.createElement(s.Formik,{enableReinitialize:!0,initialValues:a?(0,P.getInitialValuesForEditing)(Y,Q):L({},(0,T.IdentityProvidersPageFormInitialValues)(Z)),validationSchema:(0,T.IdentityProvidersPageValidationSchema)(Z),onSubmit:async e=>{const t=(0,P.getCreateIDPRequestData)(e);z(t,{onSuccess:()=>(0,S.refetchClusterIdentityProviders)(M)})}},(e=>{var t;return i.default.createElement(m.Card,null,i.default.createElement(m.CardBody,null,i.default.createElement(m.Grid,null,i.default.createElement(m.GridItem,{md:8},V?i.default.createElement(O.default,{selectedIDP:Z,idpTypeName:te,formTitle:ne,clusterUrls:{console:(0,o.default)(u,"console.url"),api:(0,o.default)(u,"api.url")},isPostIDPFormError:q,postIDPFormError:j,isPostIDPFormPending:B,IDPList:$,idpEdited:Y,idpName:te,isHypershift:(0,v.isHypershiftCluster)(u),HTPasswdErrors:null===(t=e.errors)||void 0===t?void 0:t.users,isClusterIDPsLoading:H,isEditForm:a}):i.default.createElement(f.Spinner,null)))),i.default.createElement(m.CardFooter,null,i.default.createElement(m.Split,{hasGutter:!0},i.default.createElement(m.SplitItem,null,i.default.createElement(m.Button,{variant:"primary",type:"submit",isDisabled:!e.dirty||re(e),onClick:e.submitForm},a?"Save":"Add")),i.default.createElement(m.SplitItem,null,i.default.createElement(m.Button,{variant:"secondary",component:e=>i.default.createElement(E.Link,(0,n.default)({},e,{to:`/details/s/${u.subscription.id}#accessControl`}))},"Cancel")))))}))))};w.propTypes={isEditForm:u.default.bool},w.defaultProps={isEditForm:!1},t.default=w},428:(e,t,a)=>{"use strict";var l=a(24994);t.Fu=m;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=a(47581);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d={clusterIdentityProviders:c(c({},s.baseRequestState),{},{clusterIDPList:[]}),createdClusterIDP:c(c({},s.baseRequestState),{},{data:{}}),deletedIDP:c({},s.baseRequestState),editClusterIDP:c(c({},s.baseRequestState),{},{data:{}})};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case o.identityProvidersConstants.RESET_IDENTITY_PROVIDERS_STATE:return d;case(0,s.REJECTED_ACTION)(o.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders=c(c({},d.clusterIdentityProviders),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.identityProvidersConstants.GET_CLUSTER_IDENTITY_PROVIDERS):e.clusterIdentityProviders=c(c({},d.clusterIdentityProviders),{},{clusterIDPList:t.payload.data.items||[],fulfilled:!0});break;case(0,s.REJECTED_ACTION)(o.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP=c(c({},d.createdClusterIDP),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.identityProvidersConstants.CREATE_CLUSTER_IDENTITY_PROVIDER):e.createdClusterIDP=c(c({},d.createdClusterIDP),{},{fulfilled:!0,clusterIdentityProviders:t.payload.data});break;case(0,s.REJECTED_ACTION)(o.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP=c(c({},d.editClusterIDP),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.identityProvidersConstants.UPDATE_CLUSTER_IDENTITY_PROVIDER):e.editClusterIDP=c(c({},d.editClusterIDP),{},{fulfilled:!0,clusterIdentityProviders:t.payload.data});break;case o.identityProvidersConstants.RESET_CREATED_CLUSTER_IDP_RESPONSE:e.createdClusterIDP=c({},d.createdClusterIDP),e.editClusterIDP=c({},d.editClusterIDP);break;case(0,s.PENDING_ACTION)(o.identityProvidersConstants.DELETE_IDENTITY_PROVIDER):e.deletedIDP.pending=!0;break;case(0,s.REJECTED_ACTION)(o.identityProvidersConstants.DELETE_IDENTITY_PROVIDER):e.deletedIDP=c(c({},d.deletedIDP),(0,i.getErrorState)(t));break;case(0,s.FULFILLED_ACTION)(o.identityProvidersConstants.DELETE_IDENTITY_PROVIDER):e.deletedIDP=c(c({},d.deletedIDP),{},{fulfilled:!0});break;case o.identityProvidersConstants.RESET_DELETED_IDP_RESPONSE:e.deletedIDP=c({},d.deletedIDP)}}))}m.initialState=d},40274:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(82693),c=l(a(65702)),d=a(84037),m=l(a(55816)),p=l(a(8888)),f=a(77218),E=a(18105),g=a(47208),v=a(59693);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const S=e=>{let{selectedIDP:t,isEditForm:a,idpEdited:l,idpName:n,clusterUrls:s,clearFields:h,idpTypeName:S,formTitle:b,HTPasswdErrors:C,isHypershift:y,IDPList:I,isPostIDPFormError:A,postIDPFormError:R,isPostIDPFormPending:T}=e;const[O,P]=r.default.useState(""),[D,L]=r.default.useState(!1),{setFieldValue:N,getFieldProps:w,getFieldMeta:k,values:F}=(0,u.useFormState)(),M=F[E.FieldId.NAME],x=F[E.FieldId.MAPPING_METHOD];let G;r.default.useEffect((()=>{P(M),a&&L(((e,t)=>{if(e===g.IDPformValues.OPENID){if(""!==t.open_id.openid_extra_scopes||""!==t.open_id.openid_ca)return""!==t.open_id.openid_extra_scopes||""!==t.open_id.openid_ca}else if(e===g.IDPformValues.LDAP&&(""!==t.ldap.ldap_ca||""!==t.ldap.ldap_insecure))return""!==t.ldap.ldap_ca||""!==t.ldap.ldap_insecure;return!1})(t,l))}),[D,a,M,t,l]),r.default.useEffect((()=>{if(!a){const e=(0,g.generateIDPName)(t,I);e!==O&&(N(E.FieldId.NAME,e),P(e))}}),[t,n,O,I,a,N]),A&&(G=r.default.createElement(m.default,{title:`Error ${a?"updating":"creating"} Identity Provider`,response:R.error}));const U={OpenIDIdentityProvider:v.OpenIDForm,LDAPIdentityProvider:v.LDAPForm},H={LDAPIdentityProvider:v.LDAPFormRequired,OpenIDIdentityProvider:v.OpenIDFormRequired,GithubIdentityProvider:v.GithubForm,GoogleIdentityProvider:v.GoogleFormRequired,GitlabIdentityProvider:v.GitlabForm,HTPasswdIdentityProvider:v.HTPasswdForm},V={LDAPIdentityProvider:c.default.IDP_LDAP,OpenIDIdentityProvider:c.default.IDP_OPENID,GithubIdentityProvider:c.default.IDP_GITHUB,GoogleIdentityProvider:c.default.IDP_GOOGLE,GitlabIdentityProvider:c.default.IDP_GITLAB,HTPasswdIdentityProvider:c.default.IDP_HTPASSWD},B=H[t],q=U[t],j=t===g.IDPformValues.HTPASSWD?11:8;return r.default.createElement(o.Form,null,r.default.createElement(o.Grid,{id:"identity-provider-form",hasGutter:!0},r.default.createElement(o.GridItem,{span:j},r.default.createElement(o.Title,{headingLevel:"h3",size:"xl"},b)),G&&r.default.createElement(o.GridItem,{span:8},G),(e=>{let t=null;switch(e){case g.IDPformValues.HTPASSWD:t=r.default.createElement(r.default.Fragment,null,"Define an ",r.default.createElement("code",null,"htpasswd")," identity provider for your managed cluster to create one or multiple static users that can log in to your cluster and troubleshoot it. If these users need elevated permissions, add it to an"," ",r.default.createElement(p.default,{href:c.default.OSD_DEDICATED_ADMIN_ROLE},"administrative group")," ","within your organization.");break;case g.IDPformValues.OPENID:t=r.default.createElement(r.default.Fragment,null,"Configure an ",r.default.createElement("code",null,"oidc")," identity provider to integrate with an OpenID Connect identity provider using an"," ",r.default.createElement(p.default,{href:"http://openid.net/specs/openid-connect-core-1_0.html#CodeFlowAuth"},"Authorization Code Flow"),".");break;case g.IDPformValues.LDAP:t=r.default.createElement(r.default.Fragment,null,"Configure the ",r.default.createElement("code",null,"ldap")," identity provider to validate user names and passwords against an LDAPv3 server, using simple bind authentication.");break;case g.IDPformValues.GITHUB:t=r.default.createElement(r.default.Fragment,null,"Configure a ",r.default.createElement("code",null,"github")," identity provider to validate user names and passwords against GitHub or GitHub Enterprise’s OAuth authentication server.");break;case g.IDPformValues.GITLAB:t=r.default.createElement(r.default.Fragment,null,"Configure a ",r.default.createElement("code",null,"gitlab")," identity provider to use"," ",r.default.createElement(p.default,{href:"https://gitlab.com/"},"GitLab.com")," or any other GitLab instance as an identity provider.");break;case g.IDPformValues.GOOGLE:t=r.default.createElement(r.default.Fragment,null,"Configure a ",r.default.createElement("code",null,"google")," identity provider using"," ",r.default.createElement(p.default,{href:"https://developers.google.com/identity/protocols/OpenIDConnect"},"Google’s OpenID Connect integration"),".");break;default:return null}return r.default.createElement(o.GridItem,{span:j+1},t)})(t),!a&&r.default.createElement(o.GridItem,{span:j},r.default.createElement(p.default,{href:V[t]},"Learn more about ",S," identity providers")),r.default.createElement(o.GridItem,{span:j},r.default.createElement(i.Field,{component:f.ReduxVerticalFormGroup,name:E.FieldId.NAME,label:"Name",type:"text",input:_(_({},w(E.FieldId.NAME)),{},{onChange:(e,t)=>{N(E.FieldId.NAME,t)},onBlur:e=>{const{onBlur:t}=w(E.FieldId.NAME);t(e)}}),meta:k(E.FieldId.NAME),validate:(0,d.composeValidators)(d.checkIdentityProviderName,(e=>{if(I.map((e=>e.name)).includes(e)&&!a)return`The name "${e}" is already taken. Identity provider names must not be duplicate.`})),isRequired:!0,disabled:T||a,helpText:"Unique name for the identity provider. This cannot be changed later."})),(0,g.IDPNeedsOAuthURL)(t)&&r.default.createElement(o.GridItem,{span:j},r.default.createElement("div",null,r.default.createElement("span",{className:"pf-v5-c-form__label pf-v5-c-form__label-text pf-v5-u-mb-sm"},"OAuth callback URL"),r.default.createElement(o.ClipboardCopy,{isReadOnly:!0},(0,g.getOauthCallbackURL)(s,O,y)))),t!==g.IDPformValues.HTPASSWD&&r.default.createElement(o.GridItem,{span:j},r.default.createElement(i.Field,{component:f.ReduxSelectDropdown,options:g.mappingMethods,name:E.FieldId.MAPPING_METHOD,label:"Mapping method",input:_(_({},w(E.FieldId.MAPPING_METHOD)),{},{onChange:e=>N(E.FieldId.MAPPING_METHOD,e)}),meta:k(E.FieldId.MAPPING_METHOD),helpText:"Specifies how new identities are mapped to users when they log in. Claim is recommended in most cases.",value:l.mapping_method})),B&&r.default.createElement(B,{isPending:T,isRequired:t===g.IDPformValues.GOOGLE&&!(x===g.mappingMethodsformValues.LOOKUP),isEditForm:a,idpEdited:l,clearFields:h,HTPasswdErrors:C}),q&&r.default.createElement(o.GridItem,{span:j},r.default.createElement(o.ExpandableSection,{toggleTextCollapsed:"Show advanced options",toggleTextExpanded:"Hide advanced options",isExpanded:D,onToggle:()=>L(!D)},r.default.createElement(q,{isPending:T,isEditForm:a,idpEdited:l})))))};S.propTypes={isPostIDPFormPending:s.default.bool,isPostIDPFormError:s.default.bool,postIDPFormError:s.default.object,clusterUrls:s.default.shape({console:s.default.string,api:s.default.string}).isRequired,selectedIDP:s.default.string,clearFields:s.default.func.isRequired,IDPList:s.default.array.isRequired,isEditForm:s.default.bool,isHypershift:s.default.bool,idpEdited:s.default.object,idpName:s.default.string,HTPasswdErrors:s.default.func.isRequired,idpTypeName:s.default.string,formTitle:s.default.string},S.defaultProps={selectedIDP:"GithubIdentityProvider"},t.default=S},93668:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(82693),c=a(91684),d=a(93413),m=a(84037),p=l(a(33076)),f=l(a(38871)),E=a(18105),g=l(a(67548)),v=l(a(17719));function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(2893);const S=e=>{let{isEditForm:t,idpEdited:a,isPending:l}=e;const[n,s]=r.default.useState("organizations"),[h,S]=r.default.useState(!1),{setFieldValue:b,getFieldProps:C,getFieldMeta:y}=(0,u.useFormState)();return r.default.useEffect((()=>{t?(a.github.ca&&S(!0),s(a.github.organizations?"organizations":"teams")):s("organizations")}),[]),r.default.createElement(r.default.Fragment,null,r.default.createElement(v.default,null),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:f.default,name:E.FieldId.HOSTNAME,label:"Hostname",type:"text",disabled:l,input:_(_({},C(E.FieldId.HOSTNAME)),{},{onChange:(e,t)=>b(E.FieldId.HOSTNAME,t)}),meta:y(E.FieldId.HOSTNAME),validate:h?m.required:d.noop,isRequired:h,extendedHelpText:"You can use the GitHub integration to connect to either GitHub or GitHub Enterprise. For GitHub Enterprise, you must provide the hostname of your instance and, optionally, provide a CA certificate bundle to use in requests to the server.",helpText:"Optional domain to use with a hosted instance of GitHub Enterprise."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:g.default,name:E.FieldId.GITHUB_CA,label:"CA file",type:"text",input:_(_({},C(E.FieldId.GITHUB_CA)),{},{onChange:(e,t)=>b(E.FieldId.GITHUB_CA,t)}),meta:y(E.FieldId.GITHUB_CA),helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured GitHub Enterprise URL.",isDisabled:l,onChange:(e,t)=>((e,t)=>{t&&""!==t.trim()?S(!0):S(!1)})(0,t),certValue:t?a.github.ca:""})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(o.Divider,null),r.default.createElement(o.Title,{headingLevel:"h3",size:"xl",className:"pf-v5-u-mt-lg"},"Organizations or teams"),r.default.createElement("p",null,"Github authentication lets you use either GitHub organizations or GitHub teams to restrict access."),r.default.createElement("p",{className:"idp-github-auth-mode-selection-question"},"Do you want to use GitHub organizations, or GitHub teams?"),r.default.createElement(i.Field,{component:p.default,name:E.FieldId.GITHUB_AUTH_MODE,defaultValue:n,input:_(_({},C(E.FieldId.GITHUB_AUTH_MODE)),{},{onChange:e=>{s(e),b(E.FieldId.GITHUB_AUTH_MODE,e)}}),meta:y(E.FieldId.GITHUB_AUTH_MODE),options:[{value:"organizations",label:"Use organizations"},{value:"teams",label:"Use teams"}]})),"organizations"===n?r.default.createElement(c.FormikFieldArray,{fieldID:E.FieldId.ORGANIZATIONS,label:"Organizations",helpText:"Only users that are members of at least one of the listed organizations will be allowed to log in.",placeHolderText:"e.g. org "}):r.default.createElement(c.FormikFieldArray,{fieldID:E.FieldId.TEAMS,label:"Teams",helpText:"Only users that are members of at least one of the listed teams will be allowed to log in. The format is <org>/<team>.",placeHolderText:"e.g. org/team "}))};S.propTypes={isPending:s.default.bool,isEditForm:s.default.bool,idpEdited:s.default.object},S.defaultProps={isPending:!1},t.default=S},62628:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(82693),c=a(84037),d=l(a(38871)),m=a(18105),p=l(a(67548)),f=l(a(17719));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const v=e=>{let{isPending:t,isEditForm:a,idpEdited:l}=e;const{getFieldProps:n,getFieldMeta:s,setFieldValue:E}=(0,u.useFormState)();return r.default.createElement(r.default.Fragment,null,r.default.createElement(f.default,null),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:d.default,name:m.FieldId.GITLAB_URL,meta:s(m.FieldId.GITLAB_URL),input:g(g({},n(m.FieldId.GITLAB_URL)),{},{onChange:(e,t)=>E(m.FieldId.GITLAB_URL,t)}),label:"URL",type:"text",validate:[c.required,c.validateUrlHttpsAndHttp],isRequired:!0,disabled:t,helpText:"The URL of your GitLab provider.This would be https://gitlab.com/ if you do not have hosted GitLab."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:p.default,name:m.FieldId.GITLAB_CA,meta:s(m.FieldId.GITLAB_CA),input:g(g({},n(m.FieldId.GITLAB_CA)),{},{onChange:(e,t)=>E(m.FieldId.GITLAB_CA,t)}),label:"CA file",type:"text",disabled:t,helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured Gitlab URL.",certValue:a?l.gitlab.ca:""})))};v.propTypes={isPending:s.default.bool,isEditForm:s.default.bool,idpEdited:s.default.object},v.defaultProps={isPending:!1},t.default=v},78519:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(82693),c=a(84037),d=l(a(38871)),m=a(18105),p=l(a(17719));function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e){let{isPending:t,isRequired:a}=e;const{getFieldProps:l,getFieldMeta:n,setFieldValue:s}=(0,u.useFormState)();return r.default.createElement(r.default.Fragment,null,r.default.createElement(p.default,null),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:d.default,name:m.FieldId.HOSTED_DOMAIN,label:"Hosted domain",type:"text",helpText:"Restrict users to a Google Apps domain",disabled:t,isRequired:a,meta:n(m.FieldId.HOSTED_DOMAIN),input:E(E({},l(m.FieldId.HOSTED_DOMAIN)),{},{onChange:(e,t)=>s(m.FieldId.HOSTED_DOMAIN,t)}),validate:c.checkHostDomain})))}g.propTypes={isPending:s.default.bool,isRequired:s.default.bool},g.defaultProps={isPending:!1,isRequired:!1},t.default=g},87083:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(19202),o=a(31003),u=a(82693),c=a(36858),d=a(84037),m=a(18105);a(40460);const p=()=>{const e="abcdefghijklmnopqrstuvwxyz",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a="0123456789\\!\"#$%&'()*+,-./:;<=>?@[]^_`{|}~",l=`${e}${t}${a}`,n=e=>{const t=(e=>{const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]%e.length})(e);return{index:t,value:e[t]}},r=new Array(14).fill(null).map((()=>n(l).value)),i=r.map(((e,t)=>t)),s=n(i);r[s.value]=n(t).value,i.splice(s.index,1);const o=n(i);return r[o.value]=n(e).value,i.splice(o.index,1),r[n(i).value]=n(a).value,i.splice(o.index,1),r.join("")},f=(e,t)=>(null==t?void 0:t.emptyPassword)?"default":void 0===t?"success":t[e]?"error":"success",E=e=>{let{passwordErrors:t}=e;const a=e=>f(e,t),l=e=>((e,t)=>{switch(f(e,t)){case"success":return n.default.createElement(s.CheckCircleIcon,null);case"error":return n.default.createElement(o.ExclamationCircleIcon,null);default:return n.default.createElement("span",null,"•")}})(e,t);return n.default.createElement(i.HelperText,null,n.default.createElement(i.HelperTextItem,{isDynamic:!0,variant:a("baseRequirements"),icon:l("baseRequirements")},"At least 14 characters (ASCII-standard) without whitespaces"),n.default.createElement(i.HelperTextItem,{isDynamic:!0,variant:a("lowercase"),icon:l("lowercase")},"Include lowercase letters"),n.default.createElement(i.HelperTextItem,{isDynamic:!0,variant:a("uppercase"),icon:l("uppercase")},"Include uppercase letters"),n.default.createElement(i.HelperTextItem,{isDynamic:!0,variant:a("numbersOrSymbols"),icon:l("numbersOrSymbols")},"Include numbers or symbols (ASCII-standard characters only)"))};E.propTypes={passwordErrors:r.default.shape({emptyPassword:r.default.bool,baseRequirements:r.default.bool,uppercase:r.default.bool,lowercase:r.default.bool,numbers:r.default.bool,numbersOrTypes:r.default.bool})};const g=e=>{let{isPending:t}=e;const{getFieldMeta:a,setFieldValue:l}=(0,u.useFormState)(),{error:r}=a(m.FieldId.USERS),s=r&&0!==(null==r?void 0:r.length);return n.default.createElement(n.default.Fragment,null,n.default.createElement(c.CompoundFieldArray,{fieldSpan:11,compoundFields:[{name:"username",label:"Username",type:"text",helpText:"Unique name of the user within the cluster.",isRequired:!0,getPlaceholderText:e=>`Unique username ${e+1}`,validate:(0,d.composeValidators)(d.required,d.validateHTPasswdUsername)},{name:"password",label:"Password",type:"password",isRequired:!0,getHelpText:e=>{const{error:t}=a(`users.${e}.password`);return n.default.createElement(E,{passwordErrors:t})},onAutocomplete:(e,t)=>{l(t,e),l(`${t}-confirm`,e)},getAutocompleteValue:p,getAutocompleteText:e=>n.default.createElement("div",null,"Use suggested password:",n.default.createElement("br",null),n.default.createElement("b",null,`${e}`)),validate:d.validateHTPasswdPassword},{name:"password-confirm",label:"Confirm password",type:"password",isRequired:!0,helpText:"Retype the password to confirm."}],label:"Users list",addMoreTitle:"Add user",isRequired:!0,disabled:t,validate:[d.validateUniqueHTPasswdUsername],addMoreButtonDisabled:s,minusButtonDisabledMessage:"To delete the static user, add another user first."}),n.default.createElement(i.GridItem,{span:11},n.default.createElement(i.Alert,{isInline:!0,variant:"info",title:"Securely store your usernames and passwords"},"If you lose these credentials, you will have to delete and recreate the users.")))};g.propTypes={isPending:r.default.bool},g.defaultProps={isPending:!1},t.default=g},45482:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(82693),c=a(77218),d=a(18105),m=l(a(67548));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const E=e=>{let{isEditForm:t,idpEdited:a,isPending:l}=e;const[n,s]=r.default.useState(!1),[p,E]=r.default.useState(""),{getFieldProps:g,getFieldMeta:v,setFieldValue:h}=(0,u.useFormState)();return r.default.useEffect((()=>{s(!!t&&a.ldap.insecure),E("")}),[]),r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:m.default,name:d.FieldId.LDAP_CA,meta:v(d.FieldId.LDAP_CA),input:f(f({},g(d.FieldId.LDAP_CA)),{},{onChange:(e,t)=>h(d.FieldId.LDAP_CA,t)}),label:"CA file",helpText:`PEM encoded certificate bundle to use to validate server certificates for the configured URL. ${p}`,isDisabled:n||l,certValue:t&&!n?a.ldap.ca:""})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:c.ReduxCheckbox,name:d.FieldId.LDAP_INSECURE,meta:v(d.FieldId.LDAP_INSECURE),input:f(f({},g(d.FieldId.LDAP_INSECURE)),{},{onChange:(e,t)=>{h(d.FieldId.LDAP_INSECURE,t),((e,t)=>{t?(s(!0),E("Cannot be used if insecure is set.")):(s(!1),E(""))})(0,t)}}),label:"Insecure",isDisabled:l})))};E.propTypes={isPending:s.default.bool,isEditForm:s.default.bool,idpEdited:s.default.object},E.defaultProps={isPending:!1},t.default=E},79957:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(82693),c=a(91684),d=a(84037),m=l(a(38871)),p=a(18105);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const g=e=>{let{isEditForm:t,idpEdited:a,isPending:l}=e;const[n,s]=r.default.useState(!1),{getFieldProps:f,setFieldValue:g,getFieldMeta:v}=(0,u.useFormState)();return r.default.useEffect((()=>{t&&a.ldap.bind_dn&&""!==a.ldap.bind_dn&&s(!0)}),[]),r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:m.default,name:p.FieldId.LDAP_URL,label:"LDAP URL",type:"text",disabled:l,validate:d.required,isRequired:!0,helpText:"An RFC 2255 URL which specifies the LDAP search parameters to use.",meta:v(p.FieldId.LDAP_URL),input:E(E({},f(p.FieldId.LDAP_URL)),{},{onChange:(e,t)=>g(p.FieldId.LDAP_URL,t)})})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:m.default,name:p.FieldId.BIND_DN,meta:v(p.FieldId.BIND_DN),input:E(E({},f(p.FieldId.BIND_DN)),{},{onChange:(e,t)=>g(p.FieldId.BIND_DN,t)}),label:"Bind DN",type:"text",disabled:l,onChange:(e,t)=>{s(!!t)},helpText:"DN to bind with during the search phase."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:m.default,name:p.FieldId.BIND_PASSWORD,meta:v(p.FieldId.BIND_PASSWORD),input:E(E({},f(p.FieldId.BIND_PASSWORD)),{},{onChange:(e,t)=>g(p.FieldId.BIND_PASSWORD,t)}),label:"Bind password",type:"password",helpText:n?"Password to bind with during the search phase.":"Cannot be used if Bind DN is not set",disabled:!n||l,validate:n?d.required:void 0,isRequired:n})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(o.Divider,null),r.default.createElement(o.Title,{headingLevel:"h3",size:"xl",className:"idp-helptext-heading"},"Attributes"),r.default.createElement("p",null,"Attributes map LDAP attributes to identities.")),r.default.createElement(c.FormikFieldArray,{fieldID:p.FieldId.LDAP_ID,label:"ID",placeHolderText:"e.g. id",disabled:l,isRequired:!0,validateField:d.required,helpText:"The list of attributes whose values should be used as the user ID."}),r.default.createElement(c.FormikFieldArray,{fieldID:p.FieldId.LDAP_PREFFERED_USERNAME,label:"Preferred username",type:"text",placeholderText:"e.g. preferred username",disabled:l,helpText:"The list of attributes whose values should be used as the preferred username."}),r.default.createElement(c.FormikFieldArray,{fieldID:p.FieldId.LDAP_NAME,label:"Name",type:"text",placeholderText:"e.g. name",disabled:l,helpText:"The list of attributes whose values should be used as the display name."}),r.default.createElement(c.FormikFieldArray,{fieldID:p.FieldId.LDAP_EMAIL,label:"Email",type:"text",placeholderText:"e.g. email",disabled:l,helpText:"The list of attributes whose values should be used as the email address."}))};g.propTypes={isPending:s.default.bool,isEditForm:s.default.bool,idpEdited:s.default.object},t.default=g},75158:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(82693),c=l(a(38871)),d=a(18105),m=l(a(67548));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){let{isPending:t,isEditForm:a,idpEdited:l}=e;const{getFieldProps:n,getFieldMeta:s,setFieldValue:p}=(0,u.useFormState)();return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:m.default,name:d.FieldId.OPENID_CA,label:"CA file",helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured URL",isDisabled:t,certValue:a?l.open_id.ca:"",input:f(f({},n(d.FieldId.OPENID_CA)),{},{onChange:(e,t)=>p(d.FieldId.OPENID_CA,t)}),meta:s(d.FieldId.OPENID_CA)})),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:c.default,name:d.FieldId.OPENID_EXTRA_SCOPES,label:"Additional scopes",type:"text",placeholder:"e.g. scope1, scope2",disabled:t,input:f(f({},n(d.FieldId.OPENID_EXTRA_SCOPES)),{},{onChange:(e,t)=>p(d.FieldId.OPENID_EXTRA_SCOPES,t)}),meta:s(d.FieldId.OPENID_EXTRA_SCOPES)})))}E.propTypes={isPending:s.default.bool,isEditForm:s.default.bool,idpEdited:s.default.object},E.defaultProps={isPending:!1},t.default=E},6913:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(82693),c=a(91684),d=a(84037),m=l(a(38871)),p=a(18105),f=a(47208),E=l(a(17719));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const h=e=>{let{isPending:t}=e;const{getFieldProps:a,getFieldMeta:l,setFieldValue:n}=(0,u.useFormState)(),s=(e,t)=>{if((0,f.isEmptyReduxArray)(t.openid_preferred_username,"openid_preferred_username")&&(0,f.isEmptyReduxArray)(t.openid_name,"openid_name")&&(0,f.isEmptyReduxArray)(t.openid_email,"openid_email"))return"At least one claim is required"};return r.default.createElement(r.default.Fragment,null,r.default.createElement(E.default,null),r.default.createElement(o.GridItem,{span:8},r.default.createElement(i.Field,{component:m.default,name:p.FieldId.ISSUER,label:"Issuer URL",type:"text",disabled:t,validate:d.checkOpenIDIssuer,input:v(v({},a(p.FieldId.ISSUER)),{},{onChange:(e,t)=>n(p.FieldId.ISSUER,t)}),meta:l(p.FieldId.ISSUER),isRequired:!0,helpText:"The URL that the OpenID provider asserts as the issuer identifier. It must use the https scheme with no URL query parameters or fragment."})),r.default.createElement(o.GridItem,{span:8},r.default.createElement("h4",null,"Claims mappings")),r.default.createElement(c.FormikFieldArray,{fieldID:p.FieldId.OPENID_EMAIL,label:"Email",type:"text",placeHolderText:"e.g. email",disabled:t,helpText:"The list of attributes whose values should be used as the email address.",validate:s,isRequired:!0}),r.default.createElement(c.FormikFieldArray,{fieldID:p.FieldId.OPENID_NAME,label:"Name",type:"text",placeHolderText:"e.g. name",disabled:t,validate:s,helpText:"The end user's full name including all name parts, ordered according to the end user's locale and preferences.",isRequired:!0}),r.default.createElement(c.FormikFieldArray,{fieldID:p.FieldId.OPENID_PREFFERED_USERNAME,label:"Preferred username",type:"text",placeHolderText:"e.g. preferred_username",disabled:t,validate:s,helpText:"Shorthand name by which the end user wishes to be referred to at the RP, such as janedone or j.doe.",isRequired:!0}))};h.propTypes={isPending:s.default.bool},h.defaultProps={isPending:!1},t.default=h},59693:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GithubForm",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"GitlabForm",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"GoogleFormRequired",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"HTPasswdForm",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"IDPBasicFields",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"LDAPForm",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"LDAPFormRequired",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"OpenIDForm",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"OpenIDFormRequired",{enumerable:!0,get:function(){return m.default}});var n=l(a(93668)),r=l(a(62628)),i=l(a(78519)),s=l(a(87083)),o=l(a(17719)),u=l(a(45482)),c=l(a(79957)),d=l(a(75158)),m=l(a(6913))},34006:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(45811));t.A=n.default},82198:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchOrganizationInsights=t.fetchClusterInsights=void 0;var n=l(a(58156)),r=a(90020),i=a(68842);const s=e=>r.insightsService.getClusterInsights(e).then((t=>({insightsData:(0,n.default)(t,"data.report",{}),clusterId:e,status:t.status})));t.fetchClusterInsights=e=>t=>t({type:i.GET_CLUSTER_INSIGHTS,payload:s(e),meta:{clusterId:e}}),t.fetchOrganizationInsights=()=>e=>e({type:i.GET_ORGANIZATION_INSIGHTS,payload:r.insightsService.getOrganizationInsights()})},34605:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(43693)),r=a(89407),i=a(95762),s=a(68842);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const c={insightsData:{},groups:{groups:[],rejected:!1,pending:!1,fulfilled:!1},overview:{overview:null,rejected:!1,pending:!1,fulfilled:!1}};function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{var a;switch(t.type){case(0,i.FULFILLED_ACTION)(s.GET_CLUSTER_INSIGHTS):e.insightsData[t.meta.clusterId]=u(u({},t.payload.insightsData),{},{status:t.payload.status});break;case(0,i.REJECTED_ACTION)(s.GET_CLUSTER_INSIGHTS):e.insightsData[t.meta.clusterId]={status:null===(a=t.payload.response)||void 0===a?void 0:a.status};break;case(0,i.FULFILLED_ACTION)(s.GET_ORGANIZATION_INSIGHTS):e.overview.overview=t.payload.data.overview,e.overview.fulfilled=!0,e.overview.pending=!1;break;case(0,i.PENDING_ACTION)(s.GET_ORGANIZATION_INSIGHTS):e.overview.pending=!0;break;case(0,i.REJECTED_ACTION)(s.GET_ORGANIZATION_INSIGHTS):e.overview.rejected=!0,e.overview.pending=!1}}))}d.initialState=c,t.A=d},26839:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.labelBorderColor=t.groupRulesByRisk=t.default=void 0;var n=l(a(43693)),r=l(a(58156));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const o=e=>e.reduce(((e,t)=>{let{total_risk:a}=t;return s(s({},e),{},{[a]:e[a]?e[a]+1:1})}),{1:0,2:0,3:0,4:0});t.groupRulesByRisk=o,t.labelBorderColor={1:"blue",2:"orange",3:"orange",4:"red"},t.default=(e,t)=>{const a=(0,r.default)(e,`insightsData.insightsData[${t}].data`),l=a?a.filter((e=>!e.disabled)):[];return o(l)}},93901:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=z(a(93345)),r=l(a(58156)),i=l(a(62193)),s=l(a(5556)),o=a(73729),u=a(13818),c=a(45924),d=a(36509),m=l(a(29564)),p=a(93413),f=a(88851),E=a(48539),g=a(11611),v=a(68835),h=a(31261),_=a(11243),S=a(47385),b=a(60216),C=a(23492),y=a(81773),I=a(976),A=a(25514),R=a(90020),T=a(16236),O=a(2479),P=l(a(12200)),D=l(a(55816)),L=a(91089),N=l(a(43775)),w=l(a(14419)),k=z(a(23271)),F=a(73488),M=l(a(9155)),x=l(a(39843)),G=l(a(93554)),U=a(31639),H=l(a(2167)),V=a(57109),B=a(85927),q=a(56723);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}function z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}a(77434);const W=(e,t,a,l)=>{const i=(0,r.default)(e,"version.id","");return i?n.default.createElement(n.default.Fragment,null,(0,f.versionFormatter)(i)||i," ",t?null:n.default.createElement(q.UpdatePoolButton,{machinePool:e,isMachinePoolError:a,isHypershift:l})):"N/A"},$=e=>{var t,a,l,r;let{cluster:s}=e;const f=(0,o.useDispatch)(),j=(0,A.useGlobalState)((e=>(0,w.default)(e,N.default.DELETE_MACHINE_POOL))),z=(0,A.useGlobalState)((e=>(0,w.default)(e,N.default.EDIT_CLUSTER_AUTOSCALING_V2))),$=(0,A.useGlobalState)((e=>e.clusterUpgrades.schedules)),K=(0,_.useFeatureGate)(I.ENABLE_MACHINE_CONFIGURATION),Y=(0,A.useGlobalState)((e=>e.userProfile.organization)),Q=(0,B.hasOrgLevelBypassPIDsLimitCapability)(null==Y?void 0:Y.details),Z=(0,k.isHypershiftCluster)(s),X=null==s||null===(t=s.subscription)||void 0===t?void 0:t.rh_region_id,J=null==s?void 0:s.id,ee=null==s||null===(a=s.version)||void 0===a?void 0:a.id,[te,ae]=n.default.useState(null),[le,ne]=n.default.useState([]),[re,ie]=n.default.useState(!1),[se,oe]=n.default.useState(void 0),[ue,ce]=n.default.useState(!1),[de,me]=n.default.useState(!1),{data:pe,isLoading:fe,isError:Ee,error:ge,refetch:ve}=(0,b.useFetchMachineTypes)(X),{data:he,isLoading:_e,isError:Se,error:be,refetch:Ce}=(0,y.useFetchMachineOrNodePools)(J,Z,ee,X),{data:ye,isLoading:Ie,hasClusterAutoscaler:Ae,isStale:Re,isRefetching:Te}=(0,S.useFetchClusterAutoscaler)(J,X),{mutate:Oe,isPending:Pe,isError:De,isSuccess:Le,error:Ne}=(0,C.useDeleteMachinePool)(J,Z,X);n.default.useEffect((()=>{ve(),f((0,O.getOrganizationAndQuota)())}),[]),n.default.useEffect((()=>{Pe||!Le||_e||(f((0,O.getOrganizationAndQuota)()),Ce()),(Le||De)&&null!==te&&ae(null),!(0,k.isHypershiftCluster)(s)&&Ae&&Re&&!Ie&&(0,S.refetchClusterAutoscalerData)(J)}),[Pe,De,Le,_e,te,ye,Ae,Ie,Ce,S.refetchClusterAutoscalerData]);const we=(0,n.useMemo)((()=>{var e;return(0,h.getMaxNodesTotalDefaultAutoscaler)(null===(e=s.version)||void 0===e?void 0:e.raw_id,s.multi_az)}),[null===(l=s.version)||void 0===l?void 0:l.raw_id,s.multi_az]),ke=(0,B.hasMachinePoolsQuotaSelector)(Y,s,pe.types),Fe=(null==s?void 0:s.machinePoolsActions)||{},Me=!(null==he||!he.length),xe=(0,E.isMultiAZ)(s),Ge=(0,V.hasDefaultOrExplicitAutoscalingMachinePool)(s,he),Ue=(null==s?void 0:s.kubeletConfigActions)||{},He=(0,k.isROSA)(s),Ve=(0,k.isOSD)(s),Be=(0,k.isCCS)(s),qe=(0,k.isAWS)(s),je=K&&(He&&!Z||Ve&&Be&&qe),ze=Ue.create&&Ue.update,We=((null==s?void 0:s.state)!==k.default.READY||!ze)&&(ze?"Machine configuration is only available when the cluster is ready.":"You do not have permission to edit the machine configuration. Only cluster owners and cluster editors can edit machine configuration.");if(Me&&null!=be&&be.error)return n.default.createElement(u.EmptyState,null,n.default.createElement(D.default,{message:"Error retrieving machine pools",response:be.error}));const $e=[{title:"Machine pool",cellFormatters:[c.expandable]},{title:"Instance type"},{title:"Availability zones",transforms:[(0,c.cellWidth)(15)]}];$e.push({title:"Node count"}),$e.push({title:"Autoscaling",transforms:[(0,c.cellWidth)(15)]}),Z&&$e.push({title:"Version",transforms:[(0,c.cellWidth)(15)]});const Ke="read_only"===(null==s||null===(r=s.status)||void 0===r?void 0:r.configuration_mode)&&"This operation is not available during maintenance",Ye=!ke&&p.noQuotaTooltip,Qe=(0,k.isHibernating)(s)&&"This operation is not available while cluster is hibernating",Ze=!Fe.update&&"You do not have permission to add or edit machine pools. Only cluster owners, cluster editors, machine pool editors and Organization Administrators can edit machine pools.",Xe=null!=s&&s.canEditClusterAutoscaler?Ae&&Ie&&"The cluster autoscaler is loading.":"You do not have permission to edit the cluster autoscaler.",Je=!!(Ke||Qe||Ze),et=[];null==he||he.forEach((e=>{const t=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(0,i.default)(t.labels)||(null===(e=t.taints)||void 0===e?void 0:e.length)>0||t.autoscaling||t.aws||(0,V.hasSubnets)(t)}(e),a=function(e){var t,a,l;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={cells:[r.id,{title:n.default.createElement(n.default.Fragment,null,Z?null===(t=r.aws_node_pool)||void 0===t?void 0:t.instance_type:r.instance_type,(null===(a=r.aws)||void 0===a?void 0:a.spot_market_options)&&n.default.createElement(u.Label,{variant:"outline",className:"ocm-c-machine-pools__spot-label"},"Spot"))},(null===(l=r.availability_zones)||void 0===l?void 0:l.join(", "))||r.availability_zone,{title:n.default.createElement(H.default,{isMultiZoneCluster:xe,machinePool:r})},{title:r.autoscaling?"Enabled":"Disabled"},Z?{title:W(r,Se,Z,Je)}:null].filter((e=>null!==e)),key:r.id,machinePool:r};return e&&(i.isOpen=le.includes(r.id)),i}(t,e);if(et.push(a),t){const t=((e,t)=>({parent:t,fullWidth:!0,cells:[{title:n.default.createElement(G.default,{region:X,cluster:s,isMultiZoneCluster:xe,machinePool:e})}],key:`${e.id}-child`}))(e,et.length-1);et.push(t)}}));const tt=(e,t,a)=>{f((0,L.openModal)(N.default.DELETE_MACHINE_POOL,{machinePool:a.machinePool,performDeleteAction:()=>(async(e,t)=>{De&&ie(!1),ae(e),ne(null==le?void 0:le.filter((e=>e!==t.machinePool.id))),Oe(t.machinePool.id)})(t,a)}))},at=(e,t,a)=>oe(a.machinePool.id),lt=(e,t,a)=>f((0,L.openModal)(N.default.UPDATE_MACHINE_POOL_VERSION,{machinePool:a.machinePool})),nt=!Me&&_e,rt={cells:[{props:{colSpan:4},title:n.default.createElement(m.default,{size:"lg"})}]};var it;Me&&_e&&null===te&&et.push(rt),Me&&null!==te&&(null!==(it=et[te+1])&&void 0!==it&&it.parent&&et.splice(te+1,1),et[te]=rt);const st=(0,g.getDefaultClusterAutoScaling)(we);return n.default.createElement(n.default.Fragment,null,nt?n.default.createElement(u.Card,null,n.default.createElement(u.CardTitle,null,n.default.createElement(m.default,{size:"lg"})),n.default.createElement(u.CardBody,null,n.default.createElement(m.default,{size:"lg"})),n.default.createElement(u.CardFooter,null,n.default.createElement(m.default,{size:"lg"}))):n.default.createElement(n.default.Fragment,null,!Je&&n.default.createElement(q.UpdateAllMachinePools,{isMachinePoolError:Se,isHypershift:Z}),n.default.createElement(u.Card,{className:"ocm-c-machine-pools__card"},n.default.createElement(u.CardBody,{className:"ocm-c-machine-pools__card--body"},Se&&n.default.createElement(D.default,{message:"Error retrieving machine pools",response:be}),n.default.createElement(u.Toolbar,null,n.default.createElement(u.ToolbarContent,null,n.default.createElement(u.ToolbarItem,null,n.default.createElement(P.default,{disableReason:Ke||Qe||Ze||Ye,id:"add-machine-pool",onClick:()=>ce(!0),variant:u.ButtonVariant.secondary},"Add machine pool")),!Z&&n.default.createElement(u.ToolbarItem,null,n.default.createElement(P.default,{id:"edit-existing-cluster-autoscaling",disableReason:Ke||Qe||Xe,onClick:()=>f((0,L.openModal)(N.default.EDIT_CLUSTER_AUTOSCALING_V2)),variant:u.ButtonVariant.secondary},"Edit cluster autoscaling")),je&&n.default.createElement(u.ToolbarItem,null,n.default.createElement(P.default,{disableReason:We,onClick:()=>me(!0),variant:u.ButtonVariant.secondary},"Edit machine configuration")))),n.default.createElement(u.Divider,null),De&&!re&&n.default.createElement(D.default,{message:"Error deleting machine pool",response:null==Ne?void 0:Ne.error,showCloseBtn:!0,onCloseAlert:()=>ie(!0)}),Fe.list&&n.default.createElement(d.Table,{"aria-label":"Machine pools",cells:$e,rows:et,onCollapse:(e,t,a,l)=>{let n=[];a?le.includes(l.machinePool.id)||(n.push(l.machinePool.id),ne(n)):(n=le.filter((e=>e!==l.machinePool.id)),ne(n))},actionResolver:e=>{var t;return(0,V.actionResolver)({rowData:e,onClickDelete:tt,onClickUpdate:(0,U.canMachinePoolBeUpgradedSelector)($,(null==s||null===(t=s.version)||void 0===t?void 0:t.id)||"",e.machinePool,Se,Z)?lt:void 0,canDelete:Fe.delete,cluster:s,machinePools:he,machineTypes:pe,onClickEdit:at})},areActionsDisabled:()=>Je},n.default.createElement(d.TableHeader,null),n.default.createElement(d.TableBody,null))))),j&&n.default.createElement(M.default,null),(!!se||ue)&&n.default.createElement(x.default,{region:X,cluster:s,onSave:()=>{_e||Ce()},onClose:()=>{oe(void 0),ce(!1)},isHypershift:Z,machinePoolId:se,machinePoolsResponse:he,machinePoolsLoading:_e,machinePoolsError:Se,machinePoolsErrorResponse:be,machineTypesResponse:pe,machineTypesLoading:fe,machineTypesError:Ee,machineTypesErrorResponse:ge}),n.default.createElement(q.UpdateMachinePoolModal,{region:X}),z&&n.default.createElement(F.ClusterAutoscalerForm,{clusterAutoscalerData:ye,hasClusterAutoscaler:Ae,clusterId:J,initialValues:st,isWizard:!1,hasAutoscalingMachinePools:Ge,isClusterAutoscalerRefetching:Te,maxNodesTotalDefault:we}),de&&n.default.createElement(v.MachineConfiguration,{clusterID:s.id,getMachineConfiguration:X?(0,T.getClusterServiceForRegion)(X).getKubeletConfiguration:R.clusterService.getKubeletConfiguration,createMachineConfiguration:X?(0,T.getClusterServiceForRegion)(X).postKubeletConfiguration:R.clusterService.postKubeletConfiguration,updateMachineConfiguration:X?(0,T.getClusterServiceForRegion)(X).patchKubeletConfiguration:R.clusterService.patchKubeletConfiguration,onClose:()=>me(!1),canBypassPIDsLimit:Q}))};$.propTypes={cluster:s.default.object.isRequired},t.default=$},15179:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(93901));t.default=(0,n.connect)((()=>({})),(()=>({})))(r.default)},77944:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.getOnDemandMetrics=t.clearMonitoringState=void 0;var n=a(90020),r=l(a(28318));t.getOnDemandMetrics=e=>t=>t({type:r.default.GET_ONDEMAND_METRICS,payload:n.accountsService.getOnDemandMetrics(e)}),t.clearMonitoringState=()=>e=>e({type:r.default.CLEAR_MONITORING_STATE})},28318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={GET_ONDEMAND_METRICS:"GET_ONDEMAND_METRICS",CLEAR_MONITORING_STATE:"CLEAR_MONITORING_STATE"}},22107:(e,t,a)=>{"use strict";var l=a(24994);t.Fo=m;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=l(a(28318));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d={alerts:c(c({},s.baseRequestState),{},{data:[]}),nodes:c(c({},s.baseRequestState),{},{data:[]}),operators:c(c({},s.baseRequestState),{},{data:[]})};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,s.REJECTED_ACTION)(o.default.GET_ONDEMAND_METRICS):e.alerts=c(c({},d.alerts),(0,i.getErrorState)(t)),e.nodes=c(c({},d.nodes),(0,i.getErrorState)(t)),e.operators=c(c({},d.operators),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.default.GET_ONDEMAND_METRICS):e.alerts.pending=!0,e.operators.pending=!0,e.nodes.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.default.GET_ONDEMAND_METRICS):e.alerts=c(c({},d.alerts),{},{fulfilled:!0,data:t.payload.data.alerts}),e.nodes=c(c({},d.nodes),{},{fulfilled:!0,data:t.payload.data.nodes}),e.operators=c(c({},d.operators),{},{fulfilled:!0,data:t.payload.data.cluster_operators});break;case o.default.CLEAR_MONITORING_STATE:return d}}))}m.initialState=d},42461:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(12425));t.default=n.default},95273:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(67080),o=a(79466),u=l(a(73874)),c=l(a(58336)),d=l(a(42398)),m=l(a(16262)),p=l(a(54014));a(74446);const f=e=>{var t;let{cluster:a,refreshCluster:l,clusterID:r,isManaged:f,region:E}=e;const{data:g,isLoading:v,isError:h}=(0,o.useGetClusterRouters)(r,f,E),_=a.network||{},S=a.cloud_provider.id?a.cloud_provider.id:"N/A";return v&&!h?n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateBody,null,n.default.createElement(s.Spinner,{centered:!0}))):n.default.createElement(i.Grid,{hasGutter:!0},n.default.createElement(i.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(c.default,{refreshCluster:l,provider:S,cluster:a,clusterRoutersData:g})),n.default.createElement(i.GridItem,{lg:3,md:12,className:"networking-grid-item"},n.default.createElement(d.default,{network:_})),n.default.createElement(i.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(u.default,{provider:S,cluster:a,refreshCluster:l,clusterRoutersData:g})),n.default.createElement(i.GridItem,{lg:3,md:12,className:"networking-grid-item"},n.default.createElement(p.default,{awsSubnets:null===(t=a.aws)||void 0===t?void 0:t.subnet_ids,gcpNetwork:a.gcp_network})),n.default.createElement(i.GridItem,{lg:9,md:12,className:"networking-grid-item"},n.default.createElement(m.default,{cluster:a})))};f.propTypes={cluster:r.default.object.isRequired,region:r.default.string,isManaged:r.default.bool,clusterID:r.default.string.isRequired,refreshCluster:r.default.func.isRequired},t.default=f},91916:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.sendNetworkConfigRequests=t.saveNetworkingConfiguration=t.resetEditRoutersResponse=t.resetClusterRouters=t.networkingActions=t.getClusterRouters=t.editClusterRouters=t.createDefaultRouterRequest=void 0;var n=l(a(61448)),r=l(a(2404)),i=a(93413),s=a(41955),o=a(17629),u=a(58826),c=a(92868),d=a(90020),m=a(55730);const p=e=>t=>t({type:m.networkingConstants.GET_CLUSTER_ROUTERS,payload:d.clusterService.getIngresses(e)});t.getClusterRouters=p;const f=(e,t)=>a=>a({type:m.networkingConstants.EDIT_CLUSTER_ROUTERS,payload:d.clusterService.editIngresses(e,t)});t.editClusterRouters=f;const E=()=>e=>e({type:m.networkingConstants.RESET_EDIT_ROUTERS_RESPONSE});t.resetEditRoutersResponse=E;const g=()=>e=>e({type:m.networkingConstants.RESET_CLUSTER_ROUTERS});t.resetClusterRouters=g;const v=(e,t)=>{const a={id:t.default.routerID};return void 0!==e.private_default_router&&e.private_default_router!==t.default.isPrivate&&(a.listening=e.private_default_router?"internal":"external"),void 0===e.defaultRouterSelectors||(0,r.default)((0,i.strToKeyValueObject)(e.defaultRouterSelectors,""),t.default.routeSelectors||{})||(a.route_selectors=(0,i.strToKeyValueObject)(e.defaultRouterSelectors,"")),void 0===e.defaultRouterExcludedNamespacesFlag||(0,r.default)((0,i.stringToArrayTrimmed)(e.defaultRouterExcludedNamespacesFlag),t.default.excludedNamespaces||[])||(a.excluded_namespaces=(0,i.stringToArrayTrimmed)(e.defaultRouterExcludedNamespacesFlag)),void 0!==e.isDefaultRouterNamespaceOwnershipPolicyStrict&&e.isDefaultRouterNamespaceOwnershipPolicyStrict!==t.default.isNamespaceOwnershipPolicyStrict&&(a.route_namespace_ownership_policy=e.isDefaultRouterNamespaceOwnershipPolicyStrict?u.NamespaceOwnershipPolicy.STRICT:u.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED),void 0!==e.isDefaultRouterWildcardPolicyAllowed&&e.isDefaultRouterWildcardPolicyAllowed!==t.default.isWildcardPolicyAllowed&&(a.route_wildcard_policy=e.isDefaultRouterWildcardPolicyAllowed?c.WildcardPolicy.WILDCARDS_ALLOWED:c.WildcardPolicy.WILDCARDS_DISALLOWED),void 0!==e.is_nlb_load_balancer&&e.is_nlb_load_balancer!==(t.default.loadBalancer===o.LoadBalancerFlavor.NLB)&&(a.load_balancer_type=e.is_nlb_load_balancer?o.LoadBalancerFlavor.NLB:o.LoadBalancerFlavor.CLASSIC),void 0!==e.clusterRoutesTlsSecretRef&&e.clusterRoutesTlsSecretRef!==(t.default.tlsSecretRef||"")&&(a.cluster_routes_tls_secret_ref=e.clusterRoutesTlsSecretRef),void 0!==e.clusterRoutesHostname&&e.clusterRoutesHostname!==(t.default.hostname||"")&&(a.cluster_routes_hostname=e.clusterRoutesHostname,a.cluster_routes_tls_secret_ref=e.clusterRoutesTlsSecretRef),a};t.createDefaultRouterRequest=v;const h=async(e,t,a,l)=>{let r;if(t.APIPrivate!==e.private_api){const t={api:{listening:e.private_api?"internal":"external"}};r=await l.editCluster(a,t),204===r.status&&(0,s.invalidateClusterDetailsQueries)()}const o=(0,n.default)(t,"additional"),u=o&&!1===e.enable_additional_router,c=v(e,t);let d;return!u&&o&&(d=((e,t)=>{var a,l;const n={};var r,s;return void 0!==e.private_additional_router&&e.private_additional_router!==(null===(a=t.additional)||void 0===a?void 0:a.isPrivate)&&(n.listening=e.private_additional_router?"internal":"external",n.id=null===(r=t.additional)||void 0===r?void 0:r.routerID),void 0!==e.labels_additional_router&&e.labels_additional_router!==(null===(l=t.additional)||void 0===l?void 0:l.routeSelectors)&&(n.route_selectors=(0,i.strToKeyValueObject)(e.labels_additional_router,""),n.id=null===(s=t.additional)||void 0===s?void 0:s.routerID),n})(e,t)),Object.getOwnPropertyNames(c).length>1&&(r=await l.editIngress(a,c.id,c)),u&&(r=await l.deleteAdditionalIngress(a,t.additional.routerID,c)),d&&Object.getOwnPropertyNames(d).length>0&&(r=await l.editIngress(a,d.id,d)),r};t.sendNetworkConfigRequests=h;const _=(e,t,a)=>l=>l({type:m.networkingConstants.EDIT_CLUSTER_ROUTERS,payload:h(e,t,a,l)});t.saveNetworkingConfiguration=_,t.networkingActions={getClusterRouters:p,editClusterRouters:f,saveNetworkingConfiguration:_,resetClusterRouters:g,resetEditRoutersResponse:E}},55730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkingConstants=t.RESET_EDIT_ROUTERS_RESPONSE=t.RESET_CLUSTER_ROUTERS=t.GET_CLUSTER_ROUTERS=t.EDIT_CLUSTER_ROUTERS=void 0;const a=t.GET_CLUSTER_ROUTERS="GET_CLUSTER_ROUTERS",l=t.EDIT_CLUSTER_ROUTERS="EDIT_CLUSTER_ROUTER",n=t.RESET_EDIT_ROUTERS_RESPONSE="RESET_EDIT_ROUTERS_RESPONSE",r=t.RESET_CLUSTER_ROUTERS="RESET_CLUSTER_ROUTERS";t.networkingConstants={GET_CLUSTER_ROUTERS:a,EDIT_CLUSTER_ROUTERS:l,RESET_EDIT_ROUTERS_RESPONSE:n,RESET_CLUSTER_ROUTERS:r}},70887:(e,t,a)=>{"use strict";var l=a(24994);t.FK=m;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=a(55730);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d={getRouters:c(c({},s.baseRequestState),{},{routers:[]}),editRouters:c({},s.baseRequestState)};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,s.REJECTED_ACTION)(o.networkingConstants.GET_CLUSTER_ROUTERS):e.getRouters=c(c({},d),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.networkingConstants.GET_CLUSTER_ROUTERS):e.getRouters.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.networkingConstants.GET_CLUSTER_ROUTERS):e.getRouters=c(c({},d),{},{routers:t.payload.data.items||[],fulfilled:!0});break;case(0,s.REJECTED_ACTION)(o.networkingConstants.EDIT_CLUSTER_ROUTERS):e.editRouters=c(c({},d),(0,i.getErrorState)(t));break;case(0,s.PENDING_ACTION)(o.networkingConstants.EDIT_CLUSTER_ROUTERS):e.editRouters.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.networkingConstants.EDIT_CLUSTER_ROUTERS):e.editRouters=c(c({},s.baseRequestState),{},{fulfilled:!0});break;case o.networkingConstants.RESET_EDIT_ROUTERS_RESPONSE:e.editRouters=c({},s.baseRequestState);break;case o.networkingConstants.RESET_CLUSTER_ROUTERS:return d}}))}m.initialState=d},37731:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(62384),u=l(a(12200)),c=a(91089),d=l(a(43775)),m=a(23271),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(82788)),f=l(a(18370));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}a(84900);const g=e=>{var t,a,l,r,E,g,v;let{refreshCluster:h,clusterRoutersData:_,cluster:S}=e;const b=S.cloud_provider.id?S.cloud_provider.id:"N/A",C=null===(t=S.console)||void 0===t?void 0:t.url,y=null===(a=S.api)||void 0===a?void 0:a.url,I="internal"===(null===(l=S.api)||void 0===l?void 0:l.listening),A=(0,p.default)(_),R=2===Object.keys(A).length,T=R?A.additional.address:`apps2${A.default.address.substr(4)}`,O=(0,p.routeSelectorPairsAsStrings)(null==A||null===(r=A.additional)||void 0===r?void 0:r.routeSelectors),P=!(null==A||null===(E=A.additional)||void 0===E||!E.isPrivate),{canEdit:D}=S,L="read_only"===(null==S||null===(g=S.status)||void 0===g?void 0:g.configuration_mode),N=!0===(null==S||null===(v=S.aws)||void 0===v||null===(v=v.sts)||void 0===v?void 0:v.enabled),w=(0,m.isHibernating)(S),k=C&&!(0,m.isOffline)(S),F=(0,m.isHypershiftCluster)(S),M=(0,i.useDispatch)(),x=(e=>{let{canEdit:t,isReadOnly:a,isSTSEnabled:l,clusterHibernating:n,hypershiftCluster:r}=e;return(l&&!r?"Cluster ingress can only be edited for ROSA hosted control plane clusters or clusters not using Security Token Service (STS)":a&&"This operation is not available during maintenance")||n&&"This operation is not available while cluster is hibernating"||!t&&"You do not have permission to edit routers. Only cluster owners, cluster editors, and organization administrators can edit routers."})({canEdit:D,isReadOnly:L,isSTSEnabled:N,clusterHibernating:w,hypershiftCluster:F});return n.default.createElement(s.Card,{className:"ocm-c-networking-cluster-ingress__card"},n.default.createElement(s.CardTitle,null,"Cluster ingress"),n.default.createElement(s.CardBody,{className:"ocm-c-networking-cluster-ingress__card--body"},n.default.createElement(s.Form,{isHorizontal:!0},n.default.createElement(s.FormGroup,{fieldId:"console_url",label:"Cluster console URL",isStack:!0},null!=C&&C.length?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.ClipboardCopy,{name:"console_url",isReadOnly:!0},C),k&&n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.small},n.default.createElement("a",{href:C,target:"_blank",rel:"noopener noreferrer"},"Open console")))):n.default.createElement(s.TextInput,{value:"N/A",type:"text",readOnlyVariant:"default"})),n.default.createElement(s.FormGroup,{fieldId:"control_plane_api_endpoint",label:"Control Plane API endpoint",isStack:!0},n.default.createElement(s.ClipboardCopy,{name:"control_plane_api_endpoint",isReadOnly:!0},y),n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.small},(I||(0,o.isRestrictedEnv)()?"Private":"Public")+" API"))),R&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.FormGroup,{fieldId:"additional_router_address",label:"Additional router",isStack:!0},n.default.createElement(s.TextInput,{id:"additional_router_address",value:`*.${T}`,readOnlyVariant:"default"}),n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.small},(P||(0,o.isRestrictedEnv)()?"Private":"Public")+" router"))),n.default.createElement(s.FormGroup,{fieldId:"labels_additional_router",label:"Label match",isStack:!0},Array.isArray(O)&&n.default.createElement(s.LabelGroup,{isCompact:!0},O.map((e=>n.default.createElement(s.Label,{isCompact:!0,color:"blue"},e)))))),n.default.createElement(f.default,{provider:b,refreshCluster:h,cluster:S,clusterRoutersData:_}))),!(0,o.isRestrictedEnv)()&&n.default.createElement(s.CardFooter,null,n.default.createElement(s.ActionList,null,n.default.createElement(u.default,{variant:"secondary",onClick:()=>{M(c.modalActions.openModal(d.default.EDIT_CLUSTER_INGRESS))},disableReason:x,isAriaDisabled:!!x,"data-testid":"edit-cluster-ingress"},"Edit cluster ingress"))))};g.propTypes={refreshCluster:r.default.func.isRequired,clusterRoutersData:r.default.array,cluster:r.default.object},t.default=g},58336:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(37731));t.default=n.default},43967:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(73729),u=a(13818),c=a(88851),d=a(5330),m=a(23196),p=a(79466),f=a(25514),E=l(a(65702)),g=a(75166),v=a(84037),h=l(a(55816)),_=l(a(8888)),S=l(a(28592)),b=a(91089),C=l(a(43775)),y=l(a(14419)),I=a(77218),A=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(82788));function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const P=e=>{var t,a,l,n,s,R,T,P,D;let{provider:L,cluster:N,refreshCluster:w,clusterRoutersData:k}=e;const F=null==N?void 0:N.id,M=null==N||null===(t=N.subscription)||void 0===t?void 0:t.rh_region_id,{isPending:x,isError:G,error:U,mutate:H}=(0,m.useEditClusterIngressMutation)(F,M),V=(0,o.useDispatch)(),B=(0,f.useGlobalState)((e=>(0,y.default)(e,C.default.EDIT_CLUSTER_INGRESS))),q=(0,A.default)(k),j=2===Object.keys(q).length,z=null===(a=N.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.type,W="internal"===(null===(l=N.api)||void 0===l?void 0:l.listening),$=null===(n=N.api)||void 0===n?void 0:n.url,K=!j||z===g.knownProducts.ROSA,Y=j?q.additional.address:`apps2${null===(s=q.default)||void 0===s?void 0:s.address.substr(4)}`,Q=(null==N?void 0:N.openshift_version)||(null==N||null===(R=N.version)||void 0===R?void 0:R.raw_id)||"",Z=()=>{(0,p.refetchGetClusterRouters)(),V(b.modalActions.closeModal())},X="aws"===L,J=G?r.default.createElement(h.default,{message:"Error editing cluster ingress",response:U}):null,ee=r.default.createElement(u.Alert,{id:"privacySettingsWarningBox",title:"Editing the privacy settings may require additional actions in your cloud provider account to maintain access.",variant:u.AlertVariant.warning,isPlain:!0,isInline:!0},X&&r.default.createElement(_.default,{href:E.default.OSD_PRIVATE_CLUSTER},"Learn more about cluster privacy"));return B?r.default.createElement(i.Formik,{initialValues:{control_plane_api_endpoint:(null===(T=N.api)||void 0===T?void 0:T.url)||void 0,private_api:W,enable_additional_router:j,private_additional_router:!(null==q||null===(P=q.additional)||void 0===P||!P.isPrivate),labels_additional_router:(0,A.routeSelectorsAsString)(null==q||null===(D=q.additional)||void 0===D?void 0:D.routeSelectors)},onSubmit:e=>{const t=O(O({},q),{},{APIPrivate:W}),a=O({},e);H({formData:a,currentData:t},{onSuccess:()=>{w(),Z()}})}},(e=>{let{handleSubmit:t,isValid:a,dirty:l,getFieldProps:n,getFieldMeta:s,initialValues:o}=e;const m=!!o.enable_additional_router,p=m&&(f=Q,(0,c.isExactMajorMinor)(f,4,11)||(0,c.isExactMajorMinor)(f,4,12));var f;const E=m&&!o.labels_additional_router&&o.private_additional_router;return r.default.createElement(S.default,{width:"max(35%, 550px)",primaryText:"Save",secondaryText:"Cancel",title:"Edit cluster ingress",onClose:Z,onPrimaryClick:t,onSecondaryClick:Z,isPending:x,isPrimaryDisabled:!a||!l},J,r.default.createElement(u.Form,{id:"cluster-ingress-form",onSubmit:t},ee,E?r.default.createElement(u.Alert,{id:"routerVisibilityWarningBox",title:"All routers will be exposed publicly because there is no label match on the additional application router. This is a potential security risk.",variant:u.AlertVariant.warning,isPlain:!0,isInline:!0}):null,r.default.createElement(u.FormGroup,{fieldId:"control_plane_api_endpoint",label:"Control Plane API endpoint",isStack:!0},r.default.createElement(u.ClipboardCopy,{name:"control_plane_api_endpoint",isReadOnly:!0},$),r.default.createElement(i.Field,{component:d.CheckboxField,name:"private_api",label:"Make API private"})),K?null:r.default.createElement(u.ExpandableSection,{toggleText:"Advanced options"},r.default.createElement(u.Form,null,r.default.createElement(u.FormGroup,{fieldId:"enable_additional_router",isStack:!0},r.default.createElement(i.Field,{component:d.CheckboxField,name:"enable_additional_router",label:"Enable additional router",extendedHelpText:"The use of an additional router is deprecated in favor of the single application ingress. Since it has already been enabled, the additional router can be still edited for 4.11 and 4.12 versions but once disabled, it can not be re-enabled again. In the 4.13+ versions, the additional router can not be edited but disabled only."})),r.default.createElement(u.FormGroup,{fieldId:"additional_router_address",isStack:!0},r.default.createElement(u.TextInput,{id:"additional_router_address",value:`*.${Y}`,readOnlyVariant:"default"}),r.default.createElement(i.Field,{component:d.CheckboxField,name:"private_additional_router",label:"Make router private",isDisabled:!p})),r.default.createElement(i.Field,{component:I.ReduxVerticalFormGroup,"aria-label":"Additional Router Labels",name:"labels_additional_router",label:"Label match for additional router (optional)",type:"text",helpText:"Comma separated pairs in key=value format. If no label is specified, all routes will be exposed on both routers.",validate:v.checkLabelsAdditionalRouter,key:"route_selectors",readOnlyVariant:p?void 0:"default",meta:s("labels_additional_router"),input:n("labels_additional_router")})))))})):null};P.propTypes={provider:s.default.string,clusterRoutersData:s.default.array,cluster:s.default.object,refreshCluster:s.default.func.isRequired},t.default=P},18370:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43967));t.default=n.default},78859:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=a(88139),i=l(a(5556)),s=a(73729),o=a(93413),u=a(91089),c=l(a(43775)),d=l(a(14419)),m=a(35777),p=a(41955),f=a(25514),E=l(a(15));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const v=(e,t)=>e!==t?e:void 0,h=e=>{var t,a,l;let{cluster:i,region:g}=e;const h=(0,s.useDispatch)(),_=(0,f.useGlobalState)((e=>(0,d.default)(e,c.default.EDIT_CLUSTER_WIDE_PROXY))),{isPending:S,isError:b,error:C,mutate:y,reset:I}=(0,m.useEditCluster)(i.id,g),A={clusterID:i.id,http_proxy_url:null===(t=i.proxy)||void 0===t?void 0:t.http_proxy,https_proxy_url:null===(a=i.proxy)||void 0===a?void 0:a.https_proxy,no_proxy_domains:(0,o.stringToArray)(null===(l=i.proxy)||void 0===l?void 0:l.no_proxy)},R=(0,n.useCallback)((()=>{h(u.modalActions.closeModal()),I(),(0,p.invalidateClusterDetailsQueries)()}),[]);return _?n.default.createElement(r.Formik,{initialValues:A,onSubmit:async e=>{const t={proxy:{http_proxy:v(e.http_proxy_url,A.http_proxy_url),https_proxy:v(e.https_proxy_url,A.https_proxy_url),no_proxy:v((0,o.arrayToString)(e.no_proxy_domains),(0,o.arrayToString)(A.no_proxy_domains))},additional_trust_bundle:v(e.additional_trust_bundle,A.additional_trust_bundle)};y(t,{onSuccess:()=>R()})}},(e=>{let{submitForm:t}=e;return n.default.createElement(E.default,{submitForm:t,isClusterEditPending:S,isClusterEditError:b,clusterEditError:null==C?void 0:C.error,handleClose:R})})):null};h.propTypes={cluster:i.default.object,region:i.default.string},t.default=h},59172:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(78859));t.default=n.default},42398:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818);a(3707);const s=e=>{let{network:t}=e;return n.default.createElement(i.Card,{className:"ocm-c-networking-network-configuration__card"},n.default.createElement(i.CardTitle,null,"CIDR ranges"),n.default.createElement(i.CardBody,{className:"ocm-c-networking-network-configuration__card--body"},n.default.createElement(i.DescriptionList,null,n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Machine CIDR"),n.default.createElement(i.DescriptionListDescription,null,t.machine_cidr||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Service CIDR"),n.default.createElement(i.DescriptionListDescription,null,t.service_cidr||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Pod CIDR"),n.default.createElement(i.DescriptionListDescription,null,t.pod_cidr||"N/A")),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Host prefix"),n.default.createElement(i.DescriptionListDescription,null,`/${t.host_prefix}`||"N/A")))))};s.propTypes={network:r.default.object.isRequired},t.default=s},12167:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(93413),u=l(a(43775)),c=a(62384),d=a(91089),m=l(a(59172));a(9008);const p=e=>{var t,a,l,r,p,f,E,g;let{cluster:v}=e;const h=(0,i.useDispatch)(),_=null===(t=v.aws)||void 0===t?void 0:t.private_link,S=null===(a=v.proxy)||void 0===a?void 0:a.http_proxy,b=null===(l=v.proxy)||void 0===l?void 0:l.https_proxy,C=(0,o.stringToArray)(null===(r=v.proxy)||void 0===r?void 0:r.no_proxy),y=v.additional_trust_bundle,I=null===(p=v.gcp_network)||void 0===p?void 0:p.vpc_name,A=(null===(f=v.aws)||void 0===f?void 0:f.subnet_ids)||v.gcp_network,R=null===(E=v.gcp)||void 0===E||null===(E=E.private_service_connect)||void 0===E?void 0:E.service_attachment_subnet,T=null===(g=v.subscription)||void 0===g?void 0:g.rh_region_id,O=void 0!==_,P=C?C.map((e=>n.default.createElement(s.Label,{isCompact:!0,color:"blue"},e))):"N/A";return A?n.default.createElement(s.Card,{className:"ocm-c-networking-vpc-details__card"},n.default.createElement(s.CardTitle,null,n.default.createElement(s.Title,{headingLevel:"h2",className:"card-title"},"Virtual Private Cloud (VPC)")),n.default.createElement(s.CardBody,{className:"ocm-c-networking-vpc-details__card--body pf-v5-l-stack pf-m-gutter"},I||O||R?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Title,{headingLevel:"h3",className:"pf-v5-l-stack__item"},"VPC Details"),n.default.createElement(s.DescriptionList,{isHorizontal:!0,className:"pf-v5-l-stack__item pf-m-auto-column-widths details-card-dl"},I?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"VPC name"),n.default.createElement(s.DescriptionListDescription,null,I)):null,O?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"PrivateLink"),n.default.createElement(s.DescriptionListDescription,null,_?"Enabled":"Disabled")):null,R?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Private Service Connect Subnet"),n.default.createElement(s.DescriptionListDescription,null,R)):null)):null,n.default.createElement(s.Title,{headingLevel:"h3",className:"pf-v5-l-stack__item --"},"Cluster-wide Proxy"),n.default.createElement(s.DescriptionList,{isHorizontal:!0,className:"pf-v5-l-stack__item details-card-dl"},n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"HTTP proxy URL"),n.default.createElement(s.DescriptionListDescription,null,S||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"HTTPS proxy URL"),n.default.createElement(s.DescriptionListDescription,null,b||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Additional trust bundle"),n.default.createElement(s.DescriptionListDescription,null,("REDACTED"===y?"Uploaded":y)||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"No Proxy domains"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(s.LabelGroup,{isCompact:!0},P)))),n.default.createElement(m.default,{region:T,cluster:v})),!(0,c.isRestrictedEnv)()&&n.default.createElement(s.CardFooter,null,n.default.createElement(s.Button,{variant:"secondary",onClick:()=>{h(d.modalActions.openModal(u.default.EDIT_CLUSTER_WIDE_PROXY))}},"Edit cluster-wide proxy"))):null};p.propTypes={cluster:r.default.object.isRequired},t.default=p},16262:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(12167));t.default=n.default},81911:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818);function s(e){let{awsSubnets:t,gcpNetwork:a}=e;return 0!==t.length||a?n.default.createElement(i.Card,{className:"ocm-c-networking-network-configuration__card"},n.default.createElement(i.CardTitle,null,"VPC subnets (",((e,t)=>t?2:e)(t.length,a),")"),n.default.createElement(i.CardBody,{className:"ocm-c-networking-network-configuration__card--body"},t.length>0?n.default.createElement(i.List,{isPlain:!0},t.map((e=>n.default.createElement(i.ListItem,null,e)))):null,a?n.default.createElement(i.DescriptionList,null,n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Control plane subnet"),n.default.createElement(i.DescriptionListDescription,null,a.control_plane_subnet)),n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Compute subnet"),n.default.createElement(i.DescriptionListDescription,null,a.compute_subnet))):null)):null}s.propTypes={awsSubnets:r.default.arrayOf(r.default.string),gcpNetwork:r.default.shape({control_plane_subnet:r.default.string,compute_subnet:r.default.string})},s.defaultProps={awsSubnets:[]},t.default=s},54014:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(81911));t.default=n.default},96533:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(95273));t.default=n.default},89126:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818);function s(e){let{cluster:t}=e;return t.managed&&t.network&&n.default.createElement(i.DescriptionListGroup,null,n.default.createElement(i.DescriptionListTerm,null,"Network"),n.default.createElement(i.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},t.network.machine_cidr&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Machine CIDR: "),n.default.createElement("dd",{"data-testid":"machineCIDR"},t.network.machine_cidr)),t.network.service_cidr&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Service CIDR: "),n.default.createElement("dd",{"data-testid":"serviceCIDR"},t.network.service_cidr)),t.network.pod_cidr&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Pod CIDR: "),n.default.createElement("dd",{"data-testid":"podCIDR"},t.network.pod_cidr)),t.network.host_prefix&&n.default.createElement(i.Flex,null,n.default.createElement("dt",null,"Host prefix: "),n.default.createElement("dd",{"data-testid":"hostPrefix"},t.network.host_prefix)))))||null}s.propTypes={cluster:r.default.object.isRequired},t.default=s},52363:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(13818),o=a(7019),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),c=l(a(81621)),d=a(98002),m=a(3089),p=l(a(71210)),f=l(a(16309)),E=l(a(26675)),g=l(a(67148));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}const h=e=>{var t;let{cluster:a}=e;const l=(0,u.isClusterUpgrading)(a),i=(null==a?void 0:a.state)===u.default.READY,v=(0,c.default)(a),h=(0,r.default)(a,"metrics.channel"),_=(0,u.isHypershiftCluster)(a),S=null==a?void 0:a.id,b=null==a?void 0:a.managed,{data:C}=(0,d.useGetSchedules)(S,_),{data:y}=(0,m.useFetchUpgradeGatesFromApi)(b),[I,A]=n.default.useState(!1),R=null==C?void 0:C.items.find((e=>{var t;return e.version!==(null===(t=a.version)||void 0===t?void 0:t.raw_id)}));return n.default.createElement("div",null,n.default.createElement("dl",{className:"pf-v5-l-stack"},n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"OpenShift: "),n.default.createElement("dd",null,v,n.default.createElement(p.default,{cluster:a,hideOSDUpdates:!!R}),R&&"automatic"===R.schedule_type&&!l&&i?n.default.createElement(f.default,{clusterId:a.id,isHypershift:_,cluster:a,schedules:C,upgradeGates:y}):null)),R&&"manual"===R.schedule_type&&n.default.createElement("div",null,n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Update scheduled: "),n.default.createElement("dd",null,n.default.createElement(s.Popover,{headerContent:"Update status",isVisible:I,shouldOpen:()=>A(!0),shouldClose:()=>A(!1),bodyContent:n.default.createElement(E.default,{schedules:C,upgradeGates:y,cluster:a,clusterID:a.id,canEdit:a.canEdit,clusterVersion:v,scheduledUpgrade:R,availableUpgrades:null===(t=a.version)||void 0===t?void 0:t.available_upgrades,onCancelClick:()=>A(!1)})},n.default.createElement(s.Button,{variant:"link",className:"cluster-inline-link pf-v5-u-mt-0"},"View details ",n.default.createElement(o.OutlinedQuestionCircleIcon,null)))))),!a.managed&&!l&&n.default.createElement("div",null,n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Life cycle state: "),n.default.createElement("dd",null,n.default.createElement(g.default,{clusterVersion:v})))),h&&n.default.createElement("div",null,n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Update channel: "),n.default.createElement("dd",null,h)))))};h.propTypes={cluster:i.default.shape({id:i.default.string.isRequired,openshift_version:i.default.string,managed:i.default.bool,version:i.default.shape({channel_group:i.default.string,available_upgrades:i.default.arrayOf(i.default.string),raw_id:i.default.string}),canEdit:i.default.bool,state:i.default.string})},t.default=h},73619:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(52363));t.default=n.default},17257:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(13818),o=a(23271),u=l(a(26765)),c=a(11243),d=a(976),m=a(75166),p=l(a(55213)),f=l(a(4605)),E=l(a(56859)),g=l(a(40633)),v=l(a(73619));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function _(e){var t,a,l,i;let{cluster:h,cloudProviders:_,showAssistedId:S}=e;const b=h.cloud_provider?h.cloud_provider.id:null,C=null==h||null===(t=h.region)||void 0===t?void 0:t.id,y=(0,r.default)(h,"subscription.plan.type")===m.normalizedProducts.ROSA,I=(0,o.isHypershiftCluster)(h),A=(null==h||null===(a=h.subscription)||void 0===a||null===(a=a.plan)||void 0===a?void 0:a.type)===m.normalizedProducts.RHOIC,R=(0,c.useFeatureGate)(d.OSD_GCP_WIF)&&(0,o.isGCP)(h)&&(0,o.isCCS)(h),T="WifConfig"===(null==h||null===(l=h.gcp)||void 0===l||null===(l=l.authentication)||void 0===l?void 0:l.kind)?"Workload Identity Federation":"Service Account";let O;O=b&&_&&_[b]?_[b].display_name||"N/A":b?b.toUpperCase():"N/A";const{id:P,idLabel:D}=((e,t)=>{let a="Cluster ID",l=(0,r.default)(e,"external_id","N/A");const n=(0,r.default)(e,"aiCluster.id","N/A");return t&&n&&(a=`Assisted cluster ID / ${a}`,l=`${n} / ${l}`),{id:l,idLabel:a}})(h,S),L=I?"Hosted":"Classic",N=(0,r.default)(h,"aws.private_hosted_zone_id",!1),w=null==h?void 0:h.domain_prefix,k=(0,n.useMemo)((()=>"boolean"==typeof h.multi_az?h.multi_az?"Multi-zone":"Single zone":"N/A"),[h.multi_az]);return n.default.createElement(s.DescriptionList,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,D),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"clusterID"},P))),w&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Domain prefix"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"domainPrefix"},w))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Type"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(E.default,{cluster:h}))),I&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Control plane type"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"controlType"},n.default.createElement("span",{"data-testid":"controlPlaneType"},L))),!A||A&&C?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Region"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"region"},C||"N/A"))):null,!y&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Provider"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"provider"},O))),R&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Authentication type"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",null,T))),h.managed&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Availability"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"availability"},k))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Version",I&&n.default.createElement(p.default,{iconClassName:"pf-v5-u-ml-sm",hint:"This version is only for the control plane. Worker nodes may have a different version."})),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(v.default,{cluster:h}))),!!N&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Shared VPC hosted zone ID"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",null,N))),!I&&h.fips&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Encryption level"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},n.default.createElement("dt",{"data-testid":"fipsCryptographyStatus"},"FIPS Cryptography enabled")))),null!=h&&null!==(i=h.aws)&&void 0!==i&&i.kms_key_arn?n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Encrypt volumes with custom keys"),n.default.createElement(s.DescriptionListDescription,null,"Enabled")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Custom KMS key ARN"),n.default.createElement(s.DescriptionListDescription,null,h.aws.kms_key_arn))):null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Created at"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(f.default,{value:(0,r.default)(h,"creation_timestamp","N/A")}))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Owner"),n.default.createElement(s.DescriptionListDescription,null,(0,r.default)(h,"subscription.creator.name")||(0,r.default)(h,"subscription.creator.username","N/A"))),h.managed&&!y&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Subscription billing model"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"subscription-billing-model"},(0,u.default)(h))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Infrastructure billing model"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"infrastructure-billing-model"},n.default.createElement(g.default,{cluster:h})))))}_.propTypes={cluster:i.default.any,cloudProviders:i.default.object.isRequired,showAssistedId:i.default.bool.isRequired},t.default=_},86039:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(13818),o=a(10135),u=a(94675),c=a(62243),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),m=l(a(10501)),p=a(98552),f=a(54910),E=l(a(9435)),g=l(a(55909)),v=a(81773),h=a(62384),_=a(13642),S=l(a(65702)),b=a(22902),C=a(74688),y=l(a(8888)),I=l(a(55213)),A=l(a(4605)),R=a(49484),T=l(a(52865)),O=a(48539),P=l(a(47828)),D=l(a(89126)),L=l(a(58438)),N=a(71785);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function k(e){var t,a,l,i,w,k,F,M,x,G,U,H,V,B,q,j,z,W,$;let{cluster:K,hasAutoscaleCluster:Y,isDeprovisioned:Q,clusterDetailsFetching:Z}=e;const X=(0,d.isHypershiftCluster)(K),J=null==K||null===(t=K.subscription)||void 0===t?void 0:t.rh_region_id,ee=null==K?void 0:K.id,te=null==K||null===(a=K.version)||void 0===a?void 0:a.id,{data:ae}=(0,v.useFetchMachineOrNodePools)(ee,X,te,J),le=(0,T.default)(K,ae),[ne,re]=n.default.useState(),[ie,se]=n.default.useState(),{hasMachinePoolWithAutoscaling:oe,totalMinNodesCount:ue,totalMaxNodesCount:ce,totalDesiredComputeNodes:de,totalActualNodes:me}=le;n.default.useEffect((()=>{var e;oe?re(!0):(re(!1),se((null==K||null===(e=K.status)||void 0===e?void 0:e.limited_support_reason_count)>0))}),[le,null==K||null===(l=K.status)||void 0===l?void 0:l.limited_support_reason_count,oe]);const pe=(0,g.default)(null==K||null===(i=K.subscription)||void 0===i||null===(i=i.plan)||void 0===i?void 0:i.type,null==K||null===(w=K.subscription)||void 0===w?void 0:w.cluster_billing_model,null==K||null===(k=K.subscription)||void 0===k?void 0:k.capabilities),fe="aws"===(null===(F=K.subscription)||void 0===F?void 0:F.cloud_provider_id),Ee="gcp"===(null===(M=K.subscription)||void 0===M?void 0:M.cloud_provider_id),ge=(0,d.isROSA)(K),ve=(null===(x=K.subscription)||void 0===x?void 0:x.cloud_account_id)||null,he=X&&(null===(G=K.aws)||void 0===G||null===(G=G.etcd_encryption)||void 0===G?void 0:G.kms_key_arn),{clusterVpc:_e}=(0,p.useAWSVPCFromCluster)(K),Se=(0,C.humanizeValueWithUnit)((0,r.default)(K,"metrics.memory.total.value",0),(0,r.default)(K,"metrics.memory.total.unit","B")),be="true"===(0,o.getQueryParam)("showWorkerNodesTogether"),Ce=(0,r.default)(K,"subscription.status","")===_.SubscriptionCommonFields.status.DISCONNECTED,ye=(0,r.default)(K,"subscription.billing_marketplace_account",""),Ie=K.managed,Ae=!X&&(!K.managed&&(0,r.default)(K,"metrics.nodes.infra",null)||(0,r.default)(K,"nodes.infra",0)>0),Re=(0,r.default)(K,"metrics.sockets.total.value",0)>0,Te=K.managed&&K.storage_quota&&(0,C.humanizeValueWithUnitGiB)(K.storage_quota.value),Oe=!Ce&&!Re&&!(0,h.isRestrictedEnv)(),Pe=!Ce&&!(0,h.isRestrictedEnv)(),De=(0,r.default)(K,"metrics.nodes.master","-"),Le=(0,r.default)(K,"nodes.master","-"),Ne=(0,r.default)(K,"metrics.nodes.infra","-"),we=(0,r.default)(K,"nodes.infra","-"),ke=(0,r.default)(K,"cloud_provider.id","-"),Fe=!1===me?"-":me,Me=de||"-",xe=null===(U=K.aws)||void 0===U||null===(U=U.sts)||void 0===U?void 0:U.oidc_config,Ge=(null===(H=K.aws)||void 0===H?void 0:H.ec2_metadata_http_tokens)||f.IMDSType.V1AndV2,Ue=Ee&&!Q,He=Ee&&(null===(V=K.gcp)||void 0===V||null===(V=V.security)||void 0===V?void 0:V.secure_boot),Ve=K.managed&&!(0,O.isArchivedSubscription)(K),Be=K.state===d.default.UNINSTALLING;return n.default.createElement(s.DescriptionList,null,Ve?n.default.createElement(L.default,{clusterID:K.id,region:null===(B=K.subscription)||void 0===B?void 0:B.rh_region_id,protectionEnabled:null===(q=K.delete_protection)||void 0===q?void 0:q.enabled,canToggle:K.canUpdateClusterResource,pending:Z,isUninstalling:Be}):null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Status"),n.default.createElement(s.DescriptionListDescription,{style:K.state.style},(0,b.isAISubscriptionWithoutMetrics)(K.subscription)?n.default.createElement("div",{"data-testid":"aiSubscriptionWithoutMetric"},n.default.createElement(E.default,{status:K.metrics.state,className:"clusterstate"})):n.default.createElement(n.default.Fragment,null,n.default.createElement(N.ClusterStatus,{cluster:K,limitedSupport:ie,machinePools:ae}),ie?" - Limited support":null,(null==K||null===(j=K.status)||void 0===j?void 0:j.provision_error_code)&&n.default.createElement(s.DescriptionList,null," ",n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Details:"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(m.default,{clusterStatus:K.status,showErrorCode:!0}))))))),Oe&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Total vCPU"),n.default.createElement(s.DescriptionListDescription,null,K.metrics.cpu.total.value," vCPU")),Pe&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Total memory"),n.default.createElement(s.DescriptionListDescription,null,Se.value," ",Se.unit)),ve&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,`Infrastructure ${ke.toUpperCase()} account`),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":`infrastructure${ke.toUpperCase()}Account`},ve))),he&&n.default.createElement(s.DescriptionListGroup,{"data-testid":"hs-etcd-encryption"},n.default.createElement(s.DescriptionListTerm,null,"KMS etcd encryption key ARN"),n.default.createElement(s.DescriptionListDescription,null,he)),ge&&!X&&n.default.createElement(s.DescriptionListGroup,{"data-testid":"etcd-encryption-key"},n.default.createElement(s.DescriptionListTerm,null,"Additional encryption "),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"etcEncryptionStatus"},K.etcd_encryption?"Enabled":"Disabled"))),ye&&n.default.createElement(c.OverviewBillingAccount,null),K.managed&&!(null!==(z=K.ccs)&&void 0!==z&&z.enabled)&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Load balancers"),n.default.createElement(s.DescriptionListDescription,null,K.load_balancer_quota||"N/A")),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Persistent storage"),n.default.createElement(s.DescriptionListDescription,{"data-testid":"persistent-storage"},Te?`${Te.value}  ${Te.unit}`:"N/A"))),!(0,h.isRestrictedEnv)()&&(Ie&&!ne?n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Nodes",n.default.createElement("span",{className:"font-weight-normal"}," (actual/desired)"),n.default.createElement(I.default,{id:"cluster-scaling-hint",iconClassName:"nodes-hint",hint:"The actual number of compute nodes may not always match with the number of desired when the cluster is scaling."})),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},!X&&n.default.createElement(s.Flex,{"data-testid":"controlPlaneNodesCountContainer"},n.default.createElement("dt",null,"Control plane: "),n.default.createElement("dd",{"data-testid":"controlPlaneNodesCount"},"-"!==De||"-"!==Le?`${De}/${Le}`:"N/A")),Ae&&n.default.createElement(s.Flex,{"data-testid":"InfraNodesCountContainer"},n.default.createElement("dt",null,"Infra: "),n.default.createElement("dd",{"data-testid":"infraNodesCount"},"-"!==Ne||"-"!==we?`${Ne}/${we}`:"N/A")),n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Compute: "),n.default.createElement("dd",{"data-testid":"computeNodeCount"},"-"!==Fe||"-"!==Me?`${Fe}/${Me}`:"N/A"))))):n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Nodes"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},!X&&n.default.createElement(s.Flex,{"data-testid":"controlPlaneNodesCountContainer"},n.default.createElement("dt",null,"Control plane: "),n.default.createElement("dd",null,(0,r.default)(K,"metrics.nodes.master","N/A"))),Ae&&n.default.createElement(s.Flex,{"data-testid":"InfraNodesCountContainer"},n.default.createElement("dt",null,"Infra: "),n.default.createElement("dd",null,(0,r.default)(K,"metrics.nodes.infra","N/A"))),n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Compute: "),n.default.createElement("dd",null,me||"N/A")))))),(0,u.hasSecurityGroupIds)(K,ae)&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Additional security groups"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-l-stack","data-testid":"securityGroupsByNode"},n.default.createElement(P.default,{securityGroups:(null==_e?void 0:_e.aws_security_groups)||[],securityGroupIdsForControl:null==K||null===(W=K.aws)||void 0===W?void 0:W.additional_control_plane_security_group_ids,securityGroupIdsForInfra:null==K||null===($=K.aws)||void 0===$?void 0:$.additional_infra_security_group_ids,machinePoolData:ae,showLinkToMachinePools:(0,d.canViewMachinePoolTab)(K),showWorkerNodesTogether:be})))),K.aiCluster&&n.default.createElement(n.default.Fragment,null,n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Created at"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement(A.default,{value:(0,r.default)(K,"creation_timestamp","N/A")}))),n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Owner"),n.default.createElement(s.DescriptionListDescription,null,(0,r.default)(K,"subscription.creator.name")||(0,r.default)(K,"subscription.creator.username","N/A")))),pe&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Cluster autoscaling"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"clusterAutoscalingStatus"},Y?"Enabled":"Disabled"))),ne&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Autoscale",n.default.createElement(I.default,{id:"autoscaling-hint",iconClassName:"nodes-hint",hint:n.default.createElement(n.default.Fragment,null,R.constants.autoscaleHint," ",n.default.createElement(y.default,{href:S.default.APPLYING_AUTOSCALING},"Learn more about autoscaling"))})),n.default.createElement(s.DescriptionListDescription,null,"Enabled"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{className:"autoscale-data-t"},"Min:")," ",ue,n.default.createElement("span",{className:"pf-v5-u-ml-lg autoscale-data-t"},"Max: "),ce)),fe&&!X&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Instance Metadata Service (IMDS)"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"instanceMetadataService"},Ge===f.IMDSType.V1AndV2?"IMDSv1 and IMDSv2":"IMDSv2 only"))),n.default.createElement(D.default,{cluster:K}),Ue&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"Secure Boot support for Shielded VMs"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("span",{"data-testid":"secureBootSupportForShieldedVMs"},He?"Enabled":"Disabled"))),xe&&n.default.createElement(s.DescriptionListGroup,null,n.default.createElement(s.DescriptionListTerm,null,"OIDC Configuration"),n.default.createElement(s.DescriptionListDescription,null,n.default.createElement("dl",{className:"pf-v5-l-stack"},n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"Type:"),n.default.createElement("dd",null,null!=xe&&xe.managed?"Red Hat managed":"Self-managed")),n.default.createElement(s.Flex,null,n.default.createElement("dt",null,"ID:"),n.default.createElement("dd",null,null==xe?void 0:xe.id))))))}k.propTypes={cluster:i.default.any,isDeprovisioned:i.default.bool,hasAutoscaleCluster:i.default.bool,clusterDetailsFetching:i.default.bool},t.default=k},42145:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(86039));t.default=n.default},27596:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(93179),s=a(15626);const o=e=>{let{entries:t,issueCount:a,externalId:l}=e;return n.default.createElement(i.ChartDonut,{data:t.map((e=>{let[t,a]=e;return{label:`${s.riskLabels[t]} ${a}`,x:t,y:a}})),title:`${a}`,titleComponent:n.default.createElement(s.InsightsTitleComponent,{style:{}}),subTitle:"Total "+(1===a?"issue":"issues"),subTitleComponent:n.default.createElement(s.InsightsSubtitleComponent,{externalId:l,style:{}}),legendData:t.map((e=>{let[t,a]=e;return{name:`${a} ${s.riskLabels[t]}`}})),legendOrientation:"vertical",legendPosition:"right",constrainToVisibleArea:!0,width:350,height:200,colorScale:s.chartColorScale,legendComponent:n.default.createElement(i.ChartLegend,{data:t.map((e=>{let[t,a]=e;return{name:`${a} ${s.riskLabels[t]}`,id:t,value:a}})),labelComponent:n.default.createElement(s.InsightsLabelComponent,{externalId:l,style:{}}),dataComponent:n.default.createElement(s.InsightsLegendIconComponent,null),x:200}),radius:80,padAngle:0,padding:{bottom:0,left:10,right:170,top:20}})};t.default=o,o.propTypes={entries:r.default.array.isRequired,issueCount:r.default.number.isRequired,externalId:r.default.string.isRequired}},8978:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345));t.default=e=>n.default.createElement("svg",{x:"3.5",y:"2.5"},n.default.createElement("svg",e,n.default.createElement("polygon",{points:"10 10, 10 3, 5 0, 0 3, 0 10, 5 8"})))},8705:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(5556),i=a(13818),s=l(a(42601)),o=a(26839),u=l(a(27596));a(48646);const c=e=>{let{insightsData:t,externalId:a}=e;const l=t.data?t.data.filter((e=>!e.disabled)):[],r=Object.entries((0,o.groupRulesByRisk)(l)).reverse();return n.default.createElement(i.Flex,null,n.default.createElement(i.FlexItem,null,n.default.createElement(i.Title,{className:"ocm-c-overview-advisor--card__title",size:"lg",headingLevel:"h2"},"Advisor recommendations"),n.default.createElement(s.default,null)),n.default.createElement(i.FlexItem,null,n.default.createElement(u.default,{entries:r,issueCount:l.length,externalId:a})))};c.propTypes={insightsData:r.PropTypes.object,externalId:r.PropTypes.string.isRequired},t.default=c},15626:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.riskLabels=t.riskIcons=t.legendColorScale=t.chartColorScale=t.InsightsTitleComponent=t.InsightsSubtitleComponent=t.InsightsLegendIconComponent=t.InsightsLabelComponent=void 0;var n=l(a(94634)),r=l(a(43693)),i=l(a(91847)),s=l(a(93345)),o=a(5556),u=a(93179),c=a(80613),d=a(16082),m=a(39636),p=a(95832),f=a(27468),E=a(61927),g=a(4966),v=a(53242),h=a(69304),_=l(a(8978));const S=["style"],b=["style"],C=["externalId","style"];function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.riskLabels={1:"Low",2:"Moderate",3:"Important",4:"Critical"};const A=t.riskIcons={1:c.AngleDoubleDownIcon,2:m.EqualsIcon,3:d.AngleDoubleUpIcon,4:_.default},R=t.legendColorScale={1:f.global_palette_blue_300.value,2:E.global_palette_gold_400.value,3:g.global_palette_orange_300.value,4:v.global_palette_red_200.value},T=(t.chartColorScale=[v.global_palette_red_200.value,g.global_palette_orange_300.value,E.global_palette_gold_400.value,p.global_palette_blue_50.value],e=>{let{style:t}=e,a=(0,i.default)(e,S);return s.default.createElement(u.ChartLabel,(0,n.default)({},a,{style:I(I({},t),{},{fontSize:30,fontWeight:"bold"})}))});t.InsightsTitleComponent=T;const O=e=>{let{style:t}=e,a=(0,i.default)(e,b);const{datum:l,externalId:r}=a,o=`${h.advisorBaseName}/clusters/${r}?total_risk=${l.id}`;return s.default.createElement("a",{href:o},s.default.createElement(u.ChartLabel,(0,n.default)({},a,{style:I(I({},t),{},{fontSize:15}),className:r&&(null==l?void 0:l.value)>0?"ocm-c-overview-advisor--enabled-link":"ocm-c-overview-advisor--disabled-link"})))};t.InsightsLabelComponent=O;const P=e=>{let{x:t,y:a,datum:l}=e;const n=A[l.id];return s.default.createElement(n,{x:t-5,y:a-7,fill:R[l.id]})};t.InsightsLegendIconComponent=P;const D=e=>{let{externalId:t,style:a}=e,l=(0,i.default)(e,C);const r=`${h.advisorBaseName}/clusters/${t}`;return s.default.createElement("a",{href:r},s.default.createElement(u.ChartLabel,(0,n.default)({},l,{style:I(I({},a),{},{fontSize:15}),dy:5,className:"ocm-c-overview-advisor--enabled-link"})))};t.InsightsSubtitleComponent=D,D.propTypes={externalId:o.PropTypes.string.isRequired,style:o.PropTypes.object.isRequired},O.propTypes={datum:o.PropTypes.shape({value:o.PropTypes.number,id:o.PropTypes.string}),externalId:o.PropTypes.string.isRequired,style:o.PropTypes.object.isRequired},T.propTypes={style:o.PropTypes.object.isRequired},P.propTypes={x:o.PropTypes.number,y:o.PropTypes.number,datum:o.PropTypes.shape({id:o.PropTypes.string})}},44255:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.installationLogActions=t.getLogs=t.clearLogs=void 0;var n=l(a(43693)),r=a(90020),i=a(99225);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"install";return l=>l({type:i.installationLogConstants.GET_LOGS,payload:r.clusterService.getLogs(e,t,a).then((e=>o(o({},e),{},{logType:a})))})};t.getLogs=u;const c=()=>e=>e({type:i.installationLogConstants.CLEAR_LOGS});t.clearLogs=c,t.installationLogActions={getLogs:u,clearLogs:c}},99225:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.installationLogConstants=t.GET_LOGS=t.CLEAR_LOGS=void 0;const a=t.GET_LOGS="GET_LOGS",l=t.CLEAR_LOGS="CLEAR_LOGS";t.installationLogConstants={GET_LOGS:a,CLEAR_LOGS:l}},34544:(e,t,a)=>{"use strict";var l=a(24994);t.To=m;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(95762),o=a(99225);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d=c(c({},s.baseRequestState),{},{lines:"",len:0,logType:void 0});function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(a=>{switch(t.type){case(0,s.PENDING_ACTION)(o.GET_LOGS):a.pending=!0;break;case(0,s.FULFILLED_ACTION)(o.GET_LOGS):{let a,l;return t.payload.logType===e.logType?(a=t.payload.data.content?e.lines+t.payload.data.content:e.lines,l=t.payload.data.content?e.len+t.payload.data.content.split("\n").length:e.len):(a=t.payload.data.content||"",l=t.payload.data.content?t.payload.data.content.split("\n").length:0),c(c({},d),{},{lines:a,len:l,fulfilled:!0,logType:t.payload.logType})}case(0,s.REJECTED_ACTION)(o.GET_LOGS):return c(c(c({},d),(0,i.getErrorState)(t)),{},{lines:e.lines,len:e.len});case o.CLEAR_LOGS:return d}}))}m.initialState=d},89753:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(46942)),s=l(a(5556)),o=l(a(45041)),u=a(13818),c=a(87503),d=l(a(23271)),m=a(59910);class p extends r.default.Component{constructor(e){super(e),(0,n.default)(this,"state",{userScrolled:!1,isFullScreen:!1,isExpanded:!1}),(0,n.default)(this,"isShown",(()=>{const{isExpanded:e}=this.state,{isExpandable:t}=this.props;return!t||e})),(0,n.default)(this,"toggleExpanded",(e=>{this.setState({isExpanded:e})})),(0,n.default)(this,"scrollToEnd",(()=>{const{lines:e}=this.props;if(e){const e=this.logPaneRef.current;e&&e.scrollTo&&e.scrollTo({top:e.scrollHeight})}})),(0,n.default)(this,"onScroll",(e=>{const{userScrolled:t}=this.state,a=e.target,l=a.scrollHeight-a.clientHeight-a.scrollTop;!t&&l>20&&this.isPageVisible&&this.isShown()&&this.setState({userScrolled:!0}),t&&l<=20&&this.setState({userScrolled:!1})})),(0,n.default)(this,"onFullscreenChange",(()=>{const{userScrolled:e}=this.state,t=o.default.isFullscreen;this.setState({isFullScreen:t}),e||this.scrollToEnd()})),(0,n.default)(this,"onVisibilityChange",(()=>{null!==this.updateTimer&&window.clearInterval(this.updateTimer),this.isPageVisible="visible"===document.visibilityState,this.isShown()&&(this.isPageVisible?(this.updateTimer=window.setInterval(this.update,2e3),this.update()):this.updateTimer=window.setInterval(this.update,15e3))})),(0,n.default)(this,"update",(()=>{const{getLogs:e,cluster:t,lines:a,len:l,logType:n,pending:r,errorCode:i}=this.props;if(!r&&403!==i){const r=t.state!==d.default.UNINSTALLING?"install":"uninstall";let i=a?l:0;n!==r&&(i=0),e(t.id,i,r)}})),(0,n.default)(this,"fullScreen",(()=>{const{userScrolled:e}=this.state;if(o.default.isFullscreen)o.default.exit().then((()=>{this.setState({isFullScreen:!1})}));else{const t=this.cardRef.current;o.default.request(t).then((()=>{e||setTimeout((()=>{this.scrollToEnd()}),100),this.setState({isFullScreen:!0})}))}})),this.logPaneRef=r.default.createRef(),this.cardRef=r.default.createRef()}componentDidMount(){this.isShown()&&(this.update(),this.updateTimer=window.setInterval(this.update,2e3)),o.default.isEnabled&&o.default.on("change",this.onFullscreenChange),document.addEventListener("visibilitychange",this.onVisibilityChange),this.isPageVisible="visible"===document.visibilityState}shouldComponentUpdate(e,t){return t.userScrolled!==this.state.userScrolled||t.isExpanded!==this.state.isExpanded||t.isFullScreen!==this.state.isFullScreen||e.lines!==this.props.lines||e.cluster.state!==this.props.cluster.state||e.cluster.id!==this.props.cluster.id||e.errorCode!==this.props.errorCode||e.logType!==this.props.logType||e.isExpandable!==this.props.isExpandable}componentDidUpdate(e,t){const{lines:a,errorCode:l,cluster:n}=this.props,{isExpanded:r}=this.state;!e.lines&&a&&this.setState({userScrolled:!1}),(403!==e.errorCode&&403===l||n.state===d.default.ERROR)&&null!==this.updateTimer&&window.clearInterval(this.updateTimer),r!==t.isExpanded&&(r&&this.setState({userScrolled:!1}),this.onVisibilityChange())}componentWillUnmount(){const{clearLogs:e}=this.props;null!==this.updateTimer&&window.clearInterval(this.updateTimer),o.default.isEnabled&&o.default.off("change",this.onFullscreenChange),document.removeEventListener("visibilitychange",this.onVisibilityChange),e(),o.default.isFullscreen&&o.default.exit()}render(){const{lines:e,len:t,errorCode:a,cluster:l,isExpandable:n}=this.props,{userScrolled:s,isFullScreen:p,isExpanded:f}=this.state,E=e?t-1:0;let g;!s&&E&&this.isShown()&&requestAnimationFrame(this.scrollToEnd),g=l.state===d.default.UNINSTALLING?403===a?m.metricsStatusMessages.uninstalling:"Cluster uninstallation has started. Uninstallation log will appear here once it becomes available.":403===a?m.metricsStatusMessages.installing:"Cluster installation has started. Installation log will appear here once it becomes available.";const v=r.default.createElement("div",{className:(0,i.default)("log-window-container",!!E&&"log-window-container--with-lines"),ref:this.cardRef},!!E&&o.default.isEnabled&&r.default.createElement("div",{className:"logview-buttons"},r.default.createElement(u.Button,{onClick:this.fullScreen,variant:"link",icon:r.default.createElement(c.ExpandIcon,null)},p?"Exit full screen":"Full screen")),E?r.default.createElement("div",{className:"log-window"},r.default.createElement("div",{className:"log-window__header"},E," lines"),r.default.createElement("div",{className:"log-window__body"},r.default.createElement("div",{className:"log-window__scroll-pane",ref:this.logPaneRef,onScroll:this.onScroll},r.default.createElement("div",{className:"log-window__contents"},e||"")))):l.state!==d.default.ERROR&&r.default.createElement("p",{className:"pf-v5-u-mt-sm"},g));return n?r.default.createElement(u.ExpandableSection,{id:"toggle-logs",toggleTextCollapsed:"View logs",toggleTextExpanded:"Hide logs",onToggle:(e,t)=>this.toggleExpanded(t),isExpanded:f,isActive:!p},v):v}}p.propTypes={isExpandable:s.default.bool,clearLogs:s.default.func.isRequired,getLogs:s.default.func.isRequired,pending:s.default.bool,lines:s.default.string,len:s.default.number,logType:s.default.oneOf(["install","uninstall"]),cluster:s.default.shape({id:s.default.string,state:s.default.string}),errorCode:s.default.number},t.default=p},83280:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"shouldShowLogs",{enumerable:!0,get:function(){return s.default}});var n=a(73729),r=a(44255),i=l(a(89753)),s=l(a(83939));const o={clearLogs:r.clearLogs,getLogs:r.getLogs};t.default=(0,n.connect)((e=>({lines:e.logs.lines,len:e.logs.len,pending:e.logs.pending,errorCode:e.logs.errorCode,logType:e.logs.logType})),o)(i.default)},83939:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(23271));t.default=e=>e.managed&&e.canEdit&&(e.state===n.default.WAITING||e.state===n.default.PENDING||e.state===n.default.INSTALLING||e.state===n.default.VALIDATING||e.state===n.default.ERROR||e.state===n.default.UNINSTALLING)},30739:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=A(a(93345)),i=l(a(58156)),s=l(a(5556)),o=A(a(25247)),u=a(13818),c=a(51513),d=a(62384),m=a(13642),p=A(a(22902)),f=A(a(23271)),E=a(59910),g=l(a(36447)),v=a(74149),h=l(a(8705)),_=l(a(26554)),S=l(a(17257)),b=l(a(42145)),C=a(83280),y=l(a(22493));function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(I=function(e){return e?a:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=I(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(68772);const{AssistedInstallerDetailCard:O}=o,P=e=>{const{cluster:t,cloudProviders:a,refresh:l,insightsData:n,userAccess:s,subscription:o,canSubscribeOCP:I,clusterDetailsLoading:A,isSubscriptionSettingsRequestPending:R,clusterDetailsFetching:P}=e,[D,L]=(0,r.useState)(!1),N=(0,r.useRef)();(0,r.useEffect)((()=>{N.current&&[f.default.INSTALLING,f.default.PENDING,f.default.WAITING].includes(N.current.cluster.state)&&t.state===f.default.READY&&t.managed&&N.current.cluster.id===t.id&&L(!0),N.current=e}),[t.state,t.managed,t.id,e]);const w=(0,i.default)(t,"subscription.status",!1)===m.SubscriptionCommonFields.status.ARCHIVED,k=(0,i.default)(t,"subscription.status",!1)===m.SubscriptionCommonFields.status.DEPROVISIONED,F=(0,v.hasResourceUsageMetrics)(t)&&(t.canEdit||![f.default.WAITING,f.default.PENDING,f.default.INSTALLING].includes(t.state)),M=w?E.metricsStatusMessages.archived:E.metricsStatusMessages[t.state]||E.metricsStatusMessages.default,x=([f.default.WAITING,f.default.PENDING,f.default.INSTALLING,f.default.ERROR,f.default.UNINSTALLING].includes(t.state)||(0,f.hasInflightEgressErrors)(t),`${c.HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY}_${t.id}`),G=!(0,f.hasInflightEgressErrors)(t)&&t.state!==f.default.ERROR&&"true"===localStorage.getItem(x),U=!(0,d.isRestrictedEnv)()&&200===(null==n?void 0:n.status)&&(null==n?void 0:n.data)&&!k&&!w,H=!((0,f.isHibernating)(t)||(0,p.default)(t.subscription)||(0,C.shouldShowLogs)(t)||k||w||(0,d.isRestrictedEnv)()||(0,f.hasInflightEgressErrors)(t)),V=!t.managed&&s.fulfilled&&!0===s.data&&!k&&!w,B=U||V,q=(0,p.isAvailableAssistedInstallCluster)(t),j=!t.aiCluster||!(0,p.isUninstalledAICluster)(t),z=!k&&!w,W=r.default.createElement(u.Card,{className:"ocm-c-overview-resource-usage__card","data-testid":"resource-usage"},r.default.createElement(u.CardTitle,{className:"ocm-c-overview-resource-usage__card--header"},r.default.createElement(u.Title,{headingLevel:"h2",className:"card-title"},"Resource usage")),r.default.createElement(u.CardBody,{className:"ocm-c-overview-resource-usage__card--body"},r.default.createElement(g.default,{metricsAvailable:F,metricsStatusMessage:M,cpu:{used:t.metrics.cpu.used,total:t.metrics.cpu.total},memory:{used:t.metrics.memory.used,total:t.metrics.memory.total},type:"threshold"})));return r.default.createElement(u.Grid,{hasGutter:!0},r.default.createElement(u.GridItem,{xl2:B?9:12},r.default.createElement(u.Grid,{hasGutter:!0},D&&r.default.createElement(u.Alert,{variant:"success",isInline:!0,title:"Cluster installed successfully"}),G&&r.default.createElement(u.Alert,{variant:"success",isInline:!0,title:"This cluster can now be fully-managed",actionClose:r.default.createElement(u.AlertActionCloseButton,{onClose:()=>{localStorage.removeItem(x),l()}})}),q&&r.default.createElement(O,{permissions:(0,f.getClusterAIPermissions)(t),aiClusterId:t.aiCluster.id}),H&&!B&&W,j&&r.default.createElement(u.Card,{className:"ocm-c-overview-details__card"},r.default.createElement(u.CardTitle,{className:"ocm-c-overview-details__card--header"},r.default.createElement(u.Title,{headingLevel:"h2",className:"card-title"},"Details")),r.default.createElement(u.CardBody,{className:"ocm-c-overview-details__card--body"},r.default.createElement(u.Grid,null,r.default.createElement(u.GridItem,{sm:6},r.default.createElement(S.default,{cluster:t,cloudProviders:a,showAssistedId:q})),r.default.createElement(u.GridItem,{sm:6},r.default.createElement(b.default,{clusterDetailsLoading:A,cluster:T({},t),isDeprovisioned:k,hasAutoscaleCluster:!(null==t||!t.autoscaler),clusterDetailsFetching:P}))))),z&&r.default.createElement(y.default,{subscription:o,canEdit:t.canEdit,canSubscribeOCP:I,isLoading:R||A}))),B&&r.default.createElement(u.GridItem,{xl2:3},r.default.createElement(u.Grid,{hasGutter:!0},H&&r.default.createElement(u.GridItem,{sm:6,xl2:12},W),U&&r.default.createElement(u.GridItem,{sm:6,xl2:12},r.default.createElement(u.Card,{className:"ocm-c-overview-advisor--card",ouiaId:"insightsAdvisor","data-testid":"insights-advisor"},r.default.createElement(u.CardBody,null,r.default.createElement(h.default,{insightsData:n,externalId:null==t?void 0:t.external_id})))),V&&r.default.createElement(u.GridItem,{sm:6,xl2:12},r.default.createElement(_.default,{clusterId:t.external_id})))))};P.propTypes={cluster:s.default.object,canSubscribeOCP:s.default.bool,subscription:s.default.object,cloudProviders:s.default.object.isRequired,refresh:s.default.func,insightsData:s.default.object,clusterDetailsLoading:s.default.bool,isSubscriptionSettingsRequestPending:s.default.bool,userAccess:s.default.shape({data:s.default.bool,pending:s.default.bool,fulfilled:s.default.bool}).isRequired,clusterDetailsFetching:s.default.bool},t.default=P},25539:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(31003),c=a(99851),d=a(71389),m=a(91089),p=l(a(43775)),f=a(13642),E=a(75166),g=l(a(8888));function v(e){let{subscription:t,canEdit:a=!1,canSubscribeOCP:l=!1,isLoading:i}=e;const v=(0,s.useDispatch)();if((0,r.default)(t,"plan.type")!==E.normalizedProducts.OCP)return null;const h=(0,r.default)(t,"status"),_=a&&h!==f.SubscriptionCommonFields.status.ARCHIVED&&h!==f.SubscriptionCommonFields.status.DEPROVISIONED,S=(0,r.default)(t,E.subscriptionSettings.SUPPORT_LEVEL,"Not set");let b=S,C=null;S===f.SubscriptionCommonFields.support_level.EVAL?(b="Self-Support 60-day evaluation",_&&(C=n.default.createElement(c.ExclamationTriangleIcon,{className:"subscription-settings warning-title-icon"}))):S===f.SubscriptionCommonFields.support_level.NONE&&(b="Evaluation expired",_&&(C=n.default.createElement(u.ExclamationCircleIcon,{className:"subscription-settings danger-title-icon"})));const y=(0,r.default)(t,E.subscriptionSettings.CLUSTER_BILLING_MODEL);let I="Not set";y===f.SubscriptionCommonFields.cluster_billing_model.STANDARD?I="Annual: Fixed capacity subscription from Red Hat":y===f.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE&&(I="On-Demand (Hourly)");const A=(0,r.default)(t,E.subscriptionSettings.USAGE,"Not set"),R=(0,r.default)(t,E.subscriptionSettings.SERVICE_LEVEL);let T="Not set";R===f.SubscriptionCommonFields.service_level.L1_L3?T="Red Hat support (L1-L3)":R===f.SubscriptionCommonFields.service_level.L3_ONLY&&(T="Partner support (L3)");const O=(0,r.default)(t,E.subscriptionSettings.CPU_TOTAL,void 0),P=`${O} core${1===O?"":"s"}`,D=(0,r.default)(t,E.subscriptionSettings.SOCKET_TOTAL,void 0),L=`${D} socket${1===D?"":"s"}`;let N=(0,r.default)(t,E.subscriptionSettings.SYSTEM_UNITS,void 0);void 0===N&&(N=void 0!==O?f.SubscriptionCommonFields.system_units.CORES_V_CPU:void 0!==D?f.SubscriptionCommonFields.system_units.SOCKETS:"Not set");let w="Not set";N===f.SubscriptionCommonFields.system_units.SOCKETS&&void 0!==D?w="Sockets":N===f.SubscriptionCommonFields.system_units.CORES_VCPU&&void 0!==O&&(w="Cores or vCPUs");const k=void 0!==O||void 0!==D,F=N===f.SubscriptionCommonFields.system_units.SOCKETS?"Number of compute sockets":"Number of compute cores",M=N===f.SubscriptionCommonFields.system_units.SOCKETS?L:P;return n.default.createElement(o.Card,{className:"ocm-c-overview-subscription-settings__card"},n.default.createElement(o.CardTitle,{className:"ocm-c-overview-subscription-settings__card--header"},n.default.createElement(o.Title,{headingLevel:"h2",className:"card-title"},"Subscription settings",C)),!l&&n.default.createElement(o.CardBody,null,n.default.createElement(o.Alert,{id:"subscription-settings-contact-sales-alert",variant:"info",isInline:!0,title:"Your organization doesn't have an active subscription. Purchase an OpenShift subscription by contacting sales."},n.default.createElement(g.default,{href:"https://www.redhat.com/en/contact"},"Contact sales"))),n.default.createElement(o.CardBody,{className:"ocm-c-overview-subscription-settings__card--body"},i?n.default.createElement(d.Skeleton,null):n.default.createElement(o.Grid,null,n.default.createElement(o.GridItem,{md:6},n.default.createElement(o.DescriptionList,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Subscription type"),n.default.createElement(o.DescriptionListDescription,{"data-testid":"subscription-type"},I)),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Service level agreement (SLA)"),n.default.createElement(o.DescriptionListDescription,{"data-testid":"service-level-agreement"},b)),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Support type"),n.default.createElement(o.DescriptionListDescription,{"data-testid":"support-type"},T),_&&n.default.createElement(o.DescriptionListDescription,{class:"pf-v5-u-mt-lg"},n.default.createElement(o.Button,{variant:"link",isDisabled:!l,isInline:!0,onClick:()=>{v(m.modalActions.openModal(p.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:t}))}},"Edit subscription settings"))))),n.default.createElement(o.GridItem,{md:6},n.default.createElement(o.DescriptionList,null,n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Cluster usage"),n.default.createElement(o.DescriptionListDescription,{"data-testid":"cluster-usage"},A)),n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,"Subscription units"),n.default.createElement(o.DescriptionListDescription,{"data-testid":"subscription-units"},w)),k&&n.default.createElement(o.DescriptionListGroup,null,n.default.createElement(o.DescriptionListTerm,null,F),n.default.createElement(o.DescriptionListDescription,{"data-testid":"cores-or-sockets"},M)))))))}v.propTypes={subscription:i.default.object,canEdit:i.default.bool,canSubscribeOCP:i.default.bool,isLoading:i.default.bool},t.default=v},22493:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(25539));t.default=n.default},89706:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(88139),i=l(a(62193)),s=l(a(5556)),o=a(73729),u=a(13818),c=a(75166),d=l(a(81621)),m=a(3098),p=a(69565),f=a(98002),E=a(49859),g=a(19735),v=a(35777),h=a(41955),_=a(3089),S=l(a(6071)),b=l(a(12200)),C=l(a(55816)),y=a(91089),I=l(a(43775)),A=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=N(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),R=l(a(81551)),T=l(a(89037)),O=l(a(87461)),P=l(a(26675)),D=l(a(84083)),L=a(56723);function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(N=function(e){return e?a:t})(e)}const w=e=>{var t,a,l,s,N,w,k,F,M;let{cluster:x}=e;const G=(0,o.useDispatch)(),U=null==x||null===(t=x.subscription)||void 0===t?void 0:t.rh_region_id,H=x.id,{canEdit:V}=x,B=(0,A.isHypershiftCluster)(x),q=(0,d.default)(x),j=(0,A.isROSA)(x),{data:z,isLoading:W}=(0,f.useGetSchedules)(x.id,B,U),$=null==z||null===(a=z.items)||void 0===a?void 0:a.some((e=>"automatic"===e.schedule_type)),[K,Y]=n.default.useState(!1),[Q,Z]=n.default.useState(!1),X=(null==x||null===(l=x.subscription)||void 0===l?void 0:l.plan.type)===c.knownProducts.ARO,J="read_only"===(null==x||null===(s=x.status)||void 0===s?void 0:s.configuration_mode),ee=(0,A.isHibernating)(x),te=J&&"This operation is not available during maintenance",ae=ee&&"This operation is not available while cluster is hibernating",le=x.state!==A.default.READY&&"This cluster is not ready",ne=te||ae,{data:re}=(0,_.useFetchUpgradeGatesFromApi)(x.managed,U),{isPending:ie,isError:se,error:oe,mutate:ue}=(0,p.useEditSchedule)(H,B,U),{isPending:ce,isError:de,error:me,mutate:pe}=(0,g.useReplaceSchedule)(H,B,U),{isPending:fe,isError:Ee,error:ge,mutate:ve}=(0,E.usePostSchedule)(H,B,U),{isPending:he,isError:_e,error:Se,mutate:be}=(0,m.useDeleteSchedule)(H,B,U),{isPending:Ce,isError:ye,error:Ie,mutate:Ae,isSuccess:Re}=(0,v.useEditCluster)(H,U),Te=W||ce||ie||fe,Oe=null==z?void 0:z.items.find((e=>"automatic"===e.schedule_type));n.default.useEffect((()=>{x.id&&!W&&(0,f.refetchSchedules)()}),[]),n.default.useEffect((()=>{!Ce&&Re&&((0,h.invalidateClusterDetailsQueries)(),(0,f.refetchSchedules)())}),[Re,$,Ce,x.subscription.id,z]);const Pe=()=>{Y(!1)},De=null==z?void 0:z.items.find((e=>"manual"===e.schedule_type&&e.upgrade_type===(B?"ControlPlane":"OSD"))),Le=null==z?void 0:z.items.find((e=>["manual","automatic"].includes(e.schedule_type)&&e.upgrade_type===(B?"ControlPlane":"OSD"))),Ne=Le&&("started"===(null===(N=Le.state)||void 0===N?void 0:N.value)||"delayed"===(null===(w=Le.state)||void 0===w?void 0:w.value)),we=null==x||null===(k=x.version)||void 0===k?void 0:k.available_upgrades,ke=(!!x.openshift_version||!(null==x||null===(F=x.version)||void 0===F||!F.id))&&(null==we?void 0:we.length)>0&&!Le&&!ee,Fe=ce||ie||he||Ce,Me=!!(te||ae||le),xe=n.default.createElement(u.Alert,{variant:"info",className:"pf-v5-u-mb-md",isInline:!0,title:"Version updates will not occur while this cluster is Hibernating. Once resumed, updates will start according to the selected updates strategy."});return n.default.createElement(u.Grid,{hasGutter:!0,className:"ocm-c-upgrade-monitoring"},ye&&n.default.createElement(u.GridItem,null,n.default.createElement(C.default,{response:Ie,message:"Error processing request"})),n.default.createElement(r.Formik,{enableReinitialize:!0,initialValues:{upgrade_policy:Oe?"automatic":"manual",automatic_upgrade_schedule:(null==Oe?void 0:Oe.schedule)||"0 0 * * 0",node_drain_grace_period:(null===(M=x.node_drain_grace_period)||void 0===M?void 0:M.value)||60,enable_user_workload_monitoring:!x.disable_user_workload_monitoring||!1},onSubmit:async e=>{const t=z.items.find((e=>"automatic"===e.schedule_type)),a=z.items.find((e=>"manual"===e.schedule_type));if("automatic"===e.upgrade_policy){if(t&&t!==e.automatic_upgrade_schedule)ue({policyID:t.id,schedule:{schedule:e.automatic_upgrade_schedule}},{onSuccess:()=>(0,f.refetchSchedules)()});else if(!t){const t={schedule_type:"automatic",schedule:e.automatic_upgrade_schedule};if(a){const e=a.id;pe({oldScheduleID:e,newSchedule:t},{onSuccess:()=>(0,f.refetchSchedules)()})}else ve(t,{onSuccess:()=>(0,f.refetchSchedules)()})}}else if(t){const e=t.id;be(e,{onSuccess:()=>(0,f.refetchSchedules)()})}const l={};x.node_drain_grace_period!==e.node_drain_grace_period&&(l.node_drain_grace_period={value:e.node_drain_grace_period}),!x.disable_user_workload_monitoring!==e.enable_user_workload_monitoring&&(l.disable_user_workload_monitoring=!e.enable_user_workload_monitoring),(0,i.default)(l)||Ae(l,{onSuccess:()=>(0,h.invalidateClusterDetailsQueries)()})}},(e=>{var t,a,l;return"automatic"===e.values.upgrade_policy&&e.dirty&&!Q&&(Y(!0),Z(!0)),n.default.createElement(n.default.Fragment,null,!X&&!B&&n.default.createElement(u.GridItem,null,n.default.createElement(u.Card,null,n.default.createElement(u.CardBody,null,n.default.createElement(D.default,{parent:"details",disableUVM:Me,planType:null===(t=x.subscription)||void 0===t||null===(t=t.plan)||void 0===t?void 0:t.type})))),n.default.createElement(u.GridItem,{lg:9,md:12,className:"ocm-c-upgrade-monitoring-top"},n.default.createElement(u.Card,null,n.default.createElement(u.CardTitle,null,"Update strategy"),n.default.createElement(u.CardBody,null,K&&De&&n.default.createElement(u.Modal,{variant:"small",title:"Recurring updates",isOpen:!0,onClose:()=>{Pe(),e.resetForm()},actions:[n.default.createElement(u.Button,{key:"confirm",variant:"primary",onClick:Pe},"Yes, cancel scheduled update"),n.default.createElement(u.Button,{key:"cancel",variant:"secondary",onClick:()=>{Pe(),e.resetForm()}},"No, keep scheduled update")]},"By choosing recurring updates, any individually scheduled update will be cancelled. Are you sure you want to continue?"),ee&&xe,(Ee||de||se)&&n.default.createElement(C.default,{response:ge||me||oe,message:"Can't schedule upgrade"}),_e&&n.default.createElement(C.default,{response:Se,message:"Can't unschedule upgrade"}),n.default.createElement(T.default,{isHypershift:B,isSTSEnabled:null==x||null===(a=x.aws)||void 0===a||null===(a=a.sts)||void 0===a?void 0:a.enabled,upgradeGates:re,schedules:z,cluster:x}),n.default.createElement(R.default,{clusterId:null==x?void 0:x.id,upgradeGates:re,schedules:z,cluster:x,isHypershift:B}),n.default.createElement(L.UpdateAllMachinePools,{goToMachinePoolTab:!0}),n.default.createElement(u.Form,null,n.default.createElement(u.Grid,{hasGutter:!0},n.default.createElement(O.default,{isDisabled:!!ne,initialScheduleValue:e.initialValues.automatic_upgrade_schedule,showDivider:!0,isHypershift:B,product:null==x||null===(l=x.product)||void 0===l?void 0:l.id,isRosa:j})))),n.default.createElement(u.CardFooter,null,n.default.createElement(u.Flex,null,n.default.createElement(u.FlexItem,null,n.default.createElement(b.default,{disableReason:ne||!e.dirty&&"No changes to save",isAriaDisabled:Te||Ne,variant:"primary",onClick:e.submitForm,isLoading:Fe},"Save")),n.default.createElement(u.FlexItem,null,n.default.createElement(b.default,{isDisabled:!e.dirty,variant:"link",onClick:e.resetForm},"Cancel")))))))})),n.default.createElement(u.GridItem,{lg:3,md:12,className:"ocm-c-upgrade-monitoring-top"},n.default.createElement(u.Card,null,n.default.createElement(u.CardTitle,null,"Update status"),n.default.createElement(u.CardBody,null,n.default.createElement(P.default,{clusterID:H,canEdit:V,clusterVersion:q,scheduledUpgrade:Le,availableUpgrades:we,upgradeGates:re,schedules:z,cluster:x,region:U}),ke&&n.default.createElement(u.Button,{variant:"secondary",onClick:()=>G((0,y.openModal)(I.default.UPGRADE_WIZARD,{clusterName:(0,S.default)(x),subscriptionID:null==x?void 0:x.subscription.id}))},"Update")))))};w.propTypes={cluster:s.default.shape({node_drain_grace_period:s.default.shape({value:s.default.string}),disable_user_workload_monitoring:s.default.bool,aws:s.default.shape({sts:s.default.shape({enabled:s.default.bool})}),managed:s.default.bool,canEdit:s.default.bool,status:s.default.shape({configuration_mode:s.default.string}),openshift_version:s.default.string,id:s.default.string,subscription:s.default.shape({id:s.default.string,plan:s.default.shape({type:s.default.string}),rh_region_id:s.default.string}),version:s.default.shape({channel_group:s.default.string,available_upgrades:s.default.arrayOf(s.default.string),raw_id:s.default.string,id:s.default.string}),state:s.default.string,product:s.default.shape({id:s.default.string})})},t.default=w},47956:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(89706));t.default=n.default},28673:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(28895),i=a(5368),s=l(a(60183));t.default=(0,n.connect)(void 0,(()=>(0,r.bindActionCreators)({toggleSubscriptionReleased:i.toggleSubscriptionReleased})))(s.default)},74975:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(62193)),i=l(a(47091)),s=l(a(5556)),o=a(73729),u=a(13818),c=a(45924),d=a(51513),m=a(98515),p=a(16519),f=a(13647),E=a(22637),g=a(56349),v=a(27241),h=a(67285),_=a(62384),S=l(a(93413)),b=a(10135),C=a(75166),y=a(22916),I=l(a(55816)),A=l(a(71299)),R=l(a(94699)),T=l(a(2333)),O=a(15136),P=l(a(87814)),D=l(a(62779)),L=l(a(40902)),N=l(a(17779)),w=l(a(42944)),k=l(a(77684)),F=l(a(84197)),M=l(a(32742)),x=l(a(63504)),G=a(20230),U=a(29015),H=l(a(46823));a(23184);const V="Cluster List | Red Hat OpenShift Cluster Manager",B=e=>{let{someReadOnly:t,showSpinner:a,error:l,refresh:r}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(N.default,{someReadOnly:t}),n.default.createElement(u.PageSection,{variant:u.PageSectionVariants.light},n.default.createElement(u.Flex,null,n.default.createElement(u.FlexItem,{grow:{default:"grow"}},n.default.createElement(u.Title,{headingLevel:"h1"},"Cluster List")),n.default.createElement(u.Toolbar,{id:"cluster-list-refresh-toolbar",isFullHeight:!0,inset:{default:"insetNone"}},n.default.createElement(u.ToolbarContent,null,n.default.createElement(u.ToolbarGroup,{variant:"icon-button-group",align:{default:"alignRight"},spacer:{default:"spacerNone",md:"spacerNone"},spaceItems:{default:"spaceItemsMd"}},a&&n.default.createElement(u.ToolbarItem,null,n.default.createElement(u.Spinner,{size:"lg",className:"cluster-list-spinner","aria-label":"Loading cluster list data"})),l&&n.default.createElement(u.ToolbarItem,null,n.default.createElement(D.default,{className:"cluster-list-warning",item:"clusters"})),n.default.createElement(u.ToolbarItem,{spacer:{default:"spacerNone"}},n.default.createElement(U.RefreshButton,{isDisabled:a,refreshFunc:r}))))))))};B.propTypes={someReadOnly:s.default.bool,showSpinner:s.default.bool,error:s.default.bool,refresh:s.default.func};const q=e=>{var t,a;let{getCloudProviders:l,cloudProviders:s,getOrganizationAndQuota:D,organization:N,getMachineTypes:U,machineTypes:q,closeModal:j,clearGlobalError:z,openModal:W,getMultiRegion:$}=e;const K=(0,o.useDispatch)(),Y=y.viewConstants.CLUSTERS_VIEW,{enabled:Q}=(0,p.useGetAccessProtection)({organizationId:null==N||null===(t=N.details)||void 0===t?void 0:t.id},(0,_.isRestrictedEnv)()),{total:Z,items:X}=(0,f.useGetOrganizationalPendingRequests)(null==N||null===(a=N.details)||void 0===a?void 0:a.id,Q),{isLoading:J,data:ee,refetch:te,isError:ae,errors:le,isFetching:ne,isFetched:re,isClustersDataPending:ie}=(0,E.useFetchClusters)(!1,$),se=null==ee?void 0:ee.items,oe=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[Y])||void 0===t?void 0:t.totalCount}));n.default.useEffect((()=>{J||void 0===(null==ee?void 0:ee.itemsCount)||ee.itemsCount===oe||K((0,v.onSetTotalClusters)(null==ee?void 0:ee.itemsCount,Y))}),[oe,null==ee?void 0:ee.itemsCount,K,J,Y]);const ue=(le||[]).reduce(((e,t)=>t.reason?[...e,`${t.reason}.${t.region?` While getting clusters for ${t.region.region}.`:""}${t.operation_id?` (Operation ID: ${t.operation_id})`:""}`]:e),[]);n.default.useEffect((()=>{re&&(s.fulfilled||s.pending||l(),q.fulfilled||q.pending||U(),N.fulfilled||N.pending||D())}),[s.fulfilled,s.pending,l,U,D,re,q.fulfilled,q.pending,N.fulfilled,N.pending]),n.default.useEffect((()=>{(0,_.isRestrictedEnv)()&&K((0,v.onListFlagsSet)("subscriptionFilter",{plan_id:[C.normalizedProducts.ROSA]},Y)),K(g.clustersActions.clearClusterDetails());const e=(0,b.getQueryParam)("plan_id")||"";if(!(0,r.default)(e)){const t={};C.productFilterOptions.forEach((e=>{t[e.key]=!0}));const a=e.split(",").filter((e=>t[e]));K((0,v.onListFlagsSet)("subscriptionFilter",{plan_id:a},Y))}return()=>{j(),K(g.clustersActions.clearClusterDetails()),z("clusterList")}}),[]);const ce=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[Y])||void 0===t?void 0:t.currentPage})),de=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[Y])||void 0===t?void 0:t.pageSize})),me=ce&&de&&oe>0?(ce-1)*de+1:0,pe=ce&&de?Math.min(ce*de,oe):0,fe=n.default.useCallback(((e,t)=>{K((0,v.onPageInput)(t,Y))}),[K,Y]);n.default.useEffect((()=>{if(se&&oe<me&&!J){const e=Math.ceil(oe/de);fe(void 0,e)}}),[se,me,ce,de,fe,oe,J]);const Ee=(e,t,a)=>{K((0,v.onPageInput)(a,Y)),K((0,v.onPerPageSelect)(t,Y,!0))},ge=(0,o.useSelector)((e=>{var t;return null===(t=e.viewOptions[Y])||void 0===t?void 0:t.sorting})),ve=ge.sortField,he=ge.isAscending?c.SortByDirection.asc:c.SortByDirection.desc,_e=(0,o.useSelector)((e=>e.viewOptions.CLUSTERS_VIEW)),{showMyClustersOnly:Se,subscriptionFilter:be}=_e.flags,Ce=S.default.nestedIsEmpty(be)&&!Se&&!_e.filter,ye=!(0,i.default)(se)&&(J||!re),Ie=ne||J,Ae=!Ie&&!ae&&!(0,i.default)(se)&&Ce,Re=se&&se.map((e=>{var t;return null==e||null===(t=e.status)||void 0===t?void 0:t.configuration_mode})).includes("read_only"),Te=!ye;return(0,O.ClusterListFilterHook)(be),Ae?n.default.createElement(m.AppPage,{title:V},n.default.createElement(u.PageSection,null,n.default.createElement(L.default,null),n.default.createElement("div",{"data-ready":!0},n.default.createElement(k.default,null)))):n.default.createElement(m.AppPage,{title:V},n.default.createElement(B,{someReadOnly:Re,showSpinner:Ie,error:ae,errorDetails:ue,isPendingNoData:ye,refresh:te}),n.default.createElement(u.PageSection,null,n.default.createElement(u.Card,null,n.default.createElement("div",{className:"cluster-list","data-ready":Te},n.default.createElement(L.default,null),ae&&se.length>0&&n.default.createElement(I.default,{variant:"warning",message:"Some operations are unavailable, try again later",response:{errorDetails:[{items:ue}]},isExpandable:!0,hideOperationID:!0,forceAsAlert:!0}),n.default.createElement(u.Toolbar,{id:"cluster-list-toolbar"},n.default.createElement(u.ToolbarContent,null,n.default.createElement(u.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-filter-list"},n.default.createElement(T.default,{isDisabled:ye&&Ce,view:h.CLUSTERS_VIEW})),(0,_.isRestrictedEnv)()?null:n.default.createElement(u.ToolbarItem,{className:"ocm-c-toolbar__item-cluster-list-filter-dropdown","data-testid":"cluster-list-filter-dropdown"},n.default.createElement(M.default,{view:h.CLUSTERS_VIEW,isDisabled:J||ne})),n.default.createElement(w.default,null),n.default.createElement(H.default,{view:h.CLUSTERS_VIEW,bodyContent:"Show only the clusters you previously created, or all clusters in your organization.",localStorageKey:d.ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST}),n.default.createElement(u.ToolbarItem,{align:{default:"alignRight"},variant:"pagination",className:"pf-m-hidden visible-on-lgplus"},n.default.createElement(G.PaginationRow,{currentPage:ce,pageSize:de,itemCount:oe,variant:"top",isDisabled:ye,itemsStart:me,itemsEnd:pe,onPerPageSelect:Ee,onPageChange:fe})))),(0,_.isRestrictedEnv)()?null:n.default.createElement(F.default,null),ae&&!(0,i.default)(se)&&re?n.default.createElement(A.default,{message:"Error retrieving clusters",response:{errorMessage:"",operationID:"",errorCode:"",errorDetails:ue}}):n.default.createElement(n.default.Fragment,null,n.default.createElement(R.default,{total:Z,accessRequests:X}),n.default.createElement(x.default,{openModal:W,clusters:se||[],isPending:ye,isClustersDataPending:ie,activeSortIndex:ve,activeSortDirection:he,setSort:(e,t)=>{const a={isAscending:t===c.SortByDirection.asc,sortField:e};K(v.viewActions.onListSortBy(a,Y))},refreshFunc:te})),n.default.createElement(G.PaginationRow,{currentPage:ce,pageSize:de,itemCount:oe,variant:"bottom",isDisabled:ye,itemsStart:me,itemsEnd:pe,onPerPageSelect:Ee,onPageChange:fe}),n.default.createElement(P.default,{onClose:()=>te(),clearMachinePools:!0})))))};q.propTypes={getCloudProviders:s.default.func.isRequired,getMachineTypes:s.default.func.isRequired,getOrganizationAndQuota:s.default.func.isRequired,organization:s.default.object.isRequired,cloudProviders:s.default.object.isRequired,machineTypes:s.default.object.isRequired,openModal:s.default.func.isRequired,closeModal:s.default.func.isRequired,queryParams:s.default.shape({has_filters:s.default.bool}),clearGlobalError:s.default.func.isRequired,getMultiRegion:s.default.bool},q.defaultProps={getMultiRegion:!0},t.default=q},2493:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(74353)),i=l(a(58156)),s=l(a(5556)),o=a(13818),u=a(31003),c=a(99851),d=a(48525),m=a(55611),p=a(68720),f=a(13642),E=a(74780),g=a(75166),v=l(a(8888));function h(e){let{cluster:t}=e;const a=(0,i.default)(t,"product.id")===g.normalizedProducts.OSDTRIAL,l=(0,i.default)(t,"managed"),s=(0,i.default)(t,"subscription.support_level"),h=(0,i.default)(t,"subscription");if(a){const e=(0,E.getTrialExpiresInDays)(t,!0),a=(0,E.getTrialEndDate)(t),l=n.default.createElement(n.default.Fragment,null,n.default.createElement("h1",null,n.default.createElement("strong",null,"Trial Cluster")),n.default.createElement("p",null,"Your free trial cluster will automatically be deleted in ",e," on ",n.default.createElement("strong",null,a)));return n.default.createElement(o.Popover,{position:o.PopoverPosition.top,"aria-label":"Trial Expiration date",bodyContent:l},n.default.createElement(o.Button,{variant:"link",isInline:!0,icon:n.default.createElement(o.Icon,null,n.default.createElement(c.ExclamationTriangleIcon,{color:m.global_warning_color_100.value}))},e,"  left"))}if(l||s!==f.SubscriptionCommonFields.support_level.EVAL&&s!==f.SubscriptionCommonFields.support_level.NONE)return(0,i.default)(t,"creation_timestamp",!1)?(0,r.default)(t.creation_timestamp).format("DD MMM YYYY"):"N/A";if(s===f.SubscriptionCommonFields.support_level.NONE)return n.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:"Your 60-day evaluation has expired. Edit subscription settings to continue using this cluster, or archive this cluster if it no longer exists.","aria-label":"Evaluation expired"},n.default.createElement(o.Button,{variant:"link",isInline:!0,icon:n.default.createElement(o.Icon,null,n.default.createElement(u.ExclamationCircleIcon,{color:d.global_danger_color_100.value}))},"Evaluation expired"));const _=(0,E.getTrialExpiresInDays)(t,!1),S=n.default.createElement(n.default.Fragment,null,n.default.createElement("h1",null,n.default.createElement("strong",null,"OCP Cluster")),n.default.createElement("p",null,"Your OCP cluster evaluation will expire in ",_," on ",n.default.createElement("strong",null,n.default.createElement(p.DateFormat,{date:h.eval_expiration_date,type:"onlyDate"})),". Your cluster is not ",n.default.createElement(v.default,{href:"https://access.redhat.com/support/policy/updates/openshift/policies",noIcon:!0},"supported"),". To get Red Hat support for clusters, learn more about"," ",n.default.createElement(v.default,{href:"https://www.redhat.com/en/resources/self-managed-openshift-sizing-subscription-guide",noIcon:!0},"OCP subscriptions"),". Though your cluster will be functional."));return n.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:S,"aria-label":"Trial Expiration date"},n.default.createElement(o.Button,{variant:"link",isInline:!0,icon:n.default.createElement(o.Icon,null,n.default.createElement(c.ExclamationTriangleIcon,{color:m.global_warning_color_100.value}))},_,"  left"))}h.propTypes={cluster:s.default.shape({managed:s.default.bool,subscription:s.default.shape({support_level:s.default.string}),creation_timestamp:s.default.string})},t.default=h},42917:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(13818),s=l(a(77459)),o=a(69304),u=a(62384);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}const d=n.default.createElement(i.DropdownItem,{key:"registercluster","data-testid":"register-cluster-item"},n.default.createElement(o.Link,{to:"/register",className:"pf-v5-c-dropdown__menu-item"},"Register disconnected cluster")),m=n.default.createElement(i.ToolbarItem,{key:"archived",alignSelf:"center"},n.default.createElement(o.Link,{to:"/archived"},"View cluster archives")),p=n.default.createElement(i.DropdownItem,{key:"archived","data-testid":"archived-cluster-item"},n.default.createElement(o.Link,{to:"/archived",className:"pf-v5-c-dropdown__menu-item"},"View cluster archives")),f=n.default.createElement(i.ToolbarItem,{key:"createcluster"},n.default.createElement(o.Link,{to:"/create",role:"button",className:"pf-v5-c-button pf-m-primary","data-testid":"create_cluster_btn"},"Create cluster")),E=n.default.createElement(i.ToolbarItem,{key:"registercluster"},n.default.createElement(o.Link,{to:"/register",rel:"noopener noreferrer"},n.default.createElement(i.Button,{variant:"secondary","data-testid":"register-cluster-item"},"Register cluster"))),g=e=>{let{className:t,isDashboardView:a}=e;const[l,r]=(0,n.useState)(!1),[o,c]=(e=>{const t=(()=>{if("undefined"==typeof window||void 0===window.matchMedia)return!1;const e=window.matchMedia("(min-width: 900px)"),[t,a]=n.default.useState(!!e.matches);return n.default.useEffect((()=>{const t=()=>a(!!e.matches);return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}),[]),t})(),a=[],l=[];return a.push(f),(0,u.isRestrictedEnv)()||(e?t?(a.push(E),l.push(p)):(l.push(d),l.push(p)):t?(a.push(E),a.push(m)):(l.push(d),l.push(p))),[l,a]})(a),g=(0,n.useRef)();return a?n.default.createElement(i.Split,{hasGutter:!0},c.map((e=>n.default.createElement(i.SplitItem,{key:"toolbar"},e))),n.default.createElement(i.SplitItem,{key:"dropdown"},n.default.createElement(i.Dropdown,{"data-testid":"cluster-list-extra-actions-dropdown",isOpen:l,onOpenChange:e=>r(e),className:t,popperProps:{position:"right"},toggle:{toggleRef:g,toggleNode:n.default.createElement(i.MenuToggle,{id:"cluster-list-extra-actions","aria-label":"Actions",ref:g,isExpanded:l,onClick:()=>{r(!l)},variant:"plain"},n.default.createElement(s.default,null))}},n.default.createElement(i.DropdownList,null,o.map((e=>n.default.createElement(i.DropdownItem,{key:e},e))))))):n.default.createElement(n.default.Fragment,null,c,o.length>0&&n.default.createElement(i.ToolbarItem,null,n.default.createElement(i.Dropdown,{"data-testid":"cluster-list-extra-actions-dropdown",isOpen:l,onOpenChange:e=>r(e),className:t,popperProps:{position:"right"},toggle:{toggleRef:g,toggleNode:n.default.createElement(i.MenuToggle,{id:"cluster-list-extra-actions","aria-label":"Actions",ref:g,isExpanded:l,onClick:()=>{r(!l)},variant:"plain"},n.default.createElement(s.default,null))}},n.default.createElement(i.DropdownList,null,o.map((e=>n.default.createElement(i.DropdownItem,{key:e},e)))))))};g.propTypes={className:r.default.string,isDashboardView:r.default.bool},t.default=g},42944:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(42917));t.default=(0,n.connect)((()=>({})))(r.default)},77684:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(13818),i=a(56862),s=a(69304);t.default=function(){return n.default.createElement(r.EmptyState,{variant:r.EmptyStateVariant.lg,className:"cluster-list-empty-state"},n.default.createElement(r.EmptyStateHeader,{titleText:"Let's create your first cluster",icon:n.default.createElement(r.EmptyStateIcon,{icon:i.PlusCircleIcon}),headingLevel:"h4"}),n.default.createElement(r.EmptyStateBody,null,"You don't have any clusters yet, but you can easily create or register your first OpenShift 4 cluster."),n.default.createElement(r.EmptyStateFooter,null,n.default.createElement(s.Link,{to:"/create"},n.default.createElement(r.Button,{"data-testid":"create_cluster_btn",className:"pf-v5-u-mt-xl"},"Create cluster")),n.default.createElement(r.EmptyStateActions,null,n.default.createElement(s.Link,{to:"/register"},n.default.createElement(r.Button,{variant:"link","data-testid":"register-cluster-item"},"Register cluster")),n.default.createElement(s.Link,{to:"/archived"},n.default.createElement(r.Button,{variant:"link"},"View cluster archives")),n.default.createElement(s.Link,{to:"/assisted-installer"},n.default.createElement(r.Button,{variant:"link"},"Assisted Installer clusters")))))}},84197:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(62193)),s=l(a(5556)),o=a(73729),u=a(13818),c=a(69304),d=a(27241),m=a(67285),p=l(a(93413)),f=a(10135),E=a(75166);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e){let{archive:t}=e;const a=(0,c.useNavigate)(),l=(0,o.useDispatch)(),n=t?m.ARCHIVED_CLUSTERS_VIEW:m.CLUSTERS_VIEW,s=(0,o.useSelector)((e=>e.viewOptions[n].flags.subscriptionFilter))||{};if(p.default.nestedIsEmpty(s))return null;const g=e=>{a({search:(0,f.buildFilterURLParams)(e)},{replace:!0}),(e=>{l((0,d.onListFlagsSet)("subscriptionFilter",e,n))})(e)},h=[{key:"plan_id",label:"Cluster type",options:E.productFilterOptions}];return r.default.createElement(u.Split,{"data-testid":"cluster-list-filter-chipgroup"},r.default.createElement(u.SplitItem,null,r.default.createElement(u.ChipGroup,null,h.map((e=>{const t=s[e.key]||[];return(0,i.default)(t)?null:r.default.createElement(u.ChipGroup,{key:`chipgroup-${e.key}`,categoryName:e.label},t.map((a=>{const{label:l}=e.options.find((e=>e.key===a));return r.default.createElement(u.Chip,{key:a,onClick:()=>{g(v(v({},s),{},{[e.key]:t.filter((e=>e!==a))}))}},l)})))})).filter(Boolean))),r.default.createElement(u.SplitItem,null,r.default.createElement(u.Button,{variant:"link",onClick:()=>g({})},"Clear filters")))}h.propTypes={archive:s.default.bool},t.default=h},32742:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(27241),i=l(a(25115));t.default=(0,n.connect)(((e,t)=>({currentFilters:e.viewOptions[t.view].flags.subscriptionFilter||{}})),((e,t)=>({setFilter:a=>e((0,r.onListFlagsSet)("subscriptionFilter",a,t.view))})))(i.default)},63504:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.sortColumns=t.default=t.columns=void 0;var n=l(a(93345)),r=l(a(58156)),i=l(a(5556)),s=a(73729),o=a(13818),u=l(a(99851)),c=l(a(57691)),d=a(45924),m=a(55611),p=a(69304),f=l(a(9435)),E=a(91822),g=a(96678),v=a(11353),h=k(a(6071)),_=a(22902),S=a(89538),b=a(49422),C=l(a(30535)),y=k(a(23271)),I=l(a(56859)),A=l(a(71210)),R=a(88285),T=l(a(81621)),O=a(71626),P=l(a(5505)),D=l(a(53737)),L=a(38544),N=l(a(2493));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}const F=t.sortColumns={Name:"display_name",Created:"created_at",Status:"status",Type:"type",Provider:"provider",Version:"version"},M=["visibleOnLg","hiddenOnMd","hiddenOnSm"],x=t.columns={name:{title:"Name",width:30,sortIndex:F.Name,apiSortOption:!0},status:{title:"Status",width:15,sortIndex:F.Status},type:{title:"Type",width:10,sortIndex:F.Type},created:{title:"Created",visibility:M,sortIndex:F.Created,apiSortOption:!0},version:{title:"Version",visibility:M,sortIndex:F.Version},provider:{title:"Provider (Region)",visibility:M,sortIndex:F.Provider},actions:{title:"",screenReaderText:"cluster actions"}};function G(e){const{clusters:t,openModal:a,isPending:l,activeSortIndex:i,activeSortDirection:w,setSort:k,refreshFunc:F,isClustersDataPending:M}=e,G=(0,s.useDispatch)(),U=(0,R.canSubscribeOCPListFromClusters)(t),H=(0,L.canTransferClusterOwnershipListFromClusters)(t),V=(0,O.useCanHibernateClusterListFromClusters)(t),{mutate:B}=(0,E.useToggleSubscriptionReleased)(),{data:q}=(0,v.useFetchGetAvailableRegionalInstances)(!0);if(!(l||t&&0!==t.length))return n.default.createElement(o.EmptyState,null,n.default.createElement(o.EmptyStateHeader,{titleText:"No clusters found.",icon:n.default.createElement(o.EmptyStateIcon,{icon:c.default}),headingLevel:"h4"}),n.default.createElement(o.EmptyStateBody,null,"This filter criteria matches no clusters.",n.default.createElement("br",null),"Try changing your filter settings."));const j=Object.keys(x).map(((e,t)=>{const a=x[e],l=a.sortIndex&&a.apiSortOption?(r=a.sortIndex,{sortBy:{index:i,direction:w,defaultDirection:d.SortByDirection.asc},onSort:(e,t,a)=>{k(t,a)},columnIndex:r}):void 0;var r;return n.default.createElement(d.Th,{width:a.width,visibility:a.visibility,sort:l,key:t},a.screenReaderText?n.default.createElement("span",{className:"pf-v5-screen-reader"},a.screenReaderText):null,a.title)})),z=(e,t)=>n.default.createElement(p.Link,{to:`/details/s/${e.subscription.id}`},t);return n.default.createElement(d.Table,{"aria-label":"Cluster List"},n.default.createElement(d.Thead,null,n.default.createElement(d.Tr,null,j)),n.default.createElement(d.Tbody,{"data-testid":"clusterListTableBody"},l?[...Array(10).keys()].map((e=>n.default.createElement(d.Tr,{key:e,"data-testid":"skeleton"},n.default.createElement(d.Td,{colSpan:7},n.default.createElement(o.Skeleton,{screenreaderText:"loading cluster"}))))):t.map((e=>(e=>{const t=(0,r.default)(e,"cloud_provider.id","N/A"),i=(0,h.default)(e),s=M&&i===h.UNNAMED_CLUSTER?n.default.createElement(o.Skeleton,{screenreaderText:"loading cluster name"}):z(e,i),c=n.default.createElement("span",null,(0,T.default)(e),n.default.createElement(A.default,{cluster:e,openModal:a,hideOSDUpdates:!0}));return n.default.createElement(d.Tr,{key:e.id},n.default.createElement(d.Td,{dataLabel:x.name.title,visibility:x.name.visibility},s),n.default.createElement(d.Td,{dataLabel:x.status.title,visibility:x.status.visibility},(()=>{var t,a;if(M)return n.default.createElement(o.Skeleton,{screenreaderText:"loading cluster status"});if((0,_.isAISubscriptionWithoutMetrics)(e.subscription))return n.default.createElement(f.default,{status:e.state,className:"clusterstate"});const l=(null===(t=e.status)||void 0===t?void 0:t.limited_support_reason_count)>0,{state:r,description:i}=(0,y.getClusterStateAndDescription)(e),s=n.default.createElement(C.default,{clusterState:r||"",animated:!1,limitedSupport:l}),c=(0,g.findRegionalInstance)(null==e||null===(a=e.region)||void 0===a?void 0:a.id,q);return r===y.default.ERROR?n.default.createElement("span",null,n.default.createElement(o.Popover,{position:o.PopoverPosition.top,bodyContent:n.default.createElement(n.default.Fragment,null,"Your cluster is in error state."," ",n.default.createElement("a",{href:"https://access.redhat.com/support/cases/#/case/new",target:"_blank",rel:"noopener noreferrer"},"Contact Red Hat Support")," ","for further assistance."),"aria-label":"Status: Error"},n.default.createElement(o.Button,{className:"cluster-status-string",variant:"link",isInline:!0,icon:s},i))):(0,y.isWaitingROSAManualMode)(e)||(0,y.isWaitingForOIDCProviderOrOperatorRolesMode)(e)||(0,y.isOSDGCPWaitingForRolesOnHostProject)(e)?n.default.createElement(P.default,{cluster:e,icon:n.default.createElement(u.default,{color:m.global_warning_color_100.value}),regionalInstance:c}):r===y.default.WAITING||r===y.default.PENDING||r===y.default.VALIDATING||r===y.default.INSTALLING?n.default.createElement(o.Popover,{headerContent:n.default.createElement("div",null,"Installation status"),position:o.PopoverPosition.top,bodyContent:n.default.createElement(D.default,{cluster:e}),"aria-label":"Status: installing",maxWidth:"38rem"},n.default.createElement(o.Button,{className:"cluster-status-string status-installing",variant:"link",isInline:!0,icon:s},i)):n.default.createElement("span",{className:"cluster-status-string"},s,i,l?z(e,n.default.createElement(o.Label,{color:"red",className:"pf-v5-u-ml-xs"},"Limited support")):null)})()),n.default.createElement(d.Td,{dataLabel:x.type.title,visibility:x.type.visibility},n.default.createElement(I.default,{cluster:e})),n.default.createElement(d.Td,{dataLabel:x.created.title,visibility:x.created.visibility},n.default.createElement(N.default,{cluster:e})),n.default.createElement(d.Td,{dataLabel:x.version.title,visibility:x.version.visibility},c),n.default.createElement(d.Td,{dataLabel:x.provider.title,visibility:x.provider.visibility},n.default.createElement(b.ClusterLocationLabel,{regionID:(0,r.default)(e,"region.id","N/A"),cloudProviderID:t})),n.default.createElement(d.Td,{isActionCell:!0},!l&&e?n.default.createElement(d.ActionsColumn,{items:(0,S.actionResolver)(e,!0,a,U[e.id]||!1,V[e.id]||!1,H[e.id]||!1,B,F,!0,G)}):null))})(e)))))}G.propTypes={openModal:i.default.func.isRequired,clusters:i.default.array.isRequired,activeSortIndex:i.default.string,activeSortDirection:i.default.string,setSort:i.default.func,isPending:i.default.bool,refreshFunc:i.default.func.isRequired,isClustersDataPending:i.default.bool},t.default=G},52687:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(7019);function o(e){const{isChecked:t,onChange:a,bodyContent:l}=e;return n.default.createElement(i.Switch,{className:"pf-v5-u-ml-lg pf-v5-u-align-items-center",id:"view-only-my-clusters","aria-label":"View only my clusters",label:n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,"View only my clusters"),n.default.createElement(i.Popover,{bodyContent:l,enableFlip:!1},n.default.createElement(i.Button,{variant:"plain"},n.default.createElement(s.OutlinedQuestionCircleIcon,null)))),hasCheckIcon:!0,isChecked:t,onChange:(e,t)=>a(t)})}o.propTypes={isChecked:r.default.bool,onChange:r.default.func.isRequired,bodyContent:r.default.string},o.defaultProps={isChecked:!1,bodyContent:"Show only the clusters you previously created, or all clusters in your organization."},t.default=o},46823:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(22916),i=l(a(52687));t.default=(0,n.connect)(((e,t)=>({isChecked:e.viewOptions[t.view].flags.showMyClustersOnly})),((e,t)=>({onChange:a=>{e({viewType:t.view,type:r.viewOptionsConstants.VIEW_MY_CLUSTERS_ONLY_CHANGED,payload:{showMyClustersOnly:a}}),localStorage.setItem(t.localStorageKey,a)}})))(i.default)},98759:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(10138),i=a(9059),s=a(11912),o=a(2479),u=a(91089),c=l(a(74975));const d={getCloudProviders:r.cloudProviderActions.getCloudProviders,getMachineTypes:s.machineTypesActions.getMachineTypes,getOrganizationAndQuota:o.userActions.getOrganizationAndQuota,openModal:u.modalActions.openModal,closeModal:u.modalActions.closeModal,clearGlobalError:i.clearGlobalError};t.A=(0,n.connect)((e=>({cloudProviders:e.cloudProviders,machineTypes:e.machineTypes,organization:e.userProfile.organization})),d)(c.default)},89356:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=a(86161),u=a(69304),c=a(76884),d=a(54830),m=a(62384);const p=e=>r.default.createElement(u.Link,(0,n.default)({},e,{to:"/quota"})),f=e=>{let{hasOSDQuota:t,trialEnabled:a}=e;return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.PageSection,null,r.default.createElement(s.Stack,{hasGutter:!0},r.default.createElement(s.StackItem,null,r.default.createElement(s.Title,{headingLevel:"h2"},"Managed services")),r.default.createElement(s.StackItem,null,"Create clusters in the cloud using a managed service.",r.default.createElement(c.ManagedServicesTable,{hasOSDQuota:t,isTrialEnabled:a}),!(0,m.isRestrictedEnv)()&&r.default.createElement(s.Button,{variant:s.ButtonVariant.link,id:"subscriptions",component:p},"View your available OpenShift Dedicated quota ",r.default.createElement(o.ArrowRightIcon,null))))),!(0,m.isRestrictedEnv)()&&r.default.createElement(s.PageSection,null,r.default.createElement(s.Stack,{hasGutter:!0},r.default.createElement(s.StackItem,null,r.default.createElement(s.Title,{headingLevel:"h2"},"Run it yourself")),r.default.createElement(s.StackItem,null,"Run OpenShift clusters on your own by installing from another cloud provider.",r.default.createElement(d.RunItYourselfTable,null)))))};t.default=f,f.propTypes={hasOSDQuota:i.default.bool.isRequired,trialEnabled:i.default.bool.isRequired}},7167:(e,t)=>{"use strict";t.A=void 0,t.A={OSD_LEARN_MORE:"https://cloud.redhat.com/products/dedicated/",IBM_CLOUD_LEARN_MORE:"https://www.ibm.com/cloud/openshift",IBM_CLOUD:"https://cloud.ibm.com/kubernetes/catalog/create?platformType=openshift",AZURE:"https://azure.microsoft.com/en-us/services/openshift",AWS:"https://cloud.redhat.com/products/amazon-openshift"}},57536:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(68028),o=a(92731),u=a(40718),c=a(67080),d=a(69304),m=a(98515),p=a(62384),f=a(93413),E=l(a(7691)),g=l(a(65824)),v=l(a(89356)),h=l(a(85019)),_=l(a(58365));a(55233);const S={cloud:0,datacenter:1,local:2},b=Object.entries(S).reduce(((e,t)=>{const[a,l]=t;return e[l]=a,e}),{}),C=e=>{let{getOrganizationAndQuota:t,organization:a,getAuthToken:l,hasOSDQuota:r,hasOSDTrialQuota:C,rosaCreationWizardFeature:y,token:I,activeTab:A}=e;const R=(0,d.useNavigate)();n.default.useEffect((()=>{(0,f.shouldRefetchQuota)(a,!1)&&t(),l()}),[]);const T=S[A]||0,O=n.default.createElement(g.default,{title:"Select an OpenShift cluster type to create",breadcrumbs:n.default.createElement(E.default,{path:[{label:"Cluster List"},{label:"Cluster Type"}]})}),P=e=>{switch(e){case 0:return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.TabTitleIcon,null,n.default.createElement(s.CloudIcon,null)),n.default.createElement(i.TabTitleText,null,"Cloud"));case 1:return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.TabTitleIcon,null,n.default.createElement(u.ServerIcon,null)),n.default.createElement(i.TabTitleText,null,"Datacenter"));case 2:return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.TabTitleIcon,null,n.default.createElement(o.LaptopIcon,null)),n.default.createElement(i.TabTitleText,null,"Local"));default:return null}},D=a.fulfilled||a.error;return n.default.createElement(m.AppPage,{title:"Create an OpenShift cluster | Red Hat OpenShift Cluster Manager"},D?n.default.createElement(n.default.Fragment,null,O,n.default.createElement(i.PageSection,{variant:"light",className:"cluster-create-page"},n.default.createElement(i.Tabs,{isFilled:!0,activeKey:T,onSelect:(e,t)=>{const a=b[t];R(`/create/${a}`)}},[n.default.createElement(i.Tab,{eventKey:0,title:P(0)},n.default.createElement(v.default,{hasOSDQuota:r,rosaCreationWizardFeature:y,trialEnabled:C})),...(0,p.isRestrictedEnv)()?[]:[n.default.createElement(i.Tab,{eventKey:1,title:P(1)},n.default.createElement(h.default,null)),n.default.createElement(i.Tab,{eventKey:2,title:P(2)},n.default.createElement(_.default,{token:I}))]]))):n.default.createElement(n.default.Fragment,null,O,n.default.createElement(i.PageSection,{variant:"light"},n.default.createElement(c.Spinner,{centered:!0}))))};C.propTypes={hasOSDQuota:r.default.bool.isRequired,hasOSDTrialQuota:r.default.bool.isRequired,rosaCreationWizardFeature:r.default.bool,organization:r.default.shape({fulfilled:r.default.bool,error:r.default.bool}).isRequired,getOrganizationAndQuota:r.default.func.isRequired,token:r.default.object.isRequired,getAuthToken:r.default.func.isRequired,activeTab:r.default.string},t.default=C},85019:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(13818),i=l(a(7019)),s=a(45924),o=a(69304);const u=["Infrastructure provider","Installation options"],c=[[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/metal"},"Bare Metal (x86_64)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/arm"},"Bare Metal (ARM)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/azure-stack-hub"},"Azure Stack Hub")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/ibmz"},"IBM Z (s390x)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/power"},"IBM Power (ppc64le)")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/nutanix"},"Nutanix AOS")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/openstack"},"Red Hat OpenStack")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/vsphere"},"vSphere")),"Full stack automation and pre-existing infrastructure"],[n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Link,{to:"/install/platform-agnostic"},"Platform agnostic (x86_64)")),"Pre-existing infrastructure"]];t.default=()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(r.PageSection,{variant:"light",className:"pf-v5-u-p-lg"},n.default.createElement(r.Stack,{hasGutter:!0},n.default.createElement(r.StackItem,null,n.default.createElement(r.Title,{headingLevel:"h2",className:"ocm-ocp-datacenter-title"},"Assisted Installer")),n.default.createElement(r.StackItem,null,"The easiest way to install OpenShift on your own infrastructure with step-by-step guidance, preflight validations, and smart defaults. This method supports multiple architectures."),n.default.createElement(r.StackItem,null,n.default.createElement(r.Split,{hasGutter:!0},n.default.createElement(r.SplitItem,null,n.default.createElement(r.Button,{component:o.Link,to:"/assisted-installer/clusters/~new"},"Create cluster")),n.default.createElement(r.SplitItem,{className:"pf-v5-u-align-self-center"},n.default.createElement(o.Link,{to:"/install/metal/agent-based"},"Run Agent-based Installer locally"),n.default.createElement(r.Popover,{bodyContent:"Runs Assisted Installer securely and locally to create clusters in disconnected or air-gapped environments."},n.default.createElement(r.Button,{variant:"plain",onClick:e=>e.preventDefault()},n.default.createElement(i.default,null)))))))),n.default.createElement(r.PageSection,null,n.default.createElement(r.Stack,{hasGutter:!0},n.default.createElement(r.StackItem,null,n.default.createElement(r.Title,{headingLevel:"h2"},"Other datacenter options")),n.default.createElement(r.StackItem,null,"Create clusters on supported infrastructure using our extensive documentation and installer program."),n.default.createElement(r.StackItem,null,n.default.createElement(s.Table,{className:"install-options-table","aria-label":"Installation options table"},n.default.createElement(s.Thead,null,u.map((e=>n.default.createElement(s.Th,null,e)))),n.default.createElement(s.Tbody,null,c.map((e=>n.default.createElement(s.Tr,null,n.default.createElement(s.Td,null,e[0]),n.default.createElement(s.Td,null,e[1]))))))))))},58365:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(40167),o=a(9296),u=l(a(94538)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(65702)),d=l(a(11777)),m=l(a(94974)),p=l(a(41612)),f=l(a(79132)),E=l(a(6473));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}const v=window.location.pathname,h=c.default.INSTALL_CRC_GETTING_STARTED,_=e=>{let{token:t}=e;const a=(0,u.default)();return n.default.createElement(i.PageSection,{className:"pf-v5-u-p-lg"},n.default.createElement(i.Split,{hasGutter:!0},n.default.createElement(i.Title,{headingLevel:"h2"},"Red Hat OpenShift Local"),n.default.createElement(i.SplitItem,null,n.default.createElement(i.Label,{variant:"outline"},"local sandbox"))),n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"p"},"Create a minimal cluster on your desktop/laptop for local development and testing."),n.default.createElement(i.Text,{component:"p",className:"ocm-secondary-text"},n.default.createElement("b",null,"Note: "),"Your OpenShift Local installation won't appear in the OpenShift Cluster Manager unless you enable cluster monitoring and telemetry.")),n.default.createElement(i.Divider,{className:"pf-v5-u-mt-lg pf-v5-u-mb-xl"}),t.error&&n.default.createElement(n.default.Fragment,null,n.default.createElement(E.default,{token:t}),n.default.createElement("div",{className:"pf-v5-u-mb-lg"})),n.default.createElement(m.default,null,n.default.createElement(d.default,null,n.default.createElement(i.Text,{component:"h3"},"Download what you need to get started"),n.default.createElement(i.Text,{component:"h4"},"OpenShift Local"),n.default.createElement(p.default,{tool:c.tools.CRC,channel:c.channels.STABLE,pendoID:v}),n.default.createElement(i.Text,{component:"h3"},"Pull secret"),n.default.createElement(f.default,{token:t,pendoID:v})),n.default.createElement(d.default,null,n.default.createElement(i.Text,{component:"h3"},"Follow the documentation to install OpenShift Local"),n.default.createElement(i.Text,{component:"p"},"Run ",n.default.createElement("code",null,"crc setup")," to set up your host operating system for the OpenShift Local virtual machine."),n.default.createElement(i.Text,{component:"p"},"Then, run ",n.default.createElement("code",null,"crc start")," to create a minimal OpenShift 4 cluster on your computer."),n.default.createElement(i.Text,{component:"p"},n.default.createElement("a",{href:h,rel:"noreferrer noopener",target:"_blank",onClick:()=>{a(o.trackEvents.CRCInstallDocumentation,{url:h,path:v})}},"View the OpenShift Local Getting started guide"," ",n.default.createElement(i.Icon,{size:"sm"},n.default.createElement(s.ExternalLinkAltIcon,{color:"#0066cc"})))))))};_.propTypes={token:r.default.object.isRequired},t.default=_},52025:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(75166),i=a(56349),s=a(2479),o=a(91089),u=a(98229),c=l(a(57536));t.A=(0,n.connect)((e=>({hasOSDQuota:(0,u.hasManagedQuotaSelector)(e.userProfile.organization.quotaList,r.normalizedProducts.OSD),hasOSDTrialQuota:(0,u.hasManagedQuotaSelector)(e.userProfile.organization.quotaList,r.normalizedProducts.OSDTRIAL),organization:e.userProfile.organization,token:e.tollbooth.token})),(()=>e=>({openModal:()=>e(o.modalActions.openModal),getAuthToken:()=>e(i.tollboothActions.createAuthToken()),getOrganizationAndQuota:()=>e((0,s.getOrganizationAndQuota)())})))(c.default)},41461:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(67080);class o extends n.default.Component{componentDidMount(){const{url:e}=this.props;window.location.replace(e)}render(){return n.default.createElement(i.Bullseye,null,n.default.createElement(s.Spinner,{size:"lg",centered:!0}))}}o.propTypes={url:r.default.string.isRequired},t.default=o},47184:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.composeRuleId=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(95376),s=a(40182),o=a(13818),u=a(67080),c=a(69304),d=l(a(41461));const m=(e,t)=>encodeURIComponent(`${decodeURIComponent(e).replace(/\|/g,".").split(".report")[0]}|${decodeURIComponent(t)}`);t.composeRuleId=m;const p=e=>{var t;const a=(0,i.useParams)(),l=(0,i.useLocation)(),{clusterDetails:r,fetchClusterDetails:p,setGlobalError:f}=e;n.default.useEffect((()=>{r.fulfilled||!a.id||(0,s.validate)(a.id)||p(a.id)}),[null==r?void 0:r.fulfilled,null==a?void 0:a.id]);const E=null!=a&&a.id&&(0,s.validate)(a.id)?a.id:null==r||null===(t=r.cluster)||void 0===t?void 0:t.external_id,g=l.pathname;if(E){if((0,i.matchPath)({path:`${c.ocmBaseName}/details/:clusterId`,end:!0},g)||(0,i.matchPath)({path:`${c.ocmBaseName}/details/s/:id`,end:!0},g))return n.default.createElement(d.default,{url:`${c.advisorBaseName}/clusters/${E}`});if((0,i.matchPath)({path:`${c.ocmBaseName}/details/:id/insights/:reportId/:errorKey`,end:!0},g)||(0,i.matchPath)({path:`${c.ocmBaseName}/details/s/:id/insights/:reportId/:errorKey`,end:!0},g)){const{reportId:e,errorKey:t}=a,l=m(e,t);return n.default.createElement(d.default,{url:`${c.advisorBaseName}/clusters/${E}?first=${l}`})}}return r.error?(f(n.default.createElement(n.default.Fragment,null,"Cluster with the subscription ID ",n.default.createElement("b",null,null==a?void 0:a.id)," was not found, it might have been deleted or you don't have permission to see it."),"clusterDetails",null==r?void 0:r.errorMessage),n.default.createElement(c.Navigate,{replace:!0,to:"/cluster-list"})):r.fulfilled&&!E?(f(n.default.createElement(n.default.Fragment,null,"There is no external ID for the cluster with the ",n.default.createElement("b",null,null==a?void 0:a.id)," subscription ID."),"clusterDetails",null==r?void 0:r.errorMessage),n.default.createElement(c.Navigate,{replace:!0,to:"/cluster-list"})):n.default.createElement(o.Bullseye,null,n.default.createElement(u.Spinner,{size:"lg",centered:!0}))};p.propTypes={fetchClusterDetails:r.default.func.isRequired,clusterDetails:r.default.shape({cluster:r.default.object,error:r.default.bool,errorCode:r.default.oneOfType([r.default.number,r.default.string]),errorMessage:r.default.oneOfType([r.default.string,r.default.node,r.default.element]),fulfilled:r.default.bool,history:r.default.object}),setGlobalError:r.default.func.isRequired},t.default=p},34158:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(80883),i=a(9059),s=l(a(47184));const o={fetchClusterDetails:r.fetchClusterDetails,setGlobalError:i.setGlobalError};t.default=(0,n.connect)((e=>({clusterDetails:e.clusters.details})),o)(s.default)},3722:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(62718));t.default=n.default},18776:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=l(a(77459)),u=a(91822),c=a(91089),d=a(89538);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}const p=e=>{const[t,a]=(0,n.useState)(!1),l=(0,i.useDispatch)(),{cluster:r,showConsoleButton:m,isKebab:p,disabled:f,canSubscribeOCP:E,canTransferClusterOwnership:g,canHibernateCluster:v,refreshFunc:h}=e,{mutate:_}=(0,u.useToggleSubscriptionReleased)(),S=(0,d.dropDownItems)({cluster:r,showConsoleButton:m,openModal:(e,t)=>l((0,c.openModal)(e,t)),canSubscribeOCP:E,canTransferClusterOwnership:g,canHibernateCluster:v,refreshFunc:h,inClusterList:!1,toggleSubscriptionReleased:_,dispatch:l}),b=(0,n.useRef)(),C=n.default.createElement(s.Dropdown,{onSelect:()=>{a(!1)},popperProps:{position:"right",appendTo:()=>document.body},onOpenChange:e=>a(e),toggle:{toggleRef:b,toggleNode:n.default.createElement(s.MenuToggle,{ref:b,onClick:()=>{a(!t)},isExpanded:t,isDisabled:f,variant:p?"plain":"default","data-testid":"cluster-actions-dropdown"},p?n.default.createElement(o.default,null):"Actions")},isOpen:t,"data-testid":"cluster-actions-dropdown"},S);return f?n.default.createElement(s.Tooltip,{content:"You do not have permission to make changes in this cluster. Only cluster owners, cluster editors, and Organization Administrators can make these changes.",position:"bottom"},C):C};p.propTypes={cluster:r.default.object.isRequired,showConsoleButton:r.default.bool.isRequired,isKebab:r.default.bool,disabled:r.default.bool,canSubscribeOCP:r.default.bool.isRequired,canTransferClusterOwnership:r.default.bool.isRequired,canHibernateCluster:r.default.bool.isRequired,refreshFunc:r.default.func.isRequired},t.default=p},89538:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.actionResolver=b,t.dropDownItems=function(e){let{cluster:t,showConsoleButton:a,openModal:l,canSubscribeOCP:r,canTransferClusterOwnership:s,canHibernateCluster:u,refreshFunc:c,inClusterList:d,toggleSubscriptionReleased:m,dispatch:p}=e;const f=b(t,a,l,r,u,s,m,c,d,p);return i.default.createElement(o.DropdownList,null,f.map((e=>{let{title:t}=e,a=(0,n.default)(e,g);return i.default.createElement(o.DropdownItem,a,t)})))};var n=l(a(91847)),r=l(a(43693)),i=l(a(93345)),s=l(a(58156)),o=a(13818),u=a(70763),c=a(13642),d=l(a(6071)),m=a(22902),p=a(75166),f=l(a(43775)),E=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271));const g=["title"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const S=function(e){return e?{isAriaDisabled:!0,tooltipProps:{position:"left",content:e}}:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};function b(e,t,a,l,n,r,o,g,v,h){var b,C,y;const I={},A=e.state===E.default.UNINSTALLING&&i.default.createElement("span",null,"The cluster is being uninstalled"),R=e.state===E.default.READY,T=!R&&i.default.createElement("span",null,"This cluster is not ready"),O=(0,E.isHibernating)(e)&&(e.state===E.default.RESUMING?i.default.createElement(i.default.Fragment,null,"This cluster is resuming; wait for it to be ready in order to perform actions"):i.default.createElement(i.default.Fragment,null,"This cluster is hibernating; resume cluster in order to perform actions")),P=e.state===E.default.HIBERNATING||e.state===E.default.POWERING_DOWN,D=e.state===E.default.POWERING_DOWN&&i.default.createElement("span",null,"This cluster is powering down; you will be able to resume after it reaches hibernating state."),L="read_only"===(null==e||null===(b=e.status)||void 0===b?void 0:b.configuration_mode)&&i.default.createElement("span",null,"This operation is not available during maintenance"),N=(null===(C=e.delete_protection)||void 0===C?void 0:C.enabled)&&i.default.createElement("span",null,"Cluster is locked and cannot be deleted. To unlock, go to cluster details and disable deletion protection."),w=(0,s.default)(e,"console.url",!1),k=!w&&i.default.createElement("span",null,"Admin console is not yet available for this cluster"),F=t=>`${e.id}.menu.${t}`,M=(0,d.default)(e),x=e.product&&e.product.id===p.normalizedProducts.OSDTRIAL,G=e.canDelete&&e.managed,U=e.canEdit&&e.managed&&!(null!==(y=e.ccs)&&void 0!==y&&y.enabled),H=e.canEdit&&e.managed&&n&&!x&&!(0,E.isHypershiftCluster)(e),V=e.canEdit&&e.managed,B=(0,s.default)(e,"subscription.status",!1)===c.SubscriptionCommonFields.status.ARCHIVED,q=e.canEdit&&!e.managed&&e.subscription&&!B,j=e.canEdit&&!e.managed&&e.subscription&&B,z=!e.managed&&e.canEdit&&(t||w)&&!(0,m.isAssistedInstallCluster)(e),W=(0,s.default)(e,"subscription.plan.type",""),$=W===p.normalizedProducts.OCP&&e.canEdit&&l,K=[p.normalizedProducts.OCP,p.normalizedProducts.ARO,p.normalizedProducts.RHOIC].includes(W),Y=e.canEdit&&r&&K&&(0,s.default)(e,"subscription.status")!==c.SubscriptionCommonFields.status.ARCHIVED,Q=R&&e.canEdit&&x;return[t&&_(_({},I),{},{title:"Open console",key:F("adminconsole")},S(A||O||k,{to:w,isExternalLink:!0,rel:"noopener noreferrer"})),e.canEdit&&_(_({},I),{},{title:"Edit display name",key:F("editdisplayname")},S(A,{onClick:()=>a(f.default.EDIT_DISPLAY_NAME,_(_({},e),{},{shouldDisplayClusterName:v}))})),z&&_(_({},I),{},{key:F("editconsoleurl")},S(A,{title:w?"Edit console URL":"Add console URL",onClick:()=>a(f.default.EDIT_CONSOLE_URL,_(_({},e),{},{shouldDisplayClusterName:v}))})),U&&_(_({},I),{},{title:"Edit load balancers and persistent storage",key:F("scalecluster")},S(A||L||O||T,{onClick:()=>a(f.default.SCALE_CLUSTER,_(_({},e),{},{shouldDisplayClusterName:v}))})),H&&(()=>{const t=_(_({},I),{},{key:F("hibernatecluster")}),l={clusterID:e.id,clusterName:M,subscriptionID:e.subscription?e.subscription.id:"",shouldDisplayClusterName:v},n=_(_({},t),{},{title:"Hibernate cluster"},S(A||L||T,{onClick:()=>a(f.default.HIBERNATE_CLUSTER,l)})),r=_(_({},t),{},{title:"Resume from Hibernation"},S(D||L,{onClick:()=>a(f.default.RESUME_CLUSTER,l)}));return P?r:n})(),V&&_(_({},I),{},{title:"Edit machine pool",key:F("editmachinepools")},S(A||L||O||T,{onClick:()=>a(f.default.EDIT_MACHINE_POOL,{cluster:e,shouldDisplayClusterName:v})})),Q&&(()=>{const t={clusterID:e.id,cluster:e},l=_(_({},I),{},{title:"Upgrade cluster from Trial",key:F("upgradetrialcluster")});return _(_({},l),S(L,{onClick:()=>a(f.default.UPGRADE_TRIAL_CLUSTER,_(_({},t),{},{shouldDisplayClusterName:v}))}))})(),G&&_(_({},I),{},{title:"Delete cluster",key:F("deletecluster")},S(A||L||O||N,{onClick:()=>{var t;return a(f.default.DELETE_CLUSTER,{clusterID:e.id,clusterName:M,shouldDisplayClusterName:v,region:null==e||null===(t=e.subscription)||void 0===t?void 0:t.xcm_id})}})),q&&(()=>{const t=_(_({},I),{},{title:"Archive cluster",key:F("archivecluster")}),l={subscriptionID:e.subscription?e.subscription.id:"",name:M};return _(_({},t),S(L,{onClick:()=>a(f.default.ARCHIVE_CLUSTER,_(_({},l),{},{shouldDisplayClusterName:v}))}))})(),$&&_(_({},I),{},{title:"Edit subscription settings",key:F("editsubscriptionsettings"),onClick:()=>a(f.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:e.subscription,shouldDisplayClusterName:v})}),Y&&(()=>{const t=(0,s.default)(e,"subscription.released",!1),l=t?"Cancel ownership transfer":"Transfer cluster ownership";return _(_({},I),{},{title:l,key:F("transferclusterownership"),onClick:()=>{t?o({subscriptionID:e.subscription.id,released:!1},{onSuccess:()=>{h((0,u.addNotification)({variant:"success",title:"Cluster ownership transfer canceled",dismissable:!1})),g()}}):a(f.default.TRANSFER_CLUSTER_OWNERSHIP,{subscription:e.subscription,shouldDisplayClusterName:v,region:e.subscription.xcm_id})}})})(),j&&(()=>{const t=_(_({},I),{},{title:"Unarchive cluster",key:F("unarchivecluster")}),l={subscriptionID:e.subscription?e.subscription.id:"",name:M};return _(_({},t),S(L,{onClick:()=>a(f.default.UNARCHIVE_CLUSTER,_(_({},l),{},{shouldDisplayClusterName:v}))}))})()].filter(Boolean)}},84518:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(18776));t.default=n.default},56859:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(50927);function o(e){let{cluster:t}=e;const a=(0,s.clusterType)(t);return n.default.createElement(i.Tooltip,{content:a.tooltip},n.default.createElement("span",{"data-testid":"clusterType"},a.name,a.label&&n.default.createElement(n.default.Fragment,null,n.default.createElement("br",null),a.label)))}o.propTypes={cluster:r.default.shape({})},t.default=o},71210:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(29962),u=a(60502),c=l(a(81621)),d=a(13642),m=l(a(6071)),p=l(a(65702)),f=a(91089),E=l(a(43775)),g=a(23271);const v=e=>{var t,a,l;let{cluster:r,hideOSDUpdates:v}=e;const h=(0,i.useDispatch)(),_=(0,c.default)(r),{upgrade:S}=r.metrics,b=r.managed&&(null===(t=r.version)||void 0===t||null===(t=t.available_upgrades)||void 0===t?void 0:t.length)>0&&_&&!v,C=(null==r||null===(a=r.subscription)||void 0===a?void 0:a.status)===d.SubscriptionCommonFields.status.STALE;if("running"===(null==S?void 0:S.state)&&null!=S&&S.version&&(null===(l=r.version)||void 0===l?void 0:l.raw_id)!==S.version)return n.default.createElement("span",null," ","→",` ${S.version}`);const y=!r.canEdit||!b||(0,g.isHibernating)(r)||C;return r.managed&&y||!r.managed&&(!S.available||C)||(0,g.isHypershiftCluster)(r)?null:r.managed?n.default.createElement(s.Button,{className:"cluster-inline-link pf-v5-u-mt-0",variant:"link",onClick:()=>h((0,f.openModal)(E.default.UPGRADE_WIZARD,{clusterName:(0,m.default)(r),subscriptionID:r.subscription.id})),icon:n.default.createElement(u.OutlinedArrowAltCircleUpIcon,null)},"Update"):r.console&&r.console.url?n.default.createElement("a",{href:`${r.console.url}/settings/cluster`,target:"_blank",rel:"noopener noreferrer"},n.default.createElement(s.Button,{className:"cluster-inline-link pf-v5-u-mt-0",variant:"link",icon:n.default.createElement(u.OutlinedArrowAltCircleUpIcon,null)},"Update")):n.default.createElement(s.Popover,{position:"top","aria-label":"Update",bodyContent:n.default.createElement("div",null,"An update is available for this cluster. Navigate to the Cluster settings page in the cluster's web console to update."," ",n.default.createElement("a",{href:p.default.UPDATING_CLUSTER,target:"_blank",rel:"noreferrer noopener"},"Learn more"))},n.default.createElement(s.Button,{className:"cluster-inline-link pf-v5-u-mt-0",variant:"link",icon:n.default.createElement(o.InfoCircleIcon,null)},"Update"))};v.propTypes={cluster:r.default.object.isRequired,hideOSDUpdates:r.default.bool},t.default=v},87814:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=l(a(48609)),s=a(39843),o=l(a(8099)),u=l(a(35398)),c=l(a(74450)),d=l(a(25044)),m=l(a(3722)),p=l(a(49509)),f=l(a(55980)),E=l(a(8003)),g=l(a(25971)),v=l(a(88485)),h=l(a(31066)),_=l(a(62306)),S=l(a(67412));function b(e){let{onClose:t,onClusterDeleted:a,clearMachinePools:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.default,{ModalComponent:E.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:f.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:u.default,onClose:t,isDialog:!0}),n.default.createElement(i.default,{ModalComponent:h.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:m.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:c.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:g.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:v.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:S.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:_.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:d.default}),n.default.createElement(i.default,{ModalComponent:o.default,onClose:t}),n.default.createElement(i.default,{ModalComponent:p.default,onClose:e=>{e&&(a?a():t())}}),n.default.createElement(i.default,{ModalComponent:s.ConnectedEditMachinePoolModal,clearMachinePools:l}))}b.propTypes={onClose:r.default.func.isRequired,onClusterDeleted:r.default.func,clearMachinePools:r.default.bool},t.default=b},49484:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.billingModelConstants=void 0;var l=a(72230);t.constants={clusterNameHint:"This name identifies your cluster in OpenShift Cluster Manager and forms part of the cluster console subdomain.",availabilityHintSingleZone:"Single zone clusters reside in a singular fault domain and lack the resilience of multi-zone clusters.",availabilityHintMultiZone:"Three availability zones provide resilience to cluster components evenly spread across fault domains.",regionHint:"The data center where your compute pool will be located.",persistentStorageHint:"The storage quota set on the deployed cluster.",loadBalancersHint:"The load balancer quota set on the deployed cluster.",computeNodeInstanceTypeHint:"The instance type for the compute nodes. Instance type\n    determines the amount of memory and vCPU allocated to each compute node.",computeNodeCountHint:"The number of compute nodes to provision per zone. The minimum number of compute nodes will vary depending on which features are enabled.",hcpComputeNodeCountHintWizard:"The number of compute nodes to provision per machine pool. The minimum number of compute nodes will vary depending on which features are enabled and how many machine pools will be created.",hcpComputeNodeCountHint:"The number of compute nodes to provision. The minimum number of compute nodes will vary depending on which features are enabled and how many machine pools exist.",machineCIDRHint:"A block of IP addresses used by the OpenShift Container Platform installation\n    program while installing the cluster. The address block must not overlap with any other network\n    block.",serviceCIDRHint:"A block of IP addresses for services. OpenShiftSDN allows only one\n    serviceNetwork block. The address block must not overlap with any other network block.",podCIDRHint:"A block of IP addresses from which Pod IP addresses are allocated. The OpenShiftSDN\n    network plug-in supports multiple cluster networks. The address blocks for multiple cluster\n    networks must not overlap.  Select address pools large enough to fit your anticipated workload.",hostPrefixHint:"The subnet prefix length to assign to each individual node.  For example, if host\n    prefix is set to /23, then each node is assigned a /23 subnet out of the given CIDR, allowing\n    for 510 (2^(32 - 23) - 2) pod IP addresses.",bypassSCPChecksHint:"Some AWS service control policies (SCP) will cause installation to fail even if\n    the credentials have the correct permissions. Disabling SCP checks allows installation to proceed.\n    The SCP will still be enforced even if the checks are bypassed.",enableAdditionalEtcdHint:"When you enable etcd encryption, encryption keys are created. These keys are rotated on a weekly basis.",enableAdditionalEtcdHypershiftHint:"Etcd is always encrypted by ROSA keys. If you want to provide your own AWS KMS key to encrypt etcd, you may do that here.",autoscaleHint:"Autoscaling automatically adds and removes nodes from the cluster based on resource requirements.",keyRing:"A key ring organizes keys in a specific Google Cloud location and allows you to manage access control on groups of keys.",keyName:"A cryptographic key is a resource that is used for encrypting and decrypting data or for producing and verifying digital signatures",keylocation:"A key location represent the geographical regions where a Cloud KMS resource is stored and can be accessed.",kmsserviceAccount:"Compute Engine default service account.",enableUserWorkloadMonitoringHint:"Monitor your own projects in isolation from Red Hat Site Reliability Engineering (SRE) platform metrics.",enableUserWorkloadMonitoringHelp:"This feature is enabled by default and provides monitoring for user-defined projects. \n This includes metrics provided through service endpoints in user-defined projects as well as pods running in user-defined projects.",cloudKMSTitle:"Cloud Key Management Service",cloudKMS:"Cloud KMS is a REST API that can use a key to encrypt, decrypt, or sign data such as secrets for storage.",amazonEBSTitle:"Amazon EBS encryption",amazonEBS:"Provide your own AWS KMS key ARN for encryption of EBS resources associated with your EC2 instances.",awsKeyARN:"The key ARN is the Amazon Resource Name (ARN) of a CMK. It is a unique, fully qualified identifier for the CMK. A key ARN includes the AWS account, Region, and the key ID.",privateLinkHint:"To provide support, Red Hat Site Reliability Engineering (SRE) connects to the cluster using only AWS PrivateLink endpoints instead of public endpoints.  This option cannot be changed after a cluster is created.",clusterProxyHint:"Enable an HTTP or HTTPS proxy to deny direct access to the internet from your cluster.",privateServiceConnectHint:"To provide support, Red Hat Site Reliability Engineering (SRE) connects to the cluster using only GCP Private Service Connect endpoints instead of public endpoints. This option cannot be changed after a cluster is created.",enableSecureBootHint:`Secure Boot enables the use of Shielded VMs in the Google Cloud Platform. Shielded VMs help protect enterprise workloads from threats like remote attacks, privilege escalation, and malicious insiders. Secure Boot support requires OpenShift version ${l.MIN_SECURE_BOOT_VERSION} or above.`,domainPrefixHint:"A domain prefix will be used for the subdomain and limited to 15 characters. If you do not create a custom domain prefix, we'll generate one for you."},t.billingModelConstants={standard:"Standard",customerCloudSubscription:"Customer cloud subscription",standardText:"Deploy in cloud provider accounts owned by Red Hat.",customerCloudSubscriptionText:"Leverage your existing cloud provider discounts and settings.",awsCredentialsWarning:"Revoking these credentials in AWS will result in a loss of access to any cluster created with these credentials."}},49509:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(28073));t.default=(0,n.connect)((()=>{}),(()=>({})))(r.default)},55980:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(71610));t.default=n.default},8003:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(52027));t.default=n.default},71626:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.userCanHibernateClustersSelector=t.useCanHibernateClusterListFromClusters=void 0;var n=l(a(58156)),r=a(25514);const i=e=>{const t=(0,n.default)(e,"userProfile.organization.details.capabilities",[]).find((e=>"capability.organization.hibernate_cluster"===e.name));return"true"===(null==t?void 0:t.value)};t.userCanHibernateClustersSelector=i,t.useCanHibernateClusterListFromClusters=e=>{const t=(0,r.useGlobalState)((e=>i(e))),a={};return t&&e.forEach((e=>{a[e.id]=!0})),a}},25971:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(26883));t.default=(0,n.connect)((()=>({})),(()=>({})))(r.default)},43202:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(16161),u=a(21888),c=a(91089),d=l(a(12200)),m=l(a(43775)),p=l(a(23271));function f(e){var t;let{cluster:a}=e;const l=(0,i.useDispatch)();let r,f,E,g=!1,v=null;const h="read_only"===(null==a||null===(t=a.status)||void 0===t?void 0:t.configuration_mode)&&"This operation is not available during maintenance",_=!a.canEdit&&"You do not have permission to resume from hibernation. Only cluster owners, cluster editors, and Organization Administrators can change hibernation state.";switch(a.state){case p.default.RESUMING:f="Cluster is resuming from hibernation",E="This might take a few minutes!",r=u.InProgressIcon;break;case p.default.POWERING_DOWN:f="Cluster is powering down and moving to a hibernating state",E="The cluster will not utilize any infrastructure and all operations will not be available",r=u.InProgressIcon;break;default:f="Cluster is currently hibernating",E="The cluster is not utilizing any infrastructure and all operations will not be available",r=o.AsleepIcon,g=!0,v=h||_}return n.default.createElement(s.Card,{isFlat:!0},n.default.createElement(s.CardBody,null,n.default.createElement(s.EmptyState,{variant:s.EmptyStateVariant.sm},n.default.createElement(s.EmptyStateHeader,{titleText:f,icon:n.default.createElement(s.EmptyStateIcon,{icon:r}),headingLevel:"h4"}),n.default.createElement(s.EmptyStateBody,null,E),n.default.createElement(s.EmptyStateFooter,null,n.default.createElement(s.EmptyStateActions,null,g&&n.default.createElement(d.default,{variant:"link",disableReason:v,onClick:()=>{const e={clusterID:a.id,clusterName:a.name,subscriptionID:a.subscription.id};l(c.modalActions.openModal(m.default.RESUME_CLUSTER,e))}},"Resume from Hibernation"))))))}f.propTypes={cluster:r.default.object.isRequired},t.default=f},40633:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=l(a(5556)),i=a(75166);function s(e){let{cluster:t}=e;const a=(0,n.default)(t,"subscription.plan.type"),{OSD:l}=i.normalizedProducts,r=(0,n.default)(t,"ccs.enabled");return r?"Customer cloud subscription":a===l?!1===r?"Red Hat cloud account":"N/A":"Standard"}s.propTypes={cluster:r.default.shape({subscription:r.default.shape({plan:r.default.shape({type:r.default.oneOf(Object.values(i.normalizedProducts)).isRequired})})})},t.default=s},28254:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(4213)),i=l(a(71710)),s=l(a(5556)),o=a(13818),u=a(90020),c=a(7252);function d(e){let{cluster:t}=e;const[a,l]=n.default.useState(),[s,d]=n.default.useState(),[m,p]=n.default.useState(),[f,E]=n.default.useState(""),[g,v]=n.default.useState(),h=a&&s&&m;return n.default.useEffect((()=>{const e=(0,c.getAWSAccountID)(t);u.clusterService.getOperatorRoleCommands(e,t.id,t.aws.sts.role_arn).then((e=>{l(e.data.commands)})).catch((e=>{var t,a;E(e.message||"Could not fetch commands.");const l=null!==(t=null===(a=e.response.data.details)||void 0===a?void 0:a[0].Error_Key)&&void 0!==t?t:e.response.data.reason;l&&v(l)}))}),[]),n.default.useEffect((()=>{u.accountsService.getPolicies().then((e=>{d(e.data.items)})).catch((e=>{E(e.message||"Could not fetch policies.")}))}),[]),n.default.useEffect((()=>{u.accountsService.getCredentialRequests().then((e=>{p(e.data.items)})).catch((e=>{E(e.message||"Could not fetch credential requests.")}))}),[]),n.default.createElement(o.Stack,{hasGutter:!0},f&&n.default.createElement(o.StackItem,null,n.default.createElement(o.Alert,{isInline:!0,variant:"danger",title:"Something went wrong"},n.default.createElement(o.List,{isPlain:!0},n.default.createElement(o.ListItem,null,f),n.default.createElement(o.ListItem,null,"You will need to use "," the ROSA CLI to create the operator roles and OIDC provider."),g?n.default.createElement(o.ListItem,null,n.default.createElement(o.ExpandableSection,{toggleTextExpanded:"Show less",toggleTextCollapsed:"Show more",isIndented:!0},g)):null))),n.default.createElement(o.StackItem,null,n.default.createElement(o.TextContent,null,n.default.createElement(o.TextList,{component:o.TextListVariants.ol},n.default.createElement(o.TextListItem,null,"Download and extract the following .zip file."),n.default.createElement(o.TextListItem,null,"In the AWS CLI, run the commands with the included policy files to create the operator roles and OIDC provider.")),n.default.createElement(o.Button,{variant:"secondary",onClick:async()=>{try{const e=new i.default;e.file("README","To create the operator roles and OIDC provider for your ROSA cluster, run the\nAWS commands from commands.txt in the directory containing the policy files\nextracted from the ZIP. Cluster installation will continue automatically when\nthe roles and OIDC provider are available.\n"),e.file("commands.txt",a.map((e=>{let{command:t}=e;return t})).join("\n\n")),function(){const e=s.find((e=>{let{id:t}=e;return"operator_iam_role_policy"===t})),a=(0,c.getOIDCEndpointNoScheme)(t),l=(0,c.getOIDCProviderARN)(t);return t.aws.sts.operator_iam_roles.map((t=>{const n=m.find((e=>e.operator.name===t.name&&e.operator.namespace===t.namespace)),r=n.operator.service_accounts.map((e=>`system:serviceaccount:${t.namespace}:${e}`));return{filename:`operator_${n.name}_policy.json`,content:e.details.replace("%{issuer_url}",a).replace("%{service_accounts}",r.join('", "')).replace("%{oidc_provider_arn}",l)}}))}().forEach((t=>{let{filename:a,content:l}=t;e.file(a,l)}));const l=await e.generateAsync({type:"blob"});r.default.saveAs(l,`${t.name}-manual-commands.zip`)}catch(e){E(e.message||"An error occurred creating the ZIP file.")}},isDisabled:!h},h?n.default.createElement(n.default.Fragment,null,"Download .zip"):n.default.createElement(n.default.Fragment,null,"Preparing .zip")))))}d.propTypes={cluster:s.default.object.isRequired},t.default=d},5505:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=l(a(56282));function o(e){let{cluster:t,icon:a,initiallyOpen:l,regionalInstance:r}=e;const[o,u]=n.default.useState(l);return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Button,{variant:"link",isInline:!0,onClick:()=>u(!0),icon:a},"Action required"),n.default.createElement(s.default,{cluster:t,isOpen:o,onClose:()=>u(!1),regionalInstance:r}))}o.propTypes={cluster:r.default.object.isRequired,initiallyOpen:r.default.bool,icon:r.default.node,regionalInstance:r.default.shape({environment:r.default.string,id:r.default.string,isDefault:r.default.bool,url:r.default.string})},t.default=o},56282:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(11243),o=a(976),u=a(23271),c=l(a(28254)),d=l(a(96370));function m(e){var t,a,l,r;let{cluster:m,isOpen:p,onClose:f,regionalInstance:E}=e;const g=(0,u.isWaitingROSAManualMode)(m),v=(0,u.isHypershiftCluster)(m),h=(0,u.isWaitingForOIDCProviderOrOperatorRolesMode)(m),_=(0,u.isErrorSharedGCPVPCValues)(m),[S,b]=n.default.useState(1),C=(0,s.useFeatureGate)(o.MULTIREGION_PREVIEW_ENABLED)&&v&&E,y=n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,null,"You must create the ",n.default.createElement("b",null,"operator roles")," and ",n.default.createElement("b",null,"OIDC provider")," to complete cluster installation."),n.default.createElement(i.StackItem,null,"Use one of the following methods:"),n.default.createElement(i.StackItem,null,n.default.createElement(i.Tabs,{activeKey:S,onSelect:(e,t)=>b(t),isBox:!0},n.default.createElement(i.Tab,{eventKey:1,title:n.default.createElement(i.TabTitleText,null,"ROSA CLI"),tabContentId:"rosa-cli"}),n.default.createElement(i.Tab,{eventKey:2,title:n.default.createElement(i.TabTitleText,null,"AWS CLI"),tabContentId:"aws-cli"}))),n.default.createElement(i.StackItem,null,n.default.createElement(i.TabContent,{key:1,eventKey:1,id:"rosa-cli",activeKey:S,hidden:1!==S},n.default.createElement(d.default,{cluster:m})),n.default.createElement(i.TabContent,{key:2,eventKey:2,id:"aws-cli",activeKey:S,hidden:2!==S},n.default.createElement(c.default,{cluster:m}))),n.default.createElement(i.StackItem,null,"The options above will be available until the operator roles and OIDC provider are detected.")),I=n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(i.Text,{component:i.TextVariants.p},null==m||null===(t=m.status)||void 0===t?void 0:t.description),n.default.createElement(i.Text,{component:i.TextVariants.p},"You entered these values:")),n.default.createElement(i.TextContent,null,n.default.createElement(i.TextList,null,n.default.createElement(i.TextListItem,null,`Existing VPC name: ${null===(a=m.gcp_network)||void 0===a?void 0:a.vpc_name}`),n.default.createElement(i.TextListItem,null,`Control plane subnet name: ${null===(l=m.gcp_network)||void 0===l?void 0:l.control_plane_subnet}`),n.default.createElement(i.TextListItem,null,`Compute subnet name: ${null===(r=m.gcp_network)||void 0===r?void 0:r.compute_subnet}`)))));return n.default.createElement(i.Modal,{title:"Action required to continue installation",isOpen:p,onClose:f,variant:i.ModalVariant.medium},g&&y,h&&(e=>{var t,a,l;const r=null===(t=e.aws.sts)||void 0===t||null===(t=t.oidc_config)||void 0===t?void 0:t.id,s=null===(a=e.aws)||void 0===a||null===(a=a.sts)||void 0===a?void 0:a.operator_role_prefix,o=null===(l=e.aws)||void 0===l||null===(l=l.sts)||void 0===l?void 0:l.role_arn,u=`rosa login --url ${null==E?void 0:E.url}`,c=`rosa create operator-roles ${v?"--hosted-cp":""} --prefix "${s}" --oidc-config-id "${r}"  --installer-role-arn ${o}`,d=`rosa create oidc-provider --oidc-config-id "${r}"`;return n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(i.Text,{component:i.TextVariants.p},"Your cluster will proceed to ready state only after the operator roles and OIDC provider are created."))),C?n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:i.TextVariants.p},"To log in to your cluster's region, run the following command:"),n.default.createElement(i.ClipboardCopy,{textAriaLabel:"Copyable ROSA region login",variant:i.ClipboardCopyVariant.expansion,isReadOnly:!0},u))):null,n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:i.TextVariants.p},"To create the operator roles, run the following command:"),n.default.createElement(i.ClipboardCopy,{textAriaLabel:"Copyable ROSA create operator-roles",variant:i.ClipboardCopyVariant.expansion,isReadOnly:!0},c))),n.default.createElement(i.StackItem,null,n.default.createElement(i.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(i.Text,{component:i.TextVariants.p}," ","To create an OIDC provider, run the following command:"),n.default.createElement(i.ClipboardCopy,{textAriaLabel:"Copyable ROSA OIDC provider",variant:i.ClipboardCopyVariant.expansion,isReadOnly:!0},d))))})(m),_&&I)}m.propTypes={cluster:r.default.object.isRequired,isOpen:r.default.bool.isRequired,onClose:r.default.func.isRequired,regionalInstance:r.default.shape({environment:r.default.string,id:r.default.string,isDefault:r.default.bool,url:r.default.string})},t.default=m},24022:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(73729),i=a(13818),s=a(13331),o=a(17210),u=a(65702);t.A=function(){const e=(0,r.useSelector)((e=>e.githubReleases))||{},t=(0,u.urlsSelector)(e),a=(0,o.detectOS)(),l=(0,o.architecturesForToolOS)(t,u.tools.OC,u.channels.STABLE,a);let c,d;return null!=l&&l.length&&(c=l[0].value,d=t[u.tools.OC][u.channels.STABLE][c][a]),d?n.default.createElement(i.Button,{component:"a","data-testid":"download-oc-cli",href:d,variant:"link",icon:n.default.createElement(s.DownloadIcon,null),isInline:!0},"Download OC CLI"):null}},53737:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=l(a(48266)),u=a(17629),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(23271)),d=l(a(5505));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){var t,a;let{cluster:l,actionRequiredInitialOpen:n,regionalInstance:i}=e;const m=(0,c.isROSA)(l),p=(0,c.isOSD)(l),E=(0,c.isOSDGCPPendingOnHostProject)(l),g=(0,c.isOSDGCPWaitingForRolesOnHostProject)(l),v=(0,c.isWaitingROSAManualMode)(l),h=(0,c.isWaitingForOIDCProviderOrOperatorRolesMode)(l),_=l.state===c.default.PENDING,S=l.state===c.default.WAITING,b=l.state===c.default.VALIDATING,C=null==l||null===(t=l.aws)||void 0===t||null===(t=t.sts)||void 0===t?void 0:t.auto_mode,y=null==l||null===(a=l.aws)||void 0===a||null===(a=a.sts)||void 0===a||null===(a=a.oidc_config)||void 0===a?void 0:a.id,I=!(null!=l&&l.status.description)||"Waiting for OIDC configuration"===(null==l?void 0:l.status.description),A=S&&(C||y&&I),R=(()=>{const e={variant:"pending"},t={variant:"info",icon:r.default.createElement(s.Spinner,{size:"sm"}),isCurrent:!0},a={variant:"success",text:"Completed"},S={icon:r.default.createElement(o.default,{className:"icon-space-right"}),text:"Unknown"};if(p&&(l.state===c.default.WAITING||E||g))return{awsAccountSetup:g?{text:"Waiting for permissions",variant:"warning"}:f({text:"Preparing account"},t),DNSSetup:e,networkSettings:e,clusterInstallation:e};const C=(0,c.getInflightChecks)(l),y=(0,c.hasInflightEgressErrors)(l);if(m){if(h)return{awsAccountSetup:a,oidcAndOperatorRolesSetup:{variant:"warning",text:r.default.createElement(d.default,{cluster:l,regionalInstance:i}),isCurrent:!0},networkSettings:e,DNSSetup:e,clusterInstallation:e};if(v)return{awsAccountSetup:a,oidcAndOperatorRolesSetup:{variant:"warning",text:r.default.createElement(d.default,{cluster:l,initiallyOpen:n,regionalInstance:i}),isCurrent:!0},networkSettings:e,DNSSetup:e,clusterInstallation:e};if(A)return{awsAccountSetup:a,oidcAndOperatorRolesSetup:f({text:"Waiting"},t),networkSettings:e,DNSSetup:e,clusterInstallation:e}}if((m||p)&&(_||b||C.some((e=>e.state===u.InflightCheckState.RUNNING))))return{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,networkSettings:f({text:"Validating"},t),DNSSetup:e,clusterInstallation:e};const I=y?{variant:"warning",text:"Validation failed"}:a;return l.state===c.default.INSTALLING?l.status.dns_ready?{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,networkSettings:I,DNSSetup:a,clusterInstallation:f({text:"Installing cluster"},t)}:{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,networkSettings:I,DNSSetup:t,clusterInstallation:e}:l.state===c.default.ERROR||l.state===c.default.READY?{awsAccountSetup:a,oidcAndOperatorRolesSetup:a,DNSSetup:a,networkSettings:I,clusterInstallation:l.state===c.default.ERROR?{variant:"danger",text:"Failed"}:a}:{awsAccountSetup:S,oidcAndOperatorRolesSetup:S,DNSSetup:S,networkSettings:S,clusterInstallation:S}})();return r.default.createElement(s.ProgressStepper,null,r.default.createElement(s.ProgressStep,{variant:R.awsAccountSetup.variant,icon:R.awsAccountSetup.icon,isCurrent:R.awsAccountSetup.isCurrent,description:R.awsAccountSetup.text,id:"awsAccountSetup","data-testid":"account-setup-title",titleId:"awsAccountSetup-title"},"Account setup"),m&&r.default.createElement(s.ProgressStep,{variant:R.oidcAndOperatorRolesSetup.variant,icon:R.oidcAndOperatorRolesSetup.icon,isCurrent:R.oidcAndOperatorRolesSetup.isCurrent,description:R.oidcAndOperatorRolesSetup.text,id:"oidcAndOperatorRolesSetup",titleId:"oidcAndOperatorRoles-title"},"OIDC and operator roles"),(m||p)&&r.default.createElement(s.ProgressStep,{variant:R.networkSettings.variant,icon:R.networkSettings.icon,isCurrent:R.networkSettings.isCurrent,description:R.networkSettings.text,id:"networkSettings",titleId:"networkSettings-title"},"Network settings"),r.default.createElement(s.ProgressStep,{variant:R.DNSSetup.variant,icon:R.DNSSetup.icon,isCurrent:R.DNSSetup.isCurrent,description:R.DNSSetup.text,id:"DNSSetup",titleId:"DNSSetup-title"},"DNS setup"),r.default.createElement(s.ProgressStep,{variant:R.clusterInstallation.variant,icon:R.clusterInstallation.icon,isCurrent:R.clusterInstallation.isCurrent,description:R.clusterInstallation.text,id:"clusterInstallation",titleId:"clusterInstallation-title"},"Cluster installation"))}a(66350),E.propTypes={cluster:i.default.object.isRequired,actionRequiredInitialOpen:i.default.bool,regionalInstance:i.default.shape({environment:i.default.string,id:i.default.string,isDefault:i.default.bool,url:i.default.string})},t.default=E},96370:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818);function s(e){let{cluster:t}=e;return n.default.createElement(i.Flex,{direction:{default:"column"},spaceItems:{default:"spaceItemsSm"}},n.default.createElement("p",null,"Copy and run the following commands:"),n.default.createElement(i.FlexItem,null,n.default.createElement(i.ClipboardCopy,{isReadOnly:!0},`rosa create operator-roles --interactive -c ${t.name}`)),n.default.createElement(i.FlexItem,null,n.default.createElement(i.ClipboardCopy,{isReadOnly:!0},`rosa create oidc-provider --interactive -c ${t.name}`)))}s.propTypes={cluster:r.default.object.isRequired},t.default=s},52774:(e,t)=>{"use strict";t.K=void 0,t.K=(e,t,a)=>{if(!t)return{values:[]};const l={values:[...t]};return l.values=e?l.values.filter((t=>t<=a+e)):l.values.filter((e=>e<=a)),l}},92148:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(34939));t.A=n.default},68835:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MachineConfiguration",{enumerable:!0,get:function(){return l.MachineConfiguration}}),Object.defineProperty(t,"MachineConfigurationProps",{enumerable:!0,get:function(){return l.MachineConfigurationProps}});var l=a(82298)},2942:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(93345)),s=l(a(5556)),o=a(13818),u=a(57109),c=a(31261),d=a(38715),m=a(93413),p=a(75166),f=l(a(55213));const E=["onChange"],g=e=>{let{isHypershiftWizard:t,poolNumber:a,isMultiAz:l}=e;return t?(0,u.getNodeIncrementHypershift)(a):(0,u.getNodeIncrement)(l)};class v extends i.default.Component{componentDidMount(){const{input:e,minNodes:t,isEditingCluster:a,currentNodeCount:l,increment:n,isHypershiftWizard:r,poolNumber:i,isMultiAz:s,isMachinePool:o,clusterVersion:u,allow500Nodes:d}=this.props,m=(0,c.getIncludedNodes)({isMultiAz:s,isHypershift:!o}),p=this.getAvailableQuota(),f=n||g({isHypershiftWizard:r,poolNumber:i,isMultiAz:s});(0,c.buildOptions)({included:m,available:p,isEditingCluster:a,currentNodeCount:l,minNodes:t,optionValueIncrement:f,isHypershift:r,clusterVersion:u,allow500Nodes:d}).includes(Number(e.value))||e.onChange(t)}componentDidUpdate(e){const{input:t,isEditingCluster:a,minNodes:l,isHypershiftWizard:n,poolNumber:r,currentNodeCount:i,isMultiAz:s,increment:o,isMachinePool:u,clusterVersion:d,allow500Nodes:m}=this.props,p=this.getAvailableQuota(),f=(0,c.getIncludedNodes)({isMultiAz:s,isHypershift:!u}),E=o||g({isHypershiftWizard:n,poolNumber:r,isMultiAz:s}),v=(0,c.buildOptions)({included:f,available:p,isEditingCluster:a,currentNodeCount:i,minNodes:l,optionValueIncrement:E,isHypershift:n,clusterVersion:d,allow500Nodes:m});if(n&&r!==e.poolNumber){var h,_;const a=((null!==(h=null===(_=e.input)||void 0===_?void 0:_.value)&&void 0!==h?h:0)/e.poolNumber||l)*r;a>l&&a<=(0,c.getMaxNodesHCP)(d,m)?t.onChange(a):t.onChange(l)}else 0!==p||t.value===l||a||t.onChange(l);v.includes(Number(t.value))||t.onChange(l)}getAvailableQuota(){const{quota:e,isByoc:t,isMultiAz:a,machineType:l,machineTypes:n,cloudProviderID:r,product:i,billingModel:s}=this.props;return(0,c.getAvailableQuota)({quota:e,isByoc:t,billingModel:s,cloudProviderID:r,isMultiAz:a,machineTypes:n,machineTypeId:l,product:i})}render(){const{input:e,isMultiAz:t,isEditingCluster:a,currentNodeCount:l,label:s,helpText:u,extendedHelpText:p,machineType:v,isByoc:h,isMachinePool:_,minNodes:S,increment:b,isHypershiftWizard:C,poolNumber:y=(t?3:1),buttonAriaLabel:I,clusterVersion:A,allow500Nodes:R}=this.props,T=b||g({isHypershiftWizard:C,poolNumber:y,isMultiAz:t}),O=(0,c.getIncludedNodes)({isMultiAz:t,isHypershift:!_}),P=this.getAvailableQuota(),D=(0,c.buildOptions)({included:O,available:P,isEditingCluster:a,currentNodeCount:l,minNodes:S,increment:T,isHypershift:C,clusterVersion:A,allow500Nodes:R});let L=D.length<1;!h||a||_||(L=!v||D.length<1);const N=e=>{let a=e;return C?a=e/T:t&&(a=e/3),a.toString()},{onChange:w}=e,k=(0,r.default)(e,E),F=i.default.createElement(o.FormSelect,(0,n.default)({"aria-label":"Compute nodes",isDisabled:L,className:"quota-dropdown",onChange:(e,t)=>w(t)},k),D.map((e=>(e=>i.default.createElement(o.FormSelectOption,{key:e,value:e,label:N(e)}))(e))));return i.default.createElement(o.FormGroup,{fieldId:e.name,label:s,labelIcon:p&&i.default.createElement(f.default,{hint:p,buttonAriaLabel:I})},L?i.default.createElement(o.Tooltip,{content:m.noQuotaTooltip,position:"right"},i.default.createElement("div",null,F)):F,C?i.default.createElement("span",{"data-testid":"compute-node-hcp-multizone-details"},"x ",y," machine pools = ",e.value," compute nodes"):t?i.default.createElement("span",{"data-testid":"compute-node-multizone-details"},"× 3 zones = ",e.value," compute nodes"):null,i.default.createElement(d.FormGroupHelperText,null,u))}}v.propTypes={isEditingCluster:s.default.bool,currentNodeCount:s.default.number,minNodes:s.default.number,label:s.default.string,helpText:s.default.string,extendedHelpText:s.default.oneOfType([s.default.string,s.default.node]),quota:s.default.object.isRequired,isByoc:s.default.bool,isMachinePool:s.default.bool,isMultiAz:s.default.bool,machineType:s.default.string,machineTypes:s.default.object,input:s.default.shape({name:s.default.string.isRequired,value:s.default.oneOfType([s.default.string,s.default.number]),onChange:s.default.func.isRequired,onBlur:s.default.func.isRequired}),cloudProviderID:s.default.string.isRequired,product:s.default.oneOf(Object.keys(p.normalizedProducts)).isRequired,billingModel:s.default.string.isRequired,increment:s.default.number,isHypershiftWizard:s.default.bool,poolNumber:s.default.number,buttonAriaLabel:s.default.string,clusterVersion:(e,t,a)=>{const{isHypershiftWizard:l}=e;if(l){if("string"!=typeof e[t])return new Error(`Prop \`${t}\` must be a string when \`isHypershiftWizard\` is true in \`${a}\`.`);if(!e[t])return new Error(`Prop \`${t}\` is required when \`isHypershiftWizard\` is true in \`${a}\`.`)}return null},allow500Nodes:(e,t,a)=>{const{isHypershiftWizard:l}=e;if(l){if("boolean"!=typeof e[t])return new Error(`Prop \`${t}\` must be a boolean when \`isHypershiftWizard\` is true in \`${a}\`.`);if(void 0===e[t])return new Error(`Prop \`${t}\` is required when \`isHypershiftWizard\` is true in \`${a}\`.`)}return null}},t.default=v},60979:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(58156)),r=a(73729),i=l(a(2942));t.default=(0,r.connect)((e=>({machineTypes:e.machineTypes,quota:(0,n.default)(e,"userProfile.organization.quotaList",{})})))(i.default)},66086:(e,t,a)=>{"use strict";t.Y=void 0;var l=a(74688);const n=107374182400;t.Y=(e,t,a)=>{if(!t)return{values:[{value:n,unit:"B"}]};const r=(0,l.parseValueWithUnit)(a,"GiB"),i={values:[...t]};return i.values=e?i.values.filter((t=>t.value<=r+e)):i.values.filter((e=>e.value<=r+n)),i}},22629:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(75499));t.A=n.default},17779:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818);function s(e){let{isReadOnly:t,someReadOnly:a}=e;return t?n.default.createElement(i.Banner,{variant:"gold",className:"configuration_mode_read_only"},n.default.createElement(i.Text,null,n.default.createElement("b",null,"You will be unable to configure your cluster during maintenance.")),n.default.createElement(i.Text,null,"Actions like configuring identity providers and updating cluster settings are disabled until maintenance is complete. More information may be available under"," ",n.default.createElement("b",null,"Cluster history")," in Overview tab.")):a?n.default.createElement(i.Banner,{variant:"gold",className:"configuration_mode_read_only"},n.default.createElement(i.Text,null,n.default.createElement("b",null,"You will be unable to configure some of your clusters during maintenance.")),n.default.createElement(i.Text,null,"Actions like configuring identity providers and updating cluster settings are disabled until maintenance is complete.")):null}s.propTypes={isReadOnly:r.default.bool,someReadOnly:r.default.bool},t.default=s},30704:(e,t,a)=>{"use strict";var l=a(24994);t.wm=t.FI=void 0;var n=l(a(58156));t.FI=(e,t)=>{const{data:a}=e.modal,l=(0,n.default)(a,"load_balancer_quota",0);return!(!t||!l)&&l>parseInt(t,10)},t.wm=(e,t)=>{const{data:a}=e.modal,l=(0,n.default)(a,"storage_quota.value",0);return!(!t||!l)&&l>parseInt(t,10)}},31066:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(18934));t.default=n.default},23532:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=l(a(99851)),o=a(93413),u=a(75166),c=a(74688),d=a(49484),m=a(98229),p=a(14115),f=l(a(55816)),E=l(a(8888)),g=a(38715),v=l(a(55213)),h=a(16521),_=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(3255)),S=a(27164);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const C=e=>{if(!e)return"";const t=(0,c.humanizeValueWithUnit)(e.memory.value,e.memory.unit);let a=`${e.cpu.value} ${e.cpu.unit} ${t.value} ${t.unit} RAM`;if("accelerated_computing"===e.category){const t=e.name.match(/\d+ GPU[s]?/g);t&&(a+=` (${t})`)}return a},y=e=>e?e.id:"",I=e=>{var t,a;let{machine_type:l,machine_type_force_choice:r,getDefaultFlavour:c,flavours:b,machineTypes:I,machineTypesByRegion:A,isMultiAz:R,isBYOC:T,isMachinePool:O,inModal:P=!1,cloudProviderID:D,product:L,billingModel:N,quota:w,organization:k,menuAppendTo:F,allExpanded:M=!0}=e;const{input:x,meta:{error:G,touched:U}}=l,{input:H}=r,V=A.fulfilled&&!(null!=A&&null!==(t=A.typesByID[l.input.value])&&void 0!==t&&t.id)&&(null==I||null===(a=I.typesByID[l.input.value])||void 0===a?void 0:a.id),B=k.fulfilled&&I.fulfilled&&(b.fulfilled||b.error),q=A.fulfilled||A.error&&B,j=(T||L===u.normalizedProducts.ROSA)&&D===p.CloudProviderType.Aws&&!P,z=(e,t)=>!(null==t||!t.typesByID[e]),[W,$]=n.default.useState(!V),K=q&&j&&W?A:I,Y=n.default.useCallback((e=>{if(!B||j&&!q||!K.typesByID)return!1;const t=null==K?void 0:K.typesByID[e];if(!t)return!1;const a=t.generic_name;if(!T&&t.ccs_only)return!1;const l={product:L,cloudProviderID:D,isBYOC:T,isMultiAz:R,resourceName:a,billingModel:N},n=(0,m.availableClustersFromQuota)(w,l),r=(0,m.availableNodesFromQuota)(w,l);return O?r>=1:T?n>0&&r>=(R?3:2):n>=1}),[null==K?void 0:K.typesByID,N,D,T,B,q,j,O,R,L,w]),Q=n.default.useCallback((()=>{var e;if(H.value)return;const t=null==b||null===(e=b.byID[h.DEFAULT_FLAVOUR_ID])||void 0===e||null===(e=e[D])||void 0===e?void 0:e.compute_instance_type;t&&Y(t)&&x.onChange(t)}),[D,null==b?void 0:b.byID,H.value,x,Y]),Z=n.default.useCallback((()=>{H.onChange(!0),x.onChange("")}),[H,x]);n.default.useEffect((()=>{c()}),[c]),n.default.useEffect((()=>{B&&(!j||q)&&K.typesByID&&(x.value||Q(),x.value&&!Y(x.value)&&Z())}),[x.value,B,K.typesByID,j,q,Y,Q,Z]);const X=n.default.useCallback(((e,t)=>{x.onChange(t),H.onChange(!1)}),[H,x]),J=n.default.useMemo((()=>(0,_.default)(K,D)),[D,K]),ee=n.default.useMemo((()=>J.filter((e=>Y(e.id)))),[Y,J]),te="OCM does not have access to all AWS account details. Machine node type cannot be verified to be accessible for this AWS user.",ae=n.default.useMemo((()=>n.default.createElement(i.Icon,{status:"warning",size:"md"},n.default.createElement(s.default,null))),[]),le=n.default.useMemo((()=>{const e=(e=>{const t=[],a={};return _.machineCategories.forEach((e=>{let{name:l,label:n}=e;const r=[];a[l]=r,t.push([n,r])})),e.forEach((e=>{a[e.category]&&a[e.category].push(e)})),t})(ee),t=e.map((e=>{let[t,a]=e;if(a.length>0)return{name:t,category:t,children:a.map((e=>{const a=j&&!W&&!z(e.id,A);return{name:n.default.createElement(S.TreeViewSelectMenuItem,{name:y(e),description:C(e),popoverText:a&&te,icon:a&&ae}),category:t,nameLabel:y(e),descriptionLabel:C(e),id:e.id}}))}})).filter(Boolean);return t}),[ee,W,A,j,ae]),ne=e=>{let t;return le.forEach((a=>{a.children.forEach((a=>{a.id===e&&(t=a)}))})),t},re=n.default.useMemo((()=>(e=>e?`${y(e)} - ${C(e)}`:"")(ee.find((e=>e.id===x.value))||null)),[ee,x.value]);if(B&&(!j||q)&&!K.error){if(0===ee.length)return n.default.createElement(i.Alert,{variant:i.AlertVariant.danger,isInline:!0,title:o.noMachineTypes,role:"alert"},n.default.createElement(E.default,{href:"https://cloud.redhat.com/products/dedicated/contact/"},"Contact sales to purchase additional quota."));const e=j&&x.value&&!z(x.value,A);return n.default.createElement(i.FormGroup,{label:"Compute node instance type",isRequired:!0,fieldId:"node_type",labelIcon:n.default.createElement(v.default,{hint:d.constants.computeNodeInstanceTypeHint})},n.default.createElement(S.TreeViewSelect,{treeViewSelectionMap:le,inModal:P,menuAppendTo:F,selected:ne(x.value),selectionPlaceholderText:re,setSelected:(e,t)=>{X(e,t.id)},menuToggleBadge:e&&ae,treeViewSwitchActive:!W,setTreeViewSwitchActive:e=>{H.onChange(!1),$(!e)},helperText:e&&n.default.createElement(i.HelperText,null,n.default.createElement(i.HelperTextItem,{variant:"warning",hasIcon:!0},te)),placeholder:"Select instance type",searchPlaceholder:"Find an instance size",includeFilterSwitch:j,switchLabelOnText:"Include types that might be unavailable to your account or region",switchLabelOffText:"Include types that might be unavailable to your account or region",allExpanded:M,ariaLabel:"Machine type select"}),n.default.createElement(g.FormGroupHelperText,{touched:U,error:G}))}return K.error?n.default.createElement(f.default,{message:"Error loading node types",response:K}):n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"spinner-fit-container"},n.default.createElement(i.Spinner,{size:"md"})),n.default.createElement("div",{className:"spinner-loading-text"},"Loading node types..."))},A=r.default.shape({input:r.default.shape({onChange:r.default.func.isRequired,value:r.default.string}).isRequired,meta:r.default.shape({error:r.default.oneOfType([r.default.bool,r.default.string]),touched:r.default.bool}),id:r.default.string,ccs_only:r.default.bool,generic_name:r.default.string});I.propTypes={machine_type:A,machine_type_force_choice:A,getDefaultFlavour:r.default.func.isRequired,flavours:r.default.object.isRequired,machineTypes:r.default.object.isRequired,machineTypesByRegion:r.default.object.isRequired,isMultiAz:r.default.bool.isRequired,isBYOC:r.default.bool.isRequired,isMachinePool:r.default.bool,inModal:r.default.bool,cloudProviderID:r.default.string,product:r.default.oneOf(Object.keys(u.normalizedProducts)).isRequired,billingModel:r.default.string.isRequired,quota:r.default.object.isRequired,organization:r.default.object.isRequired,menuAppendTo:r.default.object,allExpanded:r.default.bool},t.default=I},63201:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(16521),i=a(11912),s=l(a(23532));const o={getMachineTypes:i.getMachineTypes,getDefaultFlavour:r.getDefaultFlavour};t.default=(0,n.connect)((e=>({flavours:e.flavours,machineTypes:e.machineTypes,machineTypesByRegion:e.machineTypesByRegion,organization:e.userProfile.organization,quota:e.userProfile.organization.quotaList})),o)(s.default)},73553:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.getNodesCount=t.getMinReplicasCount=t.default=t.computeNodeHintText=void 0;var n=l(a(94506)),r=a(75166),i=a(49484);const s=(e,t,a)=>{const l=(t?3:2)**(e?1:2);return a?`${l}`:l};t.getNodesCount=s,t.getMinReplicasCount=function(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=s(e,t),r=t&&!l?n/3:n;return a?`${r}`:r},t.computeNodeHintText=(e,t)=>{switch(!0){case e:return i.constants.hcpComputeNodeCountHintWizard;case t:return i.constants.hcpComputeNodeCountHint;default:return i.constants.computeNodeCountHint}},t.default=e=>{let t,{isDefaultMachinePool:a,product:l,isBYOC:i,isMultiAz:s,autoScaleMinNodesValue:o=null,defaultMinAllowed:u=0,isHypershiftWizard:c=!1}=e,d=parseInt(o,10)||0;return s&&!c&&(d*=3),t=a?i||l===r.normalizedProducts.ROSA?s?3:2:s?9:4:u,(0,n.default)([d,t])}},38156:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=l(a(99851)),o=a(93413),u=a(75166),c=a(74688),d=a(49484),m=a(98229),p=a(14115),f=l(a(55816)),E=l(a(8888)),g=a(38715),v=l(a(55213)),h=a(16521),_=a(27164),S=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(3255));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}const C=e=>{if(!e)return"";const t=(0,c.humanizeValueWithUnit)(e.memory.value,e.memory.unit);let a=`${e.cpu.value} ${e.cpu.unit} ${t.value} ${t.unit} RAM`;if("accelerated_computing"===e.category){const t=e.name.match(/\d+ GPU[s]?/g);t&&(a+=` (${t})`)}return a},y=e=>e?e.id:"",I=e=>{var t,a;let{machine_type:l,machine_type_force_choice:r,getDefaultFlavour:c,flavours:b,machineTypesResponse:I,machineTypesByRegion:A,isMultiAz:R,isBYOC:T,isMachinePool:O,inModal:P=!1,cloudProviderID:D,product:L,billingModel:N,quota:w,organization:k,menuAppendTo:F,allExpanded:M=!0}=e;const{input:x,meta:{error:G,touched:U}}=l,{input:H}=r,V=A.fulfilled&&!(null!=A&&null!==(t=A.typesByID[l.input.value])&&void 0!==t&&t.id)&&(null==I||null===(a=I.typesByID[l.input.value])||void 0===a?void 0:a.id),B=k.fulfilled&&I&&(b.fulfilled||b.error),q=A.fulfilled||A.error&&B,j=(T||L===u.normalizedProducts.ROSA)&&D===p.CloudProviderType.Aws&&!P,z=(e,t)=>!(null==t||!t.typesByID[e]),[W,$]=n.default.useState(!V),K=q&&j&&W?A:I,Y=n.default.useCallback((e=>{if(!B||j&&!q||!K.typesByID)return!1;const t=null==K?void 0:K.typesByID[e];if(!t)return!1;const a=t.generic_name;if(!T&&t.ccs_only)return!1;const l={product:L,cloudProviderID:D,isBYOC:T,isMultiAz:R,resourceName:a,billingModel:N},n=(0,m.availableClustersFromQuota)(w,l),r=(0,m.availableNodesFromQuota)(w,l);return O?r>=1:T?n>0&&r>=(R?3:2):n>=1}),[null==K?void 0:K.typesByID,N,D,T,B,q,j,O,R,L,w]),Q=n.default.useCallback((()=>{var e;if(H.value)return;const t=null==b||null===(e=b.byID[h.DEFAULT_FLAVOUR_ID])||void 0===e||null===(e=e[D])||void 0===e?void 0:e.compute_instance_type;t&&Y(t)&&x.onChange(t)}),[D,null==b?void 0:b.byID,H.value,x,Y]),Z=n.default.useCallback((()=>{H.onChange(!0),x.onChange("")}),[H,x]);n.default.useEffect((()=>{c()}),[c]),n.default.useEffect((()=>{B&&(!j||q)&&K.typesByID&&(x.value||Q(),x.value&&!Y(x.value)&&Z())}),[x.value,B,null==K?void 0:K.typesByID,j,q,Y,Q,Z]);const X=n.default.useCallback(((e,t)=>{x.onChange(t),H.onChange(!1)}),[H,x]),J=n.default.useMemo((()=>(0,S.default)(K,D)),[D,K]),ee=n.default.useMemo((()=>J.filter((e=>Y(e.id)))),[Y,J]),te="OCM does not have access to all AWS account details. Machine node type cannot be verified to be accessible for this AWS user.",ae=n.default.useMemo((()=>n.default.createElement(i.Icon,{status:"warning",size:"md"},n.default.createElement(s.default,null))),[]),le=n.default.useMemo((()=>{const e=(e=>{const t=[],a={};return S.machineCategories.forEach((e=>{let{name:l,label:n}=e;const r=[];a[l]=r,t.push([n,r])})),e.forEach((e=>{a[e.category]&&a[e.category].push(e)})),t})(ee),t=e.map((e=>{let[t,a]=e;if(a.length>0)return{name:t,category:t,children:a.map((e=>{const a=j&&!W&&!z(e.id,A);return{name:n.default.createElement(_.TreeViewSelectMenuItem,{name:y(e),description:C(e),popoverText:a&&te,icon:a&&ae}),category:t,nameLabel:y(e),descriptionLabel:C(e),id:e.id}}))}})).filter(Boolean);return t}),[ee,W,A,j,ae]),ne=e=>{let t;return le.forEach((a=>{a.children.forEach((a=>{a.id===e&&(t=a)}))})),t},re=n.default.useMemo((()=>(e=>e?`${y(e)} - ${C(e)}`:"")(ee.find((e=>e.id===x.value))||null)),[ee,x.value]);if(B&&(!j||q)&&!K.error){if(0===ee.length)return n.default.createElement(i.Alert,{variant:i.AlertVariant.danger,isInline:!0,title:o.noMachineTypes,role:"alert"},n.default.createElement(E.default,{href:"https://cloud.redhat.com/products/dedicated/contact/"},"Contact sales to purchase additional quota."));const e=j&&x.value&&!z(x.value,A);return n.default.createElement(i.FormGroup,{label:"Compute node instance type",isRequired:!0,fieldId:"node_type",labelIcon:n.default.createElement(v.default,{hint:d.constants.computeNodeInstanceTypeHint})},n.default.createElement(_.TreeViewSelect,{treeViewSelectionMap:le,inModal:P,menuAppendTo:F,selected:ne(x.value),selectionPlaceholderText:re,setSelected:(e,t)=>{X(e,t.id)},menuToggleBadge:e&&ae,treeViewSwitchActive:!W,setTreeViewSwitchActive:e=>{H.onChange(!1),$(!e)},helperText:e&&n.default.createElement(i.HelperText,null,n.default.createElement(i.HelperTextItem,{variant:"warning",hasIcon:!0},te)),placeholder:"Select instance type",searchPlaceholder:"Find an instance size",includeFilterSwitch:j,switchLabelOnText:"Include types that might be unavailable to your account or region",switchLabelOffText:"Include types that might be unavailable to your account or region",allExpanded:M,ariaLabel:"Machine type select"}),n.default.createElement(g.FormGroupHelperText,{touched:U,error:G}))}return null!=K&&K.error?n.default.createElement(f.default,{message:"Error loading node types",response:K}):n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"spinner-fit-container"},n.default.createElement(i.Spinner,{size:"md"})),n.default.createElement("div",{className:"spinner-loading-text"},"Loading node types..."))},A=r.default.shape({input:r.default.shape({onChange:r.default.func.isRequired,value:r.default.string}).isRequired,meta:r.default.shape({error:r.default.oneOfType([r.default.bool,r.default.string]),touched:r.default.bool}),id:r.default.string,ccs_only:r.default.bool,generic_name:r.default.string});I.propTypes={machineTypesResponse:r.default.object,machine_type:A,machine_type_force_choice:A,getDefaultFlavour:r.default.func.isRequired,flavours:r.default.object.isRequired,machineTypesByRegion:r.default.object.isRequired,isMultiAz:r.default.bool.isRequired,isBYOC:r.default.bool.isRequired,isMachinePool:r.default.bool,inModal:r.default.bool,cloudProviderID:r.default.string,product:r.default.oneOf(Object.keys(u.normalizedProducts)).isRequired,billingModel:r.default.string.isRequired,quota:r.default.object.isRequired,organization:r.default.object.isRequired,menuAppendTo:r.default.object,allExpanded:r.default.bool},t.default=I},20289:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(16521),i=a(11912),s=l(a(38156));const o={getMachineTypes:i.getMachineTypes,getDefaultFlavour:r.getDefaultFlavour};t.A=(0,n.connect)((e=>({flavours:e.flavours,machineTypes:e.machineTypes,machineTypesByRegion:e.machineTypesByRegion,organization:e.userProfile.organization,quota:e.userProfile.organization.quotaList})),o)(s.default)},3255:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.machineCategories=t.default=void 0;var n=l(a(58156)),r=l(a(55378)),i=a(74688);const s=t.machineCategories=[{name:"general_purpose",label:"General purpose"},{name:"memory_optimized",label:"Memory optimized"},{name:"compute_optimized",label:"Compute optimized"},{name:"storage_optimized",label:"Storage optimized"},{name:"network_optimized",label:"Network optimized"},{name:"burstable",label:"Burstable"},{name:"accelerated_computing",label:"Accelerated computing"}],o=(0,r.default)(s,"name");function u(e,t){if(e.category===t.category){const a=function(e,t){return(0,i.parseValueWithUnit)(e.memory.value,e.memory.unit)-(0,i.parseValueWithUnit)(t.memory.value,t.memory.unit)}(e,t);return 0===a?e.cpu.value-t.cpu.value:a}return o.indexOf(e.category)-o.indexOf(t.category)}const c={gcp:u,aws:u};t.default=(e,t)=>[...(0,n.default)(null==e?void 0:e.types,t,[])].sort(c[t])},54478:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=a(31003),u=l(a(1508)),c=a(23271);a(75027);class d extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{showPopover:!1}),(0,n.default)(this,"popOverShouldClose",(()=>{this.setState({showPopover:!1})})),(0,n.default)(this,"popOverShouldOpen",(()=>{this.setState({showPopover:!0})})),(0,n.default)(this,"navToAddOns",(()=>{this.setState({showPopover:!1}),window.location.hash="#addOns"}))}componentDidMount(){const{cluster:e,clusterAddOns:t,getClusterAddOns:a}=this.props;t.clusterID===e.id&&t.pending||a(e.id)}render(){const{cluster:e,clusterAddOns:t,addOns:a}=this.props,{showPopover:l}=this.state,n=(()=>{const e=[];return t.items.forEach((t=>{a.items.forEach((a=>{a.id===t.id&&a.has_external_resources&&e.push(t)}))})),e})(),i=n.some((e=>e.state===u.default.INSTALLATION_STATE.DELETING)),d=n.some((e=>e.state!==u.default.INSTALLATION_STATE.DELETED)),m=n.some((e=>e.state===u.default.INSTALLATION_STATE.FAILED)),p=(()=>{const e=[];return m&&t.items.forEach((t=>{t.state===u.default.INSTALLATION_STATE.FAILED&&e.push(t)})),e})(),f=()=>r.default.createElement(s.Popover,{isVisible:l,shouldClose:()=>this.popOverShouldClose(),shouldOpen:()=>this.popOverShouldOpen(),headerContent:r.default.createElement("div",null,"Add-on uninstallation status"),bodyContent:r.default.createElement("div",null,r.default.createElement(s.Button,{isInline:!0,variant:"link",onClick:()=>this.navToAddOns()},p[0].id)," ","add-on failed to uninstall")},r.default.createElement(s.Button,{isInline:!0,variant:"link"},"Failed")),E=()=>r.default.createElement(s.Popover,{isVisible:l,shouldClose:()=>this.popOverShouldClose(),shouldOpen:()=>this.popOverShouldOpen(),headerContent:r.default.createElement("div",null,"Add-on uninstallation status"),bodyContent:r.default.createElement("div",null,"The following add-ons failed to uninstall:",r.default.createElement(s.List,{className:"uninstall-progress-list--error-list"},p.map((e=>r.default.createElement(s.ListItem,null,r.default.createElement(s.Button,{isInline:!0,variant:"link",onClick:()=>this.navToAddOns()},e.id))))))},r.default.createElement(s.Button,{isInline:!0,variant:"link"},"Failed")),g=(()=>{const a={variant:"pending",text:"Pending"},l={variant:"info",text:"Uninstalling",isCurrent:!0},s=0!==n.length&&0!==t.items.length;return(0,c.isHypershiftCluster)(e)?{addOnCleanUp:{variant:"pending",text:"Not Supported"},clusterUninstall:l}:s&&d?i?{addOnCleanUp:l,clusterUninstall:a}:m?{addOnCleanUp:0===p.length?{icon:r.default.createElement(o.ExclamationCircleIcon,{className:"uninstall-progress-list--icon-error"}),text:"Failed"}:1===p.length?{icon:r.default.createElement(o.ExclamationCircleIcon,{className:"uninstall-progress-list--icon-error"}),text:f()}:{icon:r.default.createElement(o.ExclamationCircleIcon,{className:"uninstall-progress-list--icon-error"}),text:E()},clusterUninstall:a}:{addOnCleanUp:a,clusterUninstall:a}:{addOnCleanUp:{variant:"success",text:"Completed"},clusterUninstall:l}})();return r.default.createElement(s.ProgressStepper,null,r.default.createElement(s.ProgressStep,{variant:g.addOnCleanUp.variant,icon:g.addOnCleanUp.icon,isCurrent:g.addOnCleanUp.isCurrent,description:g.addOnCleanUp.text,id:"addOnCleanUp",titleId:"addOnCleanUp-title"},"Add-on uninstallation"),r.default.createElement(s.ProgressStep,{variant:g.clusterUninstall.variant,icon:g.clusterUninstall.icon,isCurrent:g.clusterUninstall.isCurrent,description:g.clusterUninstall.text,id:"clusterUninstall",titleId:"clusterUninstall-title"},"Cluster uninstallation"))}}d.propTypes={cluster:i.default.object.isRequired,getClusterAddOns:i.default.func.isRequired,clusterAddOns:i.default.object,addOns:i.default.object},t.default=d},82183:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(28895),i=a(20542),s=a(44255),o=l(a(54478));t.A=(0,n.connect)((e=>({clusterAddOns:e.addOns.clusterAddOns,addOns:e.addOns.addOns,logs:e.logs})),(e=>(0,r.bindActionCreators)({getClusterAddOns:i.getClusterAddOns,getLogs:s.getLogs},e)))(o.default)},57010:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(58156)),s=l(a(5556)),o=a(73729),u=a(13818),c=a(69304),d=a(60216),m=a(36291),p=a(36165),f=a(13642),E=l(a(6071)),g=l(a(65702)),v=a(75166),h=a(40152),_=a(81773),S=a(2479),b=l(a(15808)),C=l(a(55816)),y=l(a(8888)),I=l(a(28592)),A=a(91089),R=l(a(43775)),T=a(23271),O=a(98229);a(50639);const P=e=>{var t,a;let{onClose:l}=e;const s=(0,o.useDispatch)(),R=(0,p.useGlobalState)((e=>e.modal.data)),P=(0,p.useGlobalState)((e=>e.userProfile.organization)),D=R.clusterID?R.clusterID:"",L=R.cluster?R.cluster:"",N=(0,E.default)(R.cluster),{shouldDisplayClusterName:w}=R,k=(0,T.isHypershiftCluster)(L),F=null==L||null===(t=L.version)||void 0===t?void 0:t.id,M=null==L||null===(a=L.subscription)||void 0===a?void 0:a.xcm_id,{data:x}=(0,_.useFetchMachineOrNodePools)(D,k,F,M),{data:G}=(0,d.useFetchMachineTypes)(M),U=G.typesByID,{isPending:H,isError:V,error:B,mutate:q}=(0,h.useUpgradeClusterFromTrial)();r.default.useEffect((()=>{P.pending||s((0,S.getOrganizationAndQuota)())}),[]);const j=(e,t)=>{q({clusterID:e,params:{billing_model:t,product:{id:"osd"}},region:M},{onSuccess:()=>{s((0,A.closeModal)()),l(),(0,m.refreshClusterDetails)()}})},z=e=>{window.open(e,"_blank")},W=V?r.default.createElement(C.default,{message:"Error upgrading cluster",response:B}):null,$=(()=>{const{OSD:e}=v.normalizedProducts,{quotaList:t}=P,a=(0,i.default)(L,"multi_az"),l=(0,i.default)(L,"cloud_provider.id"),n=null==x?void 0:x.reduce(((e,t)=>{var a;const l=t.instance_type,n=null===(a=U[l])||void 0===a?void 0:a.generic_name,r=t.autoscaling?t.autoscaling.max_replicas:t.replicas;return e[n]?e[n]+=r:e[n]=r,e}),{}),r={MARKETPLACE:!0,STANDARD:!0};return Object.keys(n||{}).forEach((i=>{const s={product:e,cloudProviderID:l,resourceName:i,isBYOC:!0,isMultiAz:a,billingModel:f.SubscriptionCommonFields.cluster_billing_model.STANDARD},o=(0,O.availableClustersFromQuota)(t,s),u=(0,O.availableNodesFromQuota)(t,s);r.STANDARD=r.STANDARD&&u>=n[i]&&o>0,s.billingModel=f.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE;const c=(0,O.availableClustersFromQuota)(t,s),d=(0,O.availableNodesFromQuota)(t,s);r.MARKETPLACE=r.MARKETPLACE&&d>=n[i]&&c>0})),r})(),K=(e=>{const t=e.MARKETPLACE,a={primaryText:"Contact sales",onPrimaryClick:()=>z("https://cloud.redhat.com/products/dedicated/contact/")};return e.STANDARD&&!e.MARKETPLACE?(a.primaryText="Upgrade using quota",a.primaryLink=null,a.onPrimaryClick=()=>j(D,f.SubscriptionCommonFields.cluster_billing_model.STANDARD),a):t?(a.primaryText="Upgrade using Marketplace billing",a.primaryLink=null,a.onPrimaryClick=()=>j(D,f.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE),a):a})($),Y=(e=>{const t={showSecondary:!0,secondaryText:"Enable Marketplace billing",onSecondaryClick:()=>z("https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated")};return e.MARKETPLACE&&e.STANDARD&&(t.secondaryText="Upgrade using quota",t.onSecondaryClick=()=>j(D,f.SubscriptionCommonFields.cluster_billing_model.STANDARD)),e.MARKETPLACE&&!e.STANDARD&&(t.showSecondary=!1,t.secondaryLink=null),t})($),Q=(()=>{const e=()=>{s((0,A.closeModal)()),(0,m.refreshClusterDetails)()};return{tertiaryText:"Cancel",onTertiaryClick:e,showTertiary:!0,onClose:e}})(),Z=!($.STANDARD||$.MARKETPLACE),X=Z?"small":"medium";return r.default.createElement(I.default,(0,n.default)({title:"Upgrade cluster from Trial",secondaryTitle:w?N:void 0,"data-testid":"upgrade-trial-cluster-dialog",modalSize:X,isSmall:!1},K,{className:"upgrade-trial-cluster-dialog"},Y,Q,{isPending:H}),W,r.default.createElement(u.Form,{onSubmit:()=>j(D)},r.default.createElement("div",null,!Z&&r.default.createElement("img",{className:"upgrade-trial-logo",src:b.default,alt:"Red Hat"}),"Convert this trial cluster to a fully supported OpenShift Dedicated cluster.",r.default.createElement("br",null),r.default.createElement("br",null),r.default.createElement(y.default,{href:g.default.OCM_DOCS_UPGRADING_OSD_TRIAL},"Learn more"),Z&&r.default.createElement(u.Alert,{variant:"warning",isInline:!0,title:"Your organization doesn't have enough quota to upgrade this cluster.",className:"upgrade-trial-no-quota","data-testid":"no-quota-alert"},r.default.createElement(c.Link,{to:"/quota"},r.default.createElement(u.Button,{id:"subscriptions",variant:"link"},"View your available quota"))))))};P.propTypes={onClose:s.default.func.isRequired},P.modalName=R.default.UPGRADE_TRIAL_CLUSTER,t.default=P},67412:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=l(a(57010));t.default=(0,n.connect)((()=>{}),(()=>({})))(r.default)},72724:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(68720),u=a(3098),c=a(98002),d=a(41955),m=a(36165),p=l(a(55816)),f=l(a(28592)),E=a(91089),g=l(a(14419));const v=e=>{let{isHypershift:t}=e;const a=(0,i.useDispatch)(),l=(0,m.useGlobalState)((e=>(0,g.default)(e,"cancel-upgrade"))),{clusterID:r,region:v,schedule:h}=(0,m.useGlobalState)((e=>e.modal.data)),{isPending:_,isError:S,error:b,mutate:C,reset:y,isSuccess:I}=(0,u.useDeleteSchedule)(r,t,v),A=()=>{y(),a((0,E.closeModal)())};n.default.useEffect((()=>{!_&&I&&A()}),[I,_]);const R=()=>{C(h.id,{onSuccess:()=>{(0,d.invalidateClusterDetailsQueries)(),(0,c.refetchSchedules)()}})},T=S?n.default.createElement(p.default,{message:"Error cancelling update",response:b}):null;return l&&n.default.createElement(f.default,{title:"Cancel update",onClose:A,primaryText:"Cancel this update",secondaryText:"Close",onPrimaryClick:R,isPending:_,onSecondaryClick:A},n.default.createElement(n.default.Fragment,null,T,n.default.createElement(s.Form,{onSubmit:R},n.default.createElement("p",null,"This update to version ",h.version," is scheduled for"," ",n.default.createElement(o.DateFormat,{type:"exact",date:Date.parse(h.next_run)}),"."," "))))};v.propTypes={isHypershift:r.default.bool.isRequired},t.default=v},2311:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(72724));t.default=n.default},81580:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=l(a(19713)),u=a(69565),c=l(a(65702)),d=a(75166),m=l(a(8888)),p=a(99908),f=a(83633),E=a(1703);const g=e=>{var t,a,l,r;let{clusterId:g,isHypershift:v,schedules:h,cluster:_,upgradeGates:S}=e;const b=(0,i.useDispatch)(),{mutateAsync:C}=(0,u.useEditSchedule)(g,v),[y,I]=n.default.useState(!1),[A,R]=n.default.useState(null),T=null==h||null===(t=h.items)||void 0===t?void 0:t.some((e=>"automatic"===e.schedule_type)),O=(0,f.getHasUnMetClusterAcks)(h,_,S),P=(0,E.getEnableMinorVersionUpgrades)(h),D=null==h||null===(a=h.items)||void 0===a||null===(a=a.find((e=>"automatic"===e.schedule_type)))||void 0===a?void 0:a.id,L=(0,E.isNextMinorVersionAvailableHelper)(_),N=(null==_||null===(l=_.subscription)||void 0===l?void 0:l.plan.type)===d.normalizedProducts.ROSA,w=null==_||null===(r=_.aws)||void 0===r||null===(r=r.sts)||void 0===r?void 0:r.enabled;return T&&!O&&D&&g&&L&&!w?A?n.default.createElement(s.Alert,{variant:"danger",className:"automatic-cluster-updates-alert",isInline:!0,title:A,role:"alert","data-testid":"alert-error"}):n.default.createElement(s.Alert,{isExpandable:!0,isInline:!0,className:"automatic-cluster-updates-alert",customIcon:n.default.createElement(o.default,null),title:P?"Next minor version update allowed":"New minor version available",actionLinks:y?n.default.createElement(s.Spinner,{size:"sm","aria-label":"Setting minor version update status"}):(k=async e=>{I(!0),R(null);try{const t=await C({policyID:D,schedule:{enable_minor_version_upgrades:e}},{onSuccess:()=>{setTimeout((()=>{b((0,p.setAutomaticUpgradePolicy)(t.data)),I(!1)}),500)}})}catch(e){R(e.response.data.reason||e.response.data)}},F=P,n.default.createElement(s.AlertActionLink,{onClick:()=>k(!F)},F?"Disallow this minor version update":"Allow the next minor version update")),"data-testid":"alert-success"},P?n.default.createElement("p",{"data-testid":"minorVersionUpgradeAlertDisableMessage"},"Your cluster will be updated to the newest minor version at the time you selected. Minor releases can include new Kubernetes versions or operating system capabilities, improved automation on IaaS providers, and other expanded features."):n.default.createElement("p",{"data-testid":"minorVersionUpgradeAlertEnableMessage"},"Allow your cluster to be updated to the newest minor version at the time you selected."," ",n.default.createElement(m.default,{href:N?c.default.ROSA_UPGRADES:c.default.OSD_UPGRADES},"Learn more about updates"))):null;var k,F};g.propTypes={isHypershift:r.default.bool,clusterId:r.default.string,schedules:r.default.object,cluster:r.default.object,upgradeGates:r.default.array},t.default=g},1703:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNextMinorVersionAvailableHelper=t.getUpgradeScheduleId=t.getEnableMinorVersionUpgrades=void 0;var l=a(88851),n=a(83633);t.isNextMinorVersionAvailableHelper=e=>{var t;const[a,r]=(0,l.splitVersion)((0,n.getFromVersionFromHelper)(e));return((null==e||null===(t=e.version)||void 0===t?void 0:t.available_upgrades)||[]).some((e=>{const[t,n]=(0,l.splitVersion)(e);return t===a&&n>r}))},t.getUpgradeScheduleId=e=>{var t;return null==e||null===(t=e.items)||void 0===t||null===(t=t.find((e=>"automatic"===e.schedule_type)))||void 0===t?void 0:t.id},t.getEnableMinorVersionUpgrades=e=>{const t=null==e?void 0:e.items.find((e=>"automatic"===e.schedule_type));return!t||t.enable_minor_version_upgrades}},81551:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(81580));t.default=n.default},80548:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(29962),s=a(1703),o=a(83633);const u=e=>{var t;let{upgradeGates:a,schedules:l,cluster:r}=e;const u=!(null!=l&&null!==(t=l.items)&&void 0!==t&&t.some((e=>"automatic"===e.schedule_type))),c=(0,s.getEnableMinorVersionUpgrades)(l),d=(0,s.isNextMinorVersionAvailableHelper)(r),m=(0,o.getClusterAcks)(l,r,a),[p]=m;return!u&&d&&c&&0===p.length?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available"},n.default.createElement(i.InfoCircleIcon,null),"Next minor version update allowed."):null};u.propTypes={upgradeGates:r.default.object,schedules:r.default.object,cluster:r.default.object},t.default=u},66757:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(80548));t.default=n.default},33196:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(29962),s=l(a(66757)),o=l(a(89037));a(5165);const u=e=>{let{children:t}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph-container"},t)},c=e=>{let{children:t}=e;return n.default.createElement("li",{className:"ocm-upgrade-graph-line"},t)},d=e=>{let{children:t}=e;return n.default.createElement("ul",{className:"ocm-upgrade-graph-path"},t)},m=e=>{let{children:t}=e;return n.default.createElement("span",{className:"ocm-upgrade-graph-version"},t)},p=e=>{let{current:t}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph-version-dot "+(t?"ocm-upgrade-current":"")})},f=e=>{let{currentVersion:t,updateVersion:a,hasMore:l,upgradeGates:r,schedules:f,cluster:E}=e;return n.default.createElement("div",{className:"ocm-upgrade-graph"},n.default.createElement(u,null,n.default.createElement(d,{current:!0},n.default.createElement(c,null,n.default.createElement(m,null,t),n.default.createElement(p,{current:!0})),a&&n.default.createElement(n.default.Fragment,null,n.default.createElement(c,null),n.default.createElement(c,null,n.default.createElement(m,null,a),n.default.createElement(p,null))))),l&&n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available"},n.default.createElement(i.InfoCircleIcon,null),`Additional versions available between ${t} and ${a}`),n.default.createElement(o.default,{isPlain:!0,isInfo:!0,showConfirm:!0,showUpgradeWarning:!0,schedules:f,upgradeGates:r,cluster:E}),n.default.createElement(s.default,{upgradeGates:r,schedules:f,cluster:E}))};d.propTypes={children:r.default.node},u.propTypes={children:r.default.node},c.propTypes={children:r.default.node},m.propTypes={children:r.default.node},p.propTypes={current:r.default.bool},f.propTypes={currentVersion:r.default.node,updateVersion:r.default.node,hasMore:r.default.bool,upgradeGates:r.default.object,schedules:r.default.object,cluster:r.default.object},t.default=f},83633:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isManualUpdateSchedulingRequired=t.getToVersionFromHelper=t.getHasUnMetClusterAcks=t.getHasScheduledManual=t.getFromVersionFromHelper=t.getClusterUnMetClusterAcks=t.getClusterAcks=void 0;var l=a(88851);const n=e=>{var t;return(null===(t=e.version)||void 0===t?void 0:t.raw_id)||null};t.getFromVersionFromHelper=n;const r=(e,t)=>{var a;const l=null==e||null===(a=e.items)||void 0===a?void 0:a.find((e=>e.version&&e.version!==n(t)));if(!l){var r,i;if(null==t||null===(r=t.version)||void 0===r||!r.available_upgrades||0===(null==t||null===(i=t.version)||void 0===i?void 0:i.available_upgrades.length))return null;const e=t.version.available_upgrades;return e[e.length-1]}return l.version};t.getToVersionFromHelper=r;const i=(e,t,a,n)=>{var i,s,o;const u=null==t?void 0:t.id,c=(null==t||null===(i=t.aws)||void 0===i||null===(i=i.sts)||void 0===i?void 0:i.role_arn)&&""!==(null==t||null===(s=t.aws)||void 0===s||null===(s=s.sts)||void 0===s?void 0:s.role_arn);if(!u)return[[],[]];const d=n||r(e,t),m=(null===(o=t.version)||void 0===o?void 0:o.raw_id)||null,p=(null==t?void 0:t.upgradeGates)||[],f=a||[],[E,g]=(0,l.splitVersion)(d),[v,h]=(0,l.splitVersion)(m);if(!(E&&g&&v&&h))return[[],[]];const _=f.filter((e=>{if(e.sts_only&&!c)return!1;const[t,a]=(0,l.splitVersion)(e.version_raw_id_prefix);return!(!t||!a)&&(t>v&&t<=E||t===v&&a>h&&a<=g)})),S=[],b=[];return _.forEach((e=>{const t=p.find((t=>{var a;return(null===(a=t.version_gate)||void 0===a?void 0:a.id)===e.id}));t?b.push(t):S.push(e)})),[S,b]};t.getClusterAcks=i;const s=(e,t,a,l)=>{const n=l||r(e,t);return i(e,t,a,n)[0]};t.getClusterUnMetClusterAcks=s,t.getHasUnMetClusterAcks=(e,t,a,l)=>s(e,t,a,l).length>0,t.getHasScheduledManual=(e,t)=>!(null!=e&&e.items.some((e=>"automatic"===e.schedule_type)))&&(null==e?void 0:e.items.some((e=>e.version!==n(t)))),t.isManualUpdateSchedulingRequired=(e,t)=>{const a=r(e,t),i=n(t),[s,o]=(0,l.splitVersion)(a),[u,c]=(0,l.splitVersion)(i);if(!(s&&o&&u&&c))return!1;const d=s>u||o>c,m=!(null==e||!e.items.find((e=>"automatic"===(null==e?void 0:e.schedule_type)))),p=!(null==e||!e.items.find((e=>"true"===(null==e?void 0:e.enable_minor_version_upgrades)))),f=!(null==e||!e.items.find((e=>{var t;return"pending"===(null==e||null===(t=e.state)||void 0===t?void 0:t.value)})));return d&&m&&!p&&f}},4376:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(99851),o=a(55611),u=a(69304),c=a(83633);a(48960);const d=e=>{const{clusterId:t,cluster:a,schedules:l,upgradeGates:r}=e;return(0,c.getHasUnMetClusterAcks)(l,a,r)?n.default.createElement(u.Link,{to:`/details/${t}#updateSettings`,className:"ocm-upgrade-approval__required-link"},n.default.createElement(i.Icon,null,n.default.createElement(s.ExclamationTriangleIcon,{color:o.global_warning_color_100.value})),n.default.createElement("span",{className:"pf-v5-u-screen-reader"},"Warning")," Approval required"):null};d.propTypes={clusterId:r.default.string,cluster:r.default.object,schedules:r.default.object,upgradeGates:r.default.object},t.default=d},16309:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(4376));t.default=n.default},3529:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=v(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(91089),u=l(a(14419)),c=a(69565),d=a(74409),m=a(25514),p=l(a(55816)),f=l(a(28592)),E=a(99908),g=l(a(29384));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:t})(e)}const h=e=>{var t;const{clusterId:a,isHypershift:l,isSTSEnabled:r,schedules:v,region:h}=e,{mutateAsync:_}=(0,c.useEditSchedule)(a,l,h),{mutateAsync:S}=(0,d.usePostClusterGateAgreementAcknowledgeModal)(a,h),b=(0,i.useDispatch)(),[C,y]=(0,n.useState)(!1),[I,A]=(0,n.useState)(!1),[R,T]=(0,n.useState)([]),[O,P]=(0,n.useState)([]),[D,L]=(0,n.useState)(""),[N,w]=(0,n.useState)(""),k=(0,m.useGlobalState)((e=>(0,u.default)(e,"ack-upgrade"))),F=(0,m.useGlobalState)((e=>e.modal.data)),M=null==v||null===(t=v.items)||void 0===t?void 0:t.find((e=>"automatic"===e.schedule_type)).id;(0,n.useEffect)((()=>{k&&(L(F.fromVersion),w(F.toVersion),P(F.unmetAcknowledgements),T([]))}),[k,F]);const x=()=>{b(o.modalActions.closeModal())};return k?n.default.createElement(f.default,{title:"Administrator acknowledgement",onClose:()=>x(),primaryText:"Approve and continue",secondaryText:"Cancel",onPrimaryClick:()=>(async()=>{y(!0),T([]);const e=[];if(M&&!r)try{const e=await _({policyID:M,schedule:{enable_minor_version_upgrades:!0}});b((0,E.setAutomaticUpgradePolicy)(e.data))}catch(t){e.push(t)}if(0===e.length){const t=O.map((e=>e.id));(await S(t)).forEach((t=>{"rejected"===t.status&&(e.push(t.reason),I&&A(!1))}))}y(!1),0===e.length?b(o.modalActions.closeModal()):T(e)})(),onSecondaryClick:()=>x(),isPrimaryDisabled:!I,isPending:C,className:"ocm-upgrade-ack-modal",modalSize:s.ModalVariant.medium},0===R.length?n.default.createElement(g.default,{fromVersion:D,toVersion:N,unmetAcknowledgements:O,confirmed:e=>A(e)}):R.map(((e,t)=>n.default.createElement(p.default,{key:`err-${t}`,message:"Failed to save administrator acknowledgement.",response:e})))):null};h.propTypes={clusterId:r.default.string,isHypershift:r.default.bool,isSTSEnabled:r.default.bool,schedules:r.default.object,region:r.default.string},h.defaultProps={},t.default=h},10266:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(3529));t.default=n.default},29384:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(13818),s=l(a(8888));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}a(16849);const u="Acknowledge",c=e=>{const[t,a]=(0,n.useState)(""),{initiallyConfirmed:l,confirmed:r,fromVersion:o,toVersion:c,unmetAcknowledgements:d}=e;return(0,n.useEffect)((()=>{l&&a(u)}),[]),(0,n.useEffect)((()=>r(t===u)),[t]),n.default.createElement(i.Grid,{hasGutter:!0,className:"ocm-upgrade-ack-step"},n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"1. Review and prevent update issues"),n.default.createElement("ul",{className:"wizard-step-body"},d.map(((e,t)=>n.default.createElement("li",{key:`ack-${t}`,"data-testid":"unmetAcknowledgement"},e.description?n.default.createElement("p",null,e.description):null,n.default.createElement(i.Alert,{isPlain:!0,isInline:!0,variant:"warning",title:e.warning_message},e.documentation_url?n.default.createElement(s.default,{href:e.documentation_url},"Learn more"):null)))))),n.default.createElement(i.Divider,null),n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"2. Acknowledge"),n.default.createElement("div",{className:"wizard-step-body"},n.default.createElement("p",null,`\n              I acknowledge I have resolved any potential update issues on my cluster, \n              and the cluster is ready to update from OpenShift Container Platform\n              from ${o} to ${c}.\n              `),n.default.createElement(i.Form,{onSubmit:e=>{e.preventDefault()}},n.default.createElement(i.FormGroup,{label:n.default.createElement("span",{className:"ocm-upgrade-ack-step_text-input-label"},"Confirm the above by typing ",n.default.createElement("strong",null,u)," below:"),isRequired:!0,fieldId:"upgradeAcknowledgementModalText"},n.default.createElement(i.TextInput,{value:t,isRequired:!0,id:"upgradeAcknowledgementModalText",type:"text",onChange:(e,t)=>a(t),placeholder:"Type here","data-testid":"acknowledgeTextInput"}))))))};c.propTypes={confirmed:r.default.func,unmetAcknowledgements:r.default.array,fromVersion:r.default.string,toVersion:r.default.string,initiallyConfirmed:r.default.bool},c.defaultProps={initiallyConfirmed:!1},t.default=c},5381:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(99851),u=a(29962),c=a(91089),d=a(83633),m=l(a(10266));a(68410);const p=e=>{var t,a;const l=(0,i.useDispatch)(),{isPlain:r,isInfo:p,showConfirm:f,isSTSEnabled:E,isHypershift:g,schedules:v,upgradeGates:h,cluster:_,showUpgradeWarning:S}=e,b=null==_?void 0:_.id,C=null==_?void 0:_.openshift_version,y=null==_||null===(t=_.subscription)||void 0===t?void 0:t.rh_region_id,I=(null==_||null===(a=_.version)||void 0===a?void 0:a.raw_id)||null,A=(0,d.getToVersionFromHelper)(v,_),R=!(null!=v&&v.items.some((e=>"automatic"===e.schedule_type))),T=(0,d.getClusterAcks)(v,_,h),O=(0,d.getHasScheduledManual)(v,_),P=(0,d.isManualUpdateSchedulingRequired)(v,_),D=()=>{const[e]=T;l(c.modalActions.openModal("ack-upgrade",{toVersion:A,fromVersion:I,unmetAcknowledgements:e,clusterId:b}))},L=`Administrator acknowledgement is required before updating from ${I} to ${A}`;if(!b||!C)return null;const[N,w]=T,k=f&&0===N.length&&w.length>0;return n.default.createElement(n.default.Fragment,null,N.length>0&&R&&p&&!O?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available","data-testid":"infoMessageUnmetAcks"},n.default.createElement(u.InfoCircleIcon,null)," ",L):null,N.length>0&&!R?n.default.createElement(n.default.Fragment,null,n.default.createElement(m.default,{clusterId:b,isHypershift:g,isSTSEnabled:E,schedules:v,region:y}),n.default.createElement(s.Alert,{id:"upgrade-ack-alert",isInline:!0,isPlain:r,variant:"warning",title:L,"data-testid":"alertMessageUnmetAcks",className:r?"":"automatic-cluster-updates-alert",actionLinks:r?null:n.default.createElement(s.AlertActionLink,{onClick:()=>D()},"Provide approval")}),r?n.default.createElement(s.Button,{variant:"secondary",className:"ocm-upgrade-approval__provide-button",onClick:()=>D()},"Provide approval"):null):null,S&&P?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available","data-testid":"confirmAckReceived"},n.default.createElement(s.Icon,{status:"warning"},n.default.createElement(o.ExclamationTriangleIcon,null))," ","Your update strategy is currently set to recurring updates. Update ",A," is a Y steam update and must be individually updated."):null,k?n.default.createElement("div",{className:"ocm-upgrade-additional-versions-available","data-testid":"confirmAckReceived"},n.default.createElement(u.InfoCircleIcon,null),"Administrator acknowledgement was received."):null)};p.propTypes={isPlain:r.default.bool,showConfirm:r.default.bool,isInfo:r.default.bool,isSTSEnabled:r.default.bool,isHypershift:r.default.bool,schedules:r.default.object,upgradeGates:r.default.array,cluster:r.default.object,showUpgradeWarning:r.default.bool},p.defaultProps={isPlain:!1,showConfirm:!1,isInfo:!1},t.default=p},89037:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(5381));t.default=n.default},58350:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=l(a(35952));a(48346);const u=/00? [0-9][0-9]? \* \* ([0-6]|SUN|MON|TUE|WED|THU|FRI|SAT)/i,c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=Array.from(Array(24).keys());class m extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{daySelectOpen:!1,timeSelectOpen:!1}),(0,n.default)(this,"toggleDaySelect",(e=>{this.setState({daySelectOpen:e})})),(0,n.default)(this,"toggleHourSelect",(e=>{this.setState({timeSelectOpen:e})})),(0,n.default)(this,"onDaySelect",((e,t)=>{const{input:a}=this.props,l=this.parseCurrentValue()[0];a.onChange(`00 ${l} * * ${t}`),this.setState({daySelectOpen:!1})})),(0,n.default)(this,"onHourSelect",((e,t)=>{const{input:a}=this.props,l=this.parseCurrentValue()[1];a.onChange(`00 ${t} * * ${l}`),this.setState({timeSelectOpen:!1})}))}parseCurrentValue(){const{input:e}=this.props;return e.value?(0,o.default)(e.value):["",""]}render(){const{daySelectOpen:e,timeSelectOpen:t}=this.state,{isDisabled:a,input:l,isHypershift:n}=this.props,i="Recurring updates occur when a new patch (z-stream) update becomes available at least 2 days prior to your selected start time.",o="For recurring updates, the control plane will be updated when a new version becomes available at least 2 days prior to your selected start time. Worker nodes will need to be manually updated.";if(l.value&&!u.test(l.value))return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Alert,{id:"automatic-cluster-updates-alert",className:"automatic-cluster-updates-alert inline-alert",isInline:!0,isPlain:!0,variant:"info",title:n?o:i}),r.default.createElement(s.FormGroup,{label:"Select a day and start time",className:"ocm-upgrade-schedule-selection"},"This cluster has a custom schedule which can not be modified from this page. Use the API to set the schedule, or"," ",r.default.createElement(s.Button,{variant:"link",isInline:!0,onClick:()=>l.onChange("")},"reset the schedule"),"."));const[m,p]=this.parseCurrentValue(),f=e=>`${e.toString().padStart(2,"0")}:00 UTC`;return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Alert,{id:"automatic-cluster-updates-alert",className:"automatic-cluster-updates-alert inline-alert",isInline:!0,isPlain:!0,variant:"info",title:n?o:i}),r.default.createElement(s.FormGroup,{label:"Select a day and start time",className:"ocm-upgrade-schedule-selection"},r.default.createElement(s.Grid,{hasGutter:!0},r.default.createElement(s.GridItem,{sm:6,md:6},r.default.createElement(s.Select,{isOpen:e,selected:p,onOpenChange:e=>this.toggleDaySelect(e),onSelect:this.onDaySelect,shouldFocusToggleOnSelect:!0,toggle:t=>{var l;return r.default.createElement(s.MenuToggle,{ref:t,onClick:()=>this.toggleDaySelect(!e),isExpanded:e,isDisabled:a,isFullWidth:!0},null!==(l=c[p])&&void 0!==l?l:"Select day")}},r.default.createElement(s.SelectList,null,c.map(((e,t)=>r.default.createElement(s.SelectOption,{key:e,value:t.toString()},e)))))),r.default.createElement(s.GridItem,{sm:6,md:6},r.default.createElement(s.Select,{isOpen:t,selected:m,onOpenChange:e=>this.toggleHourSelect(e),onSelect:this.onHourSelect,shouldFocusToggleOnSelect:!0,toggle:e=>r.default.createElement(s.MenuToggle,{ref:e,onClick:()=>this.toggleHourSelect(!t),isExpanded:t,isDisabled:a,isFullWidth:!0},m?f(m):"Select hour"),maxMenuHeight:"20em",isScrollable:!0},r.default.createElement(s.SelectList,null,d.map((e=>r.default.createElement(s.SelectOption,{key:e,value:e.toString()},f(e))))))))))}}m.propTypes={input:i.default.shape({value:i.default.string,onChange:i.default.func.isRequired}).isRequired,isDisabled:i.default.bool,isHypershift:i.default.bool},t.default=m},87461:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=l(a(65702)),c=l(a(686)),d=l(a(58350)),m=a(82693),p=a(16829),f=l(a(8888)),E=l(a(33076));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e){let{isHypershift:t,isDisabled:a,showDivider:l,isRosa:n,initialScheduleValue:s}=e;const{setFieldValue:g,setFieldTouched:h,getFieldProps:_,values:{[p.FieldId.UpgradePolicy]:S}}=(0,m.useFormState)(),b="automatic"===S,C=r.default.createElement(r.default.Fragment,null,"The cluster will be automatically updated based on your preferred day and start time when new patch updates (",r.default.createElement(f.default,{href:n?u.default.ROSA_Z_STREAM:u.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version."),y=r.default.createElement(r.default.Fragment,null,"The cluster control plane will be automatically updated based on your preferred day and start time when new patch updates (",r.default.createElement(f.default,{href:n?u.default.ROSA_Z_STREAM:u.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version. The worker nodes will need to be manually updated."),I={value:"automatic",label:"Recurring updates",description:t?y:C,extraField:b&&r.default.createElement(o.Grid,null,r.default.createElement(o.GridItem,{md:6},r.default.createElement(i.Field,{component:d.default,name:p.FieldId.AutomaticUpgradeSchedule,input:v(v({},_(p.FieldId.AutomaticUpgradeSchedule)),{},{onChange:e=>{h(p.FieldId.AutomaticUpgradeSchedule),g(p.FieldId.AutomaticUpgradeSchedule,e)}}),isDisabled:a,isHypershift:t})))},A={value:"manual",label:"Individual updates",description:r.default.createElement(r.default.Fragment,null,"Schedule each update individually. Take into consideration end of life dates from the"," ",r.default.createElement(f.default,{href:n?u.default.ROSA_LIFE_CYCLE:u.default.OSD_LIFE_CYCLE},"lifecycle policy")," ","when planning updates.")},R=t?[I,A]:[A,I];return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,{component:"p"},"Note: In the event of"," ",r.default.createElement(f.default,{href:"https://access.redhat.com/security/updates/classification/#critical"},"Critical security concerns")," ","(CVEs) that significantly impact the security or stability of the cluster, updates may be"," ","automatically scheduled by Red Hat SRE to the latest z-stream version not impacted by the"," ","CVE within 2 business days after customer notifications.")),r.default.createElement(o.GridItem,{className:"ocm-c-upgrade-policy-radios"},r.default.createElement(i.Field,{component:E.default,name:p.FieldId.UpgradePolicy,isDisabled:a,input:v(v({},_(p.FieldId.UpgradePolicy)),{},{onChange:e=>{h(p.FieldId.UpgradePolicy),g(p.FieldId.UpgradePolicy,e),"manual"===e&&g(p.FieldId.AutomaticUpgradeSchedule,s)}}),options:R,defaultValue:"manual",disableDefaultValueHandling:!0})),l&&!t?r.default.createElement(o.Divider,null):null,t?null:r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),r.default.createElement(o.TextContent,null,r.default.createElement(o.Text,{component:o.TextVariants.p},"Note: You cannot change the node drain grace period after you start the upgrade process."),r.default.createElement(o.Text,{component:o.TextVariants.p},"You may set a grace period for how long pod disruption budget-protected workloads will"," ","be respected during updates. After this grace period, any workloads protected by pod disruption budgets that have not been successfully drained from a node will be forcibly evicted.")),r.default.createElement(i.Field,{name:p.FieldId.NodeDrainGracePeriod,component:c.default,isDisabled:a,input:v(v({},_(p.FieldId.NodeDrainGracePeriod)),{},{onChange:e=>{h(p.FieldId.NodeDrainGracePeriod),g(p.FieldId.NodeDrainGracePeriod,e)}})})))}a(48346),h.propTypes={isHypershift:s.default.bool,isDisabled:s.default.bool,showDivider:s.default.bool,isRosa:s.default.bool,initialScheduleValue:s.default.string},t.default=h},26675:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(19202),u=a(21888),c=a(60502),d=a(68720),m=a(91089),p=l(a(33196));function f(e){var t;let{clusterID:a,canEdit:l,clusterVersion:r,scheduledUpgrade:f,availableUpgrades:E=[],onCancelClick:g,upgradeGates:v,schedules:h,cluster:_}=e;const S=(0,i.useDispatch)(),b=E.length>0,C="manual"===(null==f?void 0:f.schedule_type),y=f&&(null===(t=f.state)||void 0===t?void 0:t.value),I=C&&l&&"started"!==y&&"delayed"!==y;return r?n.default.createElement(n.default.Fragment,null,n.default.createElement("div",null,(()=>{let e,t;return"started"===y||"delayed"===y?(e=n.default.createElement(u.InProgressIcon,{class:"ocm-upgrade-in-progress-icon"}),t="delayed"===y?"Update in progress (delayed)":"Update in progress"):b?(e=n.default.createElement(c.OutlinedArrowAltCircleUpIcon,{className:"ocm-upgrade-available-icon"}),t="Update available"):(e=n.default.createElement(o.CheckCircleIcon,{className:"ocm-cluster-up-to-date-icon"}),t="Up to date"),n.default.createElement(n.default.Fragment,null,e," ",t)})(),n.default.createElement(p.default,{currentVersion:r,updateVersion:null!=f&&f.version?f.version:E&&0!==E.length?E[E.length-1]:void 0,hasMore:!C&&E.length>1,upgradeGates:v,schedules:h,cluster:_}),f&&"started"!==y&&"pending"!==y&&n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"ocm-upgrade-status-scheduled-title"},"Upgrade scheduled"),n.default.createElement(d.DateFormat,{type:"exact",date:Date.parse(f.next_run)}))),I&&n.default.createElement(s.Button,{id:"ocm-upgrade-status-cancel",variant:"link",onClick:()=>{g&&g(),S(m.modalActions.openModal("cancel-upgrade",{clusterID:a,schedule:f}))}},"Cancel this update")):n.default.createElement(s.EmptyState,{variant:s.EmptyStateVariant.xs},n.default.createElement(s.EmptyStateHeader,{titleText:"Update status is not available",headingLevel:"h4"}),n.default.createElement(s.EmptyStateBody,null,"Update status is not available. Try again later."))}a(3468),f.propTypes={clusterID:r.default.string.isRequired,upgradeGates:r.default.object,schedules:r.default.object,cluster:r.default.object,canEdit:r.default.bool,clusterVersion:r.default.string,scheduledUpgrade:r.default.shape({version:r.default.string,next_run:r.default.string,state:r.default.shape({value:r.default.string}),schedule_type:r.default.string}),onCancelClick:r.default.func,availableUpgrades:r.default.arrayOf(r.default.string)},t.default=f},19765:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(19202),o=a(44027),u=a(68720),c=a(67080),d=l(a(55816));function m(e){let{close:t,scheduleType:a,upgradeTimestamp:l,isPostScheduleError:r,postScheduleError:m,isPostSchedulePending:p}=e;return r?n.default.createElement(i.Bullseye,null,n.default.createElement(d.default,{message:"Failed to schedule upgrade",response:m})):p?n.default.createElement(c.Spinner,{className:"wizard-step-body",centered:!0}):n.default.createElement(i.EmptyState,{variant:"lg",className:"wizard-step-body"},n.default.createElement(i.EmptyStateHeader,{titleText:"Scheduled cluster update",icon:n.default.createElement(i.EmptyStateIcon,{icon:s.CheckCircleIcon,color:o.global_success_color_100.value}),headingLevel:"h4"}),n.default.createElement(i.EmptyStateBody,null,"Your update was successfully scheduled to start within"," ","now"===a?"the next hour":n.default.createElement(n.default.Fragment,null,"one hour of ",n.default.createElement(u.DateFormat,{type:"exact",date:new Date(l)})),"."),n.default.createElement(i.EmptyStateFooter,null,n.default.createElement(i.EmptyStateActions,null,n.default.createElement(i.Button,{onClick:t},"Close"))))}m.propTypes={isPostScheduleError:r.default.bool,postScheduleError:r.default.object,isPostSchedulePending:r.default.bool,close:r.default.func.isRequired,scheduleType:r.default.string,upgradeTimestamp:r.default.string},t.default=m},86870:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=a(68720);a(21477);class u extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{timeSelectionOpen:!1}),(0,n.default)(this,"modeChange",(e=>{const{onSet:t,timestamp:a}=this.props;"now"===e.target.value?t({type:"now"}):t({type:"time",timestamp:a||u.getDefaultTimestamp().toISOString()})})),(0,n.default)(this,"setDate",(e=>{const{onSet:t}=this.props,a=u.getDefaultTimestamp();t({type:"time",timestamp:e<a?a:e})})),(0,n.default)(this,"setTime",((e,t)=>{const{onSet:a,timestamp:l}=this.props,n=new Date(l),[r,i]=t.split(":");n.setHours(r),n.setMinutes(i),a({type:"time",timestamp:n.toISOString()}),this.setState({timeSelectionOpen:!1})}))}render(){const{type:e,timestamp:t}=this.props,{timeSelectionOpen:a}=this.state;a&&setTimeout((()=>{requestAnimationFrame((()=>{const e=document.querySelector("#upgrade-time-select-dropdown .pf-v5-c-menu__item.pf-m-selected");e&&e.scrollIntoView({block:"center"})}))}),1);const l=()=>{const e=new Date(t);return`${e.getHours().toString().padStart(2,0)}:${e.getMinutes().toString().padStart(2,0)}`},n=new Date((new Date).toDateString()),i=new Date;i.setMonth(i.getMonth()+6);const c=e=>this.setState({timeSelectionOpen:e});return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"Schedule update"),r.default.createElement(s.Form,{className:"wizard-step-body",onSubmit:e=>e.preventDefault()},r.default.createElement(s.FormGroup,{fieldId:"upgrade-schedule-now"},r.default.createElement(s.Radio,{isChecked:"now"===e,name:"upgrade-schedule-type",id:"upgrade-schedule-now",value:"now",label:"Update now (update will begin within the next hour)",onChange:this.modeChange})),r.default.createElement(s.FormGroup,{fieldId:"upgrade-schedule-time"},r.default.createElement(s.Radio,{isChecked:"time"===e,name:"upgrade-schedule-type",id:"upgrade-schedule-time",value:"time",label:"Schedule a different time",onChange:this.modeChange})),"time"===e&&r.default.createElement(r.default.Fragment,null,r.default.createElement(s.FormGroup,null,r.default.createElement(s.Split,{className:"upgrade-schedule-datepicker-split"},r.default.createElement(s.SplitItem,null,r.default.createElement(s.DatePicker,{id:"upgrade-schedule-datepicker",className:"upgrade-schedule-datepicker-input",validators:[e=>e<n?"The selected date is before the allowable range.":e>i?"The selected date is after the allowable range.":""],onChange:(e,t,a)=>a instanceof Date&&!Number.isNaN(a)&&this.setDate(a),isDisabled:!t,value:(e=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`})(t),invalidFormatText:"Invalid date format. Use 'YYYY-MM-DD' format."})),r.default.createElement(s.SplitItem,null,r.default.createElement(s.Select,{isOpen:a,selected:l(),onOpenChange:e=>c(e),toggle:e=>r.default.createElement(s.MenuToggle,{ref:e,onClick:()=>c(!a),isExpanded:a,"aria-label":"Upgrade time menu",className:"upgrade-time-select"},l()),onSelect:this.setTime,isScrollable:!0},r.default.createElement(s.SelectList,{id:"upgrade-time-select-dropdown"},(()=>{const e=[];for(let a=0;a<24;a+=1){const l=`${a.toString().padStart(2,0)}:00`,n=new Date(t);n.setHours(a),n.setMinutes(0),e.push(r.default.createElement(s.SelectOption,{value:l,key:l,isDisabled:u.getDefaultTimestamp()>n},l))}return e})()))),r.default.createElement(s.SplitItem,null))),r.default.createElement("dl",{className:"cluster-upgrade-dl"},r.default.createElement("dt",null,"UTC "),r.default.createElement("dd",null,r.default.createElement(o.DateFormat,{type:"exact",date:new Date(t)}))))))}}(0,n.default)(u,"getDefaultTimestamp",(()=>{const e=new Date((new Date).getTime()+36e5);return e.getMinutes()>5&&e.setHours(e.getHours()+1),e.setSeconds(0),e.setMilliseconds(0),e.setMinutes(0),e})),u.propTypes={onSet:i.default.func.isRequired,type:i.default.oneOf(["now","time"]),timestamp:i.default.string},t.default=u},25044:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(73729),i=a(13818),s=a(40758),o=a(68720),u=a(67080),c=a(3089),d=a(98002),m=a(74409),p=a(49859),f=a(41955),E=a(36165),g=a(91089),v=l(a(43775)),h=a(23271),_=a(83633),S=l(a(29384)),b=l(a(19765)),C=l(a(86870)),y=l(a(53250));a(21477);const I=()=>{var e,t,a,l;const v=(0,r.useDispatch)(),[I,A]=n.default.useState(void 0),[R,T]=n.default.useState(void 0),[O,P]=n.default.useState(void 0),[D,L]=n.default.useState(!1),[N,w]=n.default.useState("now"),k=(0,E.useGlobalState)((e=>e.modal.data.subscriptionID)),F=(0,E.useGlobalState)((e=>e.modal.data.clusterName)),{cluster:M,isLoading:x,isSuccess:G}=(0,f.useFetchClusterDetails)(k),U=null==M?void 0:M.id,H=null==M||null===(e=M.subscription)||void 0===e?void 0:e.rh_region_id,V=(0,h.isHypershiftCluster)(M),{data:B}=(0,d.useGetSchedules)(U,V,H),{data:q}=(0,c.useFetchUpgradeGatesFromApi)(null==M?void 0:M.managed,H),j=e=>(0,_.getClusterUnMetClusterAcks)(B,M,q,e),{mutateAsync:z}=(0,m.usePostClusterGateAgreementAcknowledgeModal)(U,H),{mutate:W,isError:$,error:K,isPending:Y}=(0,p.usePostSchedule)(U,V,H),Q=x&&!G||(null==M||null===(t=M.subscription)||void 0===t?void 0:t.id)!==k,Z=I&&(R||"now"===N)&&(O&&D||!O),X=()=>{(0,d.refetchSchedules)(),(0,f.invalidateClusterDetailsQueries)(),A(void 0),T(void 0),w("now"),v(g.modalActions.closeModal())},J=[{id:"select-version",name:"Select version",component:Q?n.default.createElement(u.Spinner,{centered:!0}):n.default.createElement(y.default,{availableUpgrades:null==M||null===(a=M.version)||void 0===a?void 0:a.available_upgrades,clusterVersion:(null==M?void 0:M.openshift_version)||(null==M||null===(l=M.version)||void 0===l?void 0:l.id),clusterChannel:null==M?void 0:M.version.channel_group,selected:I,onSelect:e=>{const t=j(e).length>0;A(e),P(t)},getUnMetClusterAcknowledgements:j}),enableNext:!!I},...I&&O?[{id:"acknowledge_upgrade",name:"Administrator acknowledgement",component:n.default.createElement(S.default,{confirmed:e=>{L(e)},unmetAcknowledgements:j(I),fromVersion:null==M?void 0:M.openshift_version,toVersion:I,initiallyConfirmed:D}),canJumpTo:!!I,enableNext:Z}]:[],{id:"schedule-upgrade",name:"Schedule update",component:n.default.createElement(C.default,{onSet:e=>{let{timestamp:t,type:a}=e;T(t),w(a)},timestamp:R,type:N}),canJumpTo:!!I&&(!O||D),enableNext:Z},{id:"confirmation",name:"Confirmation",component:n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Title,{className:"wizard-step-title",size:"lg",headingLevel:"h3"},"Confirmation of your update"),n.default.createElement("dl",{className:"wizard-step-body cluster-upgrade-dl"},n.default.createElement("div",null,n.default.createElement("dt",null,"Version"),n.default.createElement("dd",null,null==M?void 0:M.openshift_version," → ",I)),O?n.default.createElement("div",null,n.default.createElement("dt",null,"Administrator acknowledgement"),n.default.createElement("dd",null,D?"Approved":"Not approved")):null,n.default.createElement("dt",null,"Scheduled"),n.default.createElement("dd",null,"now"===N?"Within the next hour":n.default.createElement("dl",null,n.default.createElement("dt",null,"UTC"),n.default.createElement("dd",null,n.default.createElement(o.DateFormat,{type:"exact",date:new Date(R)})),n.default.createElement("div",null,n.default.createElement("dt",null,"Local time"),n.default.createElement("dd",null,new Date(R).toString())))))),nextButtonText:"Confirm update",canJumpTo:Z},{id:"finish",name:"Finish",component:n.default.createElement(b.default,{scheduleType:N,upgradeTimestamp:R,postScheduleError:K,isPostScheduleError:$,isPostSchedulePending:Y,close:X}),isFinishedStep:!0}];return n.default.createElement(s.Wizard,{title:"Update cluster",className:"ocm-upgrade-wizard",description:F,isOpen:!0,steps:J,onNext:e=>{if("finish"===e.id){const e="now"===N?new Date((new Date).getTime()+36e4).toISOString():R;let t=null,a=null;const l=j(I).map((e=>e.id));t||(a=z(l,{onError:e=>{t=e}})),a.then((()=>{if(!t){const t={schedule_type:"manual",upgrade_type:(0,h.isHypershiftCluster)(M)?"ControlPlane":"OSD",next_run:e,version:I};W(t)}}))}},onClose:X})};I.propTypes={},I.modalName=v.default.UPGRADE_WIZARD,t.default=I},94692:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(29962),o=a(3995),u=a(10176),c=l(a(8888));const d=e=>{const{isSelected:t,isRecommended:a,version:l,onKeyDown:r,onClick:d,children:m,getUnMetClusterAcknowledgements:p}=e;return n.default.createElement(i.Card,{className:"version-card",id:l,onKeyDown:r,onClick:d,isSelectableRaised:!0,isCompact:!0,isSelected:t},n.default.createElement(i.CardTitle,null,n.default.createElement(i.Split,null,n.default.createElement(i.SplitItem,null,l," ",p(l).length>0?(e=>n.default.createElement(i.Tooltip,{content:`All clusters require an administrator acknowledgement before updating to OpenShift Container Platform ${e}`},n.default.createElement(i.Button,{variant:"link",isInline:!0,"aria-label":"more information"},n.default.createElement(s.InfoCircleIcon,null))))(l):null),n.default.createElement(i.SplitItem,{isFilled:!0}),a&&n.default.createElement(i.SplitItem,null,n.default.createElement(i.Label,{color:"blue",icon:n.default.createElement(o.StarIcon,null)},"Recommended")))),m&&n.default.createElement(i.CardBody,null,m),n.default.createElement(i.CardFooter,null,(e=>{const{groups:t}=u.versionRegEx.exec(e),{major:a,minor:l,revision:r,patch:i}=t;if("4"!==a||void 0!==i)return null;const s=`https://docs.openshift.com/container-platform/${a}.${l}/release_notes/ocp-${a}-${l}-release-notes.html#ocp-${a}-${l}-${r}`;return n.default.createElement(c.default,{href:s,className:"pf-c-button pf-m-link card-footer-button"},"View release notes")})(l)))};d.propTypes={isSelected:r.default.bool,isRecommended:r.default.bool,version:r.default.string.isRequired,onKeyDown:r.default.func.isRequired,onClick:r.default.func.isRequired,children:r.default.node,getUnMetClusterAcknowledgements:r.default.func},d.defaultProps={isRecommended:!1},t.default=d},61726:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(68090)),s=l(a(5556)),o=a(13818),u=a(10176),c=l(a(94692));class d extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"onKeyDown",(e=>{e.target===e.currentTarget&&[13,32].includes(e.keyCode)&&this.onClick(e)})),(0,n.default)(this,"onClick",(e=>{const{selected:t,onSelect:a}=this.props;a(e.currentTarget.id===t?null:e.currentTarget.id)}))}componentDidMount(){this.selectDefault()}selectDefault(){const{availableUpgrades:e,selected:t,onSelect:a}=this.props;1!==e.length||t||a(e[0])}recommendedCards(e,t){const{selected:a,getUnMetClusterAcknowledgements:l}=this.props,n=u.versionRegEx.exec(t).groups;return r.default.createElement(r.default.Fragment,null,e?r.default.createElement(o.GridItem,{span:6},r.default.createElement(c.default,{isRecommended:!0,isSelected:a===e,version:e,onKeyDown:this.onKeyDown,onClick:this.onClick,getUnMetClusterAcknowledgements:l},"The latest on your current minor version.")):null,t!==e?r.default.createElement(o.GridItem,{span:6},r.default.createElement(c.default,{isRecommended:!0,isSelected:a===t,version:t,onKeyDown:this.onKeyDown,onClick:this.onClick,getUnMetClusterAcknowledgements:l},"Start taking advantage of the new features"," ",`${n.major}.${n.minor}`," has to offer.")):null)}render(){const{availableUpgrades:e,clusterVersion:t,selected:a,getUnMetClusterAcknowledgements:l}=this.props,n=(0,i.default)(e),s=u.versionRegEx.exec(t).groups,d=e.filter((e=>{const t=u.versionRegEx.exec(e).groups;return t.major===s.major&&t.minor===s.minor})),m=(0,i.default)(d),p=e.filter((e=>e!==n&&e!==m));return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Title,{className:"version-select-step-title",size:"lg",headingLevel:"h3"},"Select version"),r.default.createElement("div",{id:"version-grid-wrapper"},r.default.createElement(o.Grid,{hasGutter:!0,className:"version-selection-grid"},this.recommendedCards(m,n),p.length>0&&r.default.createElement(o.GridItem,null,r.default.createElement(o.Divider,null)),p.map((e=>r.default.createElement(o.GridItem,{span:4,key:e},r.default.createElement(c.default,{version:e,onKeyDown:this.onKeyDown,onClick:this.onClick,isSelected:a===e,getUnMetClusterAcknowledgements:l})))))))}}d.propTypes={clusterVersion:s.default.string.isRequired,availableUpgrades:s.default.arrayOf(s.default.string),onSelect:s.default.func.isRequired,selected:s.default.string,getUnMetClusterAcknowledgements:s.default.func},t.default=d},53250:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(61726));t.default=n.default},81441:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(43693)),r=l(a(74353)),i=a(89407),s=a(89217),o=a(95762),u=a(99908);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const m={versionInfo:d(d({},o.baseRequestState),{},{version:void 0,availableUpgrades:[]}),postedUpgradeSchedule:d({},o.baseRequestState),deleteScheduleRequest:d({},o.baseRequestState),schedules:d(d({},o.baseRequestState),{},{items:[]})};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return(0,i.produce)(e,(a=>{switch(t.type){case(0,o.PENDING_ACTION)(u.POST_UPGRADE_SCHEDULE):a.postedUpgradeSchedule.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.POST_UPGRADE_SCHEDULE):a.postedUpgradeSchedule=d(d({},m.upgradeSchedule),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.POST_UPGRADE_SCHEDULE):a.postedUpgradeSchedule=d(d({},m),(0,s.getErrorState)(t));break;case u.CLEAR_POST_UPGRADE_SCHEDULE:a.postedUpgradeSchedule=d({},m);break;case(0,o.PENDING_ACTION)(u.GET_UPGRADE_SCHEDULES):a.schedules.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.GET_UPGRADE_SCHEDULES):{var l;const e=(null===(l=t.payload)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.items)||[];e.sort(((e,t)=>(0,r.default)(e.next_run).unix()-(0,r.default)(t.next_run).unix())),a.schedules=d(d({},m.schedules),{},{fulfilled:!0,items:e});break}case(0,o.REJECTED_ACTION)(u.GET_UPGRADE_SCHEDULES):a.schedules=d(d({},m.schedules),(0,s.getErrorState)(t));break;case u.CLEAR_GET_UPGRADE_SCHEDULE:a.schedules=d({},m.schedules);break;case(0,o.PENDING_ACTION)(u.DELETE_UPGRADE_SCHEDULE):a.deleteScheduleRequest.pending=!0;break;case(0,o.FULFILLED_ACTION)(u.DELETE_UPGRADE_SCHEDULE):a.deleteScheduleRequest=d(d({},m.deleteScheduleRequest),{},{fulfilled:!0});break;case(0,o.REJECTED_ACTION)(u.DELETE_UPGRADE_SCHEDULE):a.deleteScheduleRequest=d(d({},m.deleteScheduleRequest),(0,s.getErrorState)(t));break;case u.CLEAR_DELETE_UPGRADE_SCHEDULE:a.deleteScheduleRequest=d({},m.deleteScheduleRequest);break;case u.SET_CLUSTER_UPGRADE_POLICY:a.schedules.items=e.schedules.items.map((e=>e.cluster_id===t.payload.cluster_id&&e.schedule_type===t.payload.schedule_type?t.payload:e))}}))}p.initialState=m,t.Ay=p},35952:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=e=>{const t=e.split(" "),a=["SUN","MON","TUE","WED","THU","FRI","SAT"];let l=t[t.length-1];return a.includes(l)&&(l=a.indexOf(l)),[t[1],l]}},84083:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(88139),i=l(a(5556)),s=a(13818),o=l(a(65702)),u=a(75166),c=a(82693),d=a(16829),m=a(2786),p=l(a(15771)),f=l(a(8888)),E=a(49484);function g(e){let{parent:t,disableUVM:a,planType:l}=e;const{getFieldProps:i,getFieldMeta:g}=(0,c.useFormState)(),v=n.default.createElement(s.Title,{headingLevel:"h4"}," Monitoring "),h=l===u.normalizedProducts.ROSA,_=l===u.normalizedProducts.OSD||l===u.normalizedProducts.OSDTrial;return n.default.createElement(n.default.Fragment,null,"create"===t?n.default.createElement(s.GridItem,null,v):v,n.default.createElement(r.Field,{component:p.default,fieldId:d.FieldId.EnableUserWorkloadMonitoring,name:d.FieldId.EnableUserWorkloadMonitoring,label:"Enable user workload monitoring",isDisabled:a,input:i(d.FieldId.EnableUserWorkloadMonitoring),meta:g(d.FieldId.EnableUserWorkloadMonitoring),extendedHelpText:n.default.createElement(n.default.Fragment,null,E.constants.enableUserWorkloadMonitoringHelp," ",h||_?n.default.createElement(f.default,{href:h?o.default.ROSA_MONITORING:o.default.OSD_MONITORING_STACK},"Learn more"):null)}),n.default.createElement(m.CheckboxDescription,null,E.constants.enableUserWorkloadMonitoringHint))}g.propTypes={parent:i.default.string,disableUVM:i.default.bool,planType:i.default.string},t.default=g},96346:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(27241));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const c=e=>{let{currentPage:t,pageSize:a,totalCount:l,onFirstPage:r,onLastPage:i,onPreviousPage:o,onNextPage:u,onPageInput:c,onPerPageSelect:d,variant:m,isDisabled:p,perPageOptions:f}=e;return n.default.createElement(s.Pagination,{page:t,perPage:a,itemCount:l,itemsStart:(t-1)*a+1,itemsEnd:Math.min(t*a,l),onFirstClick:r,onLastClick:i,onPreviousClick:o,onNextClick:u,onSetPage:c,onPerPageSelect:d,variant:m,dropDirection:"bottom"===m?"up":"down",isCompact:"bottom"!==m,isDisabled:p,perPageOptions:f})};c.propTypes={viewType:r.default.string,currentPage:r.default.number,pageSize:r.default.number,totalCount:r.default.number,onFirstPage:r.default.func,onLastPage:r.default.func,onNextPage:r.default.func,onPreviousPage:r.default.func,onPageInput:r.default.func,onPerPageSelect:r.default.func,variant:r.default.oneOf(["top","bottom"]).isRequired,isDisabled:r.default.bool,perPageOptions:r.default.arrayOf(r.default.shape({title:r.default.string,value:r.default.number}))},t.default=(0,i.connect)(null,((e,t)=>({onFirstPage:()=>e(o.onFirstPage(t.viewType)),onLastPage:()=>e(o.onLastPage(t.viewType)),onNextPage:()=>e(o.onNextPage(t.viewType)),onPreviousPage:()=>e(o.onPreviousPage(t.viewType)),onPageInput:(a,l)=>e(o.onPageInput(l,t.viewType)),onPerPageSelect:(a,l)=>{e(o.onPerPageSelect(l,t.viewType))}})))(c)},69122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRUST_BUNDLE_PLACEHOLDER=t.TRUST_BUNDLE_HELPER_TEXT=t.SERVICE_CIDR_DEFAULT=t.POD_CIDR_DEFAULT=t.NO_PROXY_PLACEHOLDER=t.NO_PROXY_HELPER_TEXT=t.MACHINE_CIDR_DEFAULT=t.HTTP_PROXY_PLACEHOLDER=t.HTTPS_PROXY_PLACEHOLDER=t.HOST_PREFIX_DEFAULT=t.DISABLED_NO_PROXY_PLACEHOLDER=void 0,t.MACHINE_CIDR_DEFAULT="10.0.0.0/16",t.SERVICE_CIDR_DEFAULT="172.30.0.0/16",t.POD_CIDR_DEFAULT="10.128.0.0/14",t.HOST_PREFIX_DEFAULT="/23",t.HTTP_PROXY_PLACEHOLDER="http://<user>:<password>@<ipaddr>:<port>",t.HTTPS_PROXY_PLACEHOLDER="http(s)://<user>:<password>@<ipaddr>:<port>",t.TRUST_BUNDLE_PLACEHOLDER="-----BEGIN CERTIFICATE-----\n<MY_TRUSTED_CA_CERT>\n-----END CERTIFICATE-----",t.TRUST_BUNDLE_HELPER_TEXT="An additional trust bundle is a PEM encoded X.509 certificate bundle that will be added to the nodes' trusted certificate store.",t.DISABLED_NO_PROXY_PLACEHOLDER="HTTP/HTTPS URL must be provided in order to use No proxy domain",t.NO_PROXY_PLACEHOLDER="domain.com, second.domain.com",t.NO_PROXY_HELPER_TEXT="Preface a domain with . to match subdomains only. For example, .y.com matches x.y.com, but not y.com. Use * to bypass proxy for all destinations."},69202:(e,t,a)=>{"use strict";var l=a(24994);t.v3=void 0;var n=a(93345),r=l(a(2404)),i=a(73729),s=a(76601),o=a(82693),u=a(72230),c=a(16829),d=a(52202);t.v3=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=(0,i.useDispatch)(),l=(0,i.useSelector)(s.vpcsSelector),m=e?(()=>{const{values:e}=(0,o.useFormState)();return{region:e[u.FieldId.Region],cloudProviderID:e[u.FieldId.CloudProvider],credentials:{account_id:e[u.FieldId.AccountId],access_key_id:e[u.FieldId.AccessKeyId],secret_access_key:e[u.FieldId.SecretAccessKey]}}})():(e=>{if(e)return(0,i.useSelector)(s.vpcInquiryRequestSelector);const{values:t}=(0,o.useFormState)();return{region:t[c.FieldId.Region],cloudProviderID:t[c.FieldId.CloudProvider],credentials:{account_id:t[c.FieldId.AssociatedAwsId],sts:{role_arn:t[c.FieldId.InstallerRoleArn]}}}})(t),p=((e,t)=>!!e.fulfilled&&e.cloudProvider===t.cloudProviderID&&e.region===t.region&&(0,r.default)(e.credentials,t.credentials))(l,m),{region:f,cloudProviderID:E,credentials:g}=m;return(0,n.useEffect)((()=>{"aws"!==E||p||(l.error&&a((0,d.clearListVpcs)()),a((0,d.getAWSCloudProviderVPCs)({region:f,awsCredentials:g,options:{includeSecurityGroups:!0}})))}),[E,f,p]),{vpcs:l,requestParams:m}}},36202:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure Stack Hub"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Stack Hub"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"Azure Stack Hub",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/azure-stack-hub/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_ASHIPI_GETTING_STARTED,upiPageLink:"/install/azure-stack-hub/user-provisioned",upiLearnMoreLink:s.default.INSTALL_ASHUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with Azure Provider"]},name:"azure-stack-hub"})))}},44372:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure Stack Hub",path:"/install/azure-stack-hub"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Stack Hub Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.ash.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"ash",customizations:p.default.ash.customizations},p.default.ash.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},77528:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure Stack Hub",path:"/install/azure-stack-hub"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Stack Hub User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.ash.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"ash",isUPI:!0},p.default.ash.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},83069:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"AWS",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/aws/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_AWSIPI_LEARN_MORE,upiPageLink:"/install/aws/user-provisioned",upiLearnMoreLink:s.default.INSTALL_AWSUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with AWS Provider"]},name:"aws"})))}},52189:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services",path:"/install/aws"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.aws.x86.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"aws",customizations:p.default.aws.customizations},p.default.aws.x86.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},32937:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services",path:"/install/aws"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.aws.x86.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"aws",isUPI:!0},p.default.aws.x86.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},60311:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=l(a(8888)),c=a(37245),d=a(3874);const m=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Alibaba Cloud"}]}),p=n.default.createElement(n.default.Fragment,null,"For ",n.default.createElement(u.default,{href:s.default.INSTALL_GENERIC_NON_TESTED_PLATFORMS,stopClickPropagation:!0},"non-tested platforms"));t.A=()=>n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Alibaba Cloud"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"Alibaba Cloud",breadcrumbs:m}),n.default.createElement(r.PageSection,null,n.default.createElement(c.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,hideIPI:!0,ipiPageLink:"",hideUPI:!0,upiPageLink:"",agentBasedPageLink:"/install/platform-agnostic/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:[p,"For air-gapped/restricted networks"],ai:[p],upi:[p]},name:"alibaba-cloud"})))},58349:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services (ARM)"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS (ARM)"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"AWS (ARM)",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/aws/arm/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_AWSIPI_LEARN_MORE,upiPageLink:"/install/aws/arm/user-provisioned",upiLearnMoreLink:s.default.INSTALL_AWSUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with AWS Provider"]},name:"aws"})))}},83821:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services (ARM)",path:"/install/aws/arm"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS Installer-Provisioned ARM Infrastructure"},r.default.createElement(m.default,{title:p.default.aws.arm.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"aws",customizations:p.default.aws.customizations},p.default.aws.arm.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},44902:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Amazon Web Services (ARM)",path:"/install/aws/arm"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS User-Provisioned ARM Infrastructure"},r.default.createElement(m.default,{title:p.default.aws.arm.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"aws",isUPI:!0},p.default.aws.arm.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},55083:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure (ARM)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Installer-Provisioned ARM Infrastructure"},r.default.createElement(m.default,{title:p.default.azure.arm.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"azure",customizations:p.default.azure.customizations},p.default.azure.arm.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},69387:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | ARM Bare Metal"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"ARM Bare Metal",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/arm/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_BAREMETAL_IPI_LEARN_MORE,upiPageLink:"/install/arm/user-provisioned",upiLearnMoreLink:s.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED,aiPageLink:"/assisted-installer/clusters/~new?useArm=true",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,agentBasedPageLink:"/install/arm/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:["For air-gapped/restricted networks"],ipi:["Hosts controlled with baseboard management controller (BMC)","For air-gapped/restricted networks"],upi:["For air-gapped/restricted networks"]},name:"arm"})))}},79425:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal",path:"/install/arm"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal Agent-based installer"},r.default.createElement(m.default,{title:p.default.baremetal.arm.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",installationTypeId:"local-agent-based"},p.default.baremetal.arm.abi,{isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},67287:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal",path:"/install/arm"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | ARM Bare Metal Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.baremetal.arm.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal"},p.default.baremetal.arm.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},70315:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"ARM Bare Metal",path:"/install/arm"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | ARM Bare Metal User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.baremetal.arm.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.arm.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},48854:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(98515),u=a(65702),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(55258));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"ARM Pre-Release Builds"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | ARM | Experimental Developer Preview Builds"},n.default.createElement(m.default,{title:"Install OpenShift Container Platform 4 on ARM",breadcrumbs:t}),n.default.createElement(s.PageSection,null,n.default.createElement(p.default,{token:e,installer:u.tools.ARMINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},34468:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"Azure",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/azure/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_AZUREIPI_GETTING_STARTED,upiPageLink:"/install/azure/user-provisioned",upiLearnMoreLink:s.default.INSTALL_AZUREUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with Azure Provider"]},name:"azure"})))}},69275:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure",path:"/install/azure"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.azure.x86.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"azure",customizations:p.default.azure.customizations},p.default.azure.x86.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},9607:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure",path:"/install/azure"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.azure.x86.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"azure",isUPI:!0},p.default.azure.x86.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},24635:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"Bare Metal",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,ipiPageLink:"/install/metal/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_BAREMETAL_IPI_LEARN_MORE,upiPageLink:"/install/metal/user-provisioned",upiLearnMoreLink:s.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED,agentBasedPageLink:"/install/metal/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:["For air-gapped/restricted networks"],ipi:["Hosts controlled with baseboard management controller (BMC)","For air-gapped/restricted networks"],upi:["For air-gapped/restricted networks"]},name:"metal"})))}},74321:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal Agent-based installer"},r.default.createElement(m.default,{title:p.default.baremetal.x86.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",installationTypeId:"local-agent-based"},p.default.baremetal.x86.abi,{isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},70183:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.baremetal.x86.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal"},p.default.baremetal.x86.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},81179:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Bare Metal",path:"/install/metal"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Bare Metal User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.baremetal.x86.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.x86.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},95740:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Google Cloud Platform"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"GCP",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/gcp/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_GCPIPI_LEARN_MORE,upiPageLink:"/install/gcp/user-provisioned",upiLearnMoreLink:s.default.INSTALL_GCPUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with Google Cloud Provider"]},name:"gcp"})))}},45946:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Google Cloud Platform",path:"/install/gcp"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.gcp.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"gcp",customizations:p.default.gcp.customizations},p.default.gcp.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},76638:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Google Cloud Platform",path:"/install/gcp"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | GCP User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.gcp.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"gcp",isUPI:!0},p.default.gcp.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},96581:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Cloud"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Cloud"},r.default.createElement(m.default,{title:p.default.ibmCloud.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"ibmCloud"},p.default.ibmCloud))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},80720:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Z (s390x)"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Z (s390x)"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"IBM Z (s390x)",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,upiPageLink:"/install/ibmz/user-provisioned",upiLearnMoreLink:s.default.INSTALL_IBMZ_UPI_GETTING_STARTED,agentBasedPageLink:"/install/ibmz/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,hideIPI:!0,providerSpecificFeatures:{abi:["For connected or air-gapped/restricted networks"],ipi:["Hosts controlled with Ibmz Cloud Provider","For connected or air-gapped/restricted networks"],upi:["For connected or air-gapped/restricted networks"]},name:"Ibmz"})))}},35687:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Z (s390x)",path:"/install/ibmz"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Z (s390x) Agent-based installer"},r.default.createElement(m.default,{title:p.default.baremetal.s390x.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",installationTypeId:"local-agent-based"},p.default.baremetal.s390x.abi,{customizations:p.default.baremetal.s390x.customizations,isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},59262:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(98515),u=a(65702),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(55258));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Z",path:"/install/ibmz/user-provisioned"},{label:"Pre-Release Builds"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | IBM Z | Experimental Developer Preview Builds"},n.default.createElement(m.default,{title:"Install OpenShift on IBM Z with user-provisioned infrastructure",breadcrumbs:t}),n.default.createElement(s.PageSection,null,n.default.createElement(p.default,{token:e,installer:u.tools.IBMZINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},21458:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Z (s390x)",path:"/install/ibmz"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Z (s390x)"},r.default.createElement(m.default,{title:p.default.baremetal.s390x.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.s390x.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},15048:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"AWS (multi-architecture)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | AWS with Multi-Architecture Compute Machines"},r.default.createElement(m.default,{title:p.default.aws.multi.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"aws"},p.default.aws.multi.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},15022:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Microsoft Azure (multi-architecture)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Azure with Multi-Architecture Compute Machines"},r.default.createElement(m.default,{title:p.default.azure.multi.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"azure"},p.default.azure.multi.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},60590:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Baremetal (multi-architecture)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Baremetal with Multi-Architecture Compute Machines"},r.default.createElement(m.default,{title:p.default.baremetal.multi.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,showPreReleaseDocs:!0,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.multi.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},61955:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(98515),u=a(65702),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(55258));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Multi-architecture clusters"},{label:"Pre-Release Builds"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | Multi-architecture clusters | Experimental Developer Preview Builds"},n.default.createElement(m.default,{title:"Install OpenShift with multi-architecture compute machines",breadcrumbs:t}),n.default.createElement(s.PageSection,null,n.default.createElement(p.default,{token:e,installer:u.tools.MULTIINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},36245:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=a(37245),o=a(3874),u=l(a(65702)),c=l(a(7691));t.A=()=>{const e=n.default.createElement(c.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Nutanix AOS"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Nutanix AOS"},n.default.createElement(o.InstructionsChooserPageTitle,{cloudName:"Nutanix AOS",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(s.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:u.default.INSTALL_ASSISTED_LEARN_MORE,ipiPageLink:"/install/nutanix/installer-provisioned",ipiLearnMoreLink:u.default.INSTALL_NUTANIXIPI_GETTING_STARTED,upiPageLink:"",agentBasedPageLink:"",hideUPI:!0,recommend:"ipi",providerSpecificFeatures:{ipi:["Hosts controlled with Nutanix AOS Cloud Provider","For connected or air-gapped/restricted networks"]},name:"nutanix"})))}},35173:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Nutanix AOS",path:"/install/nutanix"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Nutanix AOS Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.nutanix.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"nutanix"},p.default.nutanix.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},57124:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Red Hat OpenStack Platform"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"OpenStack",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{ipiPageLink:"/install/openstack/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_OSPIPI_GETTING_STARTED,upiPageLink:"/install/openstack/user-provisioned",upiLearnMoreLink:s.default.INSTALL_OSPUPI_GETTING_STARTED,providerSpecificFeatures:{ipi:["Hosts controlled with OpenStack Provider"]},name:"openstack"})))}},17330:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Red Hat OpenStack Platform",path:"/install/openstack"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.openstack.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"openstack",customizations:p.default.openstack.customizations},p.default.openstack.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},21958:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Red Hat OpenStack Platform",path:"/install/openstack"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | OpenStack User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.openstack.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"openstack",isUPI:!0},p.default.openstack.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},19901:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=l(a(8888)),c=a(37245),d=a(3874);const m=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Platform agnostic (x86_64)"}]}),p=n.default.createElement(n.default.Fragment,null,"For ",n.default.createElement(u.default,{href:s.default.INSTALL_GENERIC_NON_TESTED_PLATFORMS,stopClickPropagation:!0},"non-tested platforms"));t.A=()=>n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | x86_64 User-Provisioned Infrastructure"},n.default.createElement(d.InstructionsChooserPageTitle,{cloudName:"Platform agnostic (x86_64)",breadcrumbs:m}),n.default.createElement(r.PageSection,null,n.default.createElement(c.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,hideIPI:!0,upiPageLink:"/install/platform-agnostic/user-provisioned",upiLearnMoreLink:s.default.INSTALL_GENERIC_GETTING_STARTED,agentBasedPageLink:"/install/platform-agnostic/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:[p,"For air-gapped/restricted networks"],ai:[p],upi:[p]},name:"platform-agnostic"})))},4147:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Platform agnostic (x86_64)",path:"/install/platform-agnostic"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | x86_64 Agent-based installer"},r.default.createElement(m.default,{title:p.default.generic.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"generic",installationTypeId:"local-agent-based"},p.default.generic.abi,{isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},25321:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Platform agnostic (x86_64)",path:"/install/platform-agnostic"},{label:"x86_64 User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | x86_64 User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.generic.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"generic",isUPI:!0},p.default.generic.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},77313:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power (ppc64le)"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"IBM Power (ppc64le)",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,upiPageLink:"/install/power/user-provisioned",upiLearnMoreLink:s.default.INSTALL_POWER_UPI_GETTING_STARTED,agentBasedPageLink:"/install/power/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,hideIPI:!0,providerSpecificFeatures:{abi:["For connected or air-gapped/restricted networks"],ipi:["Hosts controlled with IBM Power (ppc64le) Cloud Provider","For connected or air-gapped/restricted networks"],upi:["For connected or air-gapped/restricted networks"]},name:"Power"})))}},72063:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)",path:"/install/power"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power (ppc64le) Agent-based installer"},r.default.createElement(m.default,{title:p.default.baremetal.ppc.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"baremetal",installationTypeId:"local-agent-based"},p.default.baremetal.ppc.abi,{isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},555:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(98515),u=a(65702),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(55258));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)",path:"/install/power/user-provisioned"},{label:"Pre-Release Builds"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | IBM Power (ppc64le) | Experimental Developer Preview Builds"},n.default.createElement(m.default,{title:"Install OpenShift on IBM Power (ppc64le) with user-provisioned infrastructure",breadcrumbs:t}),n.default.createElement(s.PageSection,null,n.default.createElement(p.default,{token:e,installer:u.tools.PPCINSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},45437:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM Power (ppc64le)",path:"/install/power"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power (ppc64le)"},r.default.createElement(m.default,{title:p.default.baremetal.ppc.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"baremetal",isUPI:!0},p.default.baremetal.ppc.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},36561:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"IBM PowerVS (ppc64le)"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | IBM Power Systems Virtual Server Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.ibmCloud.powervs.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,showPreReleaseDocs:!0,cloudProviderID:"ibmCloud"},p.default.ibmCloud.powervs.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},74726:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(98515),u=a(65702),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(55258));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Pre-Release Builds"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | Experimental Developer Preview Builds"},n.default.createElement(m.default,{title:"Install OpenShift Container Platform 4",breadcrumbs:t}),n.default.createElement(s.PageSection,null,n.default.createElement(p.default,{token:e,installer:u.tools.X86INSTALLER})))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},6845:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(98515),u=a(56349),c=l(a(7691)),d=l(a(65824)),m=l(a(33225));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}class f extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(u.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=n.default.createElement(c.default,{path:[{label:"Downloads",path:"/downloads"},{label:"Pull secret"}]});return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | Pull Secret"},n.default.createElement(d.default,{title:"Install OpenShift Container Platform 4",breadcrumbs:t}),n.default.createElement(s.PageSection,{className:"ocp-instructions"},n.default.createElement(m.default,{token:e})))}}f.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(f)},74724:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(73729),s=a(13818),o=a(98515),u=a(56349),c=l(a(8888)),d=l(a(65824)),m=l(a(79132)),p=l(a(6473));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}class E extends n.Component{componentDidMount(){const{dispatch:e}=this.props;e(u.tollboothActions.createAuthToken())}render(){const{token:e}=this.props;return n.default.createElement(o.AppPage,{title:"Install OpenShift 4 | Pull Secret"},n.default.createElement(d.default,{title:"Azure Red Hat OpenShift"}),n.default.createElement(s.PageSection,{className:"ocp-instructions"},n.default.createElement(n.default.Fragment,null,n.default.createElement(s.Title,{headingLevel:"h3",size:"2xl"},"Red Hat content access"),n.default.createElement(s.Card,null,n.default.createElement("div",{className:"pf-v5-l-grid pf-m-gutter ocm-page"},e.error&&n.default.createElement(p.default,{token:e}),n.default.createElement("div",{className:"pf-v5-c-content"},n.default.createElement("h3",{className:"pf-v5-c-title pf-m-md downloads-subtitle"},"Pull secret"),n.default.createElement(m.default,{token:e,text:"Download or copy your pull secret. Your pull secret provides your Azure Red Hat OpenShift cluster with access to additional content provided by Red Hat."}),n.default.createElement(s.Alert,{variant:"info",isInline:!0,title:"Connecting your cluster to OpenShift Cluster Manager",className:"bottom-alert"},n.default.createElement("p",null,"Azure Red Hat OpenShift clusters do not connect to OpenShift Cluster Manager at creation time. Follow the"," ",n.default.createElement(c.default,{href:"https://docs.microsoft.com/en-us/azure/openshift/howto-add-update-pull-secret"},"Microsoft documentation")," if you would like to enable telemetry as a day 2 operation."))))))))}}E.propTypes={token:r.default.object.isRequired,dispatch:r.default.func.isRequired},t.Ay=(0,i.connect)((e=>({token:e.tollbooth.token})))(E)},90279:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345)),r=a(13818),i=a(98515),s=l(a(65702)),o=l(a(7691)),u=a(37245),c=a(3874);t.A=()=>{const e=n.default.createElement(o.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere"}]});return n.default.createElement(i.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere"},n.default.createElement(c.InstructionsChooserPageTitle,{cloudName:"VMware vSphere",breadcrumbs:e}),n.default.createElement(r.PageSection,null,n.default.createElement(u.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:s.default.INSTALL_ASSISTED_LEARN_MORE,ipiPageLink:"/install/vsphere/installer-provisioned",ipiLearnMoreLink:s.default.INSTALL_VSPHEREIPI_GETTING_STARTED,upiPageLink:"/install/vsphere/user-provisioned",upiLearnMoreLink:s.default.INSTALL_VSPHEREUPI_GETTING_STARTED,agentBasedPageLink:"/install/vsphere/agent-based",agentBasedLearnMoreLink:s.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:["For connected or air-gapped/restricted networks"],ipi:["Hosts controlled with vSphere Cloud Provider","For connected or air-gapped/restricted networks"],upi:["For connected or air-gapped/restricted networks"]},name:"vsphere"})))}},15221:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"Local Agent-based"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere Agent-based installer"},r.default.createElement(m.default,{title:p.default.vsphere.abi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,breadcrumbs:t,cloudProviderID:"vsphere",installationTypeId:"local-agent-based"},p.default.vsphere.abi,{isUPI:!0}))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},21195:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"Installer-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere Installer-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.vsphere.ipi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"vsphere",customizations:p.default.vsphere.customizations},p.default.vsphere.ipi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},9367:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(73729),o=a(13818),u=a(98515),c=a(56349),d=l(a(7691)),m=l(a(65824)),p=l(a(26750)),f=l(a(84994));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}class g extends r.Component{componentDidMount(){const{dispatch:e}=this.props;e(c.tollboothActions.createAuthToken())}render(){const{token:e}=this.props,t=r.default.createElement(d.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"VMware vSphere",path:"/install/vsphere"},{label:"User-provisioned infrastructure"}]});return r.default.createElement(u.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | vSphere User-Provisioned Infrastructure"},r.default.createElement(m.default,{title:p.default.vsphere.upi.title,breadcrumbs:t}),r.default.createElement(o.PageSection,null,r.default.createElement(f.default,(0,n.default)({token:e,cloudProviderID:"vsphere",isUPI:!0},p.default.vsphere.upi))))}}g.propTypes={token:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.Ay=(0,s.connect)((e=>({token:e.tollbooth.token})))(g)},55258:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(61860),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(65702)),u=l(a(8888)),c=l(a(93244)),d=l(a(71734)),m=l(a(39382)),p=l(a(6473));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function E(e){let{token:t,installer:a}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Title,{headingLevel:"h3",size:"2xl"},"Experimental Developer Preview Builds"),n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,null,n.default.createElement(i.Card,{className:"ocm-c-pre-release__card"},n.default.createElement(i.CardTitle,{className:"ocm-c-pre-release__card--header"},n.default.createElement(s.CodeIcon,null)," ",n.default.createElement("span",null,"Developer Preview")),n.default.createElement(i.CardBody,{className:"ocm-c-pre-release__card--body"},t.error&&n.default.createElement(p.default,{token:t}),n.default.createElement(i.TextContent,null,n.default.createElement(m.default,null),n.default.createElement(i.Text,{component:"p"},"As Red Hat OpenShift Container Platform (OCP) has moved to become a more agile and rapidly deployable Kubernetes offering, we want to allow existing and evaluation customers and partners access to the latest pre-release builds to see a real-time view into the next version of OpenShift."),n.default.createElement(c.default,null),n.default.createElement(i.Text,{component:"p"},"These builds are useful for anyone who would like to stay up to date on features being developed in the next release of OpenShift. Such builds are advantageous for planning future deployments, ISV integrations, or other educational, test, and explorational purposes."),n.default.createElement(i.Text,{component:"h3"},"Feature Completion in Developer Preview Versions"),n.default.createElement(i.Text,{component:"p"},"Each OpenShift minor release will target initiatives or focus areas. Because pre-release versions are published before all features have been implemented and tested, some features may be absent, incomplete, or buggy. This is the beauty of the development process, allowing early access, so customers and partners can experiment and provide early feedback."))))),n.default.createElement(i.StackItem,null,n.default.createElement(i.Card,{className:"ocm-c-pre-release-instructions__card"},n.default.createElement(i.CardBody,{className:"ocm-c-pre-release-instructions__card--body"},n.default.createElement(d.default,{token:t,showPreReleaseDocs:!0,showPreReleasePageLink:!1,tool:a,channel:o.channels.PRE_RELEASE})),n.default.createElement(i.CardFooter,{className:"ocm-c-pre-release-instructions__card--footer"},n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"h3"},"Feedback and Support"),n.default.createElement(i.Text,{component:"p"},"If you are a Red Hat customer or partner and have feedback about these developer preview versions, file an issue via"," ",n.default.createElement(u.default,{href:o.default.INSTALL_PRE_RELEASE_FEEDBACK},"the OpenShift Bugs tracker"),". Do not use the formal Red Hat support service ticket process. You can read more about support handling in the following"," ",n.default.createElement(u.default,{href:o.default.INSTALL_PRE_RELEASE_SUPPORT_KCS},"knowledge article"),".")))))))}a(17404),E.propTypes={token:r.default.object.isRequired,installer:r.default.oneOf(Object.values(o.tools)).isRequired},t.default=E},33225:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=l(a(79132)),o=l(a(39382)),u=l(a(6473));function c(e){let{token:t}=e;return n.default.createElement(i.Card,null,n.default.createElement(i.CardBody,null,n.default.createElement("div",{className:"pf-v5-c-content ocm-page"},n.default.createElement(i.Title,{headingLevel:"h3",size:"2xl"},"Pull secret"),n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,{key:"pull-secret"},t.error&&n.default.createElement(u.default,{token:t}),n.default.createElement(i.TextContent,null,n.default.createElement(s.default,{token:t}))),n.default.createElement(i.StackItem,null,n.default.createElement(o.default,null))))))}c.propTypes={token:r.default.object.isRequired},t.default=c},84994:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(65702),o=l(a(11777)),u=l(a(94974)),c=l(a(71734)),d=l(a(91827)),m=l(a(28999)),p=l(a(6473)),f=l(a(26750));const E=e=>{var t;const{token:a,cloudProviderID:l,installationTypeId:r,rhcos:E,installer:g=s.tools.X86INSTALLER,channel:v,docURL:h,customizations:_="",showPreReleaseDocs:S,preReleasePageLink:b,isUPI:C,showPreReleasePageLink:y,prerequisites:I}=e,A=window.location.pathname,R=null!==(t=f.default[l])&&void 0!==t&&t.publicCloud?`Follow the documentation to configure your ${f.default[l].cloudProvider} account and run the installer`:"Follow the instructions to configure your environment and install your cluster";return n.default.createElement(i.Card,{ouiaId:`${l}${r?"-".concat(r):""}`},n.default.createElement(i.CardBody,null,a.error&&n.default.createElement(n.default.Fragment,null,n.default.createElement(p.default,{token:a}),n.default.createElement("div",{className:"pf-v5-u-mb-lg"})),n.default.createElement(u.default,null,n.default.createElement(o.default,null,n.default.createElement(c.default,{showPreReleaseDocs:S,preReleasePageLink:b,token:a,pendoID:A,cloudProviderID:l,rhcos:E,tool:g,channel:v,showPreReleasePageLink:y})),n.default.createElement(o.default,null,n.default.createElement(i.Text,{component:"h2"},R),n.default.createElement(d.default,{docURL:h,pendoID:A,cloudProviderID:l,customizations:_,prerequisites:I,isUPI:C})),n.default.createElement(o.default,null,n.default.createElement(m.default,null)))))};E.propTypes={token:r.default.object.isRequired,cloudProviderID:r.default.string.isRequired,installationTypeId:r.default.string,rhcos:r.default.object,installer:r.default.oneOf(Object.values(s.tools)),channel:r.default.oneOf(Object.values(s.channels)).isRequired,docURL:r.default.string.isRequired,showPreReleaseDocs:r.default.bool,preReleasePageLink:r.default.string,customizations:r.default.string,prerequisites:r.default.string,isUPI:r.default.bool,showPreReleasePageLink:r.default.bool},E.defaultProps={isUPI:!1},t.default=E},81023:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(65702),o=l(a(41612));const u=e=>{let{pendoID:t,channel:a}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Text,{component:"p"},"Download the OpenShift command-line tools and add them to your ",n.default.createElement("code",null,"PATH"),"."),n.default.createElement("div",null,n.default.createElement(o.default,{pendoID:t,tool:s.tools.OC,channel:a})),n.default.createElement(i.Text,{component:"p"}),n.default.createElement(i.Text,{component:"p"},"When the installer is complete you will see the console URL and credentials for accessing your new cluster. A ",n.default.createElement("code",null,"kubeconfig")," file will also be generated for you to use with the"," ",n.default.createElement("code",null,"oc")," CLI tools you downloaded."))};u.propTypes={pendoID:r.default.string,channel:r.default.oneOf(Object.values(s.channels)).isRequired},t.default=u},42577:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(61860),s=a(69304);a(99222);const o=e=>{let{isDevPreview:t=!1,devPreviewLink:a="/install/pre-release"}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement("span",{className:"pf-v5-c-label pf-m-compact dev-preview-label"},n.default.createElement(i.CodeIcon,null)," Developer Preview")," ",n.default.createElement(s.Link,{to:a},t?"About":"Download"," pre-release builds"))};o.propTypes={isDevPreview:r.default.bool,devPreviewLink:r.default.string},t.default=o},93244:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(13818),i=l(a(65702)),s=l(a(8888));t.default=()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(r.Text,{component:"p"},"Because these are"," ",n.default.createElement(s.default,{href:i.default.INSTALL_PRE_RELEASE_SUPPORT_KCS,noIcon:!0},"developer preview")," ","builds:"),n.default.createElement(r.TextList,null,n.default.createElement(r.TextListItem,null,"Production use is not permitted."),n.default.createElement(r.TextListItem,null,"Installation and use is not eligible for Red Hat production support."),n.default.createElement(r.TextListItem,null,"Upgrades to, from, or between developer preview versions are not supported.")))},27211:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=a(62344),u=a(17210),c=a(65702);const d={[c.operatingSystems.linux]:r.default.createElement(s.Text,null,"Download and extract the OpenShift Local archive for your operating system and place the binary in your ",r.default.createElement("code",null,"$PATH")," ."),[c.operatingSystems.mac]:r.default.createElement(s.Text,null,"Download and open the OpenShift Local file. Opening the file will automatically start a step-by-step installation guide."),[c.operatingSystems.windows]:r.default.createElement(s.Text,null,"Download and extract the OpenShift Local archive on your computer and open the installer. Opening the installer will automatically start a step-by-step installation guide.")};class m extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{selections:{}}),(0,n.default)(this,"setSelections",(e=>{this.setState({selections:e})}))}componentDidMount(){const{githubReleases:e,getLatestRelease:t}=this.props;c.githubReleasesToFetch.forEach((a=>{e[a].fulfilled||t(a)}))}render(){var e;const{pendoID:t,tool:a,channel:l,githubReleases:n}=this.props,{selections:i}=this.state,m=(0,c.urlsSelector)(n),p=(null===(e=i[a])||void 0===e?void 0:e.OS)||(0,u.detectOS)(),f=a===c.tools.CRC,E=(0,o.downloadChoice)(i,this.setSelections,m,a,l,{pendoID:t});return r.default.createElement(r.default.Fragment,null,f&&d[p],r.default.createElement(s.Grid,{hasGutter:!0,className:"os-based-download"},r.default.createElement(s.GridItem,{md:3},E.osDropdown),r.default.createElement(s.GridItem,{md:4},E.archDropdown),r.default.createElement(s.GridItem,{md:5},E.downloadButton)))}}m.propTypes={pendoID:i.default.string,tool:i.default.oneOf(Object.values(c.tools)).isRequired,channel:i.default.oneOf(Object.values(c.channels)).isRequired,githubReleases:i.default.object.isRequired,getLatestRelease:i.default.func.isRequired},t.default=m},41612:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(56349),i=l(a(27211));const s={getLatestRelease:r.githubActions.getLatestRelease};t.default=(0,n.connect)((e=>({token:e.tollbooth.token||{},githubReleases:e.githubReleases})),s)(i.default)},71734:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(40167),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(65702)),u=l(a(52169)),c=l(a(81023)),d=l(a(42577)),m=l(a(41612)),p=l(a(79132));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}function E(e){let{token:t,showPreReleaseDocs:a=!1,preReleaseDocsLink:l=o.default.INSTALL_PRE_RELEASE_INSTALLER_DOC,showPreReleasePageLink:r=!0,preReleasePageLink:f="/install/pre-release",children:E,pendoID:g,tool:v,channel:h,rhcos:_}=e;return n.default.createElement("div",null,E,n.default.createElement(i.Stack,{hasGutter:!0},n.default.createElement(i.StackItem,{key:"install"},n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"h2"},"What you need to get started"),n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Text,{component:"h3"},"OpenShift installer"),n.default.createElement(i.Text,{component:"p"},"Download and extract the install program for your operating system and place the file in the directory where you will store the installation configuration files. Note: The OpenShift install program is only available for Linux and macOS at this time."),a&&n.default.createElement(i.Text,{component:"p"},"For pre-release documentation, refer to the"," ",n.default.createElement(i.Text,{component:"a",href:l,rel:"noreferrer noopener",target:"_blank"},"latest installer documentation"," ",n.default.createElement(i.Icon,{size:"sm"},n.default.createElement(s.ExternalLinkAltIcon,null))),"."),n.default.createElement(m.default,{tool:v,channel:h,pendoID:g}),r&&n.default.createElement("div",null,n.default.createElement(d.default,{devPreviewLink:f}))))),n.default.createElement(i.StackItem,{key:"pull-secret"},n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"h3"},"Pull secret"),n.default.createElement(p.default,{token:t,pendoID:g}))),n.default.createElement(i.StackItem,{key:"cli"},n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"h3"},"Command line interface"),n.default.createElement(c.default,{pendoID:g,channel:h}))),_&&n.default.createElement(i.StackItem,{key:"rhcos"},n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:"h3"},"Red Hat Enterprise Linux CoreOS (RHCOS)"),n.default.createElement(u.default,{token:t,pendoID:g,rhcos:_})))))}E.propTypes={showPreReleasePageLink:r.default.bool,showPreReleaseDocs:r.default.bool,preReleaseDocsLink:r.default.string,preReleasePageLink:r.default.string,token:r.default.object,children:r.default.oneOfType([r.default.node,r.default.element]),pendoID:r.default.string,tool:r.default.oneOf(Object.values(o.tools)).isRequired,channel:r.default.oneOf(Object.values(o.channels)).isRequired,rhcos:r.default.object},t.default=E},91827:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(9704),i=l(a(5556)),s=a(13818),o=a(9296),u=l(a(94538)),c=l(a(8888)),d=l(a(26750)),m=l(a(39382));const p=e=>{let{docURL:t,pendoID:a,cloudProviderID:l,customizations:i,prerequisites:p,isUPI:f}=e;const E=(0,u.default)();return n.default.createElement(s.Stack,{hasGutter:!0},n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,null,n.default.createElement("div",null,"The installer will take about 45 minutes to run.",(0,r.get)(d.default,`${l}.getStartedAdditional`,null)||"",n.default.createElement(s.Text,{component:"p"},"When the installer is complete you will see the console URL and credentials for accessing your new cluster. A ",n.default.createElement("code",null,"kubeconfig")," file will also be generated for you to use with the ",n.default.createElement("code",null,"oc")," CLI tools you downloaded.")))),n.default.createElement(s.StackItem,null,n.default.createElement(s.Button,{component:"a",href:t,rel:"noreferrer noopener",target:"_blank",variant:"secondary",onClick:()=>{E(o.trackEvents.OCPInstallDocumentation,{url:t,path:a})}},"Get started")),!f&&n.default.createElement(s.StackItem,null,n.default.createElement(s.Text,{component:"p"},"To quickly create a cluster with the default options, run the following command:"),n.default.createElement(s.ClipboardCopy,{id:"copy-command","data-testid":"copy-command",isReadOnly:!0,isCode:!0},"./openshift-install create cluster")),i&&n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"p"},"Refer to the documentation to"," ",n.default.createElement(c.default,{href:i},"install with customizations"),"."))),p&&n.default.createElement(s.StackItem,null,n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:"p"},"Please make sure you"," ",n.default.createElement(c.default,{href:p},"install the pre-requisites")," before proceeding with the cluster installation."))),n.default.createElement(s.StackItem,null,n.default.createElement(m.default,null)))};p.defaultProps={isUPI:!1},p.propTypes={docURL:i.default.string.isRequired,pendoID:i.default.string,cloudProviderID:i.default.string.isRequired,customizations:i.default.string,prerequisites:i.default.string,isUPI:i.default.bool},t.default=p},79132:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=l(a(73083)),o=l(a(88832));function u(e){let{token:t,pendoID:a,text:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Text,{component:"p"},l||"Download or copy your pull secret. You'll be prompted for this information during installation."),n.default.createElement("div",null,n.default.createElement(o.default,{token:t,pendoID:a}),n.default.createElement(s.default,{token:t,variant:"link-tooltip",pendoID:a})))}u.propTypes={token:r.default.object.isRequired,pendoID:r.default.string,text:r.default.string},t.default=u},62143:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=a(65702),u=l(a(16977));class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{selection:"x86"}),(0,n.default)(this,"options",[{value:"Select architecture",label:"Select architecture",disabled:!0},...o.architectureOptions.map((e=>{let{value:t,label:a}=e;return{value:t,label:a,disabled:!1}}))]),(0,n.default)(this,"onChange",(e=>{this.setState({selection:e})})),(0,n.default)(this,"downloadButtons",(()=>{const{token:e,pendoID:t,rhcosDownloads:a}=this.props,{selection:l}=this.state;return(Array.isArray(a)?a:[a]).map((a=>{const{archURL:n,buttonText:i,name:c}=a;return r.default.createElement(s.SplitItem,{key:c},r.default.createElement(u.default,{disabled:!!e.error,url:n[l],tool:o.tools.RHCOS,text:i,name:c,pendoID:t}))}))}))}render(){const{selection:e}=this.state,t=this.downloadButtons();return r.default.createElement(s.Split,{hasGutter:!0,className:"os-based-download"},r.default.createElement(s.SplitItem,{key:"select-arch"},r.default.createElement(s.FormSelect,{value:e,onChange:(e,t)=>this.onChange(t),"aria-label":"select-arch-dropdown"},this.options.map((e=>r.default.createElement(s.FormSelectOption,{isDisabled:e.disabled,key:`arch.${e.value}`,value:e.value,label:e.label}))))),r.default.createElement(s.SplitItem,{key:"download-buttons"},r.default.createElement(s.Split,{hasGutter:!0},t)))}}c.propTypes={token:i.default.object.isRequired,pendoID:i.default.string,rhcosDownloads:i.default.oneOfType([i.default.array,i.default.object])},t.default=c},52169:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(40167),o=a(65702),u=l(a(16977)),c=l(a(62143));const d=e=>{const{token:t,pendoID:a,rhcos:l}=e;return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Text,{component:"p"},"Download RHCOS to create machines for your cluster to use during installation.",l.additionalInstructions&&"string"==typeof l.additionalInstructions&&n.default.createElement(n.default.Fragment,null," ",l.additionalInstructions)," ",l.learnMoreURL&&n.default.createElement(i.Text,{component:"a",href:l.learnMoreURL,rel:"noreferrer noopener",target:"_blank"},"Learn more"," ",n.default.createElement(i.Icon,{size:"sm"},n.default.createElement(s.ExternalLinkAltIcon,null)),".")),l.additionalInstructions&&"string"!=typeof l.additionalInstructions&&n.default.createElement(n.default.Fragment,null," ",l.additionalInstructions),(e=>{const l=e.map((e=>{const{url:l,archURL:r,buttonText:s,name:d}=e;if(!l&&r||Array.isArray(e)){const l=Array.isArray(e)?e.map((e=>e.name)).join("|"):d;return n.default.createElement(c.default,{key:l,rhcosDownloads:e,pendoID:a,token:t})}return n.default.createElement(i.StackItem,{key:d},n.default.createElement(u.default,{url:l,tool:o.tools.RHCOS,text:s,name:d,disabled:!t,pendoID:a}))}));return n.default.createElement(i.Stack,{hasGutter:!0,className:"pf-v5-u-mt-md"},l)})(l.downloads))};d.propTypes={pendoID:r.default.string,token:r.default.object.isRequired,rhcos:r.default.object.isRequired},t.default=d},28999:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(13818);t.default=()=>{const e=n.default.createElement("span",null,'Choose "Edit subscriptions settings " from the actions menu in the upper right of the cluster details pages.'),t=n.default.createElement("span",null,"Select the options that apply to your cluster in the dialog and save.");return n.default.createElement(r.TextContent,null,n.default.createElement(r.Text,{component:"h2"},"Subscription and support"),n.default.createElement(r.Text,{component:"p"},"Your cluster will be automatically registered with a 60 day evaluation subscription which does not include support. In order to receive support for your cluster, you will need to edit the subscription settings from the cluster details page here in OpenShift Cluster Manager."),n.default.createElement(r.List,null,n.default.createElement(r.ListItem,null,e),n.default.createElement(r.ListItem,null,t)))}},39382:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(13818),i=l(a(8888)),s=l(a(65702));t.default=()=>n.default.createElement(r.Text,{component:"small"},"Red Hat collects a limited amount of telemetry data. By installing OpenShift Container Platform 4, you accept our data collection policy."," ",n.default.createElement(i.default,{href:s.default.TELEMETRY_INFORMATION,noIcon:!0},"Learn more")," ","about the data we collect.")},6473:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(41073)),o=l(a(8888)),u=a(89217);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}class d extends n.default.Component{componentDidMount(){const{token:e}=this.props,t=e.errorMessage||"";(e.internalErrorCode||"")!==u.BANNED_USER_CODE&&s.captureException(new Error(`Failed to fetch OCP token: ${t}`))}render(){const{token:e}=this.props,t=e.internalErrorCode||"",a=e.errorMessage||"",l=t===u.BANNED_USER_CODE?a:n.default.createElement(n.default.Fragment,null,a,n.default.createElement("br",null),n.default.createElement("br",null),"Try again by refreshing the page. If the problem persists"," ",n.default.createElement(o.default,{href:"https://access.redhat.com/support/"},"contact our customer support"),".");return n.default.createElement(i.Alert,{variant:"danger",isInline:!0,className:"token-error-alert",title:"Failed to obtain pull secret"},l)}}d.propTypes={token:r.default.object.isRequired},t.default=d},80750:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(93345)),s=l(a(5556)),o=a(13818);const u=["onChange"];class c extends i.default.Component{componentDidMount(){const{selectedRegion:e,input:t}=this.props;t.onChange(t.value||e)}componentDidUpdate(e){const{selectedRegion:t,input:a}=this.props;e.selectedRegion!==t&&a.onChange(a.value||t)}render(){const{kmsRegionsArray:e,input:t}=this.props,{onChange:a}=t,l=(0,r.default)(t,u);return i.default.createElement(o.FormSelect,(0,n.default)({"aria-label":"KMS location",onChange:(e,t)=>a(t)},l),e.map((e=>i.default.createElement(o.FormSelectOption,{key:e,value:e,label:e}))))}}c.propTypes={input:s.default.object.isRequired,kmsRegionsArray:s.default.array,selectedRegion:s.default.string},t.default=c},17804:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(58156)),r=a(73729),i=l(a(80750));t.A=(0,r.connect)(((e,t)=>{let a,l=[];const r=(0,n.default)(e,"cloudProviders.providers.gcp.regions",{});return t.selectedRegion&&r[t.selectedRegion]&&(a=r[t.selectedRegion].kms_location_id),a&&(l=a.split(",")),l.push(t.selectedRegion),{kmsRegionsArray:l}}),null)(i.default)},98173:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=a(38715);a(28842);const u=["a","b","c","d","e","f"];class c extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{isOpen:!1}),(0,n.default)(this,"onToggle",(e=>{this.setState({isOpen:e})})),(0,n.default)(this,"onSelect",((e,t)=>{const{input:a}=this.props;this.setState({isOpen:!1}),a.onChange(t)}))}componentDidUpdate(e){const{input:t,vpcId:a}=this.props;e.vpcId!==a&&t.value&&t.onChange("")}render(){const{isOpen:e}=this.state,{input:t,isDisabled:a,enabledAvailabilityZones:l,region:n,label:i,meta:{error:c,touched:d}}=this.props,m=u.map((e=>({zoneId:`${n}${e}`,isDisabled:l&&!l.includes(`${n}${e}`)}))).sort(((e,t)=>e.isDisabled&&!t.isDisabled?1:t.isDisabled&&!e.isDisabled?-1:e.zoneId.localeCompare(t.zoneId)));return r.default.createElement(s.FormGroup,{fieldId:t.name,label:i,className:"ocm-c-create-osd-az-select",isRequired:!0},r.default.createElement(s.Select,{isOpen:e,selected:t.value,onOpenChange:e=>this.onToggle(e),toggle:l=>r.default.createElement(s.MenuToggle,{ref:l,onClick:()=>this.onToggle(!e),isExpanded:e,isDisabled:a,isFullWidth:!0,"aria-label":"Options menu",className:"availability-zone-select"},t.value?t.value:"Select availability zone"),onSelect:this.onSelect,"aria-label":i},r.default.createElement(s.SelectList,{"aria-label":"availability zone list"},m.map((e=>{let{zoneId:t,isDisabled:a}=e;return r.default.createElement(s.SelectOption,{key:t,value:t,isDisabled:a,description:a?"This zone does not have all required subnets":void 0},t)})))),r.default.createElement(o.FormGroupHelperText,{touched:d,error:c}))}}c.propTypes={isDisabled:i.default.bool,label:i.default.string,region:i.default.string,enabledAvailabilityZones:i.default.arrayOf(i.default.string),vpcId:i.default.string,input:i.default.shape({name:i.default.string,value:i.default.string,onChange:i.default.func}),meta:i.default.shape({touched:i.default.bool,error:i.default.string})},t.default=c},70746:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ExpandableReviewItem=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=l(a(5556)),i=a(13818);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}const o=e=>{let{children:t,initiallyExpanded:a}=e;const[l,r]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{r(a)}),[a]),n.default.createElement(i.ExpandableSection,{className:"review-screen-item-expandable-section",isExpanded:l,onToggle:(e,t)=>{r(t)},toggleText:l?"Show less":"Show more"},t)};t.ExpandableReviewItem=o,o.propTypes={initiallyExpanded:r.default.bool,children:r.default.node},t.default=o},46726:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReviewItem=t.FormikReviewItem=void 0;var n=l(a(94634)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=l(a(5556)),s=a(13818),o=a(82693),u=a(16829),c=a(70746),d=l(a(73809));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}t.FormikReviewItem=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{values:{[e]:a,[u.FieldId.Hypershift]:l}}=(0,o.useFormState)(),n=d.default[e];let i=a;const m="true"===l;if(!n)return r.default.createElement(s.DescriptionListGroup,null,r.default.createElement(s.DescriptionListTerm,null,e),r.default.createElement(s.DescriptionListDescription,null,a));if(n.isOptional&&!a)return null;let p;n.isBoolean&&void 0===a&&(i="false"),"Availability"===n.title&&m&&(i="true"),p=n.values&&n.values[i]?n.values[i]:n.valueTransform?n.valueTransform(i,t):i;const f=n.isMonospace?r.default.createElement("pre",null,p):p,E=n.isExpandable?r.default.createElement(c.ExpandableReviewItem,{initiallyExpanded:n.initiallyExpanded},f):f;return r.default.createElement(s.DescriptionListGroup,{key:e},r.default.createElement(s.DescriptionListTerm,null,n.title),r.default.createElement(s.DescriptionListDescription,{"data-testid":n.title.replace(/ /g,"-")},E))};const p=e=>{let{name:t,formValues:a}=e;const l=d.default[t];let n=a[t];const i="true"===a.hypershift;if(!l)return r.default.createElement(s.DescriptionListGroup,null,r.default.createElement(s.DescriptionListTerm,null,t),r.default.createElement(s.DescriptionListDescription,null,n));if(l.isOptional&&!n)return null;let o;l.isBoolean&&void 0===n&&(n="false"),"Availability"===l.title&&i&&(n="true"),o=l.values&&l.values[n]?l.values[n]:l.valueTransform?l.valueTransform(n,a):n;const u=l.isMonospace?r.default.createElement("pre",null,o):o,m=l.isExpandable?r.default.createElement(c.ExpandableReviewItem,{initiallyExpanded:l.initiallyExpanded},u):u;return r.default.createElement(s.DescriptionListGroup,{key:t},r.default.createElement(s.DescriptionListTerm,null,l.title),r.default.createElement(s.DescriptionListDescription,{"data-testid":l.title.replace(/ /g,"-")},m))};t.ReviewItem=p;const f=e=>{let{initiallyExpanded:t,title:a,children:l,onGoToStep:i}=e;const[o,u]=(0,r.useState)(!t),c=a.replaceAll(" ",""),d=`${c}-toggle`,m=`${c}-content`;return r.default.createElement(s.GridItem,null,r.default.createElement("div",{className:"review-screen-expandable-section"},r.default.createElement(s.ExpandableSectionToggle,{isExpanded:o,onToggle:e=>{u(e)},toggleId:d,contentId:m,className:"review-screen-expandable-section__toggle-wrapper"},a),r.default.createElement(s.Button,{variant:"link",isInline:!0,className:"pf-v5-u-font-size-sm pf-v5-u-ml-sm","data-testid":a,onClick:e=>{e.stopPropagation(),i()}},"Edit ",r.default.createElement("span",{className:"pf-v5-u-screen-reader"},a)," step"),r.default.createElement(s.ExpandableSection,{isExpanded:o,isDetached:!0,toggleId:d,contentId:m},r.default.createElement(s.DescriptionList,(0,n.default)({isHorizontal:!0},{orientation:{sm:"horizontal"}}),l))))};p.propTypes={name:i.default.string,formValues:i.default.object},f.propTypes={initiallyExpanded:i.default.bool,title:i.default.string.isRequired,children:i.default.node.isRequired,onGoToStep:i.default.func.isRequired},t.default=f},73809:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(13818),i=a(93413),s=a(75166),o=a(74688),u=a(82788),c=l(a(35952)),d=a(54910),m=a(95343),p=a(81437),f=a(72230),E=a(13642),g=l(a(1477)),v=l(a(38307));const h={billing_model:{title:"Subscription type",values:{[E.SubscriptionCommonFields.cluster_billing_model.STANDARD]:"Annual: Fixed capacity subscription from Red Hat",[E.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE]:"On-Demand: Flexible usage billed through Red Hat Marketplace",[E.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP]:"On-Demand: Flexible usage billed through Google Cloud Marketplace",[s.STANDARD_TRIAL_BILLING_MODEL_TYPE]:"Free trial (upgradeable)"}},byoc:{title:"Infrastructure type",isBoolean:!0,values:{true:"Customer cloud subscription",false:"Red Hat cloud account"}},disable_scp_checks:{title:"AWS service control policy (SCP) checks",valueTransform:e=>e?"Disabled":"Enabled"},cloud_provider:{title:"Cloud provider",valueTransform:e=>"gcp"===e?"Google Cloud Platform (GCP)":null==e?void 0:e.toUpperCase()},[f.FieldId.GcpAuthType]:{title:"Authentication type",valueTransform:e=>e===p.GCPAuthType.ServiceAccounts?"Service Account":"Workload Identity Federation"},name:{title:"Cluster name"},domain_prefix:{title:"Domain prefix"},rosa_roles_provider_creation_mode:{title:"Operator roles and OIDC provider mode"},byo_oidc_config_id:{title:"OIDC Configuration ID"},byo_oidc_config_id_managed:{title:"OIDC Configuration Type",isBoolean:!0,values:{true:"Red Hat managed",false:"Self-managed"}},custom_operator_roles_prefix:{title:"Operator roles prefix"},cluster_version:{title:"Version",valueTransform:e=>null==e?void 0:e.raw_id},hypershift:{title:"Control plane",isBoolean:!0,values:{true:"Hosted",false:"Classic"}},region:{title:"Region"},multi_az:{title:"Availability",isBoolean:!0,values:{true:"Multi-zone",false:"Single zone"}},persistent_storage:{title:"Persistent storage",valueTransform:e=>`${(0,o.humanizeValueWithUnitGiB)(parseFloat(e)).value} GiB`},load_balancers:{title:"Load balancers"},secure_boot:{title:"Secure Boot support for Shielded VMs",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},enable_user_workload_monitoring:{title:"User workload monitoring",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},upgrade_policy:{title:"Update strategy",valueTransform:e=>"manual"===e?"Individual updates":"Recurring updates"},automatic_upgrade_schedule:{title:"Recurring update schedule",valueTransform:e=>{const t=[...Array(24).keys()].map((e=>`${e.toString().padStart(2,0)}:00`)),[a,l]=(0,c.default)(e);return`Every ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l]} at ${t[a]} UTC`}},node_drain_grace_period:{title:"Node draining",valueTransform:e=>`${e} minutes`},etcd_encryption:{title:"Additional etcd encryption",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},fips:{title:"FIPS cryptography",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},etcd_key_arn:{title:"Etcd encryption key ARN"},customer_managed_key:{title:"Encrypt volumes with customer keys",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},kms_key_arn:{title:"Custom KMS key ARN",isOptional:!0},network_configuration_toggle:{title:"Networking",values:{basic:"Basic",advanced:"Advanced"}},machine_type:{title:"Node instance type"},autoscalingEnabled:{title:"Autoscaling",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},imds:{title:"Instance Metadata Service (IMDS)",values:{[d.IMDSType.V1AndV2]:"IMDSv1 and IMDSv2",[d.IMDSType.V2Only]:"IMDSv2 only"}},nodes_compute:{title:"Compute node count",valueTransform:(e,t)=>"true"===t.multi_az&&"true"!==t.hypershift?`${e/3} (× 3 zones = ${e} compute nodes)`:e},worker_volume_size_gib:{title:"Worker root disk size",valueTransform:e=>`${e} GiB`},min_replicas:{title:"Compute node range",valueTransform:(e,t)=>n.default.createElement(n.default.Fragment,null,n.default.createElement("span",null,"Minimum nodes","true"===t.hypershift?" per machine pool":"","true"===t.multi_az&&"true"!==t.hypershift?" per zone":"",":")," ",e||0,n.default.createElement("span",{className:"pf-v5-u-ml-lg"},"Maximum nodes","true"===t.hypershift?" per machine pool":"","true"===t.multi_az&&"true"!==t.hypershift?" per zone":"",":")," ",t.max_replicas||0)},node_labels:{title:"Node labels",valueTransform:e=>n.default.createElement(r.LabelGroup,null,e.map((e=>n.default.createElement(r.Label,{color:"blue",isTruncated:!0},`${e.key} = ${e.value||""}`))))},install_to_vpc:{title:"Install into existing VPC",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},selected_vpc:{title:"Install to selected VPC",valueTransform:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name||e.id}},use_privatelink:{title:"PrivateLink",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},shared_vpc:{title:"Shared VPC settings",valueTransform:e=>n.default.createElement(r.Grid,null,n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Base DNS domain")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Private hosted zone ID")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Shared VPC role")),n.default.createElement(r.GridItem,null),n.default.createElement(r.GridItem,{md:3},e.base_dns_domain),n.default.createElement(r.GridItem,{md:3},e.hosted_zone_id),n.default.createElement(r.GridItem,{md:3},e.hosted_zone_role_arn),n.default.createElement(r.GridItem,null))},aws_standalone_vpc:{title:"VPC subnet settings",valueTransform:(e,t)=>n.default.createElement(g.default,{vpc:t.selected_vpc,machinePoolsSubnets:t.machinePoolsSubnets,hasPublicSubnets:!t.use_privatelink})},aws_hosted_machine_pools:{title:"Machine pools",valueTransform:(e,t)=>{const a=t.machinePoolsSubnets.map((e=>{var a;const l=null===(a=t.selected_vpc.aws_subnets)||void 0===a?void 0:a.find((t=>t.subnet_id===e.privateSubnetId));return{availabilityZone:l.availability_zone,privateSubnetId:l.subnet_id,publicSubnetId:""}}));return n.default.createElement(g.default,{vpc:t.selected_vpc,machinePoolsSubnets:a,hasPublicSubnets:!1})}},cluster_privacy_public_subnet_id:{title:"Public subnet",valueTransform:(e,t)=>{var a;const l=null===(a=t.selected_vpc.aws_subnets)||void 0===a?void 0:a.find((t=>t.subnet_id===e));return(null==l?void 0:l.name)||e}},securityGroups:{title:"Security groups",valueTransform:(e,t)=>{var a;return n.default.createElement(v.default,{vpcGroups:(null===(a=t.selected_vpc)||void 0===a?void 0:a.aws_security_groups)||[],formGroups:e})}},applicationIngress:{title:"Application ingress",valueTransform:e=>"default"===e?"Use default settings":"Custom settings"},defaultRouterSelectors:{title:"Route selectors",valueTransform:e=>e?(0,u.routeSelectorsAsString)((0,i.strToKeyValueObject)(e,"")):"None specified"},defaultRouterExcludedNamespacesFlag:{title:"Excluded namespaces",valueTransform:e=>e?(0,i.arrayToString)((0,i.stringToArrayTrimmed)(e)):"None specified"},isDefaultRouterWildcardPolicyAllowed:{title:"Wildcard policy",valueTransform:e=>e?"Allowed":"Disallowed"},isDefaultRouterNamespaceOwnershipPolicyStrict:{title:"Namespace ownership policy",valueTransform:e=>e?"Strict namespace ownership":"Inter-namespace ownership"},gpc_vpc:{title:"VPC subnet settings",valueTransform:(e,t)=>{const a=t.cluster_privacy===m.ClusterPrivacyType.Internal&&t.install_to_vpc&&t.private_service_connect;return n.default.createElement(r.Grid,null,n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Existing VPC name")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Control plane subnet name")),n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Compute subnet name")),a?n.default.createElement(r.GridItem,{md:3},n.default.createElement("strong",null,"Private Service Connect subnet name")):n.default.createElement(r.GridItem,{md:3}),n.default.createElement(r.GridItem,{md:3},t.vpc_name),n.default.createElement(r.GridItem,{md:3},t.control_plane_subnet),n.default.createElement(r.GridItem,{md:3},t.compute_subnet),a?n.default.createElement(r.GridItem,{md:3},t.psc_subnet):n.default.createElement(r.GridItem,{md:3}))}},configure_proxy:{title:"Cluster-wide proxy",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},private_service_connect:{title:"Private service connect",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}},http_proxy_url:{title:"HTTP proxy URL",isOptional:!0},https_proxy_url:{title:"HTTPS proxy URL",isOptional:!0},no_proxy_domains:{title:"No Proxy domains",isOptional:!0,valueTransform:e=>n.default.createElement(r.LabelGroup,null,e.map((e=>n.default.createElement(r.Label,{color:"blue",isCompact:!0,isTruncated:!0},e))))},additional_trust_bundle:{title:"Additional trust bundle",isMonospace:!0,isOptional:!0,isExpandable:!0,initiallyExpanded:!1},network_machine_cidr:{title:"Machine CIDR"},network_service_cidr:{title:"Service CIDR"},network_pod_cidr:{title:"Pod CIDR"},network_host_prefix:{title:"Host prefix",valueTransform:e=>null!=e&&e.includes("/")?e:`/${e}`},cluster_privacy:{title:"Cluster privacy",values:{external:"Public",internal:"Private",undefined:"Public"}},associated_aws_id:{title:"AWS infrastructure account ID"},shared_host_project_id:{title:"GCP shared host project ID"},billing_account_id:{title:"AWS billing account ID"},installer_role_arn:{title:"Installer role"},support_role_arn:{title:"Support role ARN"},worker_role_arn:{title:"Compute role"},control_plane_role_arn:{title:"Control plane role"},enable_external_authentication:{title:"External Authentication",isBoolean:!0,values:{true:"Enabled",false:"Disabled"}}};t.default=h},41685:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.upgradeScheduleRequest=t.default=t.createClusterRequest=void 0;var n=l(a(43693)),r=l(a(62193)),i=l(a(44383)),s=a(93413),o=a(11611),u=a(81437),c=a(72230),d=a(95343),m=l(a(7028)),p=a(96678),f=a(80883),E=a(16521),g=a(13642),v=a(58826),h=a(92868),_=a(14115),S=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(86633));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const I=(e,t)=>{let{isWizard:a=!0,cloudProviderID:l,product:n}=e;const p="true"===t.multi_az,f=t.cloud_provider||l,b=t.product||n,C="true"===t.hypershift,I="true"===(null==t?void 0:t.byo_oidc_config_id_managed),A=y({name:t.name,region:{id:t.region},nodes:{compute_machine_type:{id:t.machine_type}},managed:!0,product:{id:null==b?void 0:b.toLowerCase()},cloud_provider:{id:f},multi_az:p,etcd_encryption:t.etcd_encryption,billing_model:g.SubscriptionCommonFields.cluster_billing_model.STANDARD,disable_user_workload_monitoring:C||!t.enable_user_workload_monitoring},!C&&{fips:!!t.fips});if(t.has_domain_prefix&&(A.domain_prefix=t.domain_prefix),C||(A.node_drain_grace_period={value:t.node_drain_grace_period,unit:"minutes"}),C)A.billing_model=g.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_AWS;else if(t.billing_model===g.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP)A.billing_model=g.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP;else if(t.billing_model){const[e]=t.billing_model.split("-");A.billing_model=e}else A.billing_model=g.SubscriptionCommonFields.cluster_billing_model.STANDARD;if(t.cluster_version&&(A.version={id:t.cluster_version.id}),t.autoscalingEnabled){const e=parseInt(t.min_replicas,10),a=parseInt(t.max_replicas,10);C?A.nodes.autoscale_compute={min_replicas:e*t.machinePoolsSubnets.length,max_replicas:a*t.machinePoolsSubnets.length}:("true"===t.byoc&&(A.autoscaler=(0,o.getClusterAutoScalingSubmitSettings)(t.cluster_autoscaling)),A.nodes.autoscale_compute={min_replicas:p?3*e:e,max_replicas:p?3*a:a})}else A.nodes.compute=parseInt(t.nodes_compute,10);const R=(0,s.parseReduxFormKeyValueList)(t.node_labels);if((0,r.default)(R)||(A.nodes.compute_labels=R),m.default.fakeOSD&&(A.properties={fake_cluster:"true"}),(a||"advanced"===t.network_configuration_toggle)&&(A.network={machine_cidr:t.network_machine_cidr,service_cidr:t.network_service_cidr,pod_cidr:t.network_pod_cidr,host_prefix:parseInt(t.network_host_prefix,10)},("aws"===f||"gcp"===f&&"true"===t.byoc)&&(A.api={listening:t.cluster_privacy})),"true"===t.byoc){var T;const e=(a||"advanced"===t.network_configuration_toggle)&&t.install_to_vpc,l=!0===t.configure_proxy,n=t.use_privatelink;if(A.ccs={enabled:!0},"aws"===f){if("ROSA"===b){if(A.aws={account_id:t.associated_aws_id,sts:{role_arn:t.installer_role_arn,support_role_arn:t.support_role_arn,instance_iam_roles:y({worker_role_arn:t.worker_role_arn},C?{}:{master_role_arn:t.control_plane_role_arn}),operator_role_prefix:t.custom_operator_roles_prefix}},"auto"!==t.rosa_roles_provider_creation_mode||C||I||(A.aws.sts=y(y({},A.aws.sts),{},{auto_mode:!0})),A.properties=y(y({},A.properties),{},{rosa_creator_arn:t.rosa_creator_arn}),t.byo_oidc_config_id&&(A.aws.sts.oidc_config={id:t.byo_oidc_config_id}),t.worker_volume_size_gib&&(A.nodes.compute_root_volume={aws:{size:t.worker_volume_size_gib}}),e&&!C){const e=t.shared_vpc;e.is_selected&&(A.aws=y(y({},A.aws),{},{private_hosted_zone_id:e.hosted_zone_id,private_hosted_zone_role_arn:e.hosted_zone_role_arn}),A.dns={base_domain:e.base_dns_domain})}}else A.aws={access_key_id:t.access_key_id,account_id:t.account_id,secret_access_key:t.secret_access_key};const a=S.createSecurityGroupsParams(t.securityGroups);e&&!C&&a&&(A.aws=y(y({},A.aws),a)),n&&(A.aws.private_link=!0),"true"===t.customer_managed_key&&(A.aws.kms_key_arn=t.kms_key_arn),C&&(t.etcd_key_arn&&(A.aws.etcd_encryption={kms_key_arn:t.etcd_key_arn}),t.billing_account_id&&(A.aws.billing_account_id=t.billing_account_id)),t.imds&&!C&&(A.aws.ec2_metadata_http_tokens=t.imds),A.ccs.disable_scp_checks=t.disable_scp_checks,A.aws.subnet_ids=S.createClusterAwsSubnetIds({formData:t,isInstallExistingVPC:e}),A.nodes.availability_zones=S.createClusterAzs({formData:t,isInstallExistingVPC:e})}else if("gcp"===f){var O;let a={};if(t[c.FieldId.GcpAuthType]===u.GCPAuthType.ServiceAccounts){const e=JSON.parse(t.gcp_service_account);a=(0,i.default)(e,["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"])}t[c.FieldId.GcpAuthType]===u.GCPAuthType.WorkloadIdentityFederation&&(a={authentication:{kind:"WifConfig",id:t[c.FieldId.GcpWifConfig].id}}),A.gcp=y(y({},a),{},{security:{secure_boot:t.secure_boot}}),A.cloud_provider.display_name="gcp",A.cloud_provider.name="gcp",A.flavour={id:E.DEFAULT_FLAVOUR_ID},e&&(A.gcp_network={vpc_name:t.vpc_name,control_plane_subnet:t.control_plane_subnet,compute_subnet:t.compute_subnet},t.install_to_shared_vpc&&(A.gcp_network.vpc_project_id=t.shared_host_project_id)),"true"===t.customer_managed_key&&(A.gcp_encryption_key={key_name:t.key_name,key_ring:t.key_ring,key_location:t.key_location,kms_key_service_account:t.kms_service_account}),t.private_service_connect&&t.psc_subnet&&e&&(0,_.canConfigureDayOnePrivateServiceConnect)(null===(O=t.cluster_version)||void 0===O?void 0:O.raw_id)&&(A.gcp.private_service_connect={service_attachment_subnet:t.psc_subnet})}if(t.applicationIngress===d.ApplicationIngressType.Custom&&(0,_.canConfigureDayOneManagedIngress)(null===(T=t.cluster_version)||void 0===T?void 0:T.raw_id)&&(A.ingresses={items:[{default:!0,excluded_namespaces:t.defaultRouterExcludedNamespacesFlag?(0,s.stringToArrayTrimmed)(t.defaultRouterExcludedNamespacesFlag):void 0,route_selectors:(0,s.strToKeyValueObject)(t.defaultRouterSelectors,""),route_wildcard_policy:t.isDefaultRouterWildcardPolicyAllowed?h.WildcardPolicy.WILDCARDS_ALLOWED:h.WildcardPolicy.WILDCARDS_DISALLOWED,route_namespace_ownership_policy:t.isDefaultRouterNamespaceOwnershipPolicyStrict?v.NamespaceOwnershipPolicy.STRICT:v.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED}]}),e&&l){const e={};t.http_proxy_url&&(e.http_proxy=t.http_proxy_url),t.https_proxy_url&&(e.https_proxy=t.https_proxy_url),t.no_proxy_domains&&(e.no_proxy=t.no_proxy_domains.join(",")),0!==Object.keys(e).length&&(A.proxy=e),t.additional_trust_bundle&&(A.additional_trust_bundle=t.additional_trust_bundle)}}else A.load_balancer_quota=parseInt(t.load_balancers,10),A.storage_quota={unit:"B",value:parseFloat(t.persistent_storage)},"gcp"===f&&(A.gcp={security:{secure_boot:t.secure_boot}});return t.hypershift&&(A.hypershift={enabled:C}),C&&(A.multi_az=!0),t.enable_external_authentication&&(A.external_auth_config={enabled:!0}),A};t.createClusterRequest=I;const A=e=>"manual"===e.upgrade_policy?null:{schedule_type:e.upgrade_policy,schedule:e.automatic_upgrade_schedule};t.upgradeScheduleRequest=A,t.default=(e,t)=>a=>{const l=(0,p.regionalizedClusterId)(a),{isWizard:n,cloudProviderID:r,product:i}=t,s=I({isWizard:n,cloudProviderID:r,product:i},a),o=A(a);e((0,f.createCluster)(s,o,l))}},86633:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.createSecurityGroupsParams=t.createClusterAzs=t.createClusterAwsSubnetIds=void 0;var n=l(a(63375));t.createClusterAzs=e=>{let{formData:t,isInstallExistingVPC:a}=e,l=[];if("true"===t.hypershift){const e=t.selected_vpc;t.machinePoolsSubnets.forEach((t=>{var a;const n=null===(a=e.aws_subnets)||void 0===a?void 0:a.find((e=>e.subnet_id===t.privateSubnetId));n&&l.push(n.availability_zone)}))}else a&&(l=t.machinePoolsSubnets.map((e=>e.availabilityZone)));return 0===l.length?void 0:(0,n.default)(l)},t.createClusterAwsSubnetIds=e=>{let{formData:t,isInstallExistingVPC:a}=e;const l=[],{machinePoolsSubnets:n}=t;if("true"===t.hypershift){"external"===t.cluster_privacy&&l.push(t.cluster_privacy_public_subnet_id);const e=n.map((e=>e.privateSubnetId));l.push(...e)}else if(a){const e=!t.use_privatelink;l.push(n[0].privateSubnetId),e&&l.push(n[0].publicSubnetId),"true"===t.multi_az&&(l.push(n[1].privateSubnetId,n[2].privateSubnetId),e&&l.push(n[1].publicSubnetId,n[2].publicSubnetId))}return l.filter((e=>!!e))},t.createSecurityGroupsParams=e=>{if(!e)return;const{applyControlPlaneToAll:t,controlPlane:a,infra:l,worker:n}=e;if(t&&a.length>0)return{additional_control_plane_security_group_ids:a,additional_infra_security_group_ids:a,additional_compute_security_group_ids:a};const r={};return a.length>0&&(r.additional_control_plane_security_group_ids=a),e.infra.length>0&&(r.additional_infra_security_group_ids=l),e.worker.length>0&&(r.additional_compute_security_group_ids=n),0===Object.keys(r).length?void 0:r}},1341:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=t.cw=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=a(88139),s=l(a(58156)),o=l(a(5556)),u=a(13818),c=a(67080),d=a(9296),m=a(93413),p=l(a(65702)),f=a(69304),E=a(82693),g=a(66152),v=l(a(8888)),h=l(a(10046)),_=a(77218),S=l(a(38871)),b=a(62077),C=l(a(94538)),y=a(11243),I=a(976),A=a(16829),R=a(90132),T=l(a(34706));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(82240);const L=t.cw="No role detected",N=(e,t)=>e.Installer&&e.Support&&e.Worker&&(e.ControlPlane||t);function w(e){let{selectedAWSAccountID:t,selectedInstallerRoleARN:a,rosaMaxOSVersion:l,getAWSAccountRolesARNs:n,getAWSAccountRolesARNsResponse:o,clearGetAWSAccountRolesARNsResponse:O,isHypershiftSelected:P,onAccountChanged:w}=e;const{setFieldValue:k,getFieldProps:F,getFieldMeta:M,setFieldTouched:x,validateForm:G,values:{[A.FieldId.AssociatedAwsId]:U}}=(0,E.useFormState)(),H=(0,C.default)(),[V,B]=(0,r.useState)(!0),[q,j]=(0,r.useState)([]),[z,W]=(0,r.useState)([]),[$,K]=(0,r.useState)(L),[Y,Q]=(0,r.useState)(!1),[Z,X]=(0,r.useState)(!1),[J,ee]=(0,r.useState)(!1),te=(0,y.useFeatureGate)(I.HCP_USE_UNMANAGED),ae=(e=>{let{errorDetails:t}=e;return null==t?void 0:t.some((e=>"NoTrustedRelationshipOnClusterRole"===(null==e?void 0:e.Error_Key)))})(o);(0,r.useEffect)((()=>{x(A.FieldId.InstallerRoleArn,!0,!1),x(A.FieldId.SupportRoleArn,!0,!1),x(A.FieldId.WorkerRoleArn,!0,!1),P||x(A.FieldId.ControlPlaneRoleArn,!0,!1)}),[P]);const le=e=>{const t=[k(A.FieldId.InstallerRoleArn,(null==e?void 0:e.Installer)||L,!1),k(A.FieldId.SupportRoleArn,(null==e?void 0:e.Support)||L,!1),k(A.FieldId.WorkerRoleArn,(null==e?void 0:e.Worker)||L,!1)];P||t.push(k(A.FieldId.ControlPlaneRoleArn,(null==e?void 0:e.ControlPlane)||L,!1)),Promise.all(t).then((()=>{setTimeout((()=>{G()}),10)}))};(0,r.useEffect)((()=>{t!==U&&le(null),K(L),j([]),W([]),Q(!1),O(),w()}),[t]),(0,r.useEffect)((()=>{let e=!0;q.forEach((t=>{t.Installer===$&&(e=!N(t,P),le(t),k(A.FieldId.RosaMaxOsVersion,t.version,!1))})),Q(e)}),[$]);const ne=e=>P?e.hcpManagedPolicies:e.managedPolicies;(0,r.useEffect)((()=>{const e=q.find((e=>e.Installer===$));o.fulfilled&&e&&ee(ne(e))}),[t,o,$]);const re=e=>{const t=e.map((e=>D({name:e.Installer,value:e.Installer},!P&&ne(e)&&{label:r.default.createElement(u.Label,{color:"blue",isCompact:!0},"Recommended")})));0===t.length?(le(null),W([]),k(A.FieldId.RosaMaxOsVersion,void 0),Q(!0)):(W(t.filter((e=>void 0!==e.value))),Q(!1)),j(e),X(!0);const l=((e,t,a)=>{if(e&&e!==L)return e;if(0===t.length)return L;const l=t.find((e=>e.managedPolicies||e.hcpManagedPolicies)),n=t.find((e=>"ManagedOpenShift"===e.prefix)),r=t.find((e=>N(e,a)));return(n||l||r||t[0]).Installer})(a,e,P);K(l)};(0,r.useEffect)((()=>{if(o.pending||o.fulfilled||o.error)if(o.fulfilled){const e=(0,s.default)(o,"data",[]).filter((e=>!(!P||!te)||(P?e.hcpManagedPolicies&&e.managedPolicies:!e.hcpManagedPolicies&&!e.managedPolicies)));re(e)}else o.error&&re([]);else X(!1),Q(!1),n(t)}),[t,o]),(0,r.useEffect)((()=>{(o.fulfilled||o.error)&&(e=>{const t=ae?"Cannot detect an OCM role":"Error getting AWS account ARNs";H(d.trackEvents.ARNsRefreshed,{customProperties:D({error:!!e.error},e.error&&{error_title:t,error_message:e.errorMessage||void 0,error_code:e.errorCode,error_operation_id:e.operationID})})})(o)}),[o]);const ie=e=>e&&e!==L?void 0:"ARN field is required.",[se,oe]=(0,b.useOCPLatestVersion)("stable"),ue=oe&&!(0,m.isSupportedMinorVersion)(se,l),ce=!P&&J,de=r.default.useMemo((()=>P?"The selected account-wide roles are compatible with all OpenShift versions which support hosted control planes.":ce?`The selected account-wide roles are preferred and compatible with OpenShift version ${g.MIN_MANAGED_POLICY_VERSION} and newer.`:`The selected account-wide roles are compatible with OpenShift version ${(0,m.formatMinorVersion)(l)} and earlier.`),[ce,P,l]),me=o.error||Y&&Z;return r.default.createElement(r.default.Fragment,null,r.default.createElement(u.GridItem,null),r.default.createElement(u.GridItem,null,r.default.createElement(u.Title,{headingLevel:"h3"},"Account roles")),me?r.default.createElement(u.GridItem,{span:8},r.default.createElement(T.default,{getAWSAccountRolesARNsResponse:o,isHypershiftSelected:P,isMissingOCMRole:ae})):null,!Z&&r.default.createElement(u.GridItem,null,r.default.createElement("div",{className:"spinner-fit-container"},r.default.createElement(c.Spinner,null)),r.default.createElement("div",{className:"spinner-loading-text","data-testid":"spinner-loading-arn-text"},"Loading account roles ARNs...")),Z&&r.default.createElement(u.GridItem,{span:12},r.default.createElement(u.ExpandableSection,{isExpanded:V,onToggle:()=>{B(!V)},toggleText:"Account roles ARNs"},r.default.createElement(u.Text,{component:u.TextVariants.p},"The following roles were detected in your AWS account."," ",r.default.createElement(v.default,{href:p.default.ROSA_AWS_IAM_RESOURCES},"Learn more about account roles"),"."),r.default.createElement("br",null),r.default.createElement(u.Button,{variant:"secondary","data-testid":"refresh_arns_btn",onClick:()=>{H(d.trackEvents.RefreshARNs),O(),n(t),X(!1),Q(!1),q.some((e=>e.Installer===$))||(k(A.FieldId.InstallerRoleArn,"",!1),K(""),k(A.FieldId.ClusterVersion,void 0))}},"Refresh ARNs"),r.default.createElement("br",null),r.default.createElement("br",null),r.default.createElement(u.Grid,null,r.default.createElement(u.GridItem,{span:8},r.default.createElement(i.Field,{component:_.ReduxSelectDropdown,name:A.FieldId.InstallerRoleArn,input:D(D({},F(A.FieldId.InstallerRoleArn)),{},{onChange:e=>{k(A.FieldId.InstallerRoleArn,e),((e,t)=>{k(A.FieldId.ClusterVersion,void 0),K(t)})(0,e)}}),meta:M(A.FieldId.InstallerRoleArn),label:"Installer role",type:"text",options:z,isDisabled:z.length<=1,validate:ie,isRequired:!0,helpText:"",extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA installer. The role is used with the corresponding policy resource to provide the installer with the permissions required to complete cluster installation tasks.")}),r.default.createElement("br",null),r.default.createElement(i.Field,{component:S.default,name:A.FieldId.SupportRoleArn,input:D(D({},F(A.FieldId.SupportRoleArn)),{},{onChange:e=>k(A.FieldId.SupportRoleArn,e,!1)}),meta:M(A.FieldId.SupportRoleArn),label:"Support role",type:"text",validate:ie,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the Red Hat Site Reliability Engineering (SRE) support team. The role is used with the corresponding policy resource to provide the Red Hat SRE support team with the permissions required to support ROSA clusters."),isDisabled:!0}),r.default.createElement("br",null),r.default.createElement(i.Field,{component:S.default,name:A.FieldId.WorkerRoleArn,input:D(D({},F(A.FieldId.WorkerRoleArn)),{},{onChange:e=>k(A.FieldId.WorkerRoleArn,e,!1)}),meta:M(A.FieldId.WorkerRoleArn),label:"Worker role",type:"text",validate:ie,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA compute instances. The role is used with the corresponding policy resource to provide the compute instances with the permissions required to manage their components."),isDisabled:!0}),!P&&r.default.createElement(r.default.Fragment,null,r.default.createElement("br",null),r.default.createElement(i.Field,{component:S.default,name:A.FieldId.ControlPlaneRoleArn,input:D(D({},F(A.FieldId.ControlPlaneRoleArn)),{},{onChange:e=>k(A.FieldId.ControlPlaneRoleArn,e,!1)}),meta:M(A.FieldId.ControlPlaneRoleArn),label:"Control plane role",type:"text",validate:ie,isRequired:!0,extendedHelpText:r.default.createElement(r.default.Fragment,null,"An IAM role used by the ROSA control plane. The role is used with the corresponding policy resource to provide the control plane with the permissions required to manage its components."),isDisabled:!0}))),(l||ce)&&r.default.createElement(u.GridItem,null,r.default.createElement("br",null),r.default.createElement(u.Alert,{variant:"info",isInline:!0,isPlain:ce||!ue,title:de},ue&&!(ce||P)&&r.default.createElement(u.TextContent,null,r.default.createElement(u.Text,{component:u.TextVariants.p,className:"pf-v5-u-mt-sm"},r.default.createElement("strong",null,"To update account roles to the latest OpenShift version (",(0,m.formatMinorVersion)(se),"):")),r.default.createElement(u.TextList,{component:u.TextListVariants.ol},r.default.createElement(u.TextListItem,null,r.default.createElement(u.Text,{component:u.TextVariants.p},"Download latest (",(0,m.formatMinorVersion)(se),")"," ",r.default.createElement(f.Link,{to:"/downloads#tool-ocm"},"ocm")," and"," ",r.default.createElement(f.Link,{to:"/downloads#tool-rosa"},"rosa")," CLIs")),r.default.createElement(u.TextListItem,{className:"pf-v5-u-mb-sm"},r.default.createElement(u.Text,{component:u.TextVariants.p},"Recreate ARNs using"),r.default.createElement(u.Text,{component:u.TextVariants.p},r.default.createElement(h.default,{textAriaLabel:"Copyable ROSA create account-roles command"},R.RosaCliCommand.CreateAccountRoles)))))))),r.default.createElement(u.GridItem,{span:4}))))}w.propTypes={selectedAWSAccountID:o.default.string,selectedInstallerRoleARN:o.default.string,rosaMaxOSVersion:o.default.string,getAWSAccountRolesARNs:o.default.func.isRequired,getAWSAccountRolesARNsResponse:o.default.object.isRequired,clearGetAWSAccountRolesARNsResponse:o.default.func.isRequired,isHypershiftSelected:o.default.bool,onAccountChanged:o.default.func.isRequired},t.Ay=w},36368:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(42045),i=a(91089),s=l(a(34876));t.default=(0,n.connect)((e=>{const{getAWSAccountIDsResponse:t,getAWSAccountRolesARNsResponse:a,getUserRoleResponse:l}=e.rosaReducer;return{getAWSAccountIDsResponse:t,getAWSAccountRolesARNsResponse:a,getUserRoleResponse:l}}),(e=>({closeModal:()=>e((0,i.closeModal)()),getAWSAccountIDs:t=>e((0,r.getAWSAccountIDs)(t)),getAWSAccountRolesARNs:t=>e((0,r.getAWSAccountRolesARNs)(t)),clearGetAWSAccountIDsResponse:()=>e((0,r.clearGetAWSAccountIDsResponse)()),clearGetAWSAccountRolesARNsResponse:()=>e((0,r.clearGetAWSAccountRolesARNsResponse)()),clearGetUserRoleResponse:()=>e((0,r.clearGetUserRoleResponse)()),getUserRole:()=>e((0,r.getUserRole)())})))(s.default)},69890:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(93413),c=l(a(65702)),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(84037)),m=a(82693),p=a(16829),f=l(a(8888)),E=a(77218),g=l(a(38871)),v=a(49484),h=a(69122);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const C=d.default.disjointSubnets("network_machine_cidr"),y=d.default.disjointSubnets("network_service_cidr"),I=d.default.disjointSubnets("network_pod_cidr"),A=d.default.awsSubnetMask("network_machine_cidr_single_az"),R=d.default.awsSubnetMask("network_machine_cidr_multi_az"),T=d.default.awsSubnetMask("network_service_cidr");function O(e){let{disabled:t,cloudProviderID:a,isMultiAz:l,installToVpcSelected:n,isDefaultValuesChecked:s,formValues:_}=e;const{getFieldProps:S,getFieldMeta:O,setFieldValue:P,validateForm:D}=(0,m.useFormState)(),L=s||t,N=(0,u.constructSelectedSubnets)(_),w=e=>(0,d.required)(e)||d.default.cidr(e)||d.default.validateRange(e)||void 0,k=l||"true"===_.hypershift?d.default.AWS_MACHINE_CIDR_MAX_MULTI_AZ:d.default.AWS_MACHINE_CIDR_MAX_SINGLE_AZ;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Alert,{id:"advanced-networking-alert",isInline:!0,variant:"info",title:"CIDR ranges cannot be changed after you create your cluster."},r.default.createElement("p",{className:"pf-v5-u-mb-md"},"Specify non-overlapping ranges for machine, service, and pod ranges. Each range should correspond to the first IP address in their subnet."),r.default.createElement(f.default,{href:c.default.CIDR_RANGE_DEFINITIONS_ROSA},"Learn more to avoid conflicts"))),r.default.createElement(o.GridItem,null,r.default.createElement(i.Field,{component:E.ReduxCheckbox,name:p.FieldId.CidrDefaultValuesToggle,label:"Use default values",description:"The below values are safe defaults. However, you must ensure that the Machine CIDR is valid for your chosen subnet(s).",input:b(b({},S(p.FieldId.CidrDefaultValuesToggle)),{},{onChange:(e,t)=>{return a=t,P(p.FieldId.CidrDefaultValuesToggle,a),void(a&&Promise.all([P(p.FieldId.NetworkMachineCidr,h.MACHINE_CIDR_DEFAULT),P(p.FieldId.NetworkServiceCidr,h.SERVICE_CIDR_DEFAULT),P(p.FieldId.NetworkPodCidr,h.POD_CIDR_DEFAULT),P(p.FieldId.NetworkHostPrefix,h.HOST_PREFIX_DEFAULT)]).then((()=>{D()})));var a}}),meta:O(p.FieldId.CidrDefaultValuesToggle)})),r.default.createElement(o.GridItem,{md:6},r.default.createElement(i.Field,{component:g.default,name:p.FieldId.NetworkMachineCidr,label:"Machine CIDR",placeholder:h.MACHINE_CIDR_DEFAULT,type:"text",validate:e=>w(e)||"aws"===a&&d.default.awsMachineCidr(e,_)||d.default.validateRange(e)||"aws"===a&&d.default.subnetCidrs(e,_,p.FieldId.NetworkMachineCidr,N)||C(e,_)||"aws"===a&&!l&&A(e)||"aws"===a&&l&&R(e)||void 0,disabled:L,input:S(p.FieldId.NetworkMachineCidr),meta:O(p.FieldId.NetworkMachineCidr),helpText:r.default.createElement("div",{className:"pf-v5-c-form__helper-text"},`Subnet mask must be between /${d.default.AWS_MACHINE_CIDR_MIN} and /${k}.`,n&&r.default.createElement(o.Alert,{variant:"info",isPlain:!0,isInline:!0,title:"Ensure the Machine CIDR range matches the selected VPC subnets."})),extendedHelpText:r.default.createElement(r.default.Fragment,null,v.constants.machineCIDRHint,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(f.default,{href:c.default.ROSA_CIDR_MACHINE},"Learn more"))),showHelpTextOnError:!1})),r.default.createElement(o.GridItem,{md:6}),r.default.createElement(o.GridItem,{md:6},r.default.createElement(i.Field,{component:g.default,name:p.FieldId.NetworkServiceCidr,label:"Service CIDR",placeholder:h.SERVICE_CIDR_DEFAULT,type:"text",validate:e=>w(e)||d.default.serviceCidr(e)||y(e,_)||"aws"===a&&T(e)||"aws"===a&&d.default.subnetCidrs(e,_,p.FieldId.NetworkServiceCidr,N)||void 0,disabled:L,input:S(p.FieldId.NetworkServiceCidr),meta:O(p.FieldId.NetworkServiceCidr),helpText:"aws"===a?`Subnet mask must be at most /${d.default.SERVICE_CIDR_MAX}.`:`Range must be private. Subnet mask must be at most /${d.default.SERVICE_CIDR_MAX}.`,extendedHelpText:r.default.createElement(r.default.Fragment,null,v.constants.serviceCIDRHint,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(f.default,{href:c.default.ROSA_CIDR_SERVICE},"Learn more"))),showHelpTextOnError:!1})),r.default.createElement(o.GridItem,{md:6}),r.default.createElement(o.GridItem,{md:6},r.default.createElement(i.Field,{component:g.default,name:p.FieldId.NetworkPodCidr,label:"Pod CIDR",placeholder:h.POD_CIDR_DEFAULT,type:"text",validate:e=>w(e)||d.default.podCidr(e,_)||I(e,_)||"aws"===a&&d.default.subnetCidrs(e,_,p.FieldId.NetworkPodCidr,N)||void 0,disabled:L,input:S(p.FieldId.NetworkPodCidr),meta:O(p.FieldId.NetworkPodCidr),helpText:"aws"===a?`Subnet mask must allow for at least ${d.default.POD_NODES_MIN} nodes.`:`Range must be private. Subnet mask must allow for at least ${d.default.POD_NODES_MIN} nodes.`,extendedHelpText:r.default.createElement(r.default.Fragment,null,v.constants.podCIDRHint,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(f.default,{href:c.default.ROSA_CIDR_POD},"Learn more"))),showHelpTextOnError:!1})),r.default.createElement(o.GridItem,{md:6}),r.default.createElement(o.GridItem,{md:6},r.default.createElement(i.Field,{component:g.default,name:p.FieldId.NetworkHostPrefix,label:"Host prefix",placeholder:h.HOST_PREFIX_DEFAULT,type:"text",format:e=>e&&"/"!==e.charAt(0)?`/${e}`:e,normalize:e=>e&&"/"===e.charAt(0)?e.substring(1):e,validate:e=>(0,d.required)(e)||d.default.hostPrefix(e),disabled:L,input:S(p.FieldId.NetworkHostPrefix),meta:O(p.FieldId.NetworkHostPrefix),helpText:`Must be between /${d.default.HOST_PREFIX_MIN} and /${d.default.HOST_PREFIX_MAX}.`,extendedHelpText:r.default.createElement(r.default.Fragment,null,v.constants.hostPrefixHint,r.default.createElement(o.Text,{component:o.TextVariants.p},r.default.createElement(f.default,{href:c.default.ROSA_CIDR_HOST},"Learn more"))),showHelpTextOnError:!1})))}O.propTypes={disabled:s.default.bool,cloudProviderID:s.default.string,isMultiAz:s.default.bool,installToVpcSelected:s.default.bool,isDefaultValuesChecked:s.default.bool,formValues:s.default.object},t.default=O},81105:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(13818),i=a(82693),s=a(16829),o=l(a(69890));t.default=function(){const{values:{[s.FieldId.CloudProvider]:e,[s.FieldId.MultiAz]:t,[s.FieldId.InstallToVpc]:a,[s.FieldId.CidrDefaultValuesToggle]:l},values:u}=(0,i.useFormState)(),c=!0===t;return n.default.createElement(r.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(r.Grid,{hasGutter:!0},n.default.createElement(r.GridItem,null,n.default.createElement(r.Title,{headingLevel:"h3"},"CIDR ranges")),n.default.createElement(o.default,{cloudProviderID:e,isMultiAz:c,installToVpcSelected:a,isDefaultValuesChecked:l,formValues:u})))}},18:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=_(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=a(88139),s=a(13818),o=a(93413),u=l(a(65702)),c=a(84037),d=a(67548),m=a(49484),p=a(69122),f=a(82693),E=a(16829),g=l(a(8888)),v=l(a(75885)),h=l(a(38871));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_=function(e){return e?a:t})(e)}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(){const{setFieldTouched:e,setFieldValue:t,getFieldProps:a,getFieldMeta:l,values:{[E.FieldId.HttpProxyUrl]:n,[E.FieldId.HttpsProxyUrl]:_,[E.FieldId.AdditionalTrustBundle]:S}}=(0,f.useFormState)(),[C,y]=r.default.useState(!1),{goToStepByName:I}=(0,s.useWizardContext)(),A=!n&&!_,R=()=>{C||y(!0)},T=()=>{if(!n&&!_&&!S)return"Configure at least one of the cluster-wide proxy fields."},O=r.default.createElement(s.Alert,{isInline:!0,variant:"warning",title:r.default.createElement("span",null,"Complete at least 1 of the fields above. If you don't want to set a cluster-wide proxy, disable this option in the ",r.default.createElement("strong",{style:{fontSize:"var(--pf-v5-global--FontSize--md)"}},"Networking > Configuration")," step."),actionLinks:r.default.createElement(s.AlertActionLink,{onClick:()=>I("Configuration")},"Back to the networking configuration")});(0,r.useEffect)((()=>{A&&t(E.FieldId.NoProxyDomains,"")}),[A]);const P=a(E.FieldId.HttpProxyUrl),D=a(E.FieldId.HttpsProxyUrl),L=a(E.FieldId.AdditionalTrustBundle);return r.default.createElement(s.Form,{onSubmit:e=>(e.preventDefault(),!1)},r.default.createElement(s.Grid,{hasGutter:!0},r.default.createElement(s.GridItem,null,r.default.createElement(s.Title,{headingLevel:"h3"},"Cluster-wide proxy")),r.default.createElement(s.GridItem,null,r.default.createElement(s.Text,null,m.constants.clusterProxyHint),r.default.createElement(s.Text,{className:"pf-v5-u-mt-sm"},r.default.createElement(g.default,{href:u.default.ROSA_CLUSTER_WIDE_PROXY},"Learn more about configuring a cluster-wide proxy"))),r.default.createElement(s.GridItem,null,r.default.createElement(s.Alert,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),r.default.createElement(s.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(i.Field,{component:h.default,name:E.FieldId.HttpProxyUrl,label:"HTTP proxy URL",placeholder:p.HTTP_PROXY_PLACEHOLDER,type:"text",validate:(0,c.composeValidators)((e=>(0,c.validateUrl)(e,"http")),T),helpText:"Specify a proxy URL to use for HTTP connections outside the cluster.",showHelpTextOnError:!1,input:b(b({},P),{},{onChange:(a,l)=>{t(E.FieldId.HttpProxyUrl,l),setTimeout((()=>e(E.FieldId.HttpProxyUrl)),1)},onBlur:e=>{const{onBlur:t}=P;R(),t(e)}}),meta:l(E.FieldId.HttpProxyUrl)})),r.default.createElement(s.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(s.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(i.Field,{component:h.default,name:E.FieldId.HttpsProxyUrl,label:"HTTPS proxy URL",placeholder:p.HTTPS_PROXY_PLACEHOLDER,type:"text",validate:(0,c.composeValidators)((e=>(0,c.validateUrl)(e,["http","https"])),T),helpText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",showHelpTextOnError:!1,input:b(b({},D),{},{onChange:(a,l)=>{t(E.FieldId.HttpsProxyUrl,l),setTimeout((()=>e(E.FieldId.HttpsProxyUrl)),1)},onBlur:e=>{const{onBlur:t}=D;R(),t(e)}}),meta:l(E.FieldId.HttpsProxyUrl)})),r.default.createElement(s.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(s.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(i.Field,{component:h.default,name:E.FieldId.NoProxyDomains,label:"No Proxy domains",placeholder:A?p.DISABLED_NO_PROXY_PLACEHOLDER:p.NO_PROXY_PLACEHOLDER,type:"text",validate:c.checkNoProxyDomains,helpText:p.NO_PROXY_HELPER_TEXT,showHelpTextOnError:!1,isDisabled:A,input:b(b({},a(E.FieldId.NoProxyDomains)),{},{onChange:(a,l)=>{t(E.FieldId.NoProxyDomains,(0,o.stringToArray)(l)),setTimeout((()=>e(E.FieldId.NoProxyDomains)),1)}}),meta:l(E.FieldId.NoProxyDomains)})),r.default.createElement(s.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(s.GridItem,{sm:12,md:10,xl2:8},r.default.createElement(i.Field,{component:v.default,name:E.FieldId.AdditionalTrustBundle,label:"Additional trust bundle",placeholder:p.TRUST_BUNDLE_PLACEHOLDER,extendedHelpTitle:"Additional trust bundle",extendedHelpText:p.TRUST_BUNDLE_HELPER_TEXT,validate:(0,c.composeValidators)(c.validateCA,T),dropzoneProps:{accept:d.ACCEPT,maxSize:d.MAX_FILE_SIZE,onDropRejected:()=>{t(E.FieldId.AdditionalTrustBundle,"Invalid file")}},helpText:"Upload or paste a PEM encoded X.509 certificate.",input:b(b({},L),{},{onChange:a=>{t(E.FieldId.AdditionalTrustBundle,a),setTimeout((()=>e(E.FieldId.AdditionalTrustBundle)),1)},onBlur:e=>{const{onBlur:t}=L;R(),t(e)}}),meta:l(E.FieldId.AdditionalTrustBundle)})),r.default.createElement(s.GridItem,{sm:0,md:2,xl2:4}),r.default.createElement(s.GridItem,null,C&&A&&!S&&O)))}C.propTypes={},t.default=C},31299:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=a(88139),s=a(13818),o=a(67080),u=a(9296),c=a(82693),d=a(72115),m=a(16829),p=l(a(94538)),f=a(11243),E=a(41730),g=a(976),v=l(a(65702)),h=a(84037),_=l(a(55816)),S=l(a(8888)),b=l(a(10046)),C=l(a(55213)),y=l(a(33076)),I=a(21674),A=l(a(24407)),R=l(a(75115));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const D="manual",L="auto";t.default=()=>{const{setFieldValue:e,getFieldProps:t,getFieldMeta:a,validateForm:l,values:{[m.FieldId.ClusterName]:n,[m.FieldId.Hypershift]:T,[m.FieldId.AssociatedAwsId]:O,[m.FieldId.RosaRolesProviderCreationMode]:N,[m.FieldId.CustomOperatorRolesPrefix]:w,[m.FieldId.ByoOidcConfigId]:k,[m.FieldId.InstallerRoleArn]:F,[m.FieldId.RegionalInstance]:M}}=(0,c.useFormState)(),x="true"===T,G=(0,f.useFeatureGate)(g.MULTIREGION_PREVIEW_ENABLED)&&x,[U,H]=(0,r.useState)(!1),[V,B]=(0,r.useState)(!(!x&&!k)),[q,j]=(0,r.useState)(null),z=(0,p.default)(),W=null==M?void 0:M.id,{data:$,error:K,isPending:Y,isSuccess:Q,status:Z}=(0,E.useFetchGetOCMRole)(O),X=t=>()=>{t?e(m.FieldId.RosaRolesProviderCreationMode,U?L:D):(e(m.FieldId.ByoOidcConfigId,""),e(m.FieldId.ByoOidcConfigIdManaged,"")),B(t)};var J;(0,r.useEffect)((()=>{w||e(m.FieldId.CustomOperatorRolesPrefix,(0,d.createOperatorRolesPrefix)(n))}),[w,n]),(0,r.useEffect)((()=>{(0,E.refetchGetOCMRole)()}),[]),!N&&Q&&e(m.FieldId.RosaRolesProviderCreationMode,null!==(J=$.data)&&void 0!==J&&J.isAdmin?L:D),(0,r.useEffect)((()=>{if(Y)j(null);else if(Q){var t,a,l;m.FieldId.RosaCreatorArn!==(null===(t=$.data)||void 0===t?void 0:t.arn)&&e(m.FieldId.RosaCreatorArn,null===(l=$.data)||void 0===l?void 0:l.arn);const n=null===(a=$.data)||void 0===a?void 0:a.isAdmin;H(n),j(null)}else K?j(r.default.createElement(_.default,{message:"ocm-role is no longer linked to your Red Hat organization",response:null==K?void 0:K.errorMessage,isExpandable:!0},r.default.createElement(I.BackToAssociateAwsAccountLink,null))):(0,E.refetchGetOCMRole)()}),[Z]);const ee=r.default.createElement(s.Alert,{className:"pf-v5-u-ml-lg",variant:"info",isInline:!0,isExpandable:!0,title:"If you would like to enable auto mode, expand the alert and follow the steps below."},r.default.createElement(s.TextContent,{className:"pf-v5-u-font-size-sm"},r.default.createElement(s.Text,{component:s.TextVariants.p,className:"pf-v5-u-mb-sm"},"Create the Admin OCM role using the following command in the ROSA CLI. Only one OCM role can be linked per Red Hat org."," ",r.default.createElement(C.default,{title:"If an OCM role with basic privileges exists in your account, you might need to delete or unlink the role before creating an OCM role with administrative privileges."})),r.default.createElement(b.default,{textAriaLabel:"Copyable ROSA create ocm-role command",trackEvent:u.trackEvents.CopyOCMRoleCreateAdmin},"rosa create ocm-role --admin"),r.default.createElement(s.Text,{component:s.TextVariants.p,className:"pf-v5-u-mb-sm"},"If not yet linked, run the following command to associate the OCM role with your AWS"," ","account."),r.default.createElement(b.default,{textAriaLabel:"Copyable ROSA link ocm-role command",trackEvent:u.trackEvents.CopyOCMRoleLink},"rosa link ocm-role <arn>"),r.default.createElement(s.Text,{component:s.TextVariants.p,className:"pf-v5-u-mb-sm"},"After running the command, you may need to refresh using the button below to enable auto mode."),r.default.createElement(s.Button,{onClick:()=>{(0,E.refetchGetOCMRole)(),e(m.FieldId.RosaRolesProviderCreationMode,void 0),z(u.trackEvents.OCMRoleRefreshed)},variant:"secondary"},"Refresh to enable auto mode"))),te=[{value:D,label:"Manual",description:r.default.createElement(r.default.Fragment,null,"You can choose from two options to manually generate the necessary roles and policies for your cluster operators and the OIDC provider: ROSA CLI commands, or AWS CLI commands."," ",r.default.createElement("strong",null,"You must complete one of those options after cluster review for your cluster to complete installation."))},{disabled:!U,value:L,label:"Auto",description:"Immediately create the necessary cluster operator roles and OIDC provider. This mode requires an admin privileged OCM role.",extraField:Q&&!U&&ee}],ae=(0,d.getOperatorRolesCommand)({isHypershift:x,byoOidcConfigID:k,customOperatorRolesPrefix:w,installerRoleArn:F});return r.default.createElement(s.Form,{onSubmit:()=>!1},r.default.createElement(s.Grid,{hasGutter:!0},r.default.createElement(s.GridItem,null,r.default.createElement(s.Title,{headingLevel:"h3"},"Cluster roles and policies")),x?r.default.createElement(s.Alert,{isInline:!0,id:"rosa-require-byo-oidc",variant:"info",title:"Hosted control plane clusters require a specified OIDC provider."}):r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,null,r.default.createElement(s.Text,{component:s.TextVariants.p},"Set whether you'd like to create the OIDC now or wait to create the OIDC until after installation.")),r.default.createElement(s.GridItem,null,r.default.createElement(s.ToggleGroup,null,r.default.createElement(s.ToggleGroupItem,{text:"Create OIDC Later",buttonId:"managed-oidc-configuration",isSelected:!V,onChange:X(!1)}),r.default.createElement(s.ToggleGroupItem,{text:"Create OIDC Now",buttonId:"customer-oidc-configuration",isSelected:V,onChange:X(!0)})))),q&&r.default.createElement(s.GridItem,null,q),Y&&r.default.createElement(s.GridItem,null,r.default.createElement("div",{className:"spinner-fit-container"},r.default.createElement(o.Spinner,null)),r.default.createElement("div",{className:"spinner-loading-text pf-v5-u-ml-xl"},"Checking for admin OCM role...")),Q&&!V&&r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,null,r.default.createElement(s.Text,{component:s.TextVariants.p},"Choose the preferred mode for creating the operator roles and OIDC provider."," ",r.default.createElement(S.default,{href:v.default.ROSA_AWS_IAM_ROLES},"Learn more about ROSA roles"))),r.default.createElement(s.GridItem,{span:10},r.default.createElement(s.FormGroup,{isRequired:!0,fieldId:"role_mode"},r.default.createElement(i.Field,{component:y.default,name:m.FieldId.RosaRolesProviderCreationMode,className:"radio-button",disabled:Y,options:te,disableDefaultValueHandling:!0,input:P(P({},t(m.FieldId.RosaRolesProviderCreationMode)),{},{onChange:t=>{t&&(e(m.FieldId.RosaRolesProviderCreationMode,t),z(u.trackEvents.RosaCreationMode,{customProperties:{value:t}}))}}),meta:a(m.FieldId.RosaRolesProviderCreationMode)})))),V?r.default.createElement(i.Field,{component:A.default,name:m.FieldId.ByoOidcConfigId,label:"Config ID",awsAccountID:O,byoOidcConfigID:k,operatorRolesCliCommand:ae,regionSearch:W,isMultiRegionEnabled:G,validate:h.required,input:P(P({},t(m.FieldId.ByoOidcConfigId)),{},{onChange:t=>{const a=[e(m.FieldId.ByoOidcConfigId,t?t.id:"",!1),e(m.FieldId.ByoOidcConfigIdManaged,!t||t.managed?"true":"false",!1)];Promise.all(a).then((()=>{setTimeout(l)}))}}),meta:a(m.FieldId.ByoOidcConfigId)}):r.default.createElement(R.default,null)))}},75115:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(88139),i=a(13818),s=a(82693),o=a(16829),u=l(a(65702)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(84037)),d=l(a(8888)),m=l(a(38871));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}t.default=function(){const{getFieldProps:e,getFieldMeta:t}=(0,s.useFormState)();return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{headingLevel:"h3"},"Name operator roles")),n.default.createElement(i.GridItem,{span:10},n.default.createElement(i.Text,{component:i.TextVariants.p},"To easily identify the Operator IAM roles for a cluster in your AWS account, the Operator role names are prefixed with your cluster name and a random 4-digit hash. You can optionally replace this prefix.")),n.default.createElement(i.GridItem,{span:6},n.default.createElement(r.Field,{component:m.default,name:o.FieldId.CustomOperatorRolesPrefix,label:"Custom operator roles prefix",type:"text",validate:c.default.checkCustomOperatorRolesPrefix,helpText:`Maximum ${c.MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH} characters.  Changing the cluster name will regenerate this value.`,extendedHelpText:n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:i.TextVariants.p},"You can specify a custom prefix for the cluster-specific Operator IAM roles to use."," ",n.default.createElement("br",null),"See examples in"," ",n.default.createElement(d.default,{href:u.default.ROSA_AWS_OPERATOR_ROLE_PREFIX},"Defining a custom Operator IAM role prefix"))),input:e(o.FieldId.CustomOperatorRolesPrefix),meta:t(o.FieldId.CustomOperatorRolesPrefix),showHelpTextOnError:!1})))}},24407:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=b(a(93345)),r=a(88139),i=l(a(5556)),s=a(13818),o=a(82693),u=a(16829),c=l(a(8888)),d=a(38715),m=a(57983),p=l(a(11777)),f=l(a(94974)),E=l(a(55213)),g=a(84526),v=l(a(65702)),h=b(a(84037)),_=l(a(38871));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}function C(e){let{isMultiRegionEnabled:t,regionLoginCommand:a}=e;return n.default.createElement(s.Popover,{"aria-label":"oidc-creation-instructions",position:"top",maxWidth:"25rem",style:{"--pf-v5-c-popover--c-button--sibling--PaddingRight":"2rem"},bodyContent:n.default.createElement(s.TextContent,null,n.default.createElement("p",null,"Create a new OIDC config ID by running the following command",t?"s":""," in your CLI. Then, refresh and select the new config ID from the dropdown."),t?n.default.createElement(s.ClipboardCopy,{className:"pf-v5-u-pb-md",variant:s.ClipboardCopyVariant.expansion,isReadOnly:!0},a):null,n.default.createElement(s.ClipboardCopy,{isReadOnly:!0},"rosa create oidc-config"))},n.default.createElement(s.Button,{variant:"link",isInline:!0},"create a new OIDC config id"))}function y(e){let{awsAccountID:t,byoOidcConfigID:a,operatorRolesCliCommand:l,regionSearch:i,isMultiRegionEnabled:S,input:{onChange:b},meta:{error:y,touched:I}}=e;const{getFieldProps:A,getFieldMeta:R,values:{[u.FieldId.RegionalInstance]:T}}=(0,o.useFormState)(),[O,P]=(0,n.useState)(!1),[D,L]=(0,n.useState)(!1),[N,w]=(0,n.useState)([]),{data:k,isSuccess:F,isFetching:M}=(0,g.useFetchGetUserOidcConfigurations)(t,i,S);(0,n.useEffect)((()=>{if(k&&F){var e;const t=(null==k||null===(e=k.data)||void 0===e?void 0:e.items)||[];w(t)}}),[k,F]),(0,n.useEffect)((()=>{const e=null==N?void 0:N.some((e=>(null==e?void 0:e.id)===a));N.length>0&&a&&!e&&b(null)}),[a,N,b]);const x=(0,n.useMemo)((()=>N.map((e=>({entryId:e.id,label:e.id,description:e.issuer_url?`Issuer URL: ${e.issuer_url}`:void 0})))),[N]),G=`rosa login --url ${null==T?void 0:T.url}`;return n.default.createElement(f.default,{wide:!0},n.default.createElement(p.default,{simple:!0},n.default.createElement(s.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement("div",null,"Select your existing OIDC config id or"," ",n.default.createElement(C,{isMultiRegionEnabled:S,regionLoginCommand:G}),".")),n.default.createElement(s.FormGroup,{label:"Config ID",labelIcon:n.default.createElement(E.default,{hint:n.default.createElement("span",null,"The OIDC configuration ID created by running the command"," ",n.default.createElement("pre",null,"rosa create oidc-config"))}),isRequired:!0},n.default.createElement(s.Flex,null,n.default.createElement(s.FlexItem,{grow:{default:"grow"}},n.default.createElement(m.FuzzySelect,{className:"oidc-config-select","aria-label":"Config ID",isOpen:O,onOpenChange:e=>P(e),onSelect:(e,t)=>{const a=N.find((e=>e.id===t));P(!1),b(a)},selectedEntryId:a,selectionData:x,isDisabled:0===N.length||M||D,placeholderText:N.length>0?"Select a config id":"No OIDC configurations found",inlineFilterPlaceholderText:"Filter by config ID",isScrollable:!0,popperProps:{maxWidth:"trigger"}})),n.default.createElement(s.FlexItem,null,n.default.createElement(s.Button,{variant:"secondary",className:"pf-v5-u-mt-md",onClick:()=>{if(L(!0),(0,g.refetchGetUserOidcConfigurations)(),F&&!M){var e;const t=(null==k||null===(e=k.data)||void 0===e?void 0:e.items)||[];w(t),a&&void 0===t.find((e=>e.id===a))&&b(null)}setTimeout((()=>{L(!1)}),500)},isLoading:M||D,isDisabled:M||D},"Refresh"))),n.default.createElement(d.FormGroupHelperText,{touched:I,error:y}))),n.default.createElement(p.default,{simple:!0},n.default.createElement(s.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(s.Text,{component:s.TextVariants.p},"Enter an Operator role prefix.")),n.default.createElement(r.Field,{component:_.default,name:u.FieldId.CustomOperatorRolesPrefix,label:"Operator roles prefix",type:"text",isRequired:!0,validate:h.default.checkCustomOperatorRolesPrefix,helpText:`Maximum ${h.MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH} characters.  Changing the cluster name will regenerate this value.`,extendedHelpText:n.default.createElement(s.TextContent,null,n.default.createElement(s.Text,{component:s.TextVariants.p},"You can specify a custom prefix for the cluster-specific Operator IAM roles to use."," ",n.default.createElement("br",null),"See examples in"," ",n.default.createElement(c.default,{href:v.default.ROSA_AWS_OPERATOR_ROLE_PREFIX},"Defining a custom Operator IAM role prefix"))),showHelpTextOnError:!1,disabled:!a,input:A(u.FieldId.CustomOperatorRolesPrefix),meta:R(u.FieldId.CustomOperatorRolesPrefix)})),n.default.createElement(p.default,{simple:!0},n.default.createElement(s.TextContent,{className:"pf-v5-u-pb-md"},n.default.createElement(s.Text,{component:s.TextVariants.p},S?"Run the commands in order to create new Operator Roles.":"Run the command to create new Operator Roles.")),l?n.default.createElement(n.default.Fragment,null,S&&n.default.createElement(s.ClipboardCopy,{className:"pf-v5-u-pb-md",textAriaLabel:"Copyable ROSA region login",isReadOnly:!0},G),n.default.createElement(s.ClipboardCopy,{textAriaLabel:"Copyable ROSA create operator-roles",isReadOnly:!0},l),n.default.createElement("div",{className:"pf-v5-c-clipboard-copy"},n.default.createElement("div",{className:"pf-v5-c-clipboard-copy__expandable-content"},l))):n.default.createElement(s.Skeleton,{fontSize:"md"})))}a(41760),C.propTypes={isMultiRegionEnabled:i.default.bool.isRequired,regionLoginCommand:i.default.string.isRequired},y.propTypes={awsAccountID:i.default.string,byoOidcConfigID:i.default.string,operatorRolesCliCommand:i.default.string,regionSearch:i.default.string,isMultiRegionEnabled:i.default.bool,input:i.default.object.isRequired,meta:i.default.object.isRequired},t.default=y},87580:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(43693)),i=l(a(93345)),s=a(88139),o=l(a(5556)),u=a(13818),c=a(71389),d=a(9296),m=a(93413),p=a(69304),f=a(83689),E=a(98515),g=a(82693),v=a(72147),h=a(4391),_=l(a(7028)),S=l(a(58787)),b=l(a(94538)),C=a(11243),y=l(a(74585)),I=a(976),A=a(62384),R=l(a(59759)),T=l(a(7691)),O=l(a(65824)),P=l(a(71299)),D=l(a(81105)),L=l(a(31299)),N=l(a(14466)),w=l(a(48483)),k=l(a(96555)),F=l(a(17903)),M=l(a(36368)),x=l(a(18)),G=a(16829),U=l(a(81257)),H=l(a(48861)),V=l(a(81673)),B=l(a(72738)),q=l(a(38599)),j=a(89738);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(58130);const $=i.default.createElement(O.default,{title:"Create a ROSA Cluster",breadcrumbs:i.default.createElement(T.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Set up ROSA",path:"/create/rosa/getstarted"},{label:"Create a ROSA Cluster"}]})}),K=e=>{var t;let{isHypershiftEnabled:a,isHypershiftSelected:l,getOrganizationAndQuota:n,organization:r,machineTypes:s,cloudProviders:o,getMachineTypes:f,getCloudProviders:E,getInstallableVersionsResponse:v,clearInstallableVersions:S,getUserRoleResponse:C,createClusterResponse:y,getUserRole:I,privateLinkSelected:A,installToVPCSelected:T,configureProxySelected:O,resetResponse:G,closeDrawer:z,hasProductQuota:K,isErrorModalOpen:Y,openModal:Q,selectedAWSAccountID:Z,createCluster:X}=e;const J=(0,p.useNavigate)(),ee=(0,b.default)(),{resetForm:te,values:ae}=(0,g.useFormState)(),le=(0,h.getAccountAndRolesStepId)(a),ne=a?h.stepId.CONTROL_PLANE:le,[re,ie]=i.default.useState(ne),[se,oe]=i.default.useState(),ue=i.default.useRef();if(i.default.useEffect((()=>{var e,t;if(!se)return;const a=null===(e=ue.current)||void 0===e?void 0:e.steps,l=null===(t=ue.current)||void 0===t?void 0:t.setStep;for(let e=se.index;e<a.length;e++){const t=a[e];if(void 0===t.subStepIds&&!t.isHidden){if(!t.isVisited)break;const e=t.id>le&&!Z,a=t.id>re;l(W(W({},t),{},{isVisited:!a&&!e}))}}}),[ae]),i.default.useEffect((()=>((0,m.shouldRefetchQuota)(r,!1)&&n(),o.fulfilled||o.pending||E(),s.fulfilled||s.pending||f(),v.fulfilled&&S(),()=>{G(),te()})),[]),i.default.useEffect((()=>{y.error&&!Y&&Q("osd-create-error")}),[y,Y,Q]),!r.pending&&r.fulfilled&&!K)return i.default.createElement(p.Navigate,{replace:!0,to:"/create"});const ce=[{data:s,name:"Machine types"},{data:r,name:"Organization & Quota"}];return ce.some((e=>e.data.pending))||!r.fulfilled&&!r.error?i.default.createElement(i.default.Fragment,null,$,i.default.createElement(u.PageSection,null,i.default.createElement(c.Spinner,{centered:!0}))):ce.some((e=>e.data.error))?i.default.createElement(u.PageSection,null,i.default.createElement(P.default,{errors:ce.filter((e=>e.data.error)).map((e=>({key:e.name,message:`Error while loading required form data (${e.name})`,response:e.data})))})):y.fulfilled?i.default.createElement(p.Navigate,{replace:!0,to:`/details/s/${null===(de=y.cluster.subscription)||void 0===de?void 0:de.id}`}):i.default.createElement(i.default.Fragment,null,$,i.default.createElement(u.PageSection,null,_.default.fakeOSD&&i.default.createElement(u.Banner,{variant:"gold"},"On submit, a fake ROSA cluster will be created."),i.default.createElement("div",{className:"ocm-page pf-v5-u-display-flex"},i.default.createElement(u.Wizard,{id:"rosa-wizard",className:"rosa-wizard pf-v5-u-flex-1",onClose:()=>J("/create/cloud"),onStepChange:(e,t,a,l)=>{let n;switch(oe(t),ie(t.id),l){case u.WizardStepChangeScope.Next:n=d.trackEvents.WizardNext;break;case u.WizardStepChangeScope.Back:n=d.trackEvents.WizardBack;break;default:n=d.trackEvents.WizardLinkNav}!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";ee(e,{resourceType:d.ocmResourceType.MOA,customProperties:{step_name:h.stepNameById[t]}})}(n,t.id),z({skipOnClose:!0})},footer:i.default.createElement(i.default.Fragment,null,Y&&i.default.createElement(H.default,null),i.default.createElement(V.default,{isHypershiftSelected:l,currentStepId:re,accountAndRolesStepId:le,getUserRoleResponse:C,getUserRoleInfo:()=>I(),isSubmitting:y.pending,onWizardContextChange:e=>{let{steps:t,setStep:a,goToStepById:l}=e;ue.current={steps:t,setStep:a,goToStepById:l}}})),nav:{"aria-label":"Create ROSA cluster wizard steps"},isVisitRequired:!0},a?i.default.createElement(u.WizardStep,{id:h.stepId.CONTROL_PLANE,name:h.stepNameById[h.stepId.CONTROL_PLANE]},i.default.createElement(R.default,null,i.default.createElement(U.default,null))):null,i.default.createElement(u.WizardStep,{id:le,name:h.stepNameById[le]},i.default.createElement(R.default,null,i.default.createElement(M.default,{organizationID:null==r||null===(t=r.details)||void 0===t?void 0:t.id,isHypershiftEnabled:a,isHypershiftSelected:l}))),i.default.createElement(u.WizardStep,{id:h.stepId.CLUSTER_SETTINGS,name:h.stepNameById[h.stepId.CLUSTER_SETTINGS],isExpandable:!0,steps:[i.default.createElement(u.WizardStep,{id:h.stepId.CLUSTER_SETTINGS__DETAILS,name:h.stepNameById[h.stepId.CLUSTER_SETTINGS__DETAILS]},i.default.createElement(R.default,null,i.default.createElement(N.default,null))),i.default.createElement(u.WizardStep,{id:h.stepId.CLUSTER_SETTINGS__MACHINE_POOL,name:h.stepNameById[h.stepId.CLUSTER_SETTINGS__MACHINE_POOL]},i.default.createElement(R.default,null,i.default.createElement(B.default,null)))]}),i.default.createElement(u.WizardStep,{id:h.stepId.NETWORKING,name:h.stepNameById[h.stepId.NETWORKING],isExpandable:!0,steps:[i.default.createElement(u.WizardStep,{id:h.stepId.NETWORKING__CONFIGURATION,name:h.stepNameById[h.stepId.NETWORKING__CONFIGURATION]},i.default.createElement(R.default,null,i.default.createElement(w.default,{showClusterPrivacy:!0,showVPCCheckbox:!0,showClusterWideProxyCheckbox:!0,privateLinkSelected:A,forcePrivateLink:!0}))),i.default.createElement(u.WizardStep,{id:h.stepId.NETWORKING__VPC_SETTINGS,name:h.stepNameById[h.stepId.NETWORKING__VPC_SETTINGS],isHidden:!T||l},i.default.createElement(R.default,null,i.default.createElement(F.default,{privateLinkSelected:A}))),i.default.createElement(u.WizardStep,{id:h.stepId.NETWORKING__CLUSTER_WIDE_PROXY,name:h.stepNameById[h.stepId.NETWORKING__CLUSTER_WIDE_PROXY],isHidden:!O},i.default.createElement(R.default,null,i.default.createElement(x.default,null))),i.default.createElement(u.WizardStep,{id:h.stepId.NETWORKING__CIDR_RANGES,name:h.stepNameById[h.stepId.NETWORKING__CIDR_RANGES]},i.default.createElement(R.default,null,i.default.createElement(D.default,null)))]}),i.default.createElement(u.WizardStep,{id:h.stepId.CLUSTER_ROLES_AND_POLICIES,name:h.stepNameById[h.stepId.CLUSTER_ROLES_AND_POLICIES]},i.default.createElement(R.default,null,i.default.createElement(L.default,null))),i.default.createElement(u.WizardStep,{id:h.stepId.CLUSTER_UPDATES,name:h.stepNameById[h.stepId.CLUSTER_UPDATES]},i.default.createElement(R.default,null,i.default.createElement(k.default,null))),i.default.createElement(u.WizardStep,{id:h.stepId.REVIEW_AND_CREATE,name:h.stepNameById[h.stepId.REVIEW_AND_CREATE]},i.default.createElement(q.default,{createCluster:X,isSubmitPending:null==y?void 0:y.pending}))),_.default.fakeOSD&&i.default.createElement(j.ValuesPanel,null))));var de};function Y(e){(0,y.default)();const{values:{[G.FieldId.InstallToVpc]:t,[G.FieldId.UsePrivateLink]:a,[G.FieldId.ConfigureProxy]:l,[G.FieldId.AssociatedAwsId]:r,[G.FieldId.Hypershift]:s},values:o,isValidating:u,isValid:c,resetForm:d}=(0,g.useFormState)(),m="true"===s,p=W(W({},e),{},{installToVPCSelected:t,privateLinkSelected:a,configureProxySelected:l,selectedAWSAccountID:r,isHypershiftSelected:m}),v=(0,C.useFeatureGate)(I.HYPERSHIFT_WIZARD_FEATURE)&&!(0,A.isRestrictedEnv)();return i.default.createElement(E.AppPage,{title:"Create OpenShift ROSA Cluster"},i.default.createElement(f.AppDrawerContext.Consumer,null,(e=>{let{closeDrawer:t}=e;return i.default.createElement(K,(0,n.default)({},p,{closeDrawer:t,isHypershiftEnabled:v,formValues:o,isValidating:u,isValid:c,resetForm:d}))})))}const Q=o.default.shape({fulfilled:o.default.bool,error:o.default.bool,pending:o.default.bool});K.propTypes={installToVPCSelected:o.default.bool,privateLinkSelected:o.default.bool,configureProxySelected:o.default.bool,isErrorModalOpen:o.default.bool,createClusterResponse:o.default.shape({fulfilled:o.default.bool,error:o.default.bool,pending:o.default.bool,cluster:o.default.shape({subscription:o.default.shape({id:o.default.string})})}),machineTypes:Q,organization:o.default.shape({fulfilled:o.default.bool,error:o.default.bool,pending:o.default.bool,details:{id:o.default.string}}),cloudProviders:Q,getMachineTypes:o.default.func,getOrganizationAndQuota:o.default.func,createCluster:o.default.func,getUserRole:o.default.func,getCloudProviders:o.default.func,resetResponse:o.default.func,openModal:o.default.func,getUserRoleResponse:o.default.object,hasProductQuota:o.default.bool,history:o.default.shape({push:o.default.func.isRequired,block:o.default.func}).isRequired,closeDrawer:o.default.func};const Z=e=>{const{onSubmit:t,track:a}=e;return i.default.createElement(s.Formik,{initialValues:(0,A.isRestrictedEnv)()?G.initialValuesRestrictedEnv:(0,G.initialValues)(),initialTouched:G.initialTouched,validate:v.rosaWizardFormValidator,validateOnChange:!0,onSubmit:e=>{!function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e(t,{resourceType:d.ocmResourceType.MOA,customProperties:{step_name:h.stepNameById[a]}})}(a,d.trackEvents.WizardSubmit),t(e)}},i.default.createElement(Y,e))};Z.propTypes=W({},K.propTypes),t.default=(0,S.default)(Z)},81673:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),r=a(88139),i=l(a(5556)),s=a(73729),o=a(13818),u=a(93413),c=a(12024),d=a(82693),m=a(34876),p=a(16829),f=a(4391);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}const g=e=>{let{isHypershiftSelected:t,currentStepId:a,accountAndRolesStepId:l,getUserRoleResponse:i,getUserRoleInfo:E,isSubmitting:g=!1,onWizardContextChange:v}=e;const{goToNextStep:h,goToPrevStep:_,close:S,activeStep:b,steps:C,setStep:y,goToStepById:I}=(0,o.useWizardContext)(),{values:A,validateForm:R,setTouched:T,isValidating:O,submitForm:P}=(0,d.useFormState)(),[D,L]=(0,n.useState)(!1);(0,n.useEffect)((()=>{v({steps:C,setStep:y,goToStepById:I})}),[C,y]);const N=(0,s.useSelector)((e=>({accountIDsLoading:e.rosaReducer.getAWSAccountIDsResponse.pending||!1,accountARNsLoading:e.rosaReducer.getAWSAccountRolesARNsResponse.pending||!1,userRoleLoading:e.rosaReducer.getUserRoleResponse.pending||!1,oCMRoleLoading:e.rosaReducer.getOCMRoleResponse.pending||!1,vpcsLoading:e.ccsInquiries.vpcs.pending||!1}))),w=N.vpcsLoading&&a===(e=>e?f.stepId.CLUSTER_SETTINGS__MACHINE_POOL:f.stepId.NETWORKING__VPC_SETTINGS)(t),k=N.accountIDsLoading||N.accountARNsLoading||N.userRoleLoading||N.oCMRoleLoading||w,F=O||k,M=D||k,x=async()=>{if(O)return void(D||L(!0));const e=await R(A);if(Object.keys(e||{}).length>0)return T((0,r.setNestedObjectValues)(e,!0)),void(0,u.scrollToFirstField)((0,c.getScrollErrorIds)(e,!0));if(a===l&&(null==i||!i.fulfilled)){const e=await E();if(!(0,m.isUserRoleForSelectedAWSAccount)(e.value,A[p.FieldId.AssociatedAwsId]))return}h()};return(0,n.useEffect)((()=>{D&&!1===O&&(L(!1),x())}),[O,D]),g?null:n.default.createElement(o.WizardFooterWrapper,null,n.default.createElement(n.default.Fragment,null,b.id===f.stepId.REVIEW_AND_CREATE?n.default.createElement(o.Button,{variant:"primary","data-testid":"create-cluster-button",onClick:()=>P()},"Create cluster"):n.default.createElement(o.Button,{variant:"primary","data-testid":"wizard-next-button",onClick:x,isLoading:(0,f.hasLoadingState)(b.id)&&F,isDisabled:(0,f.hasLoadingState)(b.id)&&M},"Next"),n.default.createElement(o.Button,{variant:"secondary","data-testid":"wizard-back-button",onClick:_,isDisabled:0===C.indexOf(b)},"Back"),n.default.createElement(o.Button,{variant:"link","data-testid":"wizard-cancel-button",onClick:S},"Cancel")))};g.propTypes={isHypershiftSelected:i.default.bool,currentStepId:i.default.string,accountAndRolesStepId:i.default.string.isRequired,getUserRoleResponse:i.default.object.isRequired,getUserRoleInfo:i.default.func.isRequired,isSubmitting:i.default.bool,onWizardContextChange:i.default.func.isRequired},t.default=g},85186:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(43693)),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=T(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}(a(93345)),i=a(88139),s=a(13818),o=l(a(65702)),u=a(84037),c=a(57109),d=a(31261),m=l(a(60979)),p=a(73553),f=l(a(63201)),E=a(5537),g=a(14115),v=a(82693),h=a(16829),_=l(a(8888)),S=l(a(7685)),b=l(a(55909)),C=a(11243),y=a(976),I=a(13642),A=l(a(2906)),R=l(a(12569));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(T=function(e){return e?a:t})(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.A=function(){var e,t,a;const{values:{[h.FieldId.Hypershift]:l,[h.FieldId.MultiAz]:n,[h.FieldId.MachineType]:T,[h.FieldId.CloudProviderId]:O,[h.FieldId.Product]:D,[h.FieldId.AutoscalingEnabled]:L,[h.FieldId.NodeLabels]:N,[h.FieldId.ClusterVersion]:w,[h.FieldId.MachinePoolsSubnets]:k,[h.FieldId.BillingModel]:F,[h.FieldId.IMDS]:M},setFieldValue:x,setFieldTouched:G,getFieldProps:U,getFieldMeta:H}=(0,v.useFormState)(),V=!0,B=null==k?void 0:k.length,q="true"===n,j="true"===l,z=!!L,W=null!==(e=null==N||null===(t=N[0])||void 0===t?void 0:t.key)&&void 0!==e&&e,[$,K]=(0,r.useState)(!!W),Y=null!==(a=(0,b.default)(D,F))&&void 0!==a&&a,Q=(0,C.useFeatureGate)(y.MAX_COMPUTE_NODES_500),Z=null==w?void 0:w.raw_id,X=(0,r.useMemo)((()=>(0,c.getMinNodesRequired)(j,{numMachinePools:B},{isDefaultMachinePool:!0,isByoc:V,isMultiAz:q})),[B,j,V,q]),{minWorkerVolumeSizeGiB:J,maxWorkerVolumeSizeGiB:ee}=(0,r.useMemo)((()=>({minWorkerVolumeSizeGiB:(0,d.getWorkerNodeVolumeSizeMinGiB)(j),maxWorkerVolumeSizeGiB:(0,d.getWorkerNodeVolumeSizeMaxGiB)(Z)})),[j,Z]),te=(0,r.useMemo)((()=>null!=F?F:I.SubscriptionCommonFields.cluster_billing_model.STANDARD),[F]),ae=(0,r.useMemo)((()=>j?(0,c.getNodeIncrementHypershift)(B):(0,c.getNodeIncrement)(q)),[j,q,B]),le=(0,r.useMemo)((()=>{const e="Compute node count";return j?`${e} (per machine pool)`:q?`${e} (per zone)`:e}),[j,q]),ne=(0,r.useCallback)((()=>j?null:r.default.createElement(s.ExpandableSection,{toggleText:"Add node labels",isExpanded:$,onToggle:(e,t)=>K(t)},r.default.createElement(s.Title,{headingLevel:"h3"},"Node labels (optional)"),r.default.createElement("p",{className:"pf-v5-u-mb-md"},"Configure labels that will apply to all nodes in this machine pool."),r.default.createElement(i.FieldArray,{component:S.default,name:h.FieldId.NodeLabels,validateOnChange:!1}))),[j,$]),re=(0,r.useCallback)((()=>!j&&M?r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,{md:8},r.default.createElement(R.default,{isDisabled:!(0,g.canSelectImds)(Z),imds:M,onChangeImds:e=>x(h.FieldId.IMDS,e)})),r.default.createElement(s.GridItem,{md:4})):null),[Z,M,j,x]),ie=(0,r.useCallback)((()=>r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,{md:6},r.default.createElement(A.default,{minWorkerVolumeSizeGiB:J,maxWorkerVolumeSizeGiB:ee})),r.default.createElement(s.GridItem,{md:6}))),[J,ee]);return r.default.createElement(r.default.Fragment,null,j&&r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,null,r.default.createElement(s.Title,{headingLevel:"h3"},"Machine pools settings")),r.default.createElement(s.GridItem,{md:12},r.default.createElement(s.Text,{component:s.TextVariants.p},"These settings apply to all created machine pools. After cluster creation, you can alter your compute machine count at any time, but your selected default machine pool instance type is permanent."))),r.default.createElement(s.GridItem,{md:6},r.default.createElement(i.Field,{component:f.default,name:h.FieldId.MachineType,validate:u.required,isMultiAz:q,isBYOC:V,cloudProviderID:O,product:D,billingModel:te,machine_type:{input:P(P({},U(h.FieldId.MachineType)),{},{onChange:e=>{x(h.FieldId.MachineType,e,!0),setTimeout((()=>G(h.FieldId.MachineType)),1)}}),meta:H(h.FieldId.MachineType)},machine_type_force_choice:{input:P(P({},U(h.FieldId.MachineTypeForceChoice)),{},{onChange:e=>x(h.FieldId.MachineTypeForceChoice,e)})}})),r.default.createElement(s.GridItem,{md:6}),Y&&r.default.createElement(s.GridItem,{md:12},r.default.createElement(E.AutoScale,null)),z?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,{md:6},r.default.createElement(i.Field,{component:m.default,name:h.FieldId.NodesCompute,buttonAriaLabel:"Compute node count information",label:le,isMultiAz:q,isByoc:V,machineType:T,extendedHelpText:r.default.createElement(r.default.Fragment,null,(0,p.computeNodeHintText)(j,!1)," ",r.default.createElement(_.default,{href:o.default.ROSA_SERVICE_DEFINITION_COMPUTE},"Learn more about compute node count")),cloudProviderID:O,product:D,minNodes:X,increment:ae,billingModel:te,isHypershiftWizard:j,poolNumber:B,clusterVersion:Z,allow500Nodes:Q,input:P(P({},U(h.FieldId.NodesCompute)),{},{onChange:e=>x(h.FieldId.NodesCompute,e)})})),r.default.createElement(s.GridItem,{md:6})),r.default.createElement(re,null),r.default.createElement(ie,null),r.default.createElement(ne,null))}},72738:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(11954));t.default=n.default},48483:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(9296),c=a(94675),d=a(84037),m=a(88851),p=a(32358),f=a(49484),E=a(34108),g=a(14115),v=a(82693),h=a(16829),_=a(70886),S=a(2786),b=l(a(8888)),C=a(77218),y=l(a(94538)),I=a(62384),A=l(a(65702));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e){const{showClusterPrivacy:t,showVPCCheckbox:a,showClusterWideProxyCheckbox:l,privateLinkSelected:n,forcePrivateLink:s}=e,{setFieldValue:R,getFieldProps:O,getFieldMeta:P,values:{[h.FieldId.CloudProvider]:D,[h.FieldId.ConfigureProxy]:L,[h.FieldId.ClusterPrivacy]:N,[h.FieldId.ClusterVersion]:w,[h.FieldId.Hypershift]:k,[h.FieldId.ApplicationIngress]:F,[h.FieldId.MachinePoolsSubnets]:M,[h.FieldId.SecurityGroups]:x,[h.FieldId.ClusterPrivacyPublicSubnetId]:G,[h.FieldId.InstallToVpc]:U,[h.FieldId.SharedVpc]:H,[h.FieldId.SelectedVpc]:V}}=(0,v.useFormState)(),B="internal"===N,q="true"===k,j=null==w?void 0:w.raw_id,z=r.default.useRef(),W=(0,g.canConfigureDayOneManagedIngress)(j),$=(0,m.isExactMajorMinor)(j,4,13),K=(0,y.default)(),Y=(e,t)=>K(e,{resourceType:u.ocmResourceType.MOA,customProperties:{checked:t}}),Q=(e,t)=>{R(h.FieldId.UsePrivateLink,t),t&&R(h.FieldId.InstallToVpc,!0)};s&&B&&!n&&(R(h.FieldId.InstallToVpc,!0),R(h.FieldId.UsePrivateLink,!0));const Z=n&&B,X=r.default.createElement(i.Field,{component:C.ReduxCheckbox,name:h.FieldId.InstallToVpc,label:"Install into an existing VPC",isDisabled:Z||L,input:T(T({},O(h.FieldId.InstallToVpc)),{},{onChange:(e,t)=>{return a=t,R(h.FieldId.InstallToVpc,a),a||(H.is_selected&&R(h.FieldId.SharedVpc,{is_allowed:H.is_allowed,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""}),x&&R(h.FieldId.SecurityGroups,(0,c.getDefaultSecurityGroupsSettings)())),void Y(u.trackEvents.InstallIntoVPC,a);var a}}),meta:P(h.FieldId.InstallToVpc)}),J=r.default.createElement(i.Field,{component:C.ReduxCheckbox,name:h.FieldId.ConfigureProxy,label:"Configure a cluster-wide proxy",helpText:r.default.createElement(S.CheckboxDescription,null,f.constants.clusterProxyHint),input:T(T({},O(h.FieldId.ConfigureProxy)),{},{onChange:(e,t)=>{return a=t,Y(u.trackEvents.ConfigureClusterWideProxy,a),R(h.FieldId.ConfigureProxy,a),void(a&&!U&&(R(h.FieldId.InstallToVpc,!0),Y(u.trackEvents.InstallIntoVPC,a)));var a}}),meta:P(h.FieldId.ConfigureProxy)});return r.default.createElement(o.Form,{onSubmit:e=>(e.preventDefault(),!1)},r.default.createElement(o.Grid,{hasGutter:!0},r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h3"},"Networking configuration")),r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,null,"Configure network access for your cluster.")),t&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Cluster privacy")),r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,null,"Install your cluster with all public or private API endpoints and application routes."," ",q&&"You can customize these options after installation.")),r.default.createElement(i.Field,{component:C.RadioButtons,isDisabled:(0,I.isRestrictedEnv)(),name:h.FieldId.ClusterPrivacy,ariaLabel:"Cluster privacy",input:T(T({},O(h.FieldId.ClusterPrivacy)),{},{onChange:e=>((e,t)=>{R(h.FieldId.ClusterPrivacy,t),"external"===t?(R(h.FieldId.UsePrivateLink,!1),q||M.every((e=>!e.privateSubnetId&&!e.publicSubnetId&&!e.availabilityZone))&&(R(h.FieldId.InstallToVpc,!1),L&&R(h.FieldId.ConfigureProxy,!1),x&&R(h.FieldId.SecurityGroups,(0,c.getDefaultSecurityGroupsSettings)())),z.current&&"internal"===N&&R(h.FieldId.ClusterPrivacyPublicSubnetId,z.current)):(z.current=G,R(h.FieldId.ClusterPrivacyPublicSubnetId,""))})(0,e)}),options:[{value:"external",label:"Public",description:"Access Kubernetes API endpoint and application routes from the internet.",extraField:q&&!B&&r.default.createElement(i.Field,{component:E.SubnetSelectField,name:h.FieldId.ClusterPrivacyPublicSubnetId,input:T(T({},O(h.FieldId.ClusterPrivacyPublicSubnetId)),{},{onChange:e=>R(h.FieldId.ClusterPrivacyPublicSubnetId,e)}),meta:P(h.FieldId.ClusterPrivacyPublicSubnetId),label:"Public subnet name",className:"pf-v5-u-mt-md pf-v5-u-ml-lg",isRequired:!0,validate:e=>(0,d.validateRequiredPublicSubnetId)(e,{}),withAutoSelect:!1,selectedVPC:V,privacy:"public",allowedAZs:(0,p.getSelectedAvailabilityZones)(V,M)})},{value:"internal",label:"Private",description:"Access Kubernetes API endpoint and application routes from direct private connections only."}],disableDefaultValueHandling:!0}),B&&r.default.createElement(o.GridItem,null,r.default.createElement(o.Alert,{variant:"warning",isInline:!0,title:"You will not be able to access your cluster until you edit network settings in your cloud provider."},"aws"===D&&r.default.createElement(b.default,{href:A.default.ROSA_PRIVATE_CONNECTIONS},"Learn more about configuring network settings")))),q&&r.default.createElement(o.GridItem,null,J),a&&!q&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Virtual Private Cloud (VPC)")),r.default.createElement(o.GridItem,null,r.default.createElement(o.Text,null,"By default, a new VPC will be created for your cluster. Alternatively, you may opt to install to an existing VPC below.")),r.default.createElement(o.GridItem,null,r.default.createElement(o.FormGroup,{fieldId:"install-to-vpc"},B?r.default.createElement(o.Tooltip,{position:"top-start",enableFlip:!0,content:r.default.createElement("p",null,"Private clusters must be installed into an existing VPC and have PrivateLink enabled.")},X):X,r.default.createElement(o.FormFieldGroup,null,B&&"aws"===D&&r.default.createElement(o.FormGroup,null,r.default.createElement(i.Field,{component:C.ReduxCheckbox,name:h.FieldId.UsePrivateLink,label:"Use a PrivateLink",onChange:Q,isDisabled:s&&B,helpText:r.default.createElement(S.CheckboxDescription,null,f.constants.privateLinkHint),input:T(T({},O(h.FieldId.UsePrivateLink)),{},{onChange:(e,t)=>Q(0,t)}),meta:P(h.FieldId.UsePrivateLink)})),l&&r.default.createElement(o.FormGroup,null,J))))),!q&&r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,null,r.default.createElement(o.Title,{headingLevel:"h4",size:"xl"},"Application ingress settings"),r.default.createElement(o.Text,{className:"pf-v5-u-mt-sm"},"Ingress is configured by default."," ",W?"Customize settings if needed.":"It can be customized for 4.14 clusters or newer.",$&&r.default.createElement(r.default.Fragment,null," ","For 4.13 clusters, refer to"," ",r.default.createElement(b.default,{href:A.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"this knowledge base article"),"."))),W&&r.default.createElement(i.Field,{component:C.RadioButtons,name:h.FieldId.ApplicationIngress,ariaLabel:"Use application ingress defaults",isDisabled:!W,disableDefaultValueHandling:!0,input:T(T({},O(h.FieldId.ApplicationIngress)),{},{onChange:e=>R(h.FieldId.ApplicationIngress,e)}),meta:P(h.FieldId.ApplicationIngress),options:[{value:"default",ariaLabel:"Default settings",label:"Default settings"},{value:"custom",ariaLabel:"Custom settings",label:"Custom settings",extraField:"default"!==F&&r.default.createElement(_.DefaultIngressFieldsFormik,{hasSufficientIngressEditVersion:!0,className:"pf-v5-u-mt-md pf-v5-u-ml-lg",isDay2:!1,canShowLoadBalancer:!1})}]}))))}O.propTypes={showClusterPrivacy:s.default.bool,showVPCCheckbox:s.default.bool,showClusterWideProxyCheckbox:s.default.bool,privateLinkSelected:s.default.bool,forcePrivateLink:s.default.bool},t.default=O},13859:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=P(a(93345)),r=l(a(62193)),i=l(a(5556)),s=a(13818),o=a(37979),u=a(94675),c=l(a(71870)),d=a(14115),m=a(82693),p=a(34876),f=a(16829),E=a(4391),g=l(a(49383)),v=a(59368),h=l(a(7028)),_=l(a(55909)),S=a(11243),b=a(976),C=a(57847),y=a(79082),I=a(42772),A=P(a(46726)),R=a(41685),T=l(a(2316));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(O=function(e){return e?a:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=O(t);if(a&&a.has(e))return a.get(e);var l={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(l,r,i):l[r]=e[r]}return l.default=e,a&&a.set(e,l),l}a(62804);const D=e=>{let{getUserRole:t,getOCMRole:a,getUserRoleResponse:l,getOCMRoleResponse:i,clearGetUserRoleResponse:O,clearGetOcmRoleResponse:P,createCluster:D,isSubmitPending:L,isCreateClusterYamlEditorEnabled:N,createClusterResponse:w}=e;const{values:{[f.FieldId.ApplicationIngress]:k,[f.FieldId.AssociatedAwsId]:F,[f.FieldId.AutoscalingEnabled]:M,[f.FieldId.ByoOidcConfigId]:x,[f.FieldId.CloudProvider]:G,[f.FieldId.ClusterPrivacy]:U,[f.FieldId.ClusterPrivacyPublicSubnetId]:H,[f.FieldId.ClusterVersion]:V,[f.FieldId.ConfigureProxy]:B,[f.FieldId.EtcdKeyArn]:q,[f.FieldId.HasDomainPrefix]:j,[f.FieldId.Hypershift]:z,[f.FieldId.InstallToVpc]:W,[f.FieldId.KmsKeyArn]:$,[f.FieldId.MachinePoolsSubnets]:K,[f.FieldId.MaxReplicas]:Y,[f.FieldId.MultiAz]:Q,[f.FieldId.NodeLabels]:Z,[f.FieldId.Product]:X,[f.FieldId.SecurityGroups]:J,[f.FieldId.SelectedVpc]:ee,[f.FieldId.SharedVpc]:te,[f.FieldId.UpgradePolicy]:ae,[f.FieldId.UsePrivateLink]:le,[f.FieldId.WorkerVolumeSizeGib]:ne,[f.FieldId.BillingModel]:re,[f.FieldId.CustomerManagedKey]:ie,[f.FieldId.ClusterName]:se},values:oe,setFieldValue:ue}=(0,m.useFormState)(),{goToStepByIndex:ce,getStep:de}=(0,s.useWizardContext)(),me=(0,_.default)(X,re),pe=me&&!!M,fe="true"===z,Ee=(0,S.useFeatureGate)(b.MULTIREGION_PREVIEW_ENABLED)&&fe,ge=fe&&!!q,ve=null==V?void 0:V.raw_id,he="true"===ie&&!!$,_e=(0,u.hasSelectedSecurityGroups)(J),{organization:Se}=(0,c.default)(),be=(0,o.hasExternalAuthenticationCapability)(null==Se?void 0:Se.capabilities),Ce=[f.FieldId.ClusterName,...j?[f.FieldId.DomainPrefix]:[],f.FieldId.ClusterVersion,f.FieldId.Region,f.FieldId.MultiAz,...fe?[]:[f.FieldId.EnableUserWorkloadMonitoring],f.FieldId.CustomerManagedKey,...he?[f.FieldId.KmsKeyArn]:[],f.FieldId.EtcdEncryption,...fe?[]:[f.FieldId.FipsCryptography],...ge?[f.FieldId.EtcdKeyArn]:[],...fe&&be?[f.FieldId.EnableExteranlAuthentication]:[]],[ye,Ie]=(0,n.useState)(""),[Ae,Re]=(0,n.useState)(""),[Te,Oe]=(0,n.useState)(!1),Pe=(0,S.useFeatureGate)(b.HYPERSHIFT_WIZARD_FEATURE),[De,Le]=(0,n.useState)(!1),Ne=(0,n.useMemo)((()=>De?n.default.createElement(v.SyncEditorModal,{isOpen:De,closeCallback:()=>Le(!1),content:C.ClusterRequestTranslatorFactory.createClusterRequestTranslator(X).toYaml((0,R.createClusterRequest)({isWizard:!0},oe)),schema:{uri:"https://api.openshift.com/api/clusters_mgmt/v1/openapi#/components/schemas/Cluster",fileMatch:["*"]},submitButtonLabel:"Create Cluster",downloadFileName:`${X}-cluster-${se}.yaml`,onSubmit:e=>{const t=(0,R.upgradeScheduleRequest)(oe);D(e,t)},translatorToObject:C.ClusterRequestTranslatorFactory.createClusterRequestTranslator(X).fromYaml,isRequestPending:w.pending,isRequestFulfilled:w.fulfilled,requestErrorMessage:w.errorMessage,requestPendingMessage:I.MESSAGES.INITIATE_CREATE_CLUSTER_REQUEST,closeWarningMessage:"You won't be able to view or download the YAML after cluster creation begins.",readOnlyMessage:"Cannot edit while cluster creation is being processed."}):null),[se,D,w.errorMessage,w.fulfilled,w.pending,oe,De,X]);(0,n.useEffect)((()=>{O(),P(),ue(f.FieldId.DetectedOcmAndUserRoles,!1)}),[]),(0,n.useEffect)((()=>{if(l.fulfilled){const e=(0,p.getUserRoleForSelectedAWSAccount)(l.data,F);Ie(null==e?void 0:e.sts_user)}l.fulfilled||l.pending||l.error||t()}),[l]),(0,n.useEffect)((()=>{var e;i.fulfilled&&Re(null===(e=i.data)||void 0===e?void 0:e.arn),i.fulfilled||i.pending||i.error||a(F)}),[i]),(0,n.useEffect)((()=>{const e=(null==l?void 0:l.error)||!ye||(null==i?void 0:i.error)||!Ae;e!==Te&&(Oe(e),ue(f.FieldId.DetectedOcmAndUserRoles,!e))}),[l,i,ye,Ae,Te]),(0,n.useEffect)((()=>{Ee||ue(f.FieldId.RegionalInstance,void 0)}),[Ee]);const we=e=>{let t=e;return"CLUSTER_SETTINGS"===e&&(t="CLUSTER_SETTINGS__DETAILS"),de(E.stepId[t]).index},ke=e=>E.stepNameById[E.stepId[e]],Fe=Pe?"ACCOUNTS_AND_ROLES_AS_SECOND_STEP":"ACCOUNTS_AND_ROLES_AS_FIRST_STEP";return L?n.default.createElement(s.Bullseye,null,n.default.createElement(s.Stack,null,n.default.createElement(s.StackItem,null,n.default.createElement(s.Bullseye,null,n.default.createElement(s.Spinner,{size:"xl"}))),n.default.createElement(s.StackItem,null,n.default.createElement(s.Bullseye,null,I.MESSAGES.INITIATE_CREATE_CLUSTER_REQUEST)))):n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"ocm-create-osd-review-screen"},n.default.createElement(s.Flex,null,n.default.createElement(s.FlexItem,null,n.default.createElement(s.Title,{headingLevel:"h2",className:"pf-v5-u-pb-md"},"Review your ROSA cluster")),N?n.default.createElement(s.FlexItem,{align:{default:"alignRight"}},n.default.createElement(s.Button,{variant:"secondary",onClick:()=>Le(!0)},"Edit YAML")):null),n.default.createElement(g.default,{name:f.FieldId.DetectedOcmAndUserRoles}),Pe&&n.default.createElement(A.default,{title:ke("CONTROL_PLANE"),onGoToStep:()=>ce(we("CONTROL_PLANE"))},(0,A.FormikReviewItem)(f.FieldId.Hypershift)),n.default.createElement(A.default,{title:ke(Fe),onGoToStep:()=>ce(we(Fe)),initiallyExpanded:Te},(0,A.FormikReviewItem)(f.FieldId.AssociatedAwsId),fe&&(0,A.FormikReviewItem)(f.FieldId.BillingAccountId),(0,T.default)({name:"ocm-role",getRoleResponse:i,content:Ae}),(0,T.default)({name:"user-role",getRoleResponse:l,content:ye}),(0,A.FormikReviewItem)(f.FieldId.InstallerRoleArn),(0,A.FormikReviewItem)(f.FieldId.SupportRoleArn),!fe&&(0,A.FormikReviewItem)(f.FieldId.ControlPlaneRoleArn),(0,A.FormikReviewItem)(f.FieldId.WorkerRoleArn)),n.default.createElement(A.default,{title:ke("CLUSTER_SETTINGS"),onGoToStep:()=>ce(we("CLUSTER_SETTINGS"))},Ce.map((e=>(0,A.FormikReviewItem)(e)))),n.default.createElement(A.default,{title:"Default machine pool",onGoToStep:()=>ce(we("CLUSTER_SETTINGS__MACHINE_POOL"))},(0,A.FormikReviewItem)(f.FieldId.MachineType),me&&(0,A.FormikReviewItem)(f.FieldId.AutoscalingEnabled),pe?(0,A.FormikReviewItem)(f.FieldId.MinReplicas,{[f.FieldId.MultiAz]:Q,[f.FieldId.Hypershift]:z,[f.FieldId.MaxReplicas]:Y}):(0,A.FormikReviewItem)(f.FieldId.NodesCompute,{[f.FieldId.MultiAz]:Q,[f.FieldId.Hypershift]:z}),(0,A.FormikReviewItem)(fe?f.FieldId.SelectedVpc:f.FieldId.InstallToVpc),W&&fe&&(0,A.FormikReviewItem)("aws_hosted_machine_pools",{[f.FieldId.MachinePoolsSubnets]:K,[f.FieldId.SelectedVpc]:ee}),!(1===(null==Z?void 0:Z.length)&&(0,r.default)(Z[0].key))&&(0,A.FormikReviewItem)(f.FieldId.NodeLabels),!fe&&(0,d.canSelectImds)(ve)&&(0,A.FormikReviewItem)(f.FieldId.IMDS),ne&&(0,A.FormikReviewItem)(f.FieldId.WorkerVolumeSizeGib)),n.default.createElement(A.default,{title:ke("NETWORKING"),onGoToStep:()=>ce(we("NETWORKING__CONFIGURATION"))},(0,A.FormikReviewItem)(f.FieldId.ClusterPrivacy),H&&fe&&(0,A.FormikReviewItem)(f.FieldId.ClusterPrivacyPublicSubnetId,{[f.FieldId.SelectedVpc]:ee}),"internal"===U&&W&&(0,A.FormikReviewItem)(f.FieldId.UsePrivateLink),W&&!fe&&(0,A.FormikReviewItem)("aws_standalone_vpc",{[f.FieldId.SelectedVpc]:ee,[f.FieldId.MachinePoolsSubnets]:K,[f.FieldId.UsePrivateLink]:le}),W&&!fe&&_e&&(0,A.FormikReviewItem)(f.FieldId.SecurityGroups,{[f.FieldId.SelectedVpc]:ee}),(null==te?void 0:te.is_selected)&&!fe&&(0,A.FormikReviewItem)(f.FieldId.SharedVpc),W&&(0,A.FormikReviewItem)(f.FieldId.ConfigureProxy),W&&B&&(0,A.FormikReviewItem)(f.FieldId.HttpProxyUrl),W&&B&&(0,A.FormikReviewItem)(f.FieldId.HttpsProxyUrl),W&&B&&(0,A.FormikReviewItem)(f.FieldId.NoProxyDomains),W&&B&&(0,A.FormikReviewItem)(f.FieldId.AdditionalTrustBundle),(0,A.FormikReviewItem)(f.FieldId.NetworkMachineCidr),(0,A.FormikReviewItem)(f.FieldId.NetworkServiceCidr),(0,A.FormikReviewItem)(f.FieldId.NetworkPodCidr),(0,A.FormikReviewItem)(f.FieldId.NetworkHostPrefix),!fe&&(0,A.FormikReviewItem)(f.FieldId.ApplicationIngress),"default"!==k&&!fe&&n.default.createElement(n.default.Fragment,null,(0,A.FormikReviewItem)(f.FieldId.DefaultRouterSelectors),(0,A.FormikReviewItem)(f.FieldId.DefaultRouterExcludedNamespacesFlag),(0,A.FormikReviewItem)(f.FieldId.IsDefaultRouterWildcardPolicyAllowed),(0,A.FormikReviewItem)(f.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict))),n.default.createElement(A.default,{title:ke("CLUSTER_ROLES_AND_POLICIES"),onGoToStep:()=>ce(we("CLUSTER_ROLES_AND_POLICIES"))},!fe&&(0,A.FormikReviewItem)(f.FieldId.RosaRolesProviderCreationMode),x&&n.default.createElement(n.default.Fragment,null,(0,A.FormikReviewItem)(f.FieldId.ByoOidcConfigIdManaged),(0,A.FormikReviewItem)(f.FieldId.ByoOidcConfigId)),(0,A.FormikReviewItem)(f.FieldId.CustomOperatorRolesPrefix)),n.default.createElement(A.default,{title:"Updates",onGoToStep:()=>ce(we("CLUSTER_UPDATES"))},(0,A.FormikReviewItem)(f.FieldId.UpgradePolicy),"automatic"===ae&&(0,A.FormikReviewItem)(f.FieldId.AutomaticUpgradeSchedule),!fe&&(0,A.FormikReviewItem)(f.FieldId.NodeDrainGracePeriod)),h.default.fakeOSD&&n.default.createElement(y.DebugClusterRequest,{cloudProvider:G,product:X,formValues:oe})),Ne)};D.propTypes={getUserRole:i.default.func.isRequired,getOCMRole:i.default.func.isRequired,getOCMRoleResponse:i.default.func.isRequired,getUserRoleResponse:i.default.object.isRequired,clearGetUserRoleResponse:i.default.func.isRequired,clearGetOcmRoleResponse:i.default.func.isRequired,createCluster:i.default.func.isRequired,isSubmitPending:i.default.bool,isCreateClusterYamlEditorEnabled:i.default.bool,createClusterResponse:i.default.shape({fulfilled:i.default.bool,error:i.default.bool,errorMessage:i.default.string,pending:i.default.bool,cluster:i.default.shape({subscription:i.default.shape({id:i.default.string})})})},t.default=D},2316:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(31003),o=a(21674),u=l(a(75759));const c=e=>{let{name:t,getRoleResponse:a,content:l}=e;return n.default.createElement(i.DescriptionListGroup,{key:t},n.default.createElement(i.DescriptionListTerm,null,t," ARN"),n.default.createElement(i.DescriptionListDescription,null,(null==a?void 0:a.pending)&&n.default.createElement("div",{className:"spinner-fit-container"},n.default.createElement(i.Spinner,{size:"md"})),((null==a?void 0:a.error)||!l&&(null==a?void 0:a.fulfilled))&&n.default.createElement(u.default,{isErrorHint:!0,title:`${t} could not be detected`,bodyContent:n.default.createElement(i.TextContent,null,n.default.createElement(i.Text,{component:i.TextVariants.p},n.default.createElement("span",{className:"danger"},n.default.createElement(s.ExclamationCircleIcon,{className:"status-icon danger"}),n.default.createElement("strong",null,`${t} is no longer linked to your Red Hat organization.`))),n.default.createElement(i.Text,{component:i.TextVariants.p},n.default.createElement("p",null,"Follow the AWS account association instructions and try again"))),footer:n.default.createElement(o.BackToAssociateAwsAccountLink,null),iconClassName:"hand-pointer"}),null!=a&&a.fulfilled?l:null))};c.propTypes={name:r.default.string,getRoleResponse:r.default.object,content:r.default.string},t.default=c},38599:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(91089),i=a(11243),s=a(42045),o=a(976),u=l(a(13859));t.default=(0,n.connect)((e=>{const{getUserRoleResponse:t,getOCMRoleResponse:a}=e.rosaReducer;return{getUserRoleResponse:t,getOCMRoleResponse:a,isCreateClusterYamlEditorEnabled:(0,i.featureGateSelector)(e,o.CREATE_CLUSTER_YAML_EDITOR),createClusterResponse:e.clusters.createdCluster}}),(e=>({getUserRole:()=>e((0,s.getUserRole)()),getOCMRole:t=>e((0,s.getOCMRole)(t)),clearGetUserRoleResponse:()=>e((0,s.clearGetUserRoleResponse)()),clearGetOcmRoleResponse:()=>e((0,s.clearGetOcmRoleResponse)()),openModal:(t,a)=>e((0,r.openModal)(t,a))})))(u.default)},96555:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(13818),i=l(a(56470));t.default=function(){return n.default.createElement(r.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(r.Grid,{hasGutter:!0},n.default.createElement(r.GridItem,null,n.default.createElement(r.Title,{headingLevel:"h3"},"Cluster update strategy")),n.default.createElement(i.default,null)))}},57237:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SingleSubnetFieldsRow=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(32358),c=a(34108),d=l(a(98173)),m=l(a(57596)),p=a(82693),f=l(a(22024)),E=l(a(15403)),g=a(84037),v=a(16829);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const S=e=>{let{index:t,selectedAZ:a,selectedRegion:l,selectedVPC:n,isMultiAz:s,privateLinkSelected:m}=e;const{setFieldValue:h,getFieldProps:S,getFieldMeta:b,values:{[v.FieldId.MachinePoolsSubnets]:C}}=(0,p.useFormState)(),y=`${v.FieldId.MachinePoolsSubnets}[${t}].availabilityZone`,I=`${v.FieldId.MachinePoolsSubnets}[${t}].privateSubnetId`,A=`${v.FieldId.MachinePoolsSubnets}[${t}].publicSubnetId`,R=0===t;let T,O;null!=n&&n.id?a||(T="Select the availability zone"):(O="Select a VPC first",T="Select a VPC first");const P=m?["private"]:["private","public"],D=(0,u.getMatchingAvailabilityZones)(l,n,P);return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.GridItem,{md:4},r.default.createElement(f.default,{showTooltip:!!O,content:O},r.default.createElement(i.Field,{component:d.default,name:y,label:R?"Availability zone":null,enabledAvailabilityZones:D,vpcId:null==n?void 0:n.id,validate:e=>(0,g.required)(e)||s&&(0,g.validateUniqueAZ)(e,{machinePoolsSubnets:C}),isDisabled:!!O,region:l,input:_(_({},S(y)),{},{onChange:(0,E.default)(y)}),meta:b(y)}))),r.default.createElement(o.GridItem,{md:4},r.default.createElement(f.default,{showTooltip:!!T,content:T},r.default.createElement(i.Field,{component:c.SubnetSelectField,name:I,isRequired:!0,validate:g.required,privacy:"private",label:R?"Private subnet":null,selectedVPC:n,allowedAZs:a?[a]:[],withAutoSelect:!1,input:_(_({},S(I)),{},{onChange:e=>h(I,e)}),meta:b(I)}))),r.default.createElement(o.GridItem,{md:4},!m&&r.default.createElement(f.default,{showTooltip:!!T,content:T},r.default.createElement(i.Field,{component:c.SubnetSelectField,name:A,isRequired:!0,validate:g.required,privacy:"public",label:R?"Public subnet":null,selectedVPC:n,allowedAZs:a?[a]:[],withAutoSelect:!1,input:_(_({},S(A)),{},{onChange:e=>h(A,e)}),meta:b(A)}))))};t.SingleSubnetFieldsRow=S;const b=e=>{let{selectedVPC:t,selectedRegion:a,selectedAZs:l,isMultiAz:n,privateLinkSelected:s}=e;const{setFieldValue:o,getFieldProps:u,getFieldMeta:c}=(0,p.useFormState)();return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.Field,{component:m.default,name:v.FieldId.SelectedVpc,validate:e=>null!=e&&e.id||null!=e&&e.name?void 0:"error",selectedVPC:t,showRefresh:!0,isHypershift:!1,isRosaV1:!1,usePrivateLink:s,input:_(_({},u(v.FieldId.SelectedVpc)),{},{onChange:e=>o(v.FieldId.SelectedVpc,e)}),meta:c(v.FieldId.SelectedVpc)}),r.default.createElement(S,{index:0,selectedAZ:l[0],selectedRegion:a,selectedVPC:t,isMultiAz:n,privateLinkSelected:s}),n&&r.default.createElement(r.default.Fragment,null,r.default.createElement(S,{index:1,selectedAZ:l[1],selectedRegion:a,selectedVPC:t,isMultiAz:n,privateLinkSelected:s}),r.default.createElement(S,{index:2,selectedAZ:l[2],selectedRegion:a,selectedVPC:t,isMultiAz:n,privateLinkSelected:s})))};S.propTypes={selectedRegion:s.default.string,selectedVPC:s.default.shape({id:s.default.string,name:s.default.string}),selectedAZ:s.default.string,index:s.default.number,isMultiAz:s.default.bool,privateLinkSelected:s.default.bool},b.propTypes={selectedVPC:s.default.object,selectedRegion:s.default.string,selectedAZs:s.default.arrayOf(s.default.string),isMultiAz:s.default.bool,privateLinkSelected:s.default.bool},t.default=b},32503:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=l(a(65702)),o=l(a(271)),u=l(a(8888)),c=l(a(55213)),d=a(62384),m=l(a(22014)),p=l(a(57237));function f(e){let{selectedRegion:t,selectedVPC:a,selectedAZs:l,openshiftVersion:r,isMultiAz:f,privateLinkSelected:E,cloudProviderID:g,isSharedVpcSelected:v,hostedZoneDomainName:h,isHypershiftSelected:_}=e;return"aws"===g&&n.default.createElement(n.default.Fragment,null,n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{headingLevel:"h4",size:"md"},"Install into an existing VPC",n.default.createElement(c.default,{iconClassName:"pf-v5-u-ml-sm",hint:n.default.createElement(n.default.Fragment,null,"Your VPC must have public and private subnets. Public subnets are associated with appropriate Ingress rules. Private subnets need appropriate routes and tables."," ",n.default.createElement(u.default,{href:s.default.INSTALL_AWS_VPC},"Learn more about installing into an existing VPC"))})),`To install into an existing VPC, you need to ensure that your VPC is configured with ${E?"":"a public and"}\n            a private subnet for each availability zone that you want the cluster\n            installed into`,".",n.default.createElement(u.default,{href:s.default.INSTALL_AWS_CUSTOM_VPC_REQUIREMENTS},"Learn more about VPC")),n.default.createElement(i.Alert,{variant:"info",isInline:!0,title:"You'll need to match these VPC subnets when you define the CIDR ranges."}),n.default.createElement(p.default,{isMultiAz:f,selectedVPC:a,selectedRegion:t,selectedAZs:l,privateLinkSelected:E}),n.default.createElement(o.default,{selectedVPC:a,openshiftVersion:r,isHypershiftSelected:_}),!(0,d.isRestrictedEnv)()&&n.default.createElement(m.default,{hostedZoneDomainName:h,isSelected:v,openshiftVersion:r,isHypershiftSelected:_}))}f.propTypes={hostedZoneDomainName:r.default.string,selectedRegion:r.default.string,selectedVPC:r.default.object.isRequired,selectedAZs:r.default.arrayOf(r.default.string).isRequired,openshiftVersion:r.default.string,isMultiAz:r.default.bool,privateLinkSelected:r.default.bool,isSharedVpcSelected:r.default.bool,cloudProviderID:r.default.string,isHypershiftSelected:r.default.bool},t.default=f},17903:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(32358),o=a(14115),u=a(82693),c=a(16829),d=l(a(32503));function m(e){let{privateLinkSelected:t}=e;const{setFieldValue:a,setFieldTouched:l,values:{[c.FieldId.ClusterName]:r,[c.FieldId.ClusterVersion]:m,[c.FieldId.SharedVpc]:p,[c.FieldId.SelectedVpc]:f,[c.FieldId.MachinePoolsSubnets]:E,[c.FieldId.MultiAz]:g,[c.FieldId.Region]:v,[c.FieldId.CloudProvider]:h,[c.FieldId.Hypershift]:_}}=(0,u.useFormState)(),S=(null==p?void 0:p.is_selected)||!1,b=S?`${r}.${p.base_dns_domain||"<selected-base-domain>"}`:void 0,C=null==E?void 0:E.map((e=>e.availabilityZone)),y="true"===g,I=m.raw_id,A="true"===_;return n.default.useEffect((()=>{if(!f.id){const e=[(0,o.emptyAWSSubnet)()];y&&(e.push((0,o.emptyAWSSubnet)()),e.push((0,o.emptyAWSSubnet)())),a("machinePoolsSubnets",e),(0,s.getAllSubnetFieldNames)(y).forEach((e=>{l(e,!1)}))}}),[a,l,y,f]),n.default.createElement(i.Form,{onSubmit:e=>(e.preventDefault(),!1)},n.default.createElement(i.Grid,{hasGutter:!0},n.default.createElement(i.GridItem,null,n.default.createElement(i.Title,{headingLevel:"h3"},"Virtual Private Cloud (VPC) subnet settings")),n.default.createElement(d.default,{isMultiAz:y,selectedRegion:v,selectedVPC:f,selectedAZs:C,openshiftVersion:I,isSharedVpcSelected:S,privateLinkSelected:t,hostedZoneDomainName:b,cloudProviderID:h,isHypershiftSelected:A})))}m.propTypes={privateLinkSelected:r.default.bool},t.default=m},89738:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.ValuesPanel=void 0;var n=l(a(93345)),r=a(88139),i=a(98094);t.ValuesPanel=()=>{const{values:e,errors:t,touched:a}=(0,r.useFormikContext)();return n.default.createElement("pre",{style:{fontSize:".65rem",flex:"0 0 35em"}},n.default.createElement("div",null,n.default.createElement("strong",null,"formik values:")),n.default.createElement(i.ValuesCodeEditor,{code:JSON.stringify(e,null,2)}),n.default.createElement("div",null,n.default.createElement("strong",null,"formik touched:")),n.default.createElement(i.ValuesCodeEditor,{code:JSON.stringify(a,null,2)}),n.default.createElement("div",null,n.default.createElement("strong",null,"formik errors:")),n.default.createElement(i.ValuesCodeEditor,{code:JSON.stringify(t,null,2)}))}},21674:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.BackToAssociateAwsAccountLink=void 0;var n=l(a(93345)),r=a(13818),i=a(4391),s=a(11243),o=a(976);t.BackToAssociateAwsAccountLink=()=>{const{goToStepById:e}=(0,r.useWizardContext)(),t=(0,s.useFeatureGate)(o.HYPERSHIFT_WIZARD_FEATURE),a=(0,i.getAccountAndRolesStepId)(t);return n.default.createElement(r.Button,{variant:"link",isInline:!0,onClick:()=>e(a)},"Back to associate AWS account")}},56470:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=a(88139),s=a(13818),o=l(a(65702)),u=l(a(686)),c=l(a(58350)),d=a(82693),m=a(16829),p=l(a(8888)),f=l(a(33076));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(24267),t.default=function(){const{setFieldValue:e,setFieldTouched:t,getFieldProps:a,values:{[m.FieldId.UpgradePolicy]:l,[m.FieldId.Hypershift]:n}}=(0,d.useFormState)(),E="automatic"===l,v="true"===n,h=!1,_=r.default.createElement(r.default.Fragment,null,"The cluster will be automatically updated based on your preferred day and start time when new patch updates (",r.default.createElement(p.default,{href:o.default.ROSA_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version."),S=r.default.createElement(r.default.Fragment,null,"The cluster control plane will be automatically updated based on your preferred day and start time when new patch updates (",r.default.createElement(p.default,{href:o.default.ROSA_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version. The worker nodes will need to be manually updated."),b={value:"automatic",label:"Recurring updates",description:v?S:_,extraField:E&&r.default.createElement(s.Grid,null,r.default.createElement(s.GridItem,{md:6},r.default.createElement(i.Field,{component:c.default,name:m.FieldId.AutomaticUpgradeSchedule,input:g(g({},a(m.FieldId.AutomaticUpgradeSchedule)),{},{onChange:a=>{t(m.FieldId.AutomaticUpgradeSchedule),e(m.FieldId.AutomaticUpgradeSchedule,a)}}),isDisabled:h,isHypershift:v})))},C={value:"manual",label:"Individual updates",description:r.default.createElement(r.default.Fragment,null,"Schedule each update individually. Take into consideration end of life dates from the"," ",r.default.createElement(p.default,{href:o.default.ROSA_LIFE_CYCLE},"lifecycle policy")," when planning updates.")},y=v?[b,C]:[C,b];return r.default.createElement(r.default.Fragment,null,r.default.createElement(s.GridItem,null,r.default.createElement(s.Text,{component:"p"},"Note: In the event of"," ",r.default.createElement(p.default,{href:"https://access.redhat.com/security/updates/classification/#critical"},"Critical security concerns")," ","(CVEs) that significantly impact the security or stability of the cluster, updates may be"," ","automatically scheduled by Red Hat SRE to the latest z-stream version not impacted by the"," ","CVE within 2 business days after customer notifications.")),r.default.createElement(s.GridItem,{className:"ocm-c-upgrade-policy-radios"},r.default.createElement(i.Field,{component:f.default,name:m.FieldId.UpgradePolicy,isDisabled:h,input:g(g({},a(m.FieldId.UpgradePolicy)),{},{onChange:a=>{t(m.FieldId.UpgradePolicy),e(m.FieldId.UpgradePolicy,a),"manual"===a&&e(m.FieldId.AutomaticUpgradeSchedule,"0 0 * * 0")}}),options:y,defaultValue:"manual",disableDefaultValueHandling:!0})),null,v?null:r.default.createElement(s.GridItem,null,r.default.createElement(s.Title,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),r.default.createElement(s.TextContent,null,r.default.createElement(s.Text,{component:s.TextVariants.p},"Note: You cannot change the node drain grace period after you start the upgrade process."),r.default.createElement(s.Text,{component:s.TextVariants.p},"You may set a grace period for how long pod disruption budget-protected workloads will"," ","be respected during updates. After this grace period, any workloads protected by pod disruption budgets that have not been successfully drained from a node will be forcibly evicted.")),r.default.createElement(i.Field,{name:m.FieldId.NodeDrainGracePeriod,component:u.default,isDisabled:h,input:g(g({},a(m.FieldId.NodeDrainGracePeriod)),{},{onChange:a=>{t(m.FieldId.NodeDrainGracePeriod),e(m.FieldId.NodeDrainGracePeriod,a)}})})))}},182:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=a(73729),r=a(75166),i=a(10138),s=a(80883),o=a(11912),u=a(42045),c=a(2479),d=a(91089),m=l(a(14419)),p=a(98229),f=l(a(41685)),E=l(a(87580));t.A=(0,n.connect)((e=>{const{organization:t}=e.userProfile,{getUserRoleResponse:a}=e.rosaReducer,{clusterVersions:l}=(null==e?void 0:e.clusters)||{};return{isErrorModalOpen:(0,m.default)(e,"osd-create-error"),createClusterResponse:e.clusters.createdCluster,machineTypes:e.machineTypes,organization:t,cloudProviders:e.cloudProviders,hasProductQuota:(0,p.hasManagedQuotaSelector)(e.userProfile.organization.quotaList,r.normalizedProducts.ROSA),getUserRoleResponse:a,getInstallableVersionsResponse:l}}),(e=>({onSubmit:t=>e((()=>(0,f.default)(e,{isWizard:!0})(t))),resetResponse:()=>e((0,s.resetCreatedClusterResponse)()),openModal:t=>{e((0,d.openModal)(t))},getOrganizationAndQuota:()=>e((0,c.getOrganizationAndQuota)()),getUserRole:()=>e((0,u.getUserRole)()),getMachineTypes:()=>e((0,o.getMachineTypes)()),getCloudProviders:()=>e((0,i.getCloudProviders)()),clearInstallableVersions:()=>e((0,s.clearInstallableVersions)()),createCluster:(t,a)=>e((0,s.createCluster)(t,a))})))(E.default)},4391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stepNameById=t.stepId=t.hasLoadingState=t.getAccountAndRolesStepId=void 0;const a=t.stepId={ACCOUNTS_AND_ROLES_AS_FIRST_STEP:5,CONTROL_PLANE:10,ACCOUNTS_AND_ROLES_AS_SECOND_STEP:15,CLUSTER_SETTINGS:20,CLUSTER_SETTINGS__DETAILS:21,CLUSTER_SETTINGS__MACHINE_POOL:23,NETWORKING:30,NETWORKING__CONFIGURATION:31,NETWORKING__VPC_SETTINGS:32,NETWORKING__CLUSTER_WIDE_PROXY:33,NETWORKING__CIDR_RANGES:34,CLUSTER_ROLES_AND_POLICIES:40,CLUSTER_UPDATES:50,REVIEW_AND_CREATE:60};t.getAccountAndRolesStepId=e=>e?a.ACCOUNTS_AND_ROLES_AS_SECOND_STEP:a.ACCOUNTS_AND_ROLES_AS_FIRST_STEP,t.hasLoadingState=e=>e!==a.CONTROL_PLANE,t.stepNameById={[a.ACCOUNTS_AND_ROLES_AS_FIRST_STEP]:"Accounts and roles",[a.ACCOUNTS_AND_ROLES_AS_SECOND_STEP]:"Accounts and roles",[a.CONTROL_PLANE]:"Control plane",[a.CLUSTER_SETTINGS]:"Cluster settings",[a.CLUSTER_SETTINGS__DETAILS]:"Details",[a.CLUSTER_SETTINGS__MACHINE_POOL]:"Machine pool",[a.NETWORKING]:"Networking",[a.NETWORKING__CONFIGURATION]:"Configuration",[a.NETWORKING__VPC_SETTINGS]:"VPC settings",[a.NETWORKING__CLUSTER_WIDE_PROXY]:"Cluster-wide proxy",[a.NETWORKING__CIDR_RANGES]:"CIDR ranges",[a.CLUSTER_ROLES_AND_POLICIES]:"Cluster roles and policies",[a.CLUSTER_UPDATES]:"Cluster updates",[a.REVIEW_AND_CREATE]:"Review and create"}},26871:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=a(88139),s=l(a(5556)),o=a(13818),u=a(38715);function c(e){let{fieldId:t}=e;const[a,{error:l,touched:s}]=(0,i.useField)(t);return r.default.createElement(o.FormGroup,{fieldId:t},r.default.createElement(o.Split,{hasGutter:!0},r.default.createElement(o.SplitItem,null,r.default.createElement(o.Checkbox,(0,n.default)({},a,{isChecked:!!a.value,id:t})))),r.default.createElement(u.FormGroupHelperText,{touched:s,error:l}))}c.propTypes={fieldId:s.default.string.isRequired},t.default=c},7685:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(71699));t.default=n.default},36858:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.LabelGridItem=t.CompoundFieldArray=void 0;var n=l(a(94634)),r=l(a(43693)),i=l(a(93345)),s=a(88139),o=a(9704),u=a(5556),c=a(13818),d=a(92057),m=a(18105),p=a(82693),f=l(a(12200)),E=a(77218);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const h=e=>{let{fieldSpan:t,label:a,isRequired:l,helpText:n}=e;return i.default.createElement(c.GridItem,{className:"field-array-title",span:t},i.default.createElement("p",{className:"pf-v5-c-form__label-text",id:"field-array-label"},a,l?i.default.createElement("span",{className:"pf-v5-c-form__label-required"},"*"):null),n?i.default.createElement("p",{className:"pf-v5-c-form__helper-text",id:"field-array-help-text"},n):null)};t.LabelGridItem=h,h.propTypes={fieldSpan:u.PropTypes.number.isRequired,label:u.PropTypes.string,isRequired:u.PropTypes.bool,helpText:u.PropTypes.string};const _=e=>{let{addNewField:t,areFieldsFilled:a,title:l="Add more",label:n,addMoreButtonDisabled:r=!1}=e;const s=!(null!=a&&a.length)||(null==a?void 0:a.includes(!1))||r;return i.default.createElement(c.GridItem,{className:"field-grid-item"},i.default.createElement(c.Button,{label:n,onClick:t,icon:i.default.createElement(d.PlusCircleIcon,null),variant:"link",isDisabled:s},l))};_.propTypes={addNewField:u.PropTypes.func.isRequired,areFieldsFilled:u.PropTypes.arrayOf(u.PropTypes.bool).isRequired,title:u.PropTypes.string,addMoreButtonDisabled:u.PropTypes.bool,label:u.PropTypes.string};const S=e=>{let{index:t,fields:a,onClick:l,minusButtonDisabledMessage:n}=e;const r=0===t&&1===a.length,s=n||"To delete the item, add another item first.";return i.default.createElement(c.GridItem,{className:"field-grid-item minus-button",span:1},i.default.createElement(f.default,{disableReason:r&&s,tooltipProps:{position:"right",distance:0},onClick:l,icon:i.default.createElement(d.MinusCircleIcon,null),variant:"link"}))};S.propTypes={index:u.PropTypes.number.isRequired,fields:u.PropTypes.array.isRequired,onClick:u.PropTypes.func.isRequired,minusButtonDisabledMessage:u.PropTypes.string};const b=e=>{let{isLast:t,errorMessage:a,touched:l,isGroupError:n}=e;return a&&t&&(l||n)?i.default.createElement(c.GridItem,{className:"field-grid-item pf-v5-c-form__helper-text pf-m-error"},a):null};b.propTypes={isLast:u.PropTypes.bool.isRequired,errorMessage:u.PropTypes.string,touched:u.PropTypes.bool,isGroupError:u.PropTypes.bool};const C=e=>{const{index:t,fieldSpan:a,compoundFields:l,disabled:r,onFieldChange:o}=e,u=Math.max(Math.floor(a/l.length),1),{getFieldProps:d,getFieldMeta:m,setFieldValue:f}=(0,p.useFormState)();return i.default.createElement(i.default.Fragment,null,i.default.createElement(c.GridItem,{className:"field-grid-item",span:u},i.default.createElement(s.Field,(0,n.default)({component:E.ReduxVerticalFormGroup},l[0],{id:`users.${t}.username`,name:`users.${t}.username`,type:"text",disabled:r,input:v(v({},d(`users.${t}.username`)),{},{onChange:(e,a)=>{o(e,a,t,`users.${t}.username`),f(`users.${t}.username`,a)},onBlur:e=>{const{onBlur:a}=d(`users.${t}.username`);a(e)}}),meta:m(`users.${t}.username`),placeholder:l[0].getPlaceholderText?l[0].getPlaceholderText(t):void 0,helpText:l[0].helpText||l[0].getHelpText&&l[0].getHelpText(t)||void 0}))),i.default.createElement(c.GridItem,{className:"field-grid-item",span:u},i.default.createElement(s.Field,(0,n.default)({component:E.ReduxVerticalFormGroup},l[1],{id:`users.${t}.password`,name:`users.${t}.password`,type:"password",disabled:r,input:v(v({},d(`users.${t}.password`)),{},{onChange:(e,a)=>{o(e,a,t,`users.${t}.password`),f(`users.${t}.password`,a)},onBlur:e=>{const{onBlur:a}=d(`users.${t}.password`);a(e)}}),meta:m(`users.${t}.password`),placeholder:l[1].getPlaceholderText?l[1].getPlaceholderText(t):void 0,helpText:l[1].helpText||l[1].getHelpText&&l[1].getHelpText(t)||void 0}))),i.default.createElement(c.GridItem,{className:"field-grid-item",span:u},i.default.createElement(s.Field,(0,n.default)({component:E.ReduxVerticalFormGroup},l[2],{id:`users.${t}.password-confirm`,name:`users.${t}.password-confirm`,type:"password",disabled:r,input:v(v({},d(`users.${t}.password-confirm`)),{},{onChange:(e,a)=>{o(e,a,t,`users.${t}.password-confirm`),f(`users.${t}.password-confirm`,a)},onBlur:e=>{const{onBlur:a}=d(`users.${t}.password-confirm`);a(e)}}),meta:m(`users.${t}.password-confirm`),placeholder:l[2].getPlaceholderText?l[2].getPlaceholderText(t):void 0,helpText:l[2].helpText||l[2].getHelpText&&l[2].getHelpText(t)||void 0}))))};C.propTypes={compoundFields:u.PropTypes.array.isRequired,index:u.PropTypes.number,fieldSpan:u.PropTypes.number,disabled:u.PropTypes.bool,onFieldChange:u.PropTypes.func,setTouched:u.PropTypes.func};const y=e=>{const{label:t,isRequired:a,helpText:l,fieldSpan:r,addMoreTitle:u,compoundFields:c,addMoreButtonDisabled:d,minusButtonDisabledMessage:f,isGroupError:E}=e,[g,v]=i.default.useState([]),[y,I]=i.default.useState(!1),{setFieldTouched:A,getFieldMeta:R,values:{[m.FieldId.USERS]:T}}=(0,p.useFormState)(),O=e=>{e(0,{username:"",password:"","password-confirm":""}),v((e=>[!1,...e]))};i.default.useEffect((()=>{0===(null==T?void 0:T.length)?O():v(null==T?void 0:T.map((e=>!!e)))}),[T]);const P=(e,t,a,l)=>{A(l,!0),v((e=>{const l=[...e];return l[a]=!!t,l}))};return i.default.createElement(s.FieldArray,{name:m.FieldId.USERS,render:s=>{let{remove:m,insert:p}=s;return i.default.createElement(i.default.Fragment,null,i.default.createElement(h,{fieldSpan:r,label:`${t} (${null==T?void 0:T.length})`,isRequired:a,helpText:l}),i.default.createElement(_,{addNewField:()=>O(p),areFieldsFilled:g,label:u,title:u,addMoreButtonDisabled:d}),null==T?void 0:T.map(((t,a)=>i.default.createElement(i.default.Fragment,{key:`${T[a]}`},i.default.createElement(C,(0,n.default)({compoundFields:c,item:`${T[a]}`,index:a,onFieldChange:P,setTouched:I,fieldSpan:r},e)),i.default.createElement(S,{index:a,fields:T,onClick:()=>((e,t)=>{t(e),v((t=>{const a=[...t];return(0,o.pullAt)(a,e),a}))})(a,m),minusButtonDisabledMessage:f}),i.default.createElement(b,{isLast:a===T.length-1,errorMessage:R("users").error,touched:y,isGroupError:E})))))}})};t.CompoundFieldArray=y,y.propTypes={label:u.PropTypes.string,isRequired:u.PropTypes.bool,helpText:u.PropTypes.string,fieldSpan:u.PropTypes.number,addMoreTitle:u.PropTypes.string,compoundFields:u.PropTypes.array,addMoreButtonDisabled:u.PropTypes.bool,minusButtonDisabledMessage:u.PropTypes.string,isGroupError:u.PropTypes.bool}},49383:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(88139),i=l(a(5556)),s=l(a(26871));const o=e=>{let{name:t}=e;return n.default.createElement("span",{className:"pf-v5-u-display-none"},n.default.createElement(r.Field,{fieldId:t,component:s.default,name:`${t}`,validate:e=>e?void 0:" "}))};o.propTypes={name:i.default.string.isRequired},t.default=o},33076:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=l(a(55213));class u extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"changeHandler",(e=>{const{input:t,onChangeCallback:a}=this.props,l=e.target.value;t.onChange(l),a&&a(e,l)}))}componentDidMount(){const{defaultValue:e,disableDefaultValueHandling:t,input:a}=this.props;t&&!this.isCurrentValueDisabled()||a.onChange(e)}componentDidUpdate(){const{defaultValue:e,input:t,disableDefaultValueHandling:a}=this.props;a||""===t.value&&t.onChange(e),this.isCurrentValueDisabled()&&t.onChange(e)}isCurrentValueDisabled(){const{options:e,input:t,defaultValue:a}=this.props;return e.some((e=>t.value===e.value&&e.disabled&&e.value!==a))}render(){const{options:e,className:t,input:a,isDisabled:l}=this.props;return r.default.createElement(r.default.Fragment,null,e.map((e=>{const n=r.default.createElement(s.SplitItem,{className:"pf-v5-u-mr-sm"},r.default.createElement(s.Radio,{className:t||"",isChecked:a.value===e.value,key:`${a.name}-${e.value}`,value:e.value,name:a.name,id:`${a.name}-${e.value}`,"data-testid":`${a.name}-${e.value}`,"aria-label":e.ariaLabel||e.label,label:e.label,onChange:this.changeHandler,isDisabled:e.disabled||l,description:e.description}),e.extraField?e.extraField:null);return r.default.createElement(s.Split,{key:`${a.name}-${e.value}-fragment`},e.tooltipText?r.default.createElement(s.Tooltip,{content:e.tooltipText,position:"right"},n):n,e.extendedHelpText?r.default.createElement(s.SplitItem,null,r.default.createElement(o.default,{hint:e.extendedHelpText})):null)})))}}u.propTypes={defaultValue:i.default.string,isDisabled:i.default.bool,onChangeCallback:i.default.func,disableDefaultValueHandling:i.default.bool,input:i.default.shape({name:i.default.string.isRequired,onChange:i.default.func.isRequired,value:i.default.string}).isRequired,className:i.default.string,options:i.default.arrayOf(i.default.shape({label:i.default.oneOfType([i.default.string,i.default.node]).isRequired,ariaLabel:i.default.string,value:i.default.string.isRequired,disabled:i.default.bool,description:i.default.node,extraField:i.default.node,extendedHelpText:i.default.oneOfType([i.default.string,i.default.node])})).isRequired},t.default=u},15771:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(93345)),s=l(a(5556)),o=a(13818),u=a(38715),c=l(a(55213));const d=["name","value"],m=["label","meta","input","isSwitch","helpText","extendedHelpText","isRequired","showInitialValidationErrors"];function p(e){const{label:t,meta:{error:a,touched:l},input:{name:s,value:p},isSwitch:f=!1,helpText:E,extendedHelpText:g,isRequired:v=!1,showInitialValidationErrors:h=!1}=e,_=(0,r.default)(e.input,d),S=(0,r.default)(e,m),b=f?o.Switch:o.Checkbox;return i.default.createElement(o.FormGroup,{fieldId:s},i.default.createElement(o.Split,{hasGutter:!0},i.default.createElement(o.SplitItem,null,i.default.createElement(b,(0,n.default)({isChecked:!!p,id:s,name:s},_,S,{label:i.default.createElement(i.default.Fragment,null,t,v?i.default.createElement("span",{className:"pf-v5-c-form__label-required redux-checkbox-required","aria-hidden":"true"},"*"):null),required:v}))),g&&i.default.createElement(o.SplitItem,null,i.default.createElement(c.default,{hint:g}))),i.default.createElement(u.FormGroupHelperText,{touched:l||h,error:a},E))}p.propTypes={label:s.default.string.isRequired,input:s.default.object.isRequired,meta:s.default.object.isRequired,isSwitch:s.default.bool,isDisabled:s.default.bool,extendedHelpText:s.default.oneOfType([s.default.string,s.default.node]),isRequired:s.default.bool,showInitialValidationErrors:s.default.bool,isHelperTextBeforeField:s.default.bool,helpText:s.default.oneOfType([s.default.string,s.default.node]),onChange:s.default.func,isFilled:s.default.bool},t.default=p},74311:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(5556)),s=a(47406),o=l(a(73569));function u(e){const{fieldName:t}=e;return r.default.createElement(s.FieldArray,(0,n.default)({name:t,component:o.default},e))}u.propTypes={fieldName:i.default.string},t.default=u},75885:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=a(38715),u=l(a(55213));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}class m extends r.default.Component{constructor(){super(...arguments),(0,n.default)(this,"state",{filename:""}),(0,n.default)(this,"onTextAreaBlur",(e=>{const{input:{onBlur:t}}=this.props;t(e)})),(0,n.default)(this,"handleFileChange",((e,t)=>{const{input:a}=this.props;this.setState({filename:t.name}),a.onChange(t)})),(0,n.default)(this,"handleFileContentChange",((e,t)=>{const{input:a}=this.props;a.onChange(t)})),(0,n.default)(this,"handleFileRejected",((e,t)=>{const{input:{onBlur:a},dropzoneProps:l}=this.props;a(),l&&l.onDropRejected&&l.onDropRejected(e,t)})),(0,n.default)(this,"handleClear",(()=>{const{input:e}=this.props;e.onChange(""),this.setState({filename:""})}))}componentDidMount(){const{placeholder:e,input:{name:t}}=this.props;document.getElementById(t).addEventListener("blur",this.onTextAreaBlur),e&&document.getElementById(t).setAttribute("placeholder",e)}componentWillUnmount(){var e;const{input:{name:t}}=this.props;null===(e=document.getElementById(t))||void 0===e||e.removeEventListener("blur",this.onTextAreaBlur)}render(){const{helpText:e,meta:{error:t,dirty:a,touched:l},input:{name:n,value:i},isRequired:c,label:m,extendedHelpTitle:p,extendedHelpText:f,dropzoneProps:E}=this.props,{filename:g}=this.state;return r.default.createElement(s.FormGroup,{fieldId:n,label:m,labelIcon:f&&r.default.createElement(u.default,{title:p,hint:f}),isRequired:c},r.default.createElement(s.FileUpload,{allowEditingUploadedText:!0,isDragActive:!0,id:n,name:n,type:"text",value:i,filename:g,validated:(a||l)&&t?"error":"default",onFileInputChange:this.handleFileChange,onDataChange:this.handleFileContentChange,onTextChange:this.handleFileContentChange,onClearClick:this.handleClear,dropzoneProps:d(d({},E),{},{onDropRejected:this.handleFileRejected})}),r.default.createElement(o.FormGroupHelperText,{touched:a||l,error:t},e))}}m.defaultProps={helpText:"",isRequired:!1},m.propTypes={helpText:i.default.string,extendedHelpTitle:i.default.oneOfType([i.default.string,i.default.node]),extendedHelpText:i.default.oneOfType([i.default.string,i.default.node]),input:i.default.object.isRequired,meta:i.default.object.isRequired,isRequired:i.default.bool,label:i.default.string,placeholder:i.default.string,dropzoneProps:i.default.object},t.default=m},30493:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(43693)),s=l(a(93345)),o=l(a(5556)),u=a(13818),c=a(38715),d=l(a(55213));const m=["options","label","helpText","meta","input","disabled","isFormGroup","isRequired","extendedHelpText"];class p extends s.default.Component{constructor(){super(...arguments),(0,i.default)(this,"state",{value:""}),(0,i.default)(this,"onChange",((e,t)=>{const{input:{onChange:a}}=this.props;this.setState({value:e}),a(t,e)}))}render(){const e=this.props,{options:t,label:a,helpText:l,meta:{error:i,touched:o},input:p,disabled:f,isFormGroup:E,isRequired:g,extendedHelpText:v}=e,h=(0,r.default)(e,m),{value:_}=this.state,S=s.default.createElement(u.FormSelect,(0,n.default)({id:p.name,name:p.name,value:_},p,{onChange:(e,t)=>this.onChange(t,e),isDisabled:f},h),t.map((e=>s.default.createElement(u.FormSelectOption,{key:e.value||e.name,value:e.value,label:e.name}))));return E?s.default.createElement(u.FormGroup,{fieldId:p.name,label:a,isRequired:g,labelIcon:v&&s.default.createElement(d.default,{hint:v})},S,s.default.createElement(c.FormGroupHelperText,{touched:o,error:i},l)):S}}p.propTypes={options:o.default.arrayOf(o.default.shape({name:o.default.string.isRequired,value:o.default.string})).isRequired,input:o.default.shape({onChange:o.default.func.isRequired,name:o.default.string.isRequired}).isRequired,label:o.default.string,helpText:o.default.string,meta:o.default.shape({error:o.default.oneOfType([o.default.string,o.default.bool]),touched:o.default.bool}).isRequired,disabled:o.default.bool,isFormGroup:o.default.bool,isRequired:o.default.bool,extendedHelpText:o.default.oneOfType([o.default.string,o.default.node])},p.defaultProps={isFormGroup:!0},t.default=p},19183:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(5556)),s=a(47406),o=a(13818),u=a(23158),c=a(56862),d=a(93413),m=a(84037),p=l(a(12200));a(66227);const f=e=>{let{forceTouch:t,input:a,meta:{touched:l,error:i}}=e;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.TextInput,(0,n.default)({"aria-label":"Key-value list key",validated:(l||t)&&i?"error":"default"},a)),(l||t)&&i&&r.default.createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},i))};f.propTypes={touch:i.default.func,forceTouch:i.default.bool,input:i.default.object.isRequired,meta:i.default.shape({error:i.default.string,touched:i.default.bool})};const E=e=>{let{forceTouch:t,input:a,meta:{touched:l,error:i}}=e;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.TextInput,(0,n.default)({"aria-label":"Key-value list value",validated:(l||t)&&i?"error":"default"},a)),(l||t)&&i&&r.default.createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},i))};E.propTypes={forceTouch:i.default.bool,input:i.default.object.isRequired,meta:i.default.shape({error:i.default.string,touched:i.default.bool})};const g=e=>{let{fields:t,forceTouch:a}=e;return r.default.createElement(o.Grid,{hasGutter:!0},r.default.createElement(o.GridItem,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Key"),r.default.createElement(o.GridItem,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Value"),r.default.createElement(o.GridItem,{span:4}),t.map(((e,l)=>{const n=0===l&&1===t.length;return r.default.createElement(r.default.Fragment,{key:`${t.get(l).id}-${e.key}`},r.default.createElement(o.GridItem,{span:4},r.default.createElement(s.Field,{name:`${e}.key`,type:"text",component:f,index:l,validate:m.validateLabelKey,forceTouch:a})),r.default.createElement(o.GridItem,{span:4},r.default.createElement(s.Field,{name:`${e}.value`,type:"text",component:E,index:l,validate:m.validateLabelValue,forceTouch:a})),r.default.createElement(o.GridItem,{span:4},r.default.createElement(o.Button,{onClick:()=>{t.remove(l)},icon:r.default.createElement(u.MinusCircleIcon,null),variant:"link",isDisabled:n,"aria-label":"Remove item",className:n?"reduxFormKeyValueList-removeBtn-disabled":"reduxFormKeyValueList-removeBtn"})))})),r.default.createElement(o.GridItem,null,r.default.createElement(p.default,{onClick:()=>t.push({id:(0,d.getRandomID)()}),icon:r.default.createElement(c.PlusCircleIcon,null),variant:"link",isInline:!0,className:"reduxFormKeyValueList-addBtn",disableReason:(l=t.getAll(),l&&l.some((e=>!e.key))&&d.nodeKeyValueTooltipText)},"Add additional label")));var l};g.propTypes={forceTouch:i.default.bool,fields:i.default.oneOfType([i.default.object,i.default.array]).isRequired,meta:i.default.shape({error:i.default.string})},t.default=g},7100:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(91847)),r=l(a(43693)),i=l(a(93345)),s=l(a(5556)),o=a(13818);const u=["name","items","onChange","isDisabled"];class c extends i.default.Component{constructor(){super(...arguments),(0,r.default)(this,"state",{value:null}),(0,r.default)(this,"handleChange",((e,t)=>{const{value:a}=t.currentTarget;this.setState({value:a});const{name:l,onChange:n}=this.props;n(l,a)}))}render(){const e=this.props,{name:t,items:a,onChange:l,isDisabled:r=!1}=e,s=(0,n.default)(e,u),{value:c}=this.state;return i.default.createElement(o.FormGroup,s,a.map((e=>i.default.createElement(o.Radio,{isChecked:null===c?!0===e.isChecked:c===e.value,onChange:(e,t)=>this.handleChange(t,e),value:e.value,label:e.label,isDisabled:r,name:`${t}:${e.value}`,id:`${t}:${e.value}`,key:`${t}:${e.value}`}))))}}c.propTypes={name:s.default.oneOfType([s.default.string,s.default.node,s.default.element]).isRequired,items:s.default.arrayOf(s.default.shape({label:s.default.oneOfType([s.default.string,s.default.node,s.default.element]).isRequired,value:s.default.string.isRequired,isChecked:s.default.bool})).isRequired,isDisabled:s.default.bool,onChange:s.default.func.isRequired},t.default=c},9507:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(47406),s=a(13818),o=a(23158),u=a(56862),c=a(93413),d=a(84037),m=l(a(30493)),p=l(a(38871));a(66227);const f=e=>{let{fields:t,meta:{error:a,submitFailed:l},isEditing:r=!1,canAddMore:f}=e;return n.default.createElement(s.Grid,{hasGutter:!0},n.default.createElement(s.GridItem,{span:3,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Key"),n.default.createElement(s.GridItem,{span:3,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Value"),n.default.createElement(s.GridItem,{span:3,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Effect"),n.default.createElement(s.GridItem,{span:3}),t.map(((e,a)=>{const l=!r&&0===a&&1===t.length;return n.default.createElement(n.default.Fragment,{key:`${t.get(a).id}-${e.key}`},n.default.createElement(s.GridItem,{span:3},n.default.createElement(i.Field,{name:`${e}.key`,component:p.default,index:a,"aria-label":"Key-value list key",isRequired:!0,validate:d.checkTaintKey})),n.default.createElement(s.GridItem,{span:3},n.default.createElement(i.Field,{name:`${e}.value`,component:p.default,index:a,"aria-label":"Key-value list value",isRequired:!0,validate:d.checkTaintValue})),n.default.createElement(s.GridItem,{span:3},n.default.createElement(i.Field,{name:`${e}.effect`,component:m.default,options:[{name:"NoSchedule",value:"NoSchedule"},{name:"NoExecute",value:"NoExecute"},{name:"PreferNoSchedule",value:"PreferNoSchedule"}],isFormGroup:!1})),n.default.createElement(s.GridItem,{span:3},n.default.createElement(s.Button,{onClick:()=>t.remove(a),"aria-label":"Remove item",icon:n.default.createElement(o.MinusCircleIcon,null),variant:"link",isDisabled:l,className:l?"reduxFormKeyValueList-removeBtn-disabled":"reduxFormKeyValueList-removeBtn"})))})),n.default.createElement(s.GridItem,null,n.default.createElement(s.Button,{onClick:()=>t.push({id:(0,c.getRandomID)(),effect:"NoSchedule"}),icon:n.default.createElement(u.PlusCircleIcon,null),variant:"link",isInline:!0,isDisabled:!f,className:"reduxFormKeyValueList-addBtn pf-v5-u-mb-lg"},"Add taint"),l&&a&&n.default.createElement("span",null,a)))};f.propTypes={fields:r.default.array.isRequired,isEditing:r.default.bool,canAddMore:r.default.bool,meta:r.default.shape({error:r.default.string,warning:r.default.string,submitFailed:r.default.bool})},t.default=f},38871:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(91847)),i=l(a(93345)),s=l(a(5556)),o=a(13818),u=a(5600),c=a(73796),d=a(2923),m=a(38715),p=l(a(55213));const f=["label","helpText","extendedHelpText","isRequired","meta","input","disabled","isTextArea","showHelpTextOnError","inputPrefix","formGroupClass","hasOtherValidation","onAutocomplete","getAutocompleteValue","getAutocompleteText"],E=["getHelpText","getPlaceholderText"],g=e=>{let{label:t,helpText:a,extendedHelpText:l,isRequired:s,meta:{error:g,touched:v},input:h,disabled:_,isTextArea:S,showHelpTextOnError:b,inputPrefix:C,formGroupClass:y,hasOtherValidation:I=!1,onAutocomplete:A,getAutocompleteValue:R,getAutocompleteText:T=e=>e}=e,O=(0,r.default)(e,f);const[P,D]=i.default.useState(!0),[L,N]=i.default.useState(!1),[w,k]=i.default.useState(R?R():void 0),F=S?o.TextArea:o.TextInput,M=S?"disabled":"isDisabled",x={[M]:_},G="password"===O.type,U=`${O.id||""}-redo`,H=I||!v||!g;let V,{onFocus:B}=h,{onBlur:q}=h;if(R){const e=e=>{e.stopPropagation(),h.onChange(w),A&&A(w,h.name),N(!1)};B=function(){N(!0),h.onFocus&&h.onFocus(...arguments)},q=function(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];"menuitem"!==(null===(e=a[0].relatedTarget.attributes)||void 0===e||null===(e=e.role)||void 0===e?void 0:e.nodeValue)&&a[0].relatedTarget.id!==U&&N(!1),h.onBlur&&h.onBlur(...a)};const t=()=>{R&&k(R())};V=i.default.createElement(o.Menu,{onSelect:e},i.default.createElement(o.MenuContent,null,i.default.createElement(o.MenuList,null,i.default.createElement(o.MenuItem,{itemId:0,actions:i.default.createElement(o.MenuItemAction,{icon:i.default.createElement(d.RedoIcon,{"aria-hidden":!0}),onClick:t,actionId:"redo",id:U,"aria-label":"Redo"})},T(w)))))}const{getHelpText:j,getPlaceholderText:z}=O,W=(0,r.default)(O,E),$=i.default.createElement(o.InputGroup,{className:H&&"valid-field"},C?i.default.createElement(o.InputGroupItem,null,i.default.createElement(o.InputGroupText,null,C)):null,i.default.createElement(o.InputGroupItem,{isFill:!0},i.default.createElement(F,(0,n.default)({id:h.name,isRequired:s,validated:H?"default":"error"},x,h,W,{type:G&&!P?"text":O.type,onFocus:B,onBlur:q,className:y}))),G&&i.default.createElement(o.InputGroupItem,null,i.default.createElement(o.Button,{"aria-label":P?"show-password":"hide-password",variant:"control",onClick:()=>D((e=>!e))},P?i.default.createElement(c.EyeSlashIcon,null):i.default.createElement(u.EyeIcon,null))));return i.default.createElement(o.FormGroup,{fieldId:h.name,label:t,isRequired:s,labelIcon:l&&i.default.createElement(p.default,{hint:l}),className:y},R&&i.default.createElement(o.Popper,{trigger:$,popper:V,isVisible:L,enableFlip:!1}),!R&&$,i.default.createElement(m.FormGroupHelperText,{touched:v,error:g,id:`${h.name}-helper`},a))};g.defaultProps={helpText:"",isRequired:!1,showHelpTextOnError:!0,inputPrefix:""},g.propTypes={label:s.default.string,helpText:s.default.oneOfType([s.default.string,s.default.node]),extendedHelpText:s.default.oneOfType([s.default.string,s.default.node]),disabled:s.default.bool,input:s.default.object.isRequired,meta:s.default.object.isRequired,isRequired:s.default.bool,isTextArea:s.default.bool,hasOtherValidation:s.default.bool,showHelpTextOnError:s.default.bool,inputPrefix:s.default.string,formGroupClass:s.default.string,onAutocomplete:s.default.func,getAutocompleteValue:s.default.func,getAutocompleteText:s.default.func},t.default=g},73569:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=l(a(72568)),s=a(5556),o=a(47406),u=a(13818),c=a(23158),d=a(56862),m=a(93413),p=l(a(12200)),f=l(a(38871));a(48475);const E=e=>{let{fieldSpan:t,label:a,isRequired:l,helpText:n}=e;return r.default.createElement(u.GridItem,{className:"field-array-title",span:t},r.default.createElement("p",{className:"pf-v5-c-form__label-text",id:"field-array-label"},a,l?r.default.createElement("span",{className:"pf-v5-c-form__label-required"},"*"):null),n?r.default.createElement("p",{className:"pf-v5-c-form__helper-text",id:"field-array-help-text"},n):null)};E.propTypes={fieldSpan:s.PropTypes.number.isRequired,label:s.PropTypes.string,isRequired:s.PropTypes.bool,helpText:s.PropTypes.string};const g=e=>{let{addNewField:t,areFieldsFilled:a,title:l="Add more",addMoreButtonDisabled:n=!1}=e;const i=!a.length||a.includes(!1)||n;return r.default.createElement(u.GridItem,{className:"field-grid-item"},r.default.createElement(u.Button,{onClick:t,icon:r.default.createElement(d.PlusCircleIcon,null),variant:"link",isDisabled:i},l))};g.propTypes={addNewField:s.PropTypes.func.isRequired,areFieldsFilled:s.PropTypes.arrayOf(s.PropTypes.bool).isRequired,title:s.PropTypes.string,addMoreButtonDisabled:s.PropTypes.bool};const v=e=>{let{isLast:t,errorMessage:a,touched:l,isGroupError:n}=e;return a&&t&&(l||n)?r.default.createElement(u.GridItem,{className:"field-grid-item pf-v5-c-form__helper-text pf-m-error"},a):null};v.propTypes={isLast:s.PropTypes.bool.isRequired,errorMessage:s.PropTypes.string,touched:s.PropTypes.bool,isGroupError:s.PropTypes.bool};const h=e=>{let{index:t,fields:a,onClick:l,minusButtonDisabledMessage:n}=e;const i=0===t&&1===a.length,s=n||"To delete the item, add another item first.";return r.default.createElement(u.GridItem,{className:"field-grid-item minus-button",span:1},r.default.createElement(p.default,{disableReason:i&&s,tooltipProps:{position:"right",distance:0},onClick:l,icon:r.default.createElement(c.MinusCircleIcon,null),variant:"link"}))};h.propTypes={index:s.PropTypes.number.isRequired,fields:s.PropTypes.object.isRequired,onClick:s.PropTypes.func.isRequired,minusButtonDisabledMessage:s.PropTypes.string};const _=e=>{let{item:t,index:a,fields:l,fieldSpan:n,fieldName:i,placeholderText:s,validateField:c,disabled:d,onFieldChange:m,setTouched:p}=e;const{id:E}=l.get(a);return r.default.createElement(u.GridItem,{className:"field-grid-item",span:n},r.default.createElement(o.Field,{key:E,component:f.default,name:`${t}.${i}`,type:"text",placeholder:`${s} ${a+1}`,validate:c,disabled:d,onChange:(e,t)=>m(e,t,a),onBlur:()=>{p(!0)}}))};_.propTypes={item:s.PropTypes.object.isRequired,index:s.PropTypes.number.isRequired,fields:s.PropTypes.array.isRequired,fieldSpan:s.PropTypes.number,fieldName:s.PropTypes.string,placeholderText:s.PropTypes.string,validateField:s.PropTypes.func,disabled:s.PropTypes.bool,onFieldChange:s.PropTypes.func,setTouched:s.PropTypes.func.isRequired};const S=e=>{const{fields:t,label:a,helpText:l,isRequired:s,onFormChange:o,fieldSpan:u=8,isGroupError:c,meta:{error:d,submitFailed:p},FieldGridItemComponent:f=_,isFieldFilled:S=e=>!!e.name,addMoreTitle:b,addMoreButtonDisabled:C,minusButtonDisabledMessage:y}=e,[I,A]=r.default.useState(!1),[R,T]=r.default.useState([]),O=()=>{t.insert(0,{id:(0,m.getRandomID)()}),T((e=>[!1,...e]))};r.default.useEffect((()=>{p&&A(!0)}),[p]),r.default.useEffect((()=>{0===t.length?O():T(t.map(S))}),[]);const P=(e,t,a)=>{I||A(!0),o&&o(e,t),T((e=>{const l=[...e];return l[a]=!!t,l}))};return r.default.createElement(r.default.Fragment,null,r.default.createElement(E,{fieldSpan:u,label:`${a} (${t.length})`,isRequired:s,helpText:l}),r.default.createElement(g,{addNewField:O,areFieldsFilled:R,title:b,addMoreButtonDisabled:C}),t.map(((a,l)=>r.default.createElement(r.default.Fragment,{key:`${t.get(l).id}`},r.default.createElement(f,(0,n.default)({item:a,index:l,onFieldChange:P,setTouched:A,fieldSpan:u},e)),r.default.createElement(h,{index:l,fields:t,onClick:()=>(e=>{t.remove(e),T((t=>{const a=[...t];return(0,i.default)(a,e),a}))})(l),minusButtonDisabledMessage:y}),r.default.createElement(v,{isLast:l===t.length-1,errorMessage:d,touched:I,isGroupError:c})))))};S.propTypes={fields:s.PropTypes.object.isRequired,label:s.PropTypes.string,helpText:s.PropTypes.string,isRequired:s.PropTypes.bool,onFormChange:s.PropTypes.func,fieldSpan:s.PropTypes.number,isGroupError:s.PropTypes.bool,meta:s.PropTypes.shape({error:s.PropTypes.string,submitFailed:s.PropTypes.bool}),FieldGridItemComponent:s.PropTypes.func,addMoreTitle:s.PropTypes.string,isFieldFilled:s.PropTypes.func,addMoreButtonDisabled:s.PropTypes.bool,minusButtonDisabledMessage:s.PropTypes.string},t.default=S},27235:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(94634)),r=l(a(93345)),i=a(5556),s=a(47406),o=a(13818),u=l(a(38871)),c=l(a(73569));const d=e=>{let{item:t,index:a,fields:l,fieldSpan:i,compoundFields:c,disabled:d,onFieldChange:m,setTouched:p}=e;const{id:f}=l.get(a),E=Math.max(Math.floor(i/c.length),1);return r.default.createElement(r.default.Fragment,null,c.map((e=>{const l=`${f}-${e.name}`;return r.default.createElement(o.GridItem,{className:"field-grid-item",span:E,key:l},r.default.createElement(s.Field,(0,n.default)({component:u.default},e,{name:`${t}.${e.name}`,type:e.type||"text",disabled:d,placeholder:e.getPlaceholderText?e.getPlaceholderText(a):void 0,helpText:e.helpText||e.getHelpText&&e.getHelpText(a)||void 0,onChange:(e,t)=>m(e,t,a),onBlur:()=>{p(!0)}})))})))};d.propTypes={item:i.PropTypes.string.isRequired,index:i.PropTypes.number.isRequired,fields:i.PropTypes.object.isRequired,fieldSpan:i.PropTypes.number,compoundFields:i.PropTypes.array.isRequired,disabled:i.PropTypes.bool,onFieldChange:i.PropTypes.func.isRequired,setTouched:i.PropTypes.func.isRequired},t.default=e=>r.default.createElement(c.default,(0,n.default)({},e,{FieldGridItemComponent:d}))},77218:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RadioButtons",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ReduxCheckbox",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ReduxFieldArray",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ReduxFormDropdown",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ReduxFormKeyValueList",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ReduxFormRadioGroup",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ReduxFormTaints",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ReduxSelectDropdown",{enumerable:!0,get:function(){return d.ReduxSelectDropdown}}),Object.defineProperty(t,"ReduxVerticalFormGroup",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"RenderCompoundArrayFields",{enumerable:!0,get:function(){return p.default}});var n=l(a(19183)),r=l(a(9507)),i=l(a(33076)),s=l(a(15771)),o=l(a(74311)),u=l(a(30493)),c=l(a(7100)),d=a(47825),m=l(a(38871)),p=l(a(27235))},55441:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(19202),o=a(45924),u=a(36509),c=a(44027),d=a(69304),m=a(91167),p=l(a(6071)),f=a(10135),E=a(22916),g=l(a(96346)),v=l(a(20003)),h=a(53350),_=a(2663);const S=e=>{const t=(0,m.usePreviousProps)(e);n.default.useEffect((()=>{const{getUnhealthyClusters:a,viewOptions:l}=e;t&&(0,f.viewPropsChanged)(l,t.viewOptions)&&a((0,f.createOverviewQueryObject)(l))}),[e,t]);const{unhealthyClusters:a,viewOptions:l}=e;if(a.fulfilled&&0===a.subscriptions.length)return n.default.createElement(i.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(i.CardTitle,null,"Clusters with issues"),n.default.createElement(i.CardBody,null,n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateHeader,{icon:n.default.createElement(i.EmptyStateIcon,{icon:s.CheckCircleIcon,color:c.global_success_color_100.value})}),n.default.createElement(i.EmptyStateBody,null,"No issues detected"))));const r=[{title:"Name"},{title:"Issues detected",transforms:[o.textCenter],columnTransforms:[o.textCenter]}],S=a.pending&&a.subscriptions&&a.subscriptions.length>0?(0,v.default)(l.pageSize):a.subscriptions.map((e=>(e=>{const t=n.default.createElement("span",null,(0,h.getIssuesCount)(e));return{cells:[{title:n.default.createElement(d.Link,{to:`/details/s/${e.id}`},(0,p.default)({subscription:e}))},{title:t}],subscription:e}})(e))),b=a.pending?void 0:e=>(0,_.actionResolver)(e.subscription);return n.default.createElement(i.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(i.CardTitle,null,"Clusters with issues"),n.default.createElement(i.CardBody,null,n.default.createElement(u.Table,{className:"clusters-with-issues","aria-label":"Clusters with issues",cells:r,rows:S,actionResolver:b,variant:o.TableVariant.compact},n.default.createElement(u.TableHeader,null),n.default.createElement(u.TableBody,null)),n.default.createElement(g.default,{viewType:E.viewConstants.OVERVIEW_VIEW,currentPage:l.currentPage,pageSize:l.pageSize,totalCount:l.totalCount,totalPages:l.totalPages,variant:"bottom"})))};S.propTypes={unhealthyClusters:r.default.shape({subscriptions:r.default.array,pending:r.default.bool,fulfilled:r.default.bool}).isRequired,viewOptions:r.default.shape({currentPage:r.default.number,pageSize:r.default.number,totalCount:r.default.number,totalPages:r.default.number}).isRequired,getUnhealthyClusters:r.default.func.isRequired},t.default=S},88923:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(73729),r=a(80883),i=a(30997),s=a(22916),o=l(a(55441));const u={setClusterDetails:r.setClusterDetails,getUnhealthyClusters:i.getUnhealthyClusters};t.default=(0,n.connect)((e=>({unhealthyClusters:e.dashboards.unhealthyClusters,viewOptions:e.viewOptions[s.viewConstants.OVERVIEW_VIEW]})),u)(o.default)},83964:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(65589),o=l(a(67080)),u=a(10135),c=a(98515),d=l(a(42917)),m=l(a(3722)),p=l(a(35398)),f=l(a(73838)),E=l(a(48609)),g=l(a(71299)),v=l(a(79193)),h=l(a(97953)),_=l(a(88923)),S=l(a(12474)),b=l(a(46695)),C=l(a(83166));a(95461);const y="Overview | Red Hat OpenShift Cluster Manager",I=e=>{const{summaryDashboard:t,unhealthyClusters:a,viewOptions:l,invalidateSubscriptions:r,totalClusters:I,totalConnectedClusters:A,totalUnhealthyClusters:R,totalCPU:T,usedCPU:O,totalMem:P,usedMem:D,upToDate:L,upgradeAvailable:N,userAccess:w,getSummaryDashboard:k,getUnhealthyClusters:F,getUserAccess:M,getOrganizationAndQuota:x,organization:G,insightsOverview:U,fetchOrganizationInsights:H}=e;n.default.useEffect((()=>{t.fulfilled||t.pending||k(),a.fulfilled||a.pending||F((0,u.createOverviewQueryObject)(l)),G.pending||G.fulfilled||x(),U.pending||U.fulfilled||H(),M({type:"OCP"})}),[H,x,k,F,M,U,G,t,a,l]);const V=t.error||a.error,B=!t.fulfilled||t.pending||!a.fulfilled||a.pending,q=U.fulfilled&&U.overview;if(V){let e;e=t.error?t:a;const{errorMessage:l,errorCode:r,operationID:i}=e,s={errorMessage:l,errorCode:r,operationID:i};return n.default.createElement(g.default,{response:s})}return B&&!V?n.default.createElement(c.AppPage,{title:y},n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateBody,null,n.default.createElement(o.default,{centered:!0})))):t.fulfilled&&!I?n.default.createElement(c.AppPage,{title:y},n.default.createElement(v.default,null)):n.default.createElement(c.AppPage,{title:y},n.default.createElement(s.PageHeader,null,n.default.createElement(i.Split,{hasGutter:!0},n.default.createElement(i.SplitItem,null,n.default.createElement(i.Title,{headingLevel:"h1",size:"2xl",className:"page-title","widget-type":"InsightsPageHeaderTitle"},"Dashboard")),n.default.createElement(i.SplitItem,{isFilled:!0}),n.default.createElement(i.SplitItem,null,n.default.createElement(d.default,{isDashboardView:!0})))),n.default.createElement(i.PageSection,null,n.default.createElement(i.Grid,{hasGutter:!0,className:"ocm-c-overview"},n.default.createElement(C.default,{isError:t.error,totalClusters:I,totalUnhealthyClusters:R,totalConnectedClusters:A,totalCPU:T,usedCPU:O,totalMem:P,usedMem:D}),A>0&&n.default.createElement(i.GridItem,{md:6},n.default.createElement(_.default,{unhealthyClusters:a,viewOptions:l})),q&&n.default.createElement(i.GridItem,{md:6},n.default.createElement(h.default,{overview:U.overview})),n.default.createElement(i.GridItem,{md:6},n.default.createElement(i.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(i.CardTitle,null,"Telemetry"),n.default.createElement(i.CardBody,null,A||I?n.default.createElement(f.default,{donutId:"connected_clusters_donut",used:A,total:I,availableTitle:"Not checking in",usedTitle:"Connected",unit:"clusters"}):n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateBody,null,"No data available"))))),w.fulfilled&&void 0!==w.data&&!0===w.data&&n.default.createElement(i.GridItem,{md:6},n.default.createElement(S.default,null)),n.default.createElement(i.GridItem,{md:6},n.default.createElement(i.Card,{className:"ocm-overview-clusters__card"},n.default.createElement(i.CardTitle,null,"Update status"),n.default.createElement(i.CardBody,null,N.value||L.value?n.default.createElement(f.default,{donutId:"update_available_donut",used:L.value,total:N.value+L.value,unit:"clusters",availableTitle:"Update available",usedTitle:"Up-to-date"}):n.default.createElement(i.EmptyState,null,n.default.createElement(i.EmptyStateBody,null,"No data available"))))),n.default.createElement(i.GridItem,null,n.default.createElement(b.default,null))),n.default.createElement(E.default,{ModalComponent:p.default,onClose:r}),n.default.createElement(E.default,{ModalComponent:m.default,onClose:r})))};I.propTypes={getSummaryDashboard:r.default.func.isRequired,getUserAccess:r.default.func.isRequired,invalidateSubscriptions:r.default.func.isRequired,summaryDashboard:r.default.object.isRequired,getUnhealthyClusters:r.default.func.isRequired,unhealthyClusters:r.default.shape({clusters:r.default.array,error:r.default.bool,pending:r.default.bool,fulfilled:r.default.bool}).isRequired,viewOptions:r.default.shape({currentPage:r.default.number,pageSize:r.default.number,totalCount:r.default.number,totalPages:r.default.number}).isRequired,totalClusters:r.default.number.isRequired,totalConnectedClusters:r.default.number.isRequired,totalUnhealthyClusters:r.default.number.isRequired,totalCPU:r.default.object.isRequired,usedCPU:r.default.object.isRequired,totalMem:r.default.object.isRequired,usedMem:r.default.object.isRequired,upToDate:r.default.object.isRequired,upgradeAvailable:r.default.object.isRequired,fetchOrganizationInsights:r.default.func.isRequired,insightsOverview:r.default.object.isRequired,userAccess:r.default.shape({data:r.default.bool,pending:r.default.bool,fulfilled:r.default.bool}).isRequired,getOrganizationAndQuota:r.default.func.isRequired,organization:r.default.object.isRequired},t.default=I},85484:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(13818),i=a(57691),s=l(a(65702)),o=l(a(8888));t.default=()=>n.default.createElement(r.EmptyState,{isFullHeight:!0,className:"ocm-insights--advisor-empty-state"},n.default.createElement(r.EmptyStateHeader,{titleText:"No Advisor recommendations",icon:n.default.createElement(r.EmptyStateIcon,{icon:i.SearchIcon}),headingLevel:"h4"}),n.default.createElement(r.EmptyStateBody,null,"This feature uses the Remote Health functionality of OpenShift Container Platform. For further details about Insights, see the"," ",n.default.createElement(o.default,{href:s.default.REMOTE_HEALTH_INSIGHTS},"OpenShift documentation"),"."))},76149:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.categoryMapping=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(93179),s=a(13818),o=a(69304),u=a(53350);const c=t.categoryMapping={service_availability:1,performance:2,fault_tolerance:3,security:4},d=e=>{let{data:t,index:a,x:l,y:r,style:i}=e;const s=t[a],{name:u,count:d,tags:m}=s;return n.default.createElement("text",{x:l,y:r,style:i,dy:5,"data-testid":"titleComponent"},n.default.createElement("tspan",{x:l,y:r},u,":"," ",n.default.createElement("a",{href:`${o.advisorBaseName}/recommendations?category=${c[m]}`,className:"enabled-link","data-testid":m},d)))};d.propTypes={data:r.default.array,index:r.default.number,x:r.default.number,y:r.default.number,style:r.default.object};const m=e=>{let{tagHits:t,groups:a}=e;const l=(0,u.groupTagHitsByGroups)(t,[...a]),r=Object.values(l).reduce(((e,t)=>{let{count:a}=t;return e+a}),0);return n.default.createElement(s.Flex,{className:"ocm-insights--groups-chart",direction:{default:"column"}},n.default.createElement(s.FlexItem,null,n.default.createElement(s.Title,{size:"lg",headingLevel:"h2"},"Recommendations by category")),n.default.createElement(s.FlexItem,null,n.default.createElement(i.ChartPie,{labelRadius:25,ariaTitle:"Categories statistics",constrainToVisibleArea:!0,data:Object.entries(l).map((e=>{let[t,a]=e;return{x:t,y:a.count}})),width:400,height:120,padding:{bottom:30,left:0,right:300,top:10},labels:e=>{let{datum:t}=e;return 0===parseInt(t.y,10)||0===r?"":`${(parseInt(t.y,10)/r*100).toFixed()}%`},legendData:Object.entries(l).map((e=>{let[t,{count:a,tags:l}]=e;return{name:t,count:a,tags:l,symbol:{type:"circle"}}})),legendPosition:"right",legendAllowWrap:!0,legendComponent:n.default.createElement(i.ChartLegend,{labelComponent:n.default.createElement(d,null),height:100,width:300,itemsPerRow:2,orientation:"horizontal",className:"pf-m-redhat-font",style:{labels:{fontSize:12}},gutter:30})})))};m.propTypes={tagHits:r.default.object.isRequired,groups:r.default.array.isRequired},t.default=m},96373:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(43693)),r=l(a(93345)),i=l(a(5556)),s=a(13818),o=a(69304),u=a(53350),c=l(a(42601));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function m(e){let{riskHits:t}=e;return r.default.createElement(s.Flex,{className:"ocm-insights--risk-chart",direction:{default:"column"}},r.default.createElement(s.FlexItem,{spacer:{default:"spacerLg"}},r.default.createElement(s.Title,{className:"ocm-insights--risk-chart__title",size:"lg",headingLevel:"h2"},"Advisor recommendations by severity"),r.default.createElement(c.default,null)),r.default.createElement(s.FlexItem,{className:"ocm-insights--risk-chart__items",spacer:{default:"spacerLg"}},r.default.createElement(s.Flex,{justifyContent:{default:"justifyContentFlexStart"},fullWidth:{default:"50%"},spaceItems:{sm:"spaceItemsXl",md:"spaceItemsLg",lg:"spaceItems2xl","2xl":"spaceItems4xl"}},Object.entries(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({1:0,2:0,3:0,4:0},t)).reverse().map((e=>{let[t,a]=e;return r.default.createElement(s.FlexItem,{className:"ocm-insights--items__risk-item","data-testid":"ocm-insights--items__risk-item",key:t},r.default.createElement(s.Flex,{direction:{default:"column"},alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsNone"}},r.default.createElement(s.FlexItem,{className:"ocm-insights--risk-item__count"},r.default.createElement(s.Title,{size:"2xl",headingLevel:"h1"},r.default.createElement("a",{href:`${o.advisorBaseName}/recommendations?total_risk=${t}`},a))),r.default.createElement(s.FlexItem,{className:"ocm-insights--risk-item__label"},(0,u.getSeverityName)(t))))})))))}t.default=m,m.propTypes={riskHits:i.default.object.isRequired}},42601:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=a(13818),i=a(31358),s=a(33243),o=l(a(65702)),u=l(a(8888));t.default=()=>n.default.createElement(r.Popover,{className:"ocm-insights--info-popover","aria-label":"What is Insights?",position:"left",maxWidth:"25rem",enableFlip:!0,bodyContent:n.default.createElement(n.default.Fragment,null,n.default.createElement("p",null,"Insights identifies and prioritizes risks to security, performance, availability, and stability of your clusters."),n.default.createElement("p",null,"This feature uses the Remote Health functionality of OpenShift Container Platform. For further details about Insights, see the"," ",n.default.createElement(u.default,{href:o.default.REMOTE_HEALTH_INSIGHTS},"OpenShift documentation"),"."))},n.default.createElement(r.Icon,{className:"ocm-insights--info-popover__icon"},n.default.createElement(i.HelpIcon,{color:s.global_Color_dark_200.value})))},97953:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(93345)),r=l(a(5556)),i=a(13818),s=a(69304),o=a(68842),u=l(a(85484)),c=l(a(76149)),d=l(a(96373));a(54486);const m=e=>{let{overview:t}=e;return n.default.createElement(i.Card,{className:"ocm-insights--advisor-card",ouiaId:"insightsAdvisor"},n.default.createElement(i.CardBody,{className:"ocm-insights--advisor-card__body"},t.clusters_hit&&0!==t.clusters_hit?n.default.createElement(n.default.Fragment,null,n.default.createElement(d.default,{riskHits:t.hit_by_risk}),n.default.createElement(c.default,{tagHits:t.hit_by_tag,groups:o.INSIGHTS_RULE_CATEGORIES}),n.default.createElement("a",{href:s.advisorBaseName,style:{marginTop:"1rem"}},"View more in Insights Advisor")):n.default.createElement(u.default,null)))};t.default=m,m.propTypes={overview:r.default.object.isRequired}},10876:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(58156)),r=a(73729),i=a(23557),s=a(30997),o=a(56540),u=a(2479),c=a(22916),d=a(82198),m=l(a(83964));const p={getSummaryDashboard:s.getSummaryDashboard,getUnhealthyClusters:s.getUnhealthyClusters,getUserAccess:i.getUserAccess,invalidateSubscriptions:o.invalidateSubscriptions,fetchOrganizationInsights:d.fetchOrganizationInsights,getOrganizationAndQuota:u.getOrganizationAndQuota};t.A=(0,r.connect)((e=>({summaryDashboard:e.dashboards.summary,unhealthyClusters:e.dashboards.unhealthyClusters,viewOptions:e.viewOptions[c.viewConstants.OVERVIEW_VIEW],insightsOverview:e.insightsData.overview,userAccess:e.cost.userAccess,organization:e.userProfile.organization,totalClusters:(0,n.default)(e.dashboards.summary,"metrics.clusters_total[0].value",0),totalConnectedClusters:(0,n.default)(e.dashboards.summary,"metrics.connected_clusters_total[0].value",0),totalUnhealthyClusters:(0,n.default)(e.dashboards.summary,"metrics.unhealthy_clusters_total[0].value",0),totalCPU:(0,n.default)(e.dashboards.summary,"metrics.sum_total_cpu[0]",{value:0}),usedCPU:(0,n.default)(e.dashboards.summary,"metrics.sum_used_cpu[0]",{value:0}),totalMem:(0,n.default)(e.dashboards.summary,"metrics.sum_total_memory[0]",{value:0}),usedMem:(0,n.default)(e.dashboards.summary,"metrics.sum_used_memory[0]",{value:0}),upToDate:(0,n.default)(e.dashboards.summary,"metrics.clusters_up_to_date_total[0]",{value:0}),upgradeAvailable:(0,n.default)(e.dashboards.summary,"metrics.clusters_upgrade_available_total[0]",{value:0})})),p)(m.default)},88423:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(39914));t.A=n.default},42045:(e,t,a)=>{"use strict";var l=a(24994);Object.defineProperty(t,"__esModule",{value:!0}),t.setOfflineToken=t.normalizeSTSUsersByAWSAccounts=t.normalizeAWSAccountRoles=t.getUserRole=t.getUserOidcConfigurations=t.getOCMRole=t.getAWSIDsFromARNs=t.getAWSBillingAccountIDs=t.getAWSAccountRolesARNs=t.getAWSAccountIDs=t.clearGetUserRoleResponse=t.clearGetOcmRoleResponse=t.clearGetAWSAccountRolesARNsResponse=t.clearGetAWSAccountIDsResponse=void 0;var n=l(a(43693)),r=l(a(91847)),i=a(98229),s=a(9269),o=a(66152),u=a(90020);const c=["type","arn","roleVersion"];function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const p=e=>{const t=e.map(s.extractAWSID);return[...new Set(t)]};t.getAWSIDsFromARNs=p;const f=e=>{if(void 0===e||0===e.length)return[];const t=e.split(",").map((e=>({aws_id:(0,s.extractAWSID)(e),sts_user:e.substr(e.indexOf(":role/")+6)})));return[...new Set(t)]};t.normalizeSTSUsersByAWSAccounts=f;const E=(e,t)=>e.reduce(((e,t)=>{let{type:a,arn:l,roleVersion:n}=t,i=(0,r.default)(t,c);return m(m(m({},e),i),{},{version:n,[a]:l})}),{prefix:t}),g=e=>{const t=[];return((null==e?void 0:e.items)||[]).forEach((e=>{if(e.items&&e.items.length>1){const a=[],l=[];e.items.forEach((e=>{e.hcpManagedPolicies||e.managedPolicies?a.push(e):l.push(e)})),a.length&&t.push(E(a,e.prefix)),l.length&&t.push(E(l,e.prefix))}})),t};t.normalizeAWSAccountRoles=g,t.getAWSBillingAccountIDs=e=>t=>t({type:o.GET_AWS_BILLING_ACCOUNTS,payload:u.accountsService.getOrganizationQuota(e).then((e=>e.data&&e.data.items?(0,i.getAwsBillingAccountsFromQuota)(e.data.items):[]))}),t.getAWSAccountIDs=e=>t=>t({type:o.LIST_ASSOCIATED_AWS_IDS,payload:u.accountsService.getOrganizationLabels(e).then((e=>{var t,a;if(!e.data||!e.data.items)return[];const l=null!==(t=null===(a=e.data.items.filter((e=>"sts_ocm_role"===e.key))[0])||void 0===a?void 0:a.value)&&void 0!==t?t:"",n=""===l?[]:l.split(",");return p(n)}))}),t.getAWSAccountRolesARNs=e=>t=>{const a=[];t({type:o.GET_AWS_ACCOUNT_ROLES_ARNS,payload:u.accountsService.getAWSAccountARNs(e).then((e=>e.data&&e.data.items?g(e.data):a))})},t.getOCMRole=e=>t=>{t({type:o.GET_OCM_ROLE,payload:u.accountsService.getOCMRole(e).then((e=>null==e?void 0:e.data))})};const v=async()=>{var e;const t=await u.accountsService.getCurrentAccount(),a=await u.accountsService.getUserRole(null==t||null===(e=t.data)||void 0===e?void 0:e.id);return f(null==a?void 0:a.data.value)};t.getUserRole=()=>({type:o.GET_USER_ROLE,payload:v()}),t.getUserOidcConfigurations=e=>({type:o.LIST_USER_OIDC_CONFIGURATIONS,payload:u.clusterService.getOidcConfigurations(e).then((e=>{var t,a;return null!==(t=null==e||null===(a=e.data)||void 0===a?void 0:a.items)&&void 0!==t?t:[]}))}),t.clearGetAWSAccountIDsResponse=()=>({type:o.CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE}),t.clearGetAWSAccountRolesARNsResponse=()=>({type:o.CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE}),t.clearGetOcmRoleResponse=()=>({type:o.CLEAR_GET_OCM_ROLE_RESPONSE}),t.clearGetUserRoleResponse=()=>({type:o.CLEAR_GET_USER_ROLE_RESPONSE}),t.setOfflineToken=e=>({type:o.SET_OFFLINE_TOKEN,payload:e})},9308:(e,t,a)=>{"use strict";var l=a(24994);t.Ay=void 0;var n=l(a(43693)),r=a(89407),i=a(89217),s=a(66152),o=a(95762);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const d={getAWSAccountIDsResponse:c({},o.baseRequestState),getAWSAccountRolesARNsResponse:c({},o.baseRequestState),getOCMRoleResponse:c({},o.baseRequestState),getUserRoleResponse:c({},o.baseRequestState),getAWSBillingAccountsResponse:c({},o.baseRequestState),offlineToken:void 0};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;return(0,r.produce)(e,(e=>{switch(t.type){case(0,o.PENDING_ACTION)(s.LIST_ASSOCIATED_AWS_IDS):e.getAWSAccountIDsResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(s.LIST_ASSOCIATED_AWS_IDS):e.getAWSAccountIDsResponse=c(c({},o.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,o.REJECTED_ACTION)(s.LIST_ASSOCIATED_AWS_IDS):e.getAWSAccountIDsResponse=c(c(c({},o.baseRequestState),(0,i.getErrorState)(t)),{},{data:{}});break;case(0,o.PENDING_ACTION)(s.GET_AWS_ACCOUNT_ROLES_ARNS):e.getAWSAccountRolesARNsResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(s.GET_AWS_ACCOUNT_ROLES_ARNS):e.getAWSAccountRolesARNsResponse=c(c({},o.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,o.REJECTED_ACTION)(s.GET_AWS_ACCOUNT_ROLES_ARNS):e.getAWSAccountRolesARNsResponse=c(c(c({},o.baseRequestState),(0,i.getErrorState)(t)),{},{data:{}});break;case(0,o.PENDING_ACTION)(s.GET_AWS_BILLING_ACCOUNTS):e.getAWSBillingAccountsResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(s.GET_AWS_BILLING_ACCOUNTS):e.getAWSBillingAccountsResponse=c(c({},o.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,o.REJECTED_ACTION)(s.GET_AWS_BILLING_ACCOUNTS):e.getAWSBillingAccountsResponse=c(c(c({},o.baseRequestState),(0,i.getErrorState)(t)),{},{data:{}});break;case(0,o.PENDING_ACTION)(s.GET_OCM_ROLE):e.getOCMRoleResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(s.GET_OCM_ROLE):e.getOCMRoleResponse=c(c({},o.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,o.REJECTED_ACTION)(s.GET_OCM_ROLE):e.getOCMRoleResponse=c(c(c({},o.baseRequestState),(0,i.getErrorState)(t)),{},{data:{}});break;case(0,o.PENDING_ACTION)(s.GET_USER_ROLE):e.getUserRoleResponse.pending=!0;break;case(0,o.FULFILLED_ACTION)(s.GET_USER_ROLE):e.getUserRoleResponse=c(c({},o.baseRequestState),{},{fulfilled:!0,data:t.payload});break;case(0,o.REJECTED_ACTION)(s.GET_USER_ROLE):e.getUserRoleResponse=c(c(c({},o.baseRequestState),(0,i.getErrorState)(t)),{},{data:{}});break;case s.CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE:e.getAWSAccountRolesARNsResponse=c({},o.baseRequestState);break;case s.CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE:e.getAWSAccountIDsResponse=c({},o.baseRequestState);break;case s.CLEAR_GET_OCM_ROLE_RESPONSE:e.getOCMRoleResponse=c(c({},o.baseRequestState),{},{data:{}});break;case s.CLEAR_GET_USER_ROLE_RESPONSE:e.getUserRoleResponse=c(c({},o.baseRequestState),{},{data:{}});break;case s.SET_OFFLINE_TOKEN:e.offlineToken=t.payload}}))}m.initialState=d,t.Ay=m},73495:(e,t,a)=>{"use strict";var l=a(24994);t.A=void 0;var n=l(a(93345));a(76104),t.A=()=>n.default.createElement("svg",{role:"img",title:"GCP",xmlns:"http://www.w3.org/2000/svg",height:".9em",id:"Art",version:"1.1",viewBox:"-1348.0212 -351.96825 11682.8504 2111.8095"},n.default.createElement("style",{id:"style696",type:"text/css"}),n.default.createElement("g",{transform:"translate(.008 -.004)",id:"g730"},n.default.createElement("g",{id:"g710"},n.default.createElement("path",{id:"path702",d:"M1057.1 369.2h50.8l144.8-144.8 7.1-61.5C990.3-75 579-49.3 341.1 220.2 275 295 227.1 384.1 200.9 480.5c16.1-6.6 34-7.7 50.8-3l289.6-47.8s14.7-24.4 22.4-22.9c128.8-141.5 345.6-158 494.4-37.6z",fill:"#ea4335"}),n.default.createElement("path",{id:"path704",d:"M1459 480.5c-33.3-122.6-101.6-232.8-196.6-317l-203.2 203.2c85.8 70.1 134.7 175.8 132.6 286.6v36.1c99.9 0 180.9 81 180.9 180.9s-81 180.9-180.9 180.9H830l-36.1 36.6v217l36.1 36.1h361.8c259.8 2 472.1-207 474.1-466.8 1.2-157.8-76.5-305.4-206.9-393.6z",fill:"#4285f4"}),n.default.createElement("path",{id:"path706",d:"M467.7 1338.6h361.8V1049H467.7c-25.8 0-51.2-5.6-74.7-16.3l-50.8 15.8-145.8 144.8-12.7 50.8c81.7 61.8 181.5 95 284 94.5z",fill:"#34a853"}),n.default.createElement("path",{id:"path708",d:"M467.7 399.2C207.8 400.7-1.5 612.6 0 872.5c.9 145.1 68.6 281.7 183.7 370.1l209.8-209.8c-91-41.1-131.5-148.3-90.4-239.3 41.1-91 148.3-131.5 239.3-90.4 40.1 18.1 72.2 50.3 90.4 90.4l209.8-209.8c-89.2-116.8-228-185.1-374.9-184.5z",fill:"#fbbc05"})),n.default.createElement("g",{id:"g728"},n.default.createElement("g",{id:"g714"},n.default.createElement("path",{id:"path712",d:"M2629.1 1136.4c-125.9 1.6-246.9-48.1-335.3-137.7-91.3-85.8-142.3-206-140.7-331.3-1.5-125.3 49.5-245.4 140.7-331.3 88-90.5 209.1-141.2 335.3-140.2 120.2-1.6 236.1 45.1 321.6 129.6l-90.4 92c-61.9-59.9-145.1-92.7-231.2-91.5-90.3-1.1-177 35.8-238.8 101.6-64.2 63.7-99.6 150.9-98.1 241.3-.8 89.4 34.6 175.3 98.1 238.3 130.8 130.4 341.7 132.9 475.6 5.6 39.9-43.6 64.3-99.2 69.6-158h-304.9v-130H3062c4.2 26.2 5.9 52.7 5.1 79.3 5.4 110.9-34.8 219.2-111.3 299.8-85.1 88.5-203.9 136.7-326.7 132.5zm1003-86.4c-120.3 115.3-310.1 115.3-430.4 0-58.3-56.5-90.1-134.8-87.9-215.9-2.2-81.1 29.7-159.4 87.9-215.9 120.4-115 310-115 430.4 0 58.2 56.5 90.1 134.8 87.9 215.9 2.1 81.2-30 159.5-88.4 215.9zm-335.4-84.8c62.1 66.4 166.3 69.8 232.7 7.6 2.6-2.5 5.2-5 7.6-7.6 33.9-35.1 52.2-82.3 50.8-131.1 1.5-48.9-16.8-96.4-50.8-131.6-63.9-66.6-169.7-68.9-236.4-5-1.7 1.6-3.4 3.3-5 5-34 35.2-52.3 82.7-50.8 131.6-1.3 48.8 17.2 96.1 51.3 131.1zm996.9 84.8c-120.3 115.3-310.1 115.3-430.4 0-58.3-56.5-90.1-134.8-87.9-215.9-2.2-81.1 29.7-159.4 87.9-215.9 120.3-115.3 310.1-115.3 430.4 0 58.2 56.5 90.1 134.8 87.9 215.9 2.3 81.1-29.6 159.4-87.9 215.9zm-335.3-84.8c62.1 66.4 166.3 69.8 232.7 7.6 2.6-2.5 5.2-5 7.6-7.6 33.9-35.1 52.2-82.3 50.8-131.1 1.5-48.9-16.8-96.4-50.8-131.6-63.9-66.6-169.7-68.9-236.3-5-1.7 1.6-3.4 3.3-5 5-34 35.2-52.3 82.7-50.8 131.6-1.3 48.8 17.2 96.1 51.3 131.1zm770.2 442.5c-60.9 1.9-120.6-17.1-169.2-53.9a311.85 311.85 0 01-98.6-125l115.8-48.3c12.6 29.6 32.3 55.6 57.4 75.7 26.8 21.6 60.5 33 95 32 44.2 2.7 87.4-14 118.4-45.7 30.6-36.9 45.7-84.3 42.2-132.1v-43.7h-4.6c-39.3 46.6-98.2 72-159 68.6-77.1.2-150.8-31.8-203.2-88.4-56.8-56.1-88.2-133-86.9-212.9-1.4-80.3 30-157.7 86.9-214.4 52.3-56.8 126-89.1 203.2-88.9 32.3-.1 64.3 7.1 93.5 20.8 25.3 11 47.8 27.5 66.1 48.3h4.6v-48.3h126v541.1c6.7 86.5-22.5 172-80.8 236.3-55.5 53.1-130 81.5-206.8 78.8zm9.2-390.2c43.9 1 86-17.7 114.8-50.8 31.3-35.9 47.9-82.4 46.2-130.1 1.9-48.5-14.6-95.8-46.2-132.6-28.8-33.2-70.9-51.8-114.8-50.8-45.1-.9-88.4 17.6-118.9 50.8-33.6 35.5-51.9 82.8-50.8 131.6-1 48.4 17.2 95.2 50.8 130.1 30.3 33.5 73.6 52.4 118.9 51.8zM5240.2 230v888.1h-132.6V230zm363.8 906.4c-80.3 2.1-157.8-29.4-213.9-86.9-56.9-57-88-134.9-85.9-215.4-3-80.7 26.9-159.2 82.8-217.5 52.8-55.6 126.6-86.4 203.2-84.9 34.9-.4 69.4 6.4 101.6 19.8 29 11.7 55.4 29 77.7 50.8 19.2 18.5 36.2 39.1 50.8 61.5 11.8 18.9 21.8 38.8 30 59.4l13.7 34.6L5457.6 925c25.2 57.8 83.3 94.2 146.3 91.5 60.9.2 117.4-31.7 148.9-83.8l101.6 68.6a333.72 333.72 0 01-97.6 92.5c-45.6 28.8-98.8 43.6-152.8 42.6zm-169.7-311.5l270.3-112.3c-8.3-19.8-23.2-36.1-42.2-46.2-21.2-12-45.2-18.1-69.6-17.8-41.3 1.1-80.6 18.4-109.2 48.3-34.7 33.2-52.8 80.1-49.3 128z",className:"st4"})),n.default.createElement("g",{id:"g726"},n.default.createElement("path",{id:"path716",d:"M6558.7 1136.4c-231.2 4-421.8-180.2-425.8-411.4-.1-5.6-.1-11.3.1-16.9-5.4-231.2 177.7-422.9 408.8-428.3 5.6-.1 11.3-.1 16.9-.1 115.6-3.6 226.6 45.8 301.3 134.1l-73.2 71.1c-54.9-69.1-139.5-107.8-227.6-104.2-84.5-1.9-166.2 30.8-226.1 90.4-62.3 62.7-95.6 148.5-92 236.8-3.7 88.3 29.7 174.1 92 236.8 59.9 59.7 141.6 92.3 226.1 90.4 98.4 1.1 191.9-42.7 254-118.9l73.2 73.2c-38.3 45.8-86.4 82.4-140.7 107.2-58.6 27.2-122.5 40.8-187 39.8z",className:"st4"}),n.default.createElement("path",{id:"path718",d:"M7083 1118.1h-105.2V297.5H7083z",className:"st4"}),n.default.createElement("path",{id:"path720",d:"M7254.8 624.2c114.7-113.9 299.9-113.9 414.6 0 54.4 57.5 83.7 134.3 81.3 213.4 2.4 79.1-26.9 155.9-81.3 213.4-114.7 113.9-299.9 113.9-414.6 0-54.4-57.5-83.7-134.3-81.3-213.4-2.4-79.1 26.8-155.9 81.3-213.4zM7333 985c67.3 71.1 179.5 74.2 250.7 6.9 2.4-2.2 4.7-4.6 6.9-6.9 37.1-39.8 56.7-92.9 54.4-147.3 2.4-54.4-17.2-107.5-54.4-147.3-67.3-71.1-179.5-74.2-250.7-6.9-2.4 2.2-4.7 4.6-6.9 6.9-37.1 39.8-56.7 92.9-54.4 147.3-2.1 54.3 17.7 107.2 54.9 146.8z",className:"st4"}),n.default.createElement("path",{id:"path722",d:"M8333.4 1118.1h-101.6v-77.7h-3c-18.1 29.5-43.7 53.7-74.2 70.1-31.6 18.3-67.6 28-104.2 27.9-60.2 4.1-118.9-19.5-159.5-64-38.5-48.7-57.8-109.8-54.4-171.7V557.2h105.2v326.2c0 104.7 46.2 157 138.7 157 41.7 1.3 81.4-17.6 106.7-50.8 27.3-34.5 41.8-77.4 41.2-121.4v-311h105.2v560.9z",className:"st4"}),n.default.createElement("path",{id:"path724",d:"M8690.6 1136.4c-72.2.2-140.9-31.1-188-85.9-52.7-58.2-80.9-134.4-78.8-212.9-2.1-78.5 26.1-154.7 78.8-212.9 47.1-54.7 115.8-86.1 188-85.9 40-.6 79.5 8.8 114.8 27.4 31.1 15.6 57.4 39.3 76.2 68.6h4.6l-4.6-77.7V297.5h105.2v820.6h-101.6v-77.7h-4.6c-18.8 29.3-45.1 53-76.2 68.6-35 18.4-74.1 27.9-113.8 27.4zm17.3-96c48.1.7 94.2-19.3 126.5-54.9 35.7-40.7 54-93.8 50.8-147.9 3.2-54-15.1-107.2-50.8-147.9-63.8-70.2-172.4-75.3-242.6-11.4-4 3.6-7.8 7.5-11.4 11.4-35.8 40.4-54.1 93.4-50.8 147.3-3.3 53.9 15 106.9 50.8 147.3 32.4 36.4 78.9 56.8 127.5 56.1z",className:"st4"})))))},22608:(e,t,a)=>{"use strict";a.r(t)},46181:(e,t,a)=>{"use strict";a.r(t)},20524:(e,t,a)=>{"use strict";a.r(t)},53790:(e,t,a)=>{"use strict";a.r(t)},64180:(e,t,a)=>{"use strict";a.r(t)},27722:(e,t,a)=>{"use strict";a.r(t)},2893:(e,t,a)=>{"use strict";a.r(t)},40460:(e,t,a)=>{"use strict";a.r(t)},77434:(e,t,a)=>{"use strict";a.r(t)},74446:(e,t,a)=>{"use strict";a.r(t)},84900:(e,t,a)=>{"use strict";a.r(t)},3707:(e,t,a)=>{"use strict";a.r(t)},9008:(e,t,a)=>{"use strict";a.r(t)},48646:(e,t,a)=>{"use strict";a.r(t)},68772:(e,t,a)=>{"use strict";a.r(t)},23184:(e,t,a)=>{"use strict";a.r(t)},55233:(e,t,a)=>{"use strict";a.r(t)},66350:(e,t,a)=>{"use strict";a.r(t)},75027:(e,t,a)=>{"use strict";a.r(t)},50639:(e,t,a)=>{"use strict";a.r(t)},5165:(e,t,a)=>{"use strict";a.r(t)},48960:(e,t,a)=>{"use strict";a.r(t)},16849:(e,t,a)=>{"use strict";a.r(t)},68410:(e,t,a)=>{"use strict";a.r(t)},48346:(e,t,a)=>{"use strict";a.r(t)},3468:(e,t,a)=>{"use strict";a.r(t)},21477:(e,t,a)=>{"use strict";a.r(t)},17404:(e,t,a)=>{"use strict";a.r(t)},99222:(e,t,a)=>{"use strict";a.r(t)},28842:(e,t,a)=>{"use strict";a.r(t)},82240:(e,t,a)=>{"use strict";a.r(t)},41760:(e,t,a)=>{"use strict";a.r(t)},62804:(e,t,a)=>{"use strict";a.r(t)},24267:(e,t,a)=>{"use strict";a.r(t)},58130:(e,t,a)=>{"use strict";a.r(t)},66227:(e,t,a)=>{"use strict";a.r(t)},48475:(e,t,a)=>{"use strict";a.r(t)},95461:(e,t,a)=>{"use strict";a.r(t)},54486:(e,t,a)=>{"use strict";a.r(t)},76104:(e,t,a)=>{"use strict";a.r(t)},5890:(e,t,a)=>{var l={"./simpleWorker":45585,"./simpleWorker.js":45585};function n(e){return Promise.resolve().then((()=>{if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a(l[e])}))}n.keys=()=>Object.keys(l),n.id=5890,e.exports=n},9204:(e,t,a)=>{var l={"./editorBaseApi":[93059],"./editorBaseApi.js":[93059],"./editorSimpleWorker":[14003],"./editorSimpleWorker.js":[14003],"./editorWorker":[90304],"./editorWorker.js":[90304],"./editorWorkerHost":[96358],"./editorWorkerHost.js":[96358],"./findSectionHeaders":[99307],"./findSectionHeaders.js":[99307],"./getIconClasses":[78148],"./getIconClasses.js":[78148],"./languageFeatureDebounce":[12060],"./languageFeatureDebounce.js":[12060],"./languageFeatures":[52230],"./languageFeatures.js":[52230],"./languageFeaturesService":[16127],"./languageFeaturesService.js":[16127],"./languageService":[83930],"./languageService.js":[83930],"./languagesAssociations":[55996],"./languagesAssociations.js":[55996],"./languagesRegistry":[66995],"./languagesRegistry.js":[66995],"./markerDecorations":[80886],"./markerDecorations.js":[80886],"./markerDecorationsService":[90011],"./markerDecorationsService.js":[90011],"./model":[64830],"./model.js":[64830],"./modelService":[40931],"./modelService.js":[40931],"./resolverService":[37042],"./resolverService.js":[37042],"./semanticTokensDto":[19376],"./semanticTokensDto.js":[19376],"./semanticTokensProviderStyling":[27642],"./semanticTokensProviderStyling.js":[27642],"./semanticTokensStyling":[82891],"./semanticTokensStyling.js":[82891],"./semanticTokensStylingService":[38148],"./semanticTokensStylingService.js":[38148],"./textModelSync/textModelSync.impl":[81171],"./textModelSync/textModelSync.impl.js":[81171],"./textModelSync/textModelSync.protocol":[45628,628],"./textModelSync/textModelSync.protocol.js":[45628,628],"./textResourceConfiguration":[41504],"./textResourceConfiguration.js":[41504],"./treeSitterParserService":[35320],"./treeSitterParserService.js":[35320],"./treeViewsDnd":[2603],"./treeViewsDnd.js":[2603],"./treeViewsDndService":[26756],"./treeViewsDndService.js":[26756],"./unicodeTextModelHighlighter":[49887],"./unicodeTextModelHighlighter.js":[49887]};function n(e){if(!a.o(l,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=l[e],n=t[0];return Promise.all(t.slice(1).map(a.e)).then((()=>a(n)))}n.keys=()=>Object.keys(l),n.id=9204,e.exports=n},72432:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var l=a(93345),n=a.n(l),r=a(58262),i=a(16319),s=a.n(i),o=a(45395),u=a.n(o),c=a(8888);const d=({children:e,rehypePlugins:t})=>{const a=(0,l.useCallback)((e=>{var t;return n().createElement(c.default,{...e,href:null!==(t=e.href)&&void 0!==t?t:""},e.children)}),[]);return e?n().createElement(r.o,{className:"markdown",rehypePlugins:null!=t?t:[u(),s()],components:{a}},e):null}},9296:(e,t,a)=>{"use strict";a.r(t),a.d(t,{eventNames:()=>o,getOCMResourceType:()=>s,getTrackEvent:()=>c,ocmResourceType:()=>i,ocmResourceTypeByProduct:()=>r,trackEvents:()=>u});var l=a(65702),n=a(75166);const r=Object.fromEntries(Object.entries(n.normalizedProducts).map((([e,t])=>[e,String(t).toLowerCase()]))),i={...r,CRC:"crc",MOA:"moa",ROSA:"moa",ALL:"all"},s=e=>e in i?i[e]:void 0,o={FILE_DOWNLOADED:"File Downloaded",BUTTON_CLICKED:"Button Clicked",LINK_CLICKED:"Link Clicked",ARNS_REFRESHED:"ARNs Refreshed",CHECKBOX_CLICKED:"Checkbox Clicked",RADIOBUTTON_CLICKED:"Radiobutton Clicked",MISSING_INFORMATION:"Missing Information"},u={[l.tools.OC]:{deprecated_name:"OCP-Download-CLITools",event:o.FILE_DOWNLOADED,link_name:"ocp-cli",ocm_resource_type:i.ALL},[l.tools.BUTANE]:{deprecated_name:"Download-BUTANE-CLI",event:o.FILE_DOWNLOADED,link_name:"butane-cli",ocm_resource_type:i.ALL},[l.tools.CCOCTL]:{event:o.FILE_DOWNLOADED,link_name:"ccoctl-cli",ocm_resource_type:i.ALL},[l.tools.COREOS_INSTALLER]:{deprecated_name:"Download-CoreOSInstaller-CLI",event:o.FILE_DOWNLOADED,link_name:"coreosinstaller-cli",ocm_resource_type:i.OCP},[l.tools.CRC]:{deprecated_name:"OCP-Download-CRC",event:o.FILE_DOWNLOADED,link_name:"crc",ocm_resource_type:i.CRC},[l.tools.HELM]:{deprecated_name:"Download-HELM-CLI",event:o.FILE_DOWNLOADED,link_name:"helm-cli",ocm_resource_type:i.ALL},[l.tools.X86INSTALLER]:{deprecated_name:"OCP-Download-X86Installer",event:o.FILE_DOWNLOADED,link_name:"ocp-installer-x86",ocm_resource_type:i.OCP},[l.tools.IBMZINSTALLER]:{deprecated_name:"OCP-Download-IBMZInstaller",event:o.FILE_DOWNLOADED,link_name:"ocp-installer-ibmz",ocm_resource_type:i.OCP},[l.tools.PPCINSTALLER]:{deprecated_name:"OCP-Download-PPCInstaller",event:o.FILE_DOWNLOADED,link_name:"ocp-installer-ppc",ocm_resource_type:i.OCP},[l.tools.ARMINSTALLER]:{deprecated_name:"OCP-Download-ARMInstaller",event:o.FILE_DOWNLOADED,link_name:"ocp-installer-arm",ocm_resource_type:i.OCP},[l.tools.MULTIINSTALLER]:{event:o.FILE_DOWNLOADED,link_name:"ocp-installer-multi",ocm_resource_type:i.OCP},[l.tools.KN]:{deprecated_name:"Download-KN-CLI",event:o.FILE_DOWNLOADED,link_name:"kn-cli",ocm_resource_type:i.ALL},[l.tools.OCM]:{deprecated_name:"Download-OCM-CLI",event:o.FILE_DOWNLOADED,link_name:"ocm-cli",ocm_resource_type:i.ALL},[l.tools.ODO]:{deprecated_name:"Download-ODO-CLI",event:o.FILE_DOWNLOADED,link_name:"odo-cli",ocm_resource_type:i.ALL},[l.tools.OPERATOR_SDK]:{deprecated_name:"Download-OSDK-CLI",event:o.FILE_DOWNLOADED,link_name:"osdk-cli",ocm_resource_type:i.ALL},[l.tools.OPM]:{deprecated_name:"Download-OPM-CLI",event:o.FILE_DOWNLOADED,link_name:"opm-cli",ocm_resource_type:i.ALL},[l.tools.RHOAS]:{deprecated_name:"Download-RHOAS-CLI",event:o.FILE_DOWNLOADED,link_name:"rhoas-cli",ocm_resource_type:i.ALL},[l.tools.ROSA]:{deprecated_name:"Download-ROSA-CLI",event:o.FILE_DOWNLOADED,link_name:"rosa-cli",ocm_resource_type:i.MOA},[l.tools.MIRROR_REGISTRY]:{deprecated_name:"Download-Mirror-Registry",event:o.FILE_DOWNLOADED,link_name:"mirror-registry",ocm_resource_type:i.OCP},OCPInstallDocumentation:{deprecated_name:"OCP-Download-OfficialDocumentation",event:o.LINK_CLICKED,link_name:"ocp-install-documentation",ocm_resource_type:i.OCP},CRCInstallDocumentation:{deprecated_name:"OCP-Download-OfficialDocumentation",event:o.LINK_CLICKED,link_name:"crc-documentation",ocm_resource_type:i.CRC},CopyPullSecret:{deprecated_name:"OCP-Copy-PullSecret",event:o.BUTTON_CLICKED,link_name:"pull-secret",ocm_resource_type:i.ALL},DownloadPullSecret:{deprecated_name:"OCP-Copy-PullSecret",event:o.FILE_DOWNLOADED,link_name:"pull-secret",ocm_resource_type:i.ALL},RefreshARNs:{event:o.BUTTON_CLICKED,link_name:"refresh-arns",ocm_resource_type:i.MOA},ARNsRefreshed:{event:o.ARNS_REFRESHED,link_name:"arns-refreshed",ocm_resource_type:i.MOA},AssociateAWS:{event:o.BUTTON_CLICKED,link_name:"associate-aws",ocm_resource_type:i.MOA},ROSAWhoAmI:{event:o.BUTTON_CLICKED,link_name:"copy-rosa-whoami",ocm_resource_type:i.MOA},ROSAVerifyQuota:{event:o.BUTTON_CLICKED,link_name:"copy-rosa-verify-quota",ocm_resource_type:i.MOA},ROSALogin:{event:o.BUTTON_CLICKED,link_name:"copy-rosa-login",ocm_resource_type:i.MOA},CopyOCMRoleCreateBasic:{event:o.BUTTON_CLICKED,link_name:"copy-ocm-role-create-basic",ocm_resource_type:i.MOA},CopyCreateAccountRoles:{event:o.BUTTON_CLICKED,link_name:"copy-ocm-create-rosa-account-roles",ocm_resource_type:i.MOA},CopyCreateNetwork:{event:o.BUTTON_CLICKED,link_name:"copy-ocm-create-rosa-network",ocm_resource_type:i.MOA},CopyOCMRoleCreateAdmin:{event:o.BUTTON_CLICKED,link_name:"copy-ocm-role-create-admin",ocm_resource_type:i.MOA},CopyOCMRoleLink:{event:o.BUTTON_CLICKED,link_name:"copy-ocm-role-link",ocm_resource_type:i.MOA},CopyUserRoleCreate:{event:o.BUTTON_CLICKED,link_name:"copy-user-role-create",ocm_resource_type:i.MOA},CopyUserRoleLink:{event:o.BUTTON_CLICKED,link_name:"copy-user-role-link",ocm_resource_type:i.MOA},CopyUserRoleList:{event:o.BUTTON_CLICKED,link_name:"copy-user-role-list",ocm_resource_type:i.MOA},InstallIntoVPC:{event:o.CHECKBOX_CLICKED,link_name:"install-into-existing-vpc"},ConfigureClusterWideProxy:{event:o.CHECKBOX_CLICKED,link_name:"configure-cluster-wide-proxy"},PrivateServiceConnect:{event:o.CHECKBOX_CLICKED,link_name:"private-service-connect"},RosaCreationMode:{event:o.RADIOBUTTON_CLICKED,link_name:"rosa-creation-mode",ocm_resource_type:i.MOA},OCMRoleRefreshed:{event:o.BUTTON_CLICKED,link_name:"refresh-to-enable-auto-mode",ocm_resource_type:i.MOA},MissingUserRole:{event:o.MISSING_INFORMATION,link_name:"missing-user-role",ocm_resource_type:i.MOA},WizardNext:{event:o.BUTTON_CLICKED,link_name:"wizard-next"},WizardBack:{event:o.BUTTON_CLICKED,link_name:"wizard-back"},WizardSubmit:{event:o.BUTTON_CLICKED,link_name:"wizard-submit"},WizardLeave:{event:o.BUTTON_CLICKED,link_name:"wizard-leave"},WizardLinkNav:{event:o.BUTTON_CLICKED,link_name:"wizard-nav"},ExternalLink:{event:o.LINK_CLICKED,link_name:"external-link"},CopyRosaCreateCluster:{event:o.BUTTON_CLICKED,link_name:"copy-rosa-create-cluster",ocm_resource_type:i.MOA},RequestRosaHandsOnExperience:{event:o.BUTTON_CLICKED,link_name:"request-rosa-handson-experience",ocm_resource_type:i.ROSA},TryRosaHandsOnExperience:{event:o.LINK_CLICKED,link_name:"try-rosa-hands-on-internal-link"},RosaOverview:{event:o.LINK_CLICKED,link_name:"rosa-overview-internal-link"},CreateCluster:{event:o.LINK_CLICKED,link_name:"create-cluster-internal-link"},RegisterCluster:{event:o.LINK_CLICKED,link_name:"register-cluster-internal-link"},CreateClusterROSA:{event:o.LINK_CLICKED,link_name:"create-rosa-cluster-internal-link"},CreateClusterOSD:{event:o.LINK_CLICKED,link_name:"create-osd-cluster-internal-link"},CreateClusterRHOCP:{event:o.LINK_CLICKED,link_name:"create-ocp-cluster-internal-link"},GlobalSideNav:{event:o.LINK_CLICKED,link_name:"global-nav-link"}},c=(e,t={})=>{var a,l;return{event:e.event,properties:{link_name:e.link_name,...t.url&&{link_url:t.url},current_path:t.path||window.location.pathname,ocm_resource_type:null!==(l=null!==(a=t.resourceType)&&void 0!==a?a:null==e?void 0:e.ocm_resource_type)&&void 0!==l?l:i.ALL,...t.customProperties}}}},89217:(e,t,a)=>{"use strict";a.r(t),a.d(t,{BANNED_USER_CODE:()=>n,TERMS_REQUIRED_CODE:()=>r,formatErrorDetails:()=>d,getErrorMessage:()=>s,getErrorState:()=>c,getInternalErrorCode:()=>u,hasOwnErrorPage:()=>o,overrideErrorMessage:()=>i});var l=a(22916);const n="ACCT-MGMT-22",r="CLUSTERS-MGMT-451",i=(e,t)=>{var a,r,i,s;if(!e)return"";let o="";switch((null===(r=null===(a=null==e?void 0:e.details)||void 0===a?void 0:a[0])||void 0===r?void 0:r.kind)||(null===(s=null===(i=null==e?void 0:e.errorDetails)||void 0===i?void 0:i[0])||void 0===s?void 0:s.kind)){case"ExcessResources":{let e="cluster";void 0!==t&&/CLUSTER_ADDON/.test(t)&&(e="cluster add-on"),o=`You are not authorized to ${"cluster"===e&&void 0!==t&&t.includes(l.clustersConstants.EDIT_CLUSTER)?"edit":"create"} the ${e} because your request exceeds available quota.\n              In order to fulfill this request, you will need quota/subscriptions for:`;break}}return(null==e?void 0:e.code)===n&&(o="Your account has been placed on Export Hold based on export control screening.\nThe Export Compliance Team has been notified that your account is on hold, and must conduct additional due diligence to resolve the Export Hold.\nTry again in 24-48 hours.\nLearn more: https://access.redhat.com/articles/1340183"),o},s=e=>{var t;if(void 0===(null===(t=e.payload)||void 0===t?void 0:t.response))return String(e.payload);const a=e.payload.response.data;return i(a,e.type)||("Error"===(null==a?void 0:a.kind)||"Error"===(null==a?void 0:a.type)?`${a.code}:\n${a.reason}`:JSON.stringify(a))},o=e=>{var t;return(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.code)===r},u=e=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.code},c=e=>{var t,a,l,n,r,i,c,d,m,p,f,E;return(null===(t=e.payload)||void 0===t?void 0:t.response)&&o(null===(a=e.payload)||void 0===a?void 0:a.response)?{fulfilled:!1,pending:!1,error:!1}:{fulfilled:!1,pending:!1,error:!0,errorCode:null===(n=null===(l=e.payload)||void 0===l?void 0:l.response)||void 0===n?void 0:n.status,internalErrorCode:(null===(r=e.payload)||void 0===r?void 0:r.response)?u(null===(i=e.payload)||void 0===i?void 0:i.response):void 0,errorMessage:s(e),errorDetails:null===(m=null===(d=null===(c=e.payload)||void 0===c?void 0:c.response)||void 0===d?void 0:d.data)||void 0===m?void 0:m.details,operationID:null===(E=null===(f=null===(p=e.payload)||void 0===p?void 0:p.response)||void 0===f?void 0:f.data)||void 0===E?void 0:E.operation_id}},d=e=>{const t=[];return e&&e.length?(e.forEach((e=>{if("ExcessResources"===e.kind){const a={addon:["addon","addons"],"cluster.aws":["cluster","clusters"],"cluster.gcp":["cluster","clusters"],"compute.node.aws":["node","nodes"],"compute.node.gcp":["node","nodes"],"pv.storage.aws":["GiB of storage","GiB of storage"],"pv.storage.gcp":["GiB of storage","GiB of storage"],"network.loadbalancer.aws":["load balancers","load balancers"],"network-gcp.loadbalancer.gcp":["load balancers","load balancers"]},l=(e,t)=>a[e]?a[e][1===t?0:1]:e;e.items?t.push(e.items.map((e=>"addon"===e.resource_type?`${e.resource_type}: ${e.resource_name}`:e.resource_type&&a[e.resource_type]?`${e.count} additional\n                  ${l(e.resource_type,e.count)} of type\n                  ${e.availability_zone_type} availability zone, instance size\n                  ${e.resource_name}.`:"An error occurred"))):t.push("Unknown resource")}else(null==e?void 0:e.items)&&["AddOnParameterOptionList","AddOnRequirementData"].includes(e.kind)?t.push(JSON.stringify(e.items,void 0,2)):Array.isArray(null==e?void 0:e.items)&&t.push(e.items.map((e=>JSON.stringify(e,void 0,2))))})),t):[]}},37979:(e,t,a)=>{"use strict";a.r(t),a.d(t,{hasExternalAuthenticationCapability:()=>l});const l=e=>!!(null==e?void 0:e.length)&&e.some((e=>"capability.organization.hcp_allow_external_authentication"===e.name&&"true"===e.value))},45436:(e,t,a)=>{"use strict";var l;a.d(t,{T:()=>n,x:()=>l}),function(e){e.SECURITY_GROUPS="securityGroups",e.AWS_SHARED_VPC="sharedVPC"}(l||(l={}));const n=(e,t)=>e===l.SECURITY_GROUPS&&(e=>{var t,a;if("aws"!==(null===(t=null==e?void 0:e.cloud_provider)||void 0===t?void 0:t.id))return!1;const l=(null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.subnet_ids)||[];return!!(null==l?void 0:l.length)})(t)},6071:(e,t,a)=>{"use strict";a.r(t),a.d(t,{UNNAMED_CLUSTER:()=>l,default:()=>n});const l="Unnamed Cluster",n=e=>{var t,a,n,r;if(!e)return"";let i=null===(t=e.subscription)||void 0===t?void 0:t.display_name;if(i&&i!==(null===(a=e.subscription)||void 0===a?void 0:a.external_cluster_id)||(i=e.name||e.external_id),void 0===i){if("Deprovisioned"===(null===(n=e.subscription)||void 0===n?void 0:n.status)){const t=null===(r=e.subscription)||void 0===r?void 0:r.id;if(t)return t}return l}return i}},53034:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(10135);const n=(e,t,a)=>{const n={redirect:t,cancelRedirect:a};return`${e}&${(0,l.buildUrlParams)(n)}`}},74780:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getTrialEndDate:()=>i,getTrialExpiresInDays:()=>r});var l=a(74353),n=a.n(l);const r=(e,t)=>{var a,l;let r="";if(r=t?null===(a=e.subscription)||void 0===a?void 0:a.trial_end_date:null===(l=e.subscription)||void 0===l?void 0:l.eval_expiration_date,r){const e=n()(r).diff(n()(),"day");return 0===e?"< 1 day":`${e} day${1===e?"":"s"}`}return"unknown days"},i=e=>{var t;const a=null===(t=e.subscription)||void 0===t?void 0:t.trial_end_date;return a?n().utc(a).local().format("dddd, MMMM Do YYYY, h:mm a"):"unknown date"}},93413:(e,t,a)=>{"use strict";a.r(t),a.d(t,{arrayToString:()=>f,asArray:()=>d,constructSelectedSubnets:()=>L,default:()=>N,formatMinorVersion:()=>O,getRandomID:()=>v,goZeroTime:()=>A,goZeroTime2Null:()=>R,isSupportedMinorVersion:()=>T,isValid:()=>o,multiInputToCleanArray:()=>c,noMachineTypes:()=>_,noQuotaTooltip:()=>h,nodeKeyValueTooltipText:()=>S,noop:()=>s,parseReduxFormKeyValueList:()=>y,parseReduxFormTaints:()=>I,scrollToFirstField:()=>C,secureRandomValueInRange:()=>g,shouldRefetchQuota:()=>b,strToCleanArray:()=>u,strToCleanObject:()=>E,strToKeyValueObject:()=>P,stringToArray:()=>m,stringToArrayTrimmed:()=>p,truncateTextWithEllipsis:()=>D});var l=a(62193),n=a.n(l),r=a(99589),i=a.n(r);const s=Function.prototype,o=e=>null!=e&&!1!==e&&""!==e,u=e=>e?e.split(",").map((e=>e.trim())).filter((e=>e)):void 0,c=(e,t)=>{const a=e[t];return Array.isArray(a)?a.map((e=>null==e?void 0:e[t])).filter((e=>e)).map((e=>e.trim())):[]},d=e=>Array.isArray(e)?e:[e],m=e=>e&&e.trim().split(","),p=e=>d(m(e)).map((e=>null==e?void 0:e.trim())).filter((e=>!!e)),f=e=>e&&e.join(","),E=(e,t)=>{if(!e)return{};const a=u(e),l={};return null==a||a.forEach((e=>{const[a,n]=e.split(t);l[a]=n})),l},g=(e,t)=>{const a=new Uint32Array(1);crypto.getRandomValues(a);const l=a[0]/4294967296,n=Math.ceil(e),r=Math.floor(t);return Math.floor(l*(r-n+1))+n},v=()=>`${crypto.getRandomValues(new Uint32Array(1))[0].toString(16)}`,h="You do not have enough quota for this option. Contact sales to purchase additional quota.",_="You do not have enough quota to create a cluster with the minimum required worker capacity.",S="To add an additional label, make sure all of your labels' keys are filled out (value fields are optional).",b=(e,t=!0)=>{var a;const l=(new Date).getTime(),n=null!==(a=e.timestamp)&&void 0!==a?a:l;return!e.pending&&(!e.fulfilled||!t||l-n>12e4)},C=(e,t="input,select,textarea,button")=>{if(!(null==e?void 0:e.length))return!1;const a=e.map((e=>`[id="${CSS.escape(e)}"]`)).join(","),l=e.map((e=>`[id*="${CSS.escape(e)}"]`)).join(","),n=document.querySelector(a)||document.querySelector(l);if(n instanceof HTMLElement){let e=n;return t.includes(n.tagName.toLowerCase())||(e=null==n?void 0:n.querySelector(t)),setTimeout((()=>n.scrollIntoView({behavior:"smooth",block:"center"})),500),null==e||e.focus({preventScroll:!0}),!0}return!1},y=(e=[{}])=>Object.fromEntries(e.filter((({key:e})=>void 0!==e&&""!==e)).map((({key:e,value:t})=>[e,null!=t?t:""]))),I=e=>e.map((e=>e.key&&e.effect&&{key:e.key,value:null===e.value||void 0===e.value?"":e.value,effect:e.effect})).filter(Boolean),A="0001-01-01T00:00:00Z",R=e=>{if(e===A)return null;const t=Date.parse(e);return Number.isNaN(t)||t!==Date.parse(A)?e:null},T=(e,t)=>{const a=t?i().coerce(t):null;return!!a&&i().satisfies(e,`<=${i().major(a)}.${i().minor(a)}`)},O=e=>{const t=i().coerce(e);return t?`${i().major(t)}.${i().minor(t)}`:e},P=(e,t)=>{if(void 0!==e)return e?e.split(",").reduce(((e,a)=>{const[l,n]=a.split("=");return{...e,[l]:null!=n?n:t}}),{}):{}},D=(e,t)=>e&&t&&e.length>t?`${e.slice(0,t/3)}... ${e.slice(2*-t/3)}`:e,L=e=>{var t,a,l;const n="true"===(null==e?void 0:e.hypershift),r=null==e?void 0:e.use_privatelink;let i=[],s=[],o=[];if(null==e?void 0:e.install_to_vpc){let u=[];const c=null==e?void 0:e.machinePoolsSubnets.map((e=>e.privateSubnetId)).filter((e=>void 0!==e&&""!==e));u=n?null==e?void 0:e.cluster_privacy_public_subnet_id:null==e?void 0:e.machinePoolsSubnets.map((e=>e.publicSubnetId)).filter((e=>void 0!==e&&""!==e)),(null===(t=null==e?void 0:e.selected_vpc)||void 0===t?void 0:t.aws_subnets)&&(i=null===(a=null==e?void 0:e.selected_vpc)||void 0===a?void 0:a.aws_subnets.filter((e=>c.includes(e.subnet_id))),s=null===(l=null==e?void 0:e.selected_vpc)||void 0===l?void 0:l.aws_subnets.filter((e=>u.includes(e.subnet_id)))),o=r?i:i.concat(s)}return o},N={noop:s,isValid:o,strToCleanArray:u,asArray:d,nestedIsEmpty:e=>n()(e)||Object.keys(e).map((t=>n()(e[t]))).every((e=>e))}},22902:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m,isAISubscriptionWithoutMetrics:()=>d,isAssistedInstallCluster:()=>u,isAvailableAssistedInstallCluster:()=>o,isUninstalledAICluster:()=>c});var l=a(58156),n=a.n(l),r=a(13642),i=a(75166);const s=e=>{var t;return(null===(t=null==e?void 0:e.plan)||void 0===t?void 0:t.id)===i.normalizedProducts.OCP_ASSISTED_INSTALL},o=e=>!(n()(e,"subscription.status",!1)===r.SubscriptionCommonFields.status.ARCHIVED)&&!!e.aiCluster&&s(e.subscription),u=e=>s(e.subscription),c=e=>{var t;return s(e.subscription)&&(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.SubscriptionCommonFields.status.RESERVED&&"installed"!==e.state},d=e=>s(e)&&(!(null==e?void 0:e.metrics)||0===e.metrics.length),m=s},51513:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY:()=>i,ENV_OVERRIDE_LOCALSTORAGE_KEY:()=>r,HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY:()=>s,HAS_USER_DISMISSED_RECOMMENDED_OPERATORS_ALERT:()=>u,ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST:()=>l,ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST:()=>n,RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY:()=>o,default:()=>c});const l="onlyViewMyClustersToggleClustersList",n="onlyViewMyClustersToggleClusterArchivesList",r="ocmOverridenEnvironment",i="rosaAwsAccount",s="hadInflightErrors",o="restrictedEnvOverride",u="hasUserDismissedRecommendedOperatorsAlert",c={ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST:l,ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST:n,ENV_OVERRIDE_LOCALSTORAGE_KEY:r,AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY:i,HAD_INFLIGHT_ERROR_LOCALSTORAGE_KEY:s,RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY:o,HAS_USER_DISMISSED_RECOMMENDED_OPERATORS_ALERT:u}},73424:(e,t,a)=>{"use strict";a.d(t,{YW:()=>n,ai:()=>r,x4:()=>l});const l="any",n=(e,t)=>e===t||e===l||t===l,r=(e,t)=>n(e?e.toLowerCase():void 0,t?t.toLowerCase():void 0)},1727:(e,t,a)=>{"use strict";a.d(t,{DX:()=>h,HQ:()=>v,OF:()=>b,Pb:()=>_,_v:()=>g,bd:()=>E,tS:()=>S,uP:()=>p});var l=a(1932),n=a(25247),r=a(13642),i=a(22902),s=a(75166),o=a(10176);const{getClustervCPUCount:u,getClusterMemoryAmount:c,getMasterCount:d,getWorkerCount:m}=n,p=e=>{const t={OCP:s.normalizedProducts.OCP,OSD:s.normalizedProducts.OSD,OSDTRIAL:s.normalizedProducts.OSDTRIAL,RHMI:s.normalizedProducts.RHMI,MOA:s.normalizedProducts.ROSA,ROSA:s.normalizedProducts.ROSA,ROSA_HYPERSHIFT:s.normalizedProducts.ROSA_HyperShift,MOA_HOSTEDCONTROLPLANE:s.normalizedProducts.ROSA_HyperShift,ARO:s.normalizedProducts.ARO,OCP_ASSISTEDINSTALL:s.normalizedProducts.OCP_ASSISTED_INSTALL,RHACS:s.normalizedProducts.RHACS,RHACSTRIAL:s.normalizedProducts.RHACSTRIAL,RHOSR:s.normalizedProducts.RHOSR,RHOSRTRIAL:s.normalizedProducts.RHOSRTRIAL,RHOSAK:s.normalizedProducts.RHOSAK,RHOSAKTRIAL:s.normalizedProducts.RHOSAKTRIAL,RHOSE:s.normalizedProducts.RHOSE,RHOSETRIAL:s.normalizedProducts.RHOSETRIAL,RHOIC:s.normalizedProducts.RHOIC,ANY:s.normalizedProducts.ANY};return"string"!=typeof e?s.normalizedProducts.UNKNOWN:t[e.toUpperCase().replace("-","_")]||s.normalizedProducts.UNKNOWN},f={memory:{used:{value:0,unit:"B"},total:{value:0,unit:"B"},updated_timestamp:""},cpu:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},storage:{used:{value:0,unit:"B"},total:{value:0,unit:"B"},updated_timestamp:""},nodes:{total:0,master:0,compute:0},state:"N/A",upgrade:{available:!1},cloud_provider:"",cluster_type:"",compute_nodes_cpu:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},compute_nodes_memory:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},compute_nodes_sockets:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},console_url:"",critical_alerts_firing:0,non_virt_nodes:0,openshift_version:"",operating_system:"",operators_condition_failing:0,region:"",sockets:{used:{value:0,unit:""},total:{value:0,unit:""},updated_timestamp:""},state_description:"",subscription_cpu_total:0,subscription_obligation_exists:0,subscription_socket_total:0},E=e=>{const t=e?{...f,...e}:{...f},a=["memory","storage","cpu"];return["memory","storage","cpu","nodes"].forEach((e=>{if(t[e]={...f[e],...t[e]},a.includes(e)){const a=t[e],l=a.total||{},n=a.used||{},r=f[e];a.total={...r.total,...l},a.used={...r.used,...n}}})),t},g=e=>{var t,a,l;const n={...e};if(n.product={id:p(null===(t=e.product)||void 0===t?void 0:t.id)},e.version&&e.version.available_upgrades)try{null===(l=null===(a=n.version)||void 0===a?void 0:a.available_upgrades)||void 0===l||l.sort(o.versionComparator)}catch(e){console.error(e)}return n},v=e=>{var t,a,l,n;const i=null===(t=e.metrics)||void 0===t?void 0:t[0],o=E(i),u={subscription_id:e.id,id:e.cluster_id,external_id:e.external_cluster_id,console:{url:e.console_url},creation_timestamp:e.created_at,activity_timestamp:i?i.query_timestamp:e.last_telemetry_date,state:o.state,openshift_version:o.openshift_version,cpu_architecture:o.arch,product:{id:p(null===(a=e.plan)||void 0===a?void 0:a.id),type:p(null===(l=e.plan)||void 0===l?void 0:l.type)},managed:s.clustersServiceProducts.includes(p(null===(n=e.plan)||void 0===n?void 0:n.type)),ccs:{enabled:e.status===r.SubscriptionCommonFields.status.DEPROVISIONED&&void 0},metrics:o},c=e.cloud_provider_id;c&&(u.cloud_provider={id:c.toLowerCase()});const d=e.region_id;return d&&(u.region={id:d.toLowerCase()}),u},h=(e,t)=>{var a,l;const n=v(e);if((0,i.isAISubscriptionWithoutMetrics)(e)){const e=t?m(null!==(a=t.hosts)&&void 0!==a?a:[]):0,r=t?d(null!==(l=t.hosts)&&void 0!==l?l:[]):0;n.metrics.memory.total.value=t?c(t):0,n.metrics.cpu.total.value=t?u(t):0,n.metrics.nodes.total=e+r,n.metrics.nodes.master=r,n.metrics.nodes.compute=e;const i=n.metrics.openshift_version||(null==t?void 0:t.openshiftVersion)||"N/A";n.metrics.openshift_version=i,n.openshift_version=i;const s=(null==t?void 0:t.status)||"N/A";n.metrics.state=s,n.state=s,n.cpu_architecture=n.metrics.arch}return n},_=e=>{var t,a;return{...e,plan:{id:p(null===(t=e.plan)||void 0===t?void 0:t.id),type:p(null===(a=e.plan)||void 0===a?void 0:a.type)}}},S=e=>{var t;return{...e,related_resources:(null!==(t=null==e?void 0:e.related_resources)&&void 0!==t?t:[]).map((e=>({...e,product:p(e.product)})))}},b=(e,t)=>(0,l.jM)(e,(e=>{var a;e.data.items=null===(a=e.data.items)||void 0===a?void 0:a.map(t)}))},10135:(e,t,a)=>{"use strict";a.r(t),a.d(t,{buildFilterURLParams:()=>E,buildUrlParams:()=>f,createOverviewQueryObject:()=>p,createServiceLogQueryObject:()=>m,createViewQueryObject:()=>d,deleteQueryParam:()=>v,getQueryParam:()=>g,sqlString:()=>u,viewPropsChanged:()=>o});var l=a(62193),n=a.n(l),r=a(2404),i=a.n(r),s=a(75166);const o=(e,t)=>e.currentPage!==t.currentPage||e.pageSize!==t.pageSize||!i()(e.sorting,t.sorting)||!i()(e.filter,t.filter)||!i()(e.flags,t.flags),u=e=>`'${e.replace(/'/g,"''")}'`,c=(e,t)=>{const a=t?"asc":"desc";return e.split(",").map((e=>`${e.trim()} ${a}`)).join(", ")},d=(e,t)=>{const a={};if(e){a.page=e.currentPage,a.page_size=e.pageSize,a.has_filters=!!e.filter;const{sortField:l,isAscending:r}=e.sorting;if(null!==l){const e=r?"asc":"desc";a.order="name"===l?`display_name ${e}`:c(l,r)}const i=[];if(i.push("cluster_id!=''"),i.push(`plan.id IN (${s.allowedProducts.map(u).join(", ")})`),e.flags.showArchived?i.push("status IN ('Deprovisioned', 'Archived')"):i.push("status NOT IN ('Deprovisioned', 'Archived')"),e.flags.showMyClustersOnly&&i.push(`creator.username='${t}'`),"string"==typeof e.filter)if(0===e.filter.length)i.push("display_name is not null OR external_cluster_id is not null OR cluster_id is not null");else{const t=u(`%${e.filter}%`);i.push(`display_name ILIKE ${t} OR external_cluster_id ILIKE ${t} OR cluster_id ILIKE ${t}`)}if(!n()(e.flags.subscriptionFilter)){const t=e.flags.subscriptionFilter.plan_id;if(!n()(t)){const e=t.flatMap((e=>{var t;return null===(t=s.productFilterOptions.find((t=>t.key===e)))||void 0===t?void 0:t.plansToQuery})).map(u);i.push(`plan_id IN (${e.join(",")})`)}}a.filter=i.map((e=>`(${e})`)).join(" AND ").trim()}return a},m=(e,t,a,l)=>{const n={page:1,page_size:-1,format:t};if(e){n.page=a||e.currentPage,n.page_size=l||e.pageSize;const{sortField:t,isAscending:r}=e.sorting;null!==t&&(n.order=c(t,r));const i=[];if(e.filter&&"string"!=typeof e.filter){const{description:t,loggedBy:a,timestampFrom:l,timestampTo:n}=e.filter;if(t){const e=u(`%${t}%`);i.push(`(description ILIKE ${e} OR summary ILIKE ${e})`)}if(a){const e=u(`%${a}%`);i.push(`(username ILIKE ${e} OR (username = '' AND created_by ILIKE ${e}))`)}l&&i.push(`timestamp ${l}`),n&&i.push(`timestamp ${n}`)}if(e.flags){const{severityTypes:t=[],logTypes:a=[]}=e.flags.conditionalFilterFlags;if(t.length>0){const e=t.map(u);i.push(`severity IN (${e.join(",")})`)}if(a.length>0){const e=a.map(u);i.push(`log_type IN (${e.join(",")})`)}}i.length>0&&(n.filter=i.map((e=>`(${e})`)).join(" AND ").trim())}return n},p=(e,t)=>{const a={order:"display_name asc",...t};return e&&(a.page=e.currentPage,a.page_size=e.pageSize),a},f=e=>Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&"),E=e=>encodeURI(Object.keys(e).map((t=>!n()(e[t])&&`${t}=${e[t].join(",")}`)).filter(Boolean).join("&")),g=e=>{var t;return null!==(t=new URLSearchParams(window.location.search).get(e))&&void 0!==t?t:void 0},v=e=>{const t=new URL(window.location.href);t.searchParams.delete(e),window.history.replaceState({},"",t.toString())}},77969:(e,t,a)=>{"use strict";a.r(t),a.d(t,{emailRegex:()=>l});const l=/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g},87960:(e,t,a)=>{"use strict";a.d(t,{X:()=>n,g:()=>l});const l=!0,n=e=>!!(null==e?void 0:e.length)&&e.some((e=>"capability.organization.restrict_offline_tokens"===e.name&&"true"===e.value))},9269:(e,t,a)=>{"use strict";a.r(t),a.d(t,{extractAWSID:()=>l});const l=e=>{const t=e.substr(e.indexOf("::")+2);return t.substr(0,t.indexOf(":"))}},69304:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Link:()=>c,Navigate:()=>d,advisorBaseName:()=>r,ocmBaseName:()=>n,useNavigate:()=>m});const{insights:{appname:l}}=a(8330),n=`/${l}`,r=`${n}/insights/advisor`,i=e=>"string"==typeof e?`${n}/${e}`.replace("//","/").replace(`${n}${n}`,n):{...e,...e.pathname&&{pathname:`${n}/${e.pathname}`.replace("//","/").replace(`${n}${n}`,n)}};var s=a(93345),o=a.n(s),u=a(95376);const c=({to:e,...t})=>o().createElement(u.Link,{...t,to:i(e)}),d=({to:e,...t})=>o().createElement(u.Navigate,{...t,to:i(e)}),m=()=>{const e=(()=>{const e=(0,u.useNavigate)();return(t,a)=>{e(i(t),a)}})(),t=(0,s.useRef)({navigate:e});return(0,s.useEffect)((()=>{t.current.navigate=e}),[e]),(0,s.useCallback)(((e,a)=>{t.current.navigate(e,a)}),[])}},94675:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getDefaultSecurityGroupsSettings:()=>l,hasSecurityGroupIds:()=>r,hasSelectedSecurityGroups:()=>n});const l=()=>({applyControlPlaneToAll:!0,controlPlane:[],infra:[],worker:[]}),n=e=>!!e&&(e.applyControlPlaneToAll?e.controlPlane.length>0:e.controlPlane.length>0||e.infra.length>0||e.worker.length>0),r=(e={},t=[])=>{var a,l,n,r;return(null!==(l=null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.additional_control_plane_security_group_ids)&&void 0!==l?l:[]).length>0||(null!==(r=null===(n=null==e?void 0:e.aws)||void 0===n?void 0:n.additional_infra_security_group_ids)&&void 0!==r?r:[]).length>0||(null==t?void 0:t.some((e=>{var t,a;return((null===(t=null==e?void 0:e.aws)||void 0===t?void 0:t.additional_security_group_ids)||(null===(a=null==e?void 0:e.aws_node_pool)||void 0===a?void 0:a.additional_security_group_ids)||[]).length>0})))}},11009:(e,t,a)=>{"use strict";a.r(t),a.d(t,{hasCapability:()=>r,haveCapabilities:()=>i,subscriptionCapabilities:()=>n});var l=a(13642);const n={CREATE_MOA_CLUSTERS:"capability.account.create_moa_clusters",CREATE_ROSA_CLUSTERS:"capability.account.create_rosa_clusters",MANAGE_CLUSTER_ADMIN:"capability.cluster.manage_cluster_admin",ORGANIZATION_REGISTRATIONS_PER_HOUR:"capability.organization.clusters_registrations_per_hour",SUBSCRIBED_OCP:"capability.cluster.subscribed_ocp",SUBSCRIBED_OCP_MARKETPLACE:"capability.cluster.subscribed_ocp_marketplace",BARE_METAL_INSTALLER_ADMIN:"capability.account.bare_metal_installer_admin",RELEASE_OCP_CLUSTERS:"capability.cluster.release_ocp_clusters",CREATE_GCP_NON_CCS_CLUSTER:"capability.organization.create_gcp_non_ccs_cluster"},r=(e,t)=>{var a;if(t===n.RELEASE_OCP_CLUSTERS)return!0;if(t===n.SUBSCRIBED_OCP_MARKETPLACE){if((null==e?void 0:e.status)===l.SubscriptionCommonFields.status.DISCONNECTED)return!1;if(!(null==e?void 0:e.id))return!1}const r=(null!==(a=null==e?void 0:e.capabilities)&&void 0!==a?a:[]).find((e=>e.name===t));return"true"===(null==r?void 0:r.value)},i=(e,t)=>e.reduce(((e,a)=>({...e,[`${a.id}`]:r(a.subscription,t)})),{})},75166:(e,t,a)=>{"use strict";a.r(t),a.d(t,{STANDARD_TRIAL_BILLING_MODEL_TYPE:()=>R,allowedProducts:()=>C,clustersServiceProducts:()=>I,knownProducts:()=>b,normalizedProducts:()=>y,ocmRoles:()=>T,productFilterOptions:()=>A,subscriptionSettings:()=>n});var l=a(13642);const n={SUPPORT_LEVEL:"support_level",USAGE:"usage",SERVICE_LEVEL:"service_level",PRODUCT_BUNDLE:"product_bundle",SYSTEM_UNITS:"system_units",CPU_TOTAL:"cpu_total",SOCKET_TOTAL:"socket_total",CLUSTER_BILLING_MODEL:"cluster_billing_model",EVALUATION_EXPIRATION_DATE:"evaluation_expiration_date"},r={ROSA:"ROSA",ROSA_HyperShift:"ROSA-HyperShift"},{OSD:i,OSDTRIAL:s,OCP:o,RHMI:u,ARO:c,OCP_ASSISTED_INSTALL:d,RHACS:m,RHACSTRIAL:p,RHOSR:f,RHOSRTRIAL:E,RHOSAK:g,RHOSAKTRIAL:v,RHOSE:h,RHOSETRIAL:_,RHOIC:S}=l.ClusterAuthorizationRequest.product_id,b={OSD:i,OSDTRIAL:s,OCP:o,RHMI:u,ARO:c,OCP_ASSISTED_INSTALL:d,RHACS:m,RHACSTRIAL:p,RHOSR:f,RHOSRTRIAL:E,RHOSAK:g,RHOSAKTRIAL:v,RHOSE:h,RHOSETRIAL:_,RHOIC:S,...r},C=[l.ClusterAuthorizationRequest.product_id.OSD,l.ClusterAuthorizationRequest.product_id.OSDTRIAL,l.ClusterAuthorizationRequest.product_id.OCP,l.ClusterAuthorizationRequest.product_id.RHMI,r.ROSA,l.ClusterAuthorizationRequest.product_id.RHOIC,l.ClusterAuthorizationRequest.product_id.MOA,l.ClusterAuthorizationRequest.product_id.MOA_HOSTED_CONTROL_PLANE,r.ROSA_HyperShift,l.ClusterAuthorizationRequest.product_id.ARO,l.ClusterAuthorizationRequest.product_id.OCP_ASSISTED_INSTALL],y={...b,ANY:"ANY",UNKNOWN:"UNKNOWN"},I=[l.ClusterAuthorizationRequest.product_id.OSD,l.ClusterAuthorizationRequest.product_id.OSDTRIAL,r.ROSA,r.ROSA_HyperShift,l.ClusterAuthorizationRequest.product_id.RHMI,l.ClusterAuthorizationRequest.product_id.ARO],A=[{key:l.ClusterAuthorizationRequest.product_id.OCP,label:"OCP",plansToQuery:["OCP","OCP-AssistedInstall"]},{key:l.ClusterAuthorizationRequest.product_id.OSD,label:"OSD",plansToQuery:["OSD"]},{key:r.ROSA,label:"ROSA",plansToQuery:["MOA","ROSA","MOA-HostedControlPlane"]},{key:l.ClusterAuthorizationRequest.product_id.ARO,label:"ARO",plansToQuery:["ARO"]},{key:l.ClusterAuthorizationRequest.product_id.RHOIC,label:"RHOIC",plansToQuery:["RHOIC"]}],R="standard-trial",T={CLUSTER_EDITOR:{id:"ClusterEditor",name:"Cluster editor",description:"Cluster editor role will allow users or groups to manage and configure the cluster."},CLUSTER_VIEWER:{id:"ClusterViewer",name:"Cluster viewer",description:"Cluster viewer role will allow users or groups to view cluster details only."},CLUSTER_AUTOSCALER_EDITOR:{id:"ClusterAutoscalerEditor",name:"Cluster autoscaler editor",description:"Cluster autoscaler editor role will allow users or groups to manage and configure the cluster autoscaler settings.",excludeProductIds:[r.ROSA_HyperShift]},IDP_EDITOR:{id:"IdpEditor",name:"Identity provider editor",description:"Identity provider editor role will allow users or groups to manage and configure the identity providers."},MACHINE_POOL_EDITOR:{id:"MachinePoolEditor",name:"Machine pool editor",description:"Machine pool editor role will allow users or groups to manage and configure the machine pools."}}},74688:(e,t,a)=>{"use strict";a.r(t),a.d(t,{humanizeValueWithUnit:()=>i,humanizeValueWithUnitGiB:()=>o,humanizeValueWithoutUnit:()=>u,parseValueWithUnit:()=>r,roundValueWithUnit:()=>s});var l=a(19412);const n=(e,t)=>{const a=10**t;return Math.round(e*a)/a},r=(e,t)=>e*{B:1,KiB:1024,MiB:2**20,GiB:2**30,TiB:2**40,PiB:2**50,KB:1e3,MB:10**6,GB:10**9,TB:10**12,PB:10**15}[t.trim()],i=(e,t)=>{const a=(0,l.O)(r(e,t),{output:"object",standard:"iec"});return{value:+a.value,unit:a.unit.trim()}},s=(e,t)=>({value:n(e,2),unit:t}),o=e=>s(e/2**30,"GiB"),u=(e,t=2)=>(0,l.O)(e,{base:t})},84037:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAX_CLUSTER_NAME_LENGTH:()=>R,MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH:()=>x,acknowledgePrerequisites:()=>H,asyncValidateClusterName:()=>te,asyncValidateDomainPrefix:()=>ae,atLeastOneRequired:()=>je,awsNumericAccountID:()=>ze,checkClusterConsoleURL:()=>De,checkClusterDisplayName:()=>ye,checkClusterUUID:()=>Ce,checkCustomOperatorRolesPrefix:()=>ue,checkDisconnectedConsoleURL:()=>Fe,checkDisconnectedMemCapacity:()=>Ge,checkDisconnectedSockets:()=>xe,checkDisconnectedvCPU:()=>Me,checkGithubTeams:()=>ce,checkHostDomain:()=>Et,checkIdentityProviderName:()=>V,checkKeyValueFormat:()=>_e,checkLabelKey:()=>pe,checkLabelValue:()=>fe,checkLabels:()=>ve,checkLabelsAdditionalRouter:()=>be,checkMachinePoolName:()=>$,checkNoProxyDomains:()=>Le,checkNodePoolName:()=>K,checkOpenIDIssuer:()=>B,checkRouteSelectors:()=>Se,checkTaintKey:()=>Ee,checkTaintValue:()=>ge,checkUserID:()=>Ie,clusterAutoScalingValidators:()=>se,clusterNameAsyncValidation:()=>W,clusterNameValidation:()=>z,composeValidators:()=>ft,createPessimisticValidator:()=>oe,default:()=>vt,domainPrefixAsyncValidation:()=>Q,domainPrefixValidation:()=>Y,evaluateClusterNameAsyncValidation:()=>X,maxAdditionalSecurityGroups:()=>d,maxAdditionalSecurityGroupsHypershift:()=>m,required:()=>G,requiredTrue:()=>U,validateARN:()=>Ue,validateAWSKMSKeyARN:()=>at,validateCA:()=>Pe,validateDuplicateLabels:()=>he,validateGCPHostProjectId:()=>qe,validateGCPKMSServiceAccount:()=>tt,validateGCPServiceAccount:()=>$e,validateGCPSubnet:()=>et,validateHTPasswdPassword:()=>lt,validateHTPasswdPasswordConfirm:()=>it,validateHTPasswdUsername:()=>rt,validateLabelKey:()=>st,validateLabelValue:()=>ot,validateListOfBalancingLabels:()=>le,validateMaxNodes:()=>re,validateMultipleMachinePoolsSubnets:()=>Je,validateNamespacesList:()=>mt,validateNumericInput:()=>ke,validatePositive:()=>ie,validatePrivateHostedZoneId:()=>Be,validateRHITUsername:()=>Re,validateRequiredPublicSubnetId:()=>Xe,validateRoleARN:()=>Ve,validateSecureURL:()=>gt,validateSecurityGroups:()=>Ke,validateServiceAccountObject:()=>We,validateTlsHostname:()=>dt,validateTlsSecretName:()=>ct,validateUniqueAZ:()=>Ye,validateUniqueHTPasswdUsername:()=>nt,validateUniqueNodeLabel:()=>Qe,validateUrl:()=>Te,validateUrlHttpsAndHttp:()=>Oe,validateUserOrGroupARN:()=>He,validateWorkerVolumeSize:()=>pt});var l=a(72100),n=a(91357),r=a.n(n),i=a(15304),s=a(9704),o=a(72230),u=a(90020),c=a(10135);const d=5,m=10,p=/^[a-z]([-a-z0-9]*[a-z0-9])?$/,f=/^[-a-z0-9]+$/,E=/^[a-z]/,g=/[a-z0-9]$/,v=/^.*[/]+.*[/]+.*$/i,h=/^([a-z]([-a-z0-9]*[a-z0-9])?\.)+[a-z]([-a-z0-9]*[a-z0-9])?$/,_=/^([a-z]([-a-z0-9]*[a-z0-9])?)+(\.[a-z]([-a-z0-9]*[a-z0-9])?)*$/,S=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,b=/^([0-9]+(\.[0-9]+)?(ns|us|µs|ms|s|m|h))+$/,C=/^[a-zA-Z]+[a-zA-Z0-9./-]*:[0-9]+:[0-9]+$/,y=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/(3[0-2]|[1-2][0-9]|[1-9]))$/,I=/^\/?(3[0-2]|[1-2][0-9]|[0-9])$/,A=/^https?:\/\/(([0-9]{1,3}\.){3}[0-9]{1,3}|([a-z0-9-]+\.)+[a-z]{2,})(:[0-9]+)?([a-z0-9_/-]+)?$/i,R=54,T=/^[a-z][-a-z0-9]{4,28}[a-z0-9]{1}$/,O=/^arn:aws([-\w]+)?:iam::\d{12}:(user|group)\/\S+/,P=/^arn:aws([-\w]+)?:iam::\d{12}:role\/\S+/,D=/^Z[0-9A-Z]{3,}/,L=/^\d{12}$/,N=/^[a-z0-9.+-]+@[\w.-]+\.[a-z]{2,4}$/,w=/^arn:aws([-\w]+)?:kms:[\w-]+:\d{12}:key\/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,k=/^arn:aws([-\w]+)?:kms:[\w-]+:\d{12}:key\/mrk-[0-9a-f]{32}$/,F=/^([a-z0-9][a-z0-9-_.]*)?[a-z0-9]$/i,M=/^(([a-z0-9][a-z0-9-_.]*)?[a-z0-9])?$/i,x=32,G=e=>e&&e.trim()?void 0:"Field is required",U=e=>e&&!0===e?void 0:"Field must be selected",H=e=>e&&!0===e?void 0:"Acknowledge that you have read and completed all prerequisites.",V=e=>e?/\s/.test(e)?"Name must not contain whitespaces.":/[^A-Za-z0-9_-]/.test(e)?"Name should contain only alphanumeric and dashes":void 0:"Name is required.",B=e=>{if(!e)return"Issuer URL is required.";if(!e.startsWith("https://"))return"Invalid URL. Issuer must use https scheme without a query string (?) or fragment (#)";let t;try{t=new URL(e)}catch(e){return"Invalid URL"}return""!==t.hash||""!==t.search||t.href.includes("#")?"The URL must not include a query string (?) or fragment (#)":void 0},q=(e,t,a)=>e?p.test(e)?e.length>a?`${t} names may not exceed ${a} characters.`:void 0:`${t} name '${e}' isn't valid, must consist of lower-case alphanumeric characters or '-', start with an alphabetic character, and end with an alphanumeric character. For example, 'my-name', or 'abc-123'.`:`${t} name is required.`,j=(e,t,a)=>[{text:`1 - ${a} characters`,validated:!!(null==e?void 0:e.length)&&(null==e?void 0:e.length)<=a},{text:"Consist of lower-case alphanumeric characters, or hyphen (-)",validated:!!e&&f.test(e)},{text:"Start with a lower-case alphabetic character",validated:!!e&&E.test(e)},{text:"End with a lower-case alphanumeric character",validated:!!e&&g.test(e)}],z=(e,t)=>j(e,0,t||R),W=(e,t,a)=>((e,t,a)=>[{text:"Globally unique name in your organization",validator:async()=>{var l;if(!(null==e?void 0:e.length))return!1;if(!t){const t=`name = ${(0,c.sqlString)(e)}`,{data:a}=await u.clusterService.searchClusters(t,1);return!(null===(l=null==a?void 0:a.items)||void 0===l?void 0:l.some((t=>t.name===e)))}return!a}}])(e,t,a),$=e=>q(e,"Machine pool",30),K=e=>q(e,"Machine pool",15),Y=e=>j(e,0,15),Q=(e,t,a,l)=>((e,t,a,l)=>[{text:"Globally unique domain prefix in your organization",validator:async()=>{var a;if(!(null==e?void 0:e.length))return!1;if(!t){const t=`domain_prefix = ${(0,c.sqlString)(e)}`,{data:l}=await u.clusterService.searchClusters(t,1);return!(null===(a=null==l?void 0:l.items)||void 0===a?void 0:a.some((t=>t.domain_prefix===e)))}return!l}}])(e,t,0,l),Z=e=>async(t,a,l,n)=>{const r=e(t,a,l,n),i=await Promise.all(r.map((({validator:e})=>null==e?void 0:e())));return r.map(((e,t)=>({...e,validated:i[t]})))},X=Z(W),J=Z(Q),ee=e=>{var t;return null===(t=null==e?void 0:e.find((e=>!1===e.validated)))||void 0===t?void 0:t.text},te=async(e,t,a)=>{const l=await X(e,t,a);return ee(l)},ae=async(e,t,a,l)=>{const n=await J(e,t,a,l);return ee(n)},le=e=>{if(!e)return;const t=e.split(",");if(/\s/.test(e))return"Labels must not contain whitespaces.";const a=t.filter(Boolean);return t.length===a.length?void 0:"Empty labels are not allowed."},ne=/^(.*)(\.min|\.max)+$/,re=(e,t)=>+e>+t?`Value must not be greater than ${t}.`:void 0,ie=e=>Number(e)<=0?"Input must be a positive number.":void 0,se={k8sTimeParameter:e=>e?b.test(e)?void 0:"Not a valid time value.":"Field is required.",k8sNumberParameter:e=>{if(Number(e)<0)return"Value cannot be a negative number."},k8sMinMaxParameter:(e,t,a,l)=>{const n=""===(r=e)||Number.isNaN(Number(r))?"Value must be a number.":void 0;var r;if(n)return n;if(Number(e)<0)return"Value cannot be a negative number";const i=l.match(ne),o=i?i[1]:"";return(0,s.get)(t,`${o}.min`,0)<=(0,s.get)(t,`${o}.max`,0)?void 0:"The minimum cannot be above the maximum value."},k8sGpuParameter:e=>{if(!e)return;const t=e.split(",").map((e=>{let t=!1;if(C.test(e)){const a=e.split(":"),l=Number(a[1]),n=Number(a[2]);(l<0||n<0||l>n)&&(t=!0)}else t=!0;return t?e||"empty param":void 0})).filter(Boolean);return 0===t.length?void 0:`Invalid params: ${t.join(",")}`},k8sScaleDownUtilizationThresholdParameter:e=>{if(+e<0||+e>1)return"Value must be between 0 and 1."},k8sLogVerbosityParameter:e=>{if(+e<1||+e>6)return"Value must be between 1 and 6."},validateMaxNodes:re},oe=(e=()=>{})=>(t,a,l,n)=>ee(e(t,a,l,n)),ue=e=>{const t="Custom operator roles prefix";if(e)return p.test(e)?e.length>x?`${t} may not exceed ${x} characters.`:void 0:`${t} '${e}' isn't valid, must consist of lower-case alphanumeric characters or '-', start with an alphabetic character, and end with an alphanumeric character. For example, 'my-name', or 'abc-123'.`},ce=e=>{if(!e)return;const t=e.split(",");for(let e=0;e<t.length;e+=1){const a=t[e].split("/");if(2!==a.length)return"Each team must be of format 'org/team'.";if(!a[0]||!a[1])return"Each team must be of format 'org/team'.";if(/\s/.test(a[0]))return"Organization must not contain whitespaces.";if(/\s/.test(a[1]))return"Team must not contain whitespaces."}},de=(e,t,a)=>{const{prefix:l,name:n}=(e=>{var t,a;const[l,n]=null!==(a=null===(t=null==e?void 0:e.split(/\/(.+)/,2))||void 0===t?void 0:t.reverse())&&void 0!==a?a:[];return{name:l,prefix:n}})(e),r=1===(null==t?void 0:t.length)&&!t[0].key&&!t[0].value;return[{validated:!!e&&!v.test(e),text:"A qualified name must consist of alphanumeric characters, '-', '_' or '.', and must start and end with an alphanumeric character with an optional DNS subdomain prefix and '/' (e.g. 'example.com/MyName')"},{validated:void 0===l||_.test(l),text:"A valid key prefix part of a lowercase RFC 1123 subdomain must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character"},{validated:void 0===l||l.length<=253,text:"A valid key prefix must be 253 characters or less"},{validated:void 0===n||F.test(n),text:"A valid key name must consist of alphanumeric characters, '-', '.' , '_'  or '/' and must start and end with an alphanumeric character"},{validated:void 0===n||n.length<=63,text:"A valid key name must be 63 characters or less"},{validated:r||void 0!==e&&e.length>0,text:"label"===a?"A valid key name must consist of alphanumeric characters, '-', '.' , '_'  or '/' and must start and end with an alphanumeric character":"Required"}]},me=e=>[{validated:null==e||e.length<=63,text:"A valid value must be 63 characters or less"},{validated:void 0===e||M.test(e),text:"A valid value must consist of alphanumeric characters, '-', '.' or '_' and must start and end with an alphanumeric character"}],pe=oe(((e,t)=>{const a=(null==t?void 0:t.node_labels)||[];return de(e,a,"label")})),fe=oe(me),Ee=oe(((e,t)=>{const a=(null==t?void 0:t.taints)||[];return de(e,a,"taint")})),ge=oe(me),ve=e=>{var t;return null===(t=(e=>{var t;if(e)return t="string"==typeof e?e.split(","):e,[].concat(t).map((e=>e.split("=")))})(e))||void 0===t?void 0:t.reduce(((e,[t,a])=>{var l;return null!==(l=null!=e?e:pe(t))&&void 0!==l?l:fe(a)}),void 0)},he=e=>{if(!e)return;const t=(e=>{const t={};let a=null;return e.forEach((e=>{const l=e.split("=")[0];t[l]?a=l:t[l]=!0})),a})("string"==typeof e?e.split(","):e);return t?`Each label should have a unique key. "${t}" already exists.`:void 0},_e=e=>""!==e.trim()&&null===(null==e?void 0:e.match(/((.*=.*),*)+/g))?"Routes should match comma separated pairs in key=value format":void 0,Se=e=>ve(e)||he(e),be=e=>_e(e)||Se(e),Ce=e=>e?S.test(e)?void 0:`Cluster ID '${e}' is not a valid UUID.`:"Cluster ID is required.",ye=e=>{if(e)return e.length>63?"Cluster display name may not exceed 63 characters.":void 0},Ie=e=>{const t=(e=>e?e.trim()!==e?"cannot contain leading and trailing spaces":e.includes("/")?"cannot contain '/'.":e.includes(":")?"cannot contain ':'.":e.includes("%")?"cannot contain '%'.":"~"===e?"cannot be '~'.":"."===e?"cannot be '.'.":".."===e?"cannot be '..'.":"cluster-admin"===e?"cannot be 'cluster-admin'.":void 0:"cannot be empty.")(e);return t?`User ID ${t}`:void 0},Ae=/^[^"$<> ^|%\\(),=;~:/*\r\n]*$/,Re=e=>Ae.test(e)?void 0:"Username includes illegal symbols",Te=(e,t="http")=>{if(!e)return;let a;a="string"==typeof t?[t]:t;try{new URL(e)}catch(e){return"Invalid URL"}finally{const t=e.substring(0,e.indexOf("://"));if(!a.includes(t))return`The URL should include the scheme prefix (${a.map((e=>`${e}://`)).join(", ")})`}},Oe=e=>Te(e,["http","https"]),Pe=e=>{if(e)return"Invalid file"===e?"Must be a PEM encoded X.509 file (.pem, .crt, .ca, .cert) and no larger than 4 MB":void 0},De=(e,t)=>{if(!e)return t?"Cluster console URL should not be empty":void 0;let a;try{a=new URL(e)}catch(t){return e.startsWith("http://")||e.startsWith("https://")?"Invalid URL":"The URL should include the scheme prefix (http://, https://)"}return A.test(e)?void 0:"http:"!==a.protocol&&"https:"!==a.protocol?"The URL should include the scheme prefix (http://, https://)":""!==a.hash||""!==a.search?"The URL must not include a query string (?) or fragment (#)":"Invalid URL"},Le=e=>{if(e&&e.length>0){const t=e.filter((e=>!(!e||h.test(e)&&_.test(e)))),a=t.length>1;if(t.length>0)return`The domain${a?"s":""} '${t.join(", ")}' ${a?"aren't":"isn't"} valid, \n      must contain at least two valid lower-case DNS labels separated by dots, for example 'domain.com' or 'sub.domain.com'.`}},Ne=e=>{if(e&&!y.test(e))return`IP address range '${e}' isn't valid CIDR notation. It must follow the RFC-4632 format: '192.168.0.0/16'.`},we=e=>{var t;if(e)return parseInt(null!==(t=e.split("/").pop())&&void 0!==t?t:"",10)},ke=(e,{allowDecimal:t=!1,allowNeg:a=!1,allowZero:l=!1,max:n=NaN,min:r=NaN}={})=>{if(!e)return;const i=Number(e);return Number.isNaN(i)?"Input must be a number.":!Number.isNaN(r)&&i<r?`Input cannot be less than ${r}.`:!a&&!l&&i<=0?"Input must be a positive number.":!a&&l&&i<0?"Input must be a non-negative number.":!t&&e.toString().includes(".")?"Input must be an integer.":!Number.isNaN(n)&&i>n?`Input cannot be more than ${n}.`:void 0},Fe=e=>De(e,!1),Me=e=>ke(e,{max:16e3}),xe=e=>ke(e,{max:2e3}),Ge=e=>ke(e,{allowDecimal:!0,max:256e3}),Ue=(e,t,a)=>e?/\s/.test(e)?"Value must not contain whitespaces.":t.test(e)?void 0:`ARN value should be in the format arn:aws:iam::123456789012:${a}.`:"Field is required.",He=e=>Ue(e,O,"user/name"),Ve=e=>Ue(e,P,"role/role-name"),Be=e=>e?D.test(e)?void 0:"Not a valid Private hosted zone ID.":"Field is required.",qe=e=>e?T.test(e)?void 0:"Not a valid hosted project ID. This must be an existing GCP project ID within which all networks are defined.":"Field is required.",je=(e,t)=>a=>{if(!a)return;let l=0;return a.forEach((a=>{if(t)t(a)||(l+=1);else{const t=(0,s.get)(a,e,null);t&&""!==t.trim()&&(l+=1)}})),0===l?"At least one is required.":void 0},ze=e=>e?L.test(e)?void 0:"AWS account ID must be a 12 digits positive number.":"AWS account ID is required.",We=e=>{(new i.Validator).validate(e,{id:"/osdServiceAccount",type:"object",properties:{type:{const:"service_account"},project_id:{type:"string"},private_key_id:{type:"string"},private_key:{type:"string",pattern:"^-----BEGIN PRIVATE KEY-----\n(.|\n)*\n-----END PRIVATE KEY-----\n$"},client_email:{type:"string",format:"email",pattern:"^osd-ccs-admin@([\\S]*)\\.iam\\.gserviceaccount\\.com$"},client_id:{type:"string"},auth_uri:{const:"https://accounts.google.com/o/oauth2/auth"},token_uri:{type:"string",format:"uri"},auth_provider_x509_cert_url:{const:"https://www.googleapis.com/oauth2/v1/certs"},client_x509_cert_url:{type:"string",format:"uri"}},required:["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"]},{throwError:!0})},$e=e=>{try{const t=JSON.parse(e);return We(t)}catch(e){if(e instanceof SyntaxError)return"Invalid JSON format.";if(e instanceof i.ValidationError){let t;if(e.property.startsWith("instance.")){const a=e.property.replace("instance.","");t="client_email"===a&&"osd-ccs-admin"!==e.instance.split[0]?`The field '${a}' requires a service account name of 'osd-ccs-admin'.`:-1!==e.message.indexOf("does not match pattern")?`The field '${a}' is not in the required format.`:`The field '${a}' ${e.message}`}else t=e.message;return`The provided JSON does not meet the requirements: ${t}`}return}},Ke=(e,t)=>{const a=t?m:d;return e.length>a?`A maximum of ${a} security groups can be selected.`:void 0},Ye=(e,t)=>(t.machinePoolsSubnets||[]).map((e=>e.availabilityZone)).filter((t=>!!e&&t===e)).length>1?"Must select 3 different AZs.":void 0,Qe=(Ze=(e,t)=>Object.entries(t.node_labels).filter((([t])=>!e.includes(`[${t}]`))).map((([,e])=>e.key)),(e,t,a,l)=>{var n;if((null!==(n=Ze(l,t))&&void 0!==n?n:[]).includes(e))return"Each label must have a different key."});var Ze;const Xe=(e,t,a)=>(null==a?void 0:a.pristine)||e?void 0:"Subnet is required",Je=(e,t,a)=>{switch(!0){case""===e:return(null==a?void 0:a.pristine)?void 0:"Subnet is required";case((e,t)=>t.machinePoolsSubnets.filter((t=>t.privateSubnetId===e)).length>1)(e,t):return"Every machine pool must be associated to a different subnet";case(null==a?void 0:a.isHypershift)&&((e,t)=>{var a;const l=null===(a=t.find((t=>t.privateSubnetId===e)))||void 0===a?void 0:a.availabilityZone,n=t.filter((e=>e.availabilityZone===l)).map((e=>e.availabilityZone));return n.length!==new Set(n).size})(e,t.machinePoolsSubnets):return"Every machine pool subnet should belong to a different availability zone";default:return}},et=e=>e?/\s/.test(e)?"Name must not contain whitespaces.":/[^a-z0-9-]/.test(e)?"Name should contain only lowercase letters, numbers and hyphens.":e.length>63?"Name may not exceed 63 characters.":void 0:"Field is required.",tt=e=>e?/\s/.test(e)?"Field must not contain whitespaces.":N.test(e)?void 0:'Field start with lowercase letter and can only contain hyphens (-), at (@) and dot (.).For e.g. "myserviceaccount@myproj.iam.gserviceaccount.com" or "<projectnumericid>-compute@developer.gserviceaccount.com".':"Field is required.",at=(e,t)=>{var a,l;return e?/\s/.test(e)?"Value must not contain whitespaces.":(e.includes(":key/mrk-")?k.test(e):w.test(e))?(null===(l=null===(a=e.split("kms:"))||void 0===a?void 0:a.pop())||void 0===l?void 0:l.split(":")[0])!==t?"Your KMS key must contain your selected region.":void 0:'Key provided is not a valid ARN. It should be in the format "arn:aws:kms:<region>:<accountid>:key/<keyid>".':"Field is required."},lt=e=>{const t={emptyPassword:!1,baseRequirements:!1,uppercase:!1,lowercase:!1,numbersOrSymbols:!1};return e&&e.trim()?((0!==(e.match(/[^\x20-\x7E]/g)||[]).length||-1!==e.indexOf(" ")||e.length<14)&&(t.baseRequirements=!0),0===(e.match(/[A-Z]/g)||[]).length&&(t.uppercase=!0),0===(e.match(/[a-z]/g)||[]).length&&(t.lowercase=!0),/^[a-zA-Z ]+$/.test(e)&&(t.numbersOrSymbols=!0),Object.values(t).every((e=>!1===e))?void 0:t):(t.emptyPassword=!0,t)},nt=e=>{if(e)return new Set(e.map((e=>(0,s.get)(e,"username",null)))).size!==e.length?"Usernames must be unique only.":void 0},rt=e=>{if(-1!==(0,s.indexOf)(e,"%")||-1!==(0,s.indexOf)(e,":")||-1!==(0,s.indexOf)(e,"/"))return"Username must not contain /, :, or %."},it=(e,t,a,l)=>{const n=l.substring(0,l.lastIndexOf("-confirm"));if(e!==(0,s.get)(t,n))return"The passwords do not match"},st=(e,t,a,l)=>{var n;if(!((e,t)=>{var a,l;const n=null!==(a=null==e?void 0:e.node_labels)&&void 0!==a?a:[{}],[{key:r,value:i}]=n,s=null!==(l=null==t?void 0:t.match(/\[([^[\]]*)\]/))&&void 0!==l?l:[];return 1===n.length&&!r&&!i||!Object.keys(n).includes(s[1])})(t,l))return null!==(n=pe(e))&&void 0!==n?n:Qe(e,t,a,l)},ot=fe,ut=(e,t)=>{if(e||t)return e&&t?q(e,"TLS secret",63):"You cannot provide only one of TLS secret name and Hostname"},ct=(e,t)=>ut(e,t.clusterRoutesHostname),dt=(e,t)=>ut(e,t.clusterRoutesTlsSecretRef),mt=(e="")=>{const t=e.split(",").find((e=>!!q(e,"Namespace",63)));if(t)return q(t,"Namespace",63)},pt=(e,t,{minWorkerVolumeSizeGiB:a,maxWorkerVolumeSizeGiB:l})=>e<a||e>l?`The worker root disk size must be between ${a} GiB and ${l} GiB.`:e===Math.floor(e)?void 0:"Decimals are not allowed for the worker root disk size. Enter a whole number.",ft=(...e)=>t=>{for(let a=0;a<e.length;a+=1){const l=(0,e[a])(t);if(l)return l}},Et=e=>e?h.test(e)?void 0:`Host domain '${e}' isn't valid, must contain at least two valid lower-case host labels separated by dots, for example 'mydomain.com'.`:"Host domain is required.",gt=e=>{try{return"https:"===new URL(e).protocol}catch(e){return!1}},vt={required:G,acknowledgePrerequisites:H,checkIdentityProviderName:V,checkClusterUUID:Ce,checkClusterDisplayName:ye,checkUserID:Ie,validateRHITUsername:Re,cidr:Ne,subnetCidrs:(e,t,a,n)=>{var i,s;if(!e||0===(null==n?void 0:n.length))return;const u=[],c=e=>new(r())(e).start().toString(),d=t=>{t?null==n||n.forEach((t=>{y.test(t.cidr_block)&&!(0,l.c2)(e,c(t.cidr_block))&&u.push(t)})):null==n||n.forEach((t=>{if(y.test(t.cidr_block))if((0,l.c2)(e,c(t.cidr_block)))u.push(t);else if((0,l.g4)(e,t.cidr_block)){const e={...t,overlaps:!0};u.push(e)}}))},m=()=>{var e,t;return(null===(e=u[0])||void 0===e?void 0:e.name)||(null===(t=u[0])||void 0===t?void 0:t.subnet_id)};return a===o.FieldId.NetworkMachineCidr&&(d(!0),u.length>0)?`The Machine CIDR does not include the starting IP (${c(u[0].cidr_block)}) of ${m()}`:a===o.FieldId.NetworkServiceCidr&&(d(!1),u.length>0)?(null===(i=u[0])||void 0===i?void 0:i.overlaps)?`The Service CIDR overlaps with ${m()} CIDR \n        '${u[0].cidr_block}'`:`The Service CIDR includes the starting IP (${c(u[0].cidr_block)}) of ${m()}`:a===o.FieldId.NetworkPodCidr&&(d(!1),u.length>0)?(null===(s=u[0])||void 0===s?void 0:s.overlaps)?`The Pod CIDR overlaps with ${m()} CIDR \n        '${u[0].cidr_block}'`:`The Pod CIDR includes the starting IP (${c(u[0].cidr_block)}) of ${m()}`:void 0},awsMachineCidr:(e,t)=>{if(!e)return;const a="true"===(null==t?void 0:t.multi_az),l=we(e);if(null!=l){if(l<16)return"The subnet mask can't be larger than '/16'.";if((a||"true"===(null==t?void 0:t.hypershift))&&l>24)return"The subnet mask can't be smaller than '/24'.";if(!a&&l>25)return"The subnet mask can't be smaller than '/25'."}},gcpMachineCidr:(e,t)=>{if(!e)return;const a="true"===(null==t?void 0:t.multi_az),l=we(e);if(null!=l){if(a&&l>23)return"The subnet mask can't be smaller than '/23', which provides up to 69 nodes.";if(!a&&l>23)return"The subnet mask can't be smaller than '/23', which provides up to 23 nodes."}},serviceCidr:e=>{if(!e)return;const t=we(e);return null!=t&&t>24?"The subnet mask can't be smaller than '/24', which provides up to 254 services.":void 0},podCidr:(e,t)=>{if(!e)return;const a=we(e);if(null!=a){if(a>21)return"The subnet mask can't be smaller than /21.";const e=2**(32-(we(null==t?void 0:t.network_host_prefix)||23));if(Math.floor(2**(32-a)/e)<32)return`The subnet mask of /${a} does not allow for enough nodes. Try changing the host prefix or the pod subnet range.`}},disjointSubnets:e=>(t,a)=>{if(!t)return;const n={network_machine_cidr:"Machine CIDR",network_service_cidr:"Service CIDR",network_pod_cidr:"Pod CIDR"};delete n[e];const r=[];y.test(t)&&Object.keys(n).forEach((e=>{const i=(0,s.get)(a,e,null);try{i&&(0,l.g4)(t,i)&&r.push(n[e])}catch(e){}}));const i=r.length>1;return r.length>0?`This subnet overlaps with the subnet${i?"s":""} in the ${r.join(", ")} field${i?"s":""}.`:void 0},validateRange:e=>{if(void 0!==Ne(e)||!e)return;const t=e.split("/"),a=t[0].split(".").map((e=>Number(e).toString(2).padEnd(8,"0"))).join(""),l=parseInt(t[1],10);return a.slice(0,l).padEnd(32,"0")!==a?"This is not a subnet address. The subnet prefix is inconsistent with the subnet mask.":void 0},privateAddress:e=>{if(void 0!==Ne(e)||!e)return;const t=e.split("/"),a=t[0].split(".").map((e=>parseInt(e,10))),l=parseInt(t[1],10);return 10===a[0]&&l>=8||172===a[0]&&(0,s.inRange)(a[1],16,32)&&l>=12||192===a[0]&&168===a[1]&&l>=16?void 0:"Range is not private."},awsSubnetMask:e=>t=>{if(!e||void 0!==Ne(t)||!t)return;const a={network_machine_cidr_single_az:[16,25],network_machine_cidr_multi_az:[16,24],network_service_cidr:[void 0,24]}[e],l=t.split("/"),n=parseInt(l[1],10);return a[0]?a[0]<=n&&n<=a[1]?void 0:`Subnet mask must be between /${a[0]} and /${a[1]}.`:n>a[1]||n<1?`Subnet mask must be between /1 and /${a[1]}.`:void 0},hostPrefix:e=>{if(!e)return;if(!I.test(e))return`The value '${e}' isn't a valid subnet mask. It must follow the RFC-4632 format: '/16'.`;const t=we(e);if(null!=t){if(t<23)return"The subnet mask can't be larger than '/23', which provides up to 510 Pod IP addresses.";if(t>26)return"The subnet mask can't be smaller than '/26', which provides up to 62 Pod IP addresses."}},nodesMultiAz:e=>{if(Number(e)%3>0)return"Number of nodes must be multiple of 3 for Multi AZ cluster."},validateNumericInput:ke,validateLabelKey:st,validateLabelValue:fe,validateWorkerVolumeSize:pt,checkOpenIDIssuer:B,checkGithubTeams:ce,checkRouteSelectors:Se,checkDisconnectedConsoleURL:Fe,checkDisconnectedvCPU:Me,checkDisconnectedSockets:xe,checkDisconnectedMemCapacity:Ge,checkCustomOperatorRolesPrefix:ue,checkHostDomain:Et,AWS_MACHINE_CIDR_MIN:16,AWS_MACHINE_CIDR_MAX_SINGLE_AZ:25,AWS_MACHINE_CIDR_MAX_MULTI_AZ:24,GCP_MACHINE_CIDR_MAX:23,SERVICE_CIDR_MAX:24,POD_NODES_MIN:32,HOST_PREFIX_MIN:23,HOST_PREFIX_MAX:26,MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH:x}},10176:(e,t,a)=>{"use strict";a.r(t),a.d(t,{versionComparator:()=>n,versionRegEx:()=>l});const l=/(?<major>\d+).(?<minor>\d+).(?<revision>\d+)(?:-(rc|fc).(?<patch>\d+))?/,n=(e,t)=>{var a,n;const r=null===(a=l.exec(e))||void 0===a?void 0:a.groups,i=null===(n=l.exec(t))||void 0===n?void 0:n.groups;if(r&&i){if(r.major!==i.major)return parseInt(r.major,10)>parseInt(i.major,10)?1:-1;if(r.minor!==i.minor)return parseInt(r.minor,10)>parseInt(i.minor,10)?1:-1;if(r.revision!==i.revision)return parseInt(r.revision,10)>parseInt(i.revision,10)?1:-1;if(r.patch!==i.patch)return void 0===r.patch?1:void 0===i.patch?-1:parseInt(r.patch,10)>parseInt(i.patch,10)?1:-1}return 0}},94402:(e,t,a)=>{"use strict";a.d(t,{E:()=>s});var l=a(99589),n=a.n(l),r=a(45436);const i={[r.x.SECURITY_GROUPS]:{label:"security groups",day1:"4.14.0",day2:"4.11.0",hypershift:{day1:"4.14.0",day2:"4.15.0"}},[r.x.AWS_SHARED_VPC]:{label:"shared VPCs",day1:"4.13.9",day2:"4.13.9",hypershift:{day1:"4.13.9",day2:"4.13.9"}}},s=(e,t,a)=>{const l=i[e];return t&&l?((e,t,a)=>{var l,r;let i;return i=a.isHypershift?a.day1?null===(l=e.hypershift)||void 0===l?void 0:l.day1:null===(r=e.hypershift)||void 0===r?void 0:r.day2:a.day1?e.day1:e.day2,!i||n().gte(n().coerce(t)||"",n().coerce(i)||"")?"":`To use ${e.label}, your cluster must be version ${i} or newer.`})(l,t,a):""}},88851:(e,t,a)=>{"use strict";a.r(t),a.d(t,{isExactMajorMinor:()=>o,isMajorMinorEqualOrGreater:()=>u,splitVersion:()=>s,versionFormatter:()=>i});var l=a(99589),n=a.n(l);const r=/^.*(v[0-9]+.*)$/,i=e=>{const t=n().coerce(e);if(!t)return e;const a=e.replace(r,"$1"),l=(n().prerelease(a)||[]).find((e=>"string"==typeof e));return`${t.raw}${l?`-${l.split("-")[0]}`:""}`},s=e=>{var t,a;let l=[];try{l=e.split(".").map((e=>parseInt(e,10))),l[1]=null!==(t=l[1])&&void 0!==t?t:0,l[2]=null!==(a=l[2])&&void 0!==a?a:0}catch(e){return[]}return l},o=(e,t,a)=>{const[l,n]=s(e);return t===l&&a===n},u=(e,t,a)=>{const[l,n]=s(e);return l>t||l===t&&n>=a}},32358:(e,t,a)=>{"use strict";a.r(t),a.d(t,{filterOutRedHatManagedVPCs:()=>s,getAllSubnetFieldNames:()=>o,getMatchingAvailabilityZones:()=>n,getSelectedAvailabilityZones:()=>r,isSubnetMatchingPrivacy:()=>l,vpcHasRequiredSubnets:()=>i});const l=(e,t)=>!t||"public"===t&&e.public||"private"===t&&!e.public,n=(e,t,a)=>["a","b","c","d","e","f"].map((t=>`${e}${t}`)).filter((e=>a.every((a=>{var n;return null===(n=t.aws_subnets)||void 0===n?void 0:n.some((t=>t.availability_zone===e&&l(t,a)))})))),r=(e,t)=>{const a=[];return t.forEach((t=>{var l;const n=null===(l=(e.aws_subnets||[]).find((e=>t.privateSubnetId===e.subnet_id)))||void 0===l?void 0:l.availability_zone;n&&!a.includes(n)&&a.push(n)})),a},i=(e,t)=>{const a=e.aws_subnets||[];return!!a.some((e=>l(e,"private")))&&(!1!==t||a.some((e=>l(e,"public"))))},s=e=>e.filter((e=>!e.red_hat_managed)),o=e=>{const t=["machinePoolsSubnets[0]"];return e&&(t.push("machinePoolsSubnets[1]"),t.push("machinePoolsSubnets[2]")),t.reduce(((e,t)=>{const a=[...e];return a.push(`${t}.availabilityZone`),a.push(`${t}.privateSubnetId`),a.push(`${t}.publicSubnetId`),a}),[])}},31965:(e,t,a)=>{"use strict";a.d(t,{G:()=>r,Mu:()=>i,eZ:()=>n});var l=a(77475);const n="SHOW_API_ERROR",r="CLEAR_API_ERROR",i={showApiError:e=>(0,l.action)(n,e),clearApiError:()=>(0,l.action)(r)}},43183:(e,t,a)=>{"use strict";a.d(t,{A:()=>Ao});var l=a(93345),n=a.n(l),r=a(98642),i=a(97665),s=a(23803),o=a(57146),u=a(58156),c=a.n(u),d=a(71468),m=a(95376),p=a(25247),f=a(20881),E=a(69304),g=a(92472),v=a(11243),h=a(62384),_=a(70012),S=a(75166),b=a(976),C=a(63802),y=a(60915),I=a(6229),A=a(9670),R=a(983),T=a(24510),O=a(88075),P=a(16401),D=a(75907),L=a(87960),N=a(98515),w=a(7691),k=a(90678),F=a(73113),M=a(51976),x=a(83579),G=a(35787),U=a(22069),H=a(72583),V=a(76980),B=a(42045),q=a(36165),j=a(65702),z=a(41612),W=a(8888),$=a(35198),K=a(41451);const Y=({isRosa:e,SSOLogin:t})=>n().createElement(n().Fragment,null,n().createElement(U.E,{component:"p"},`Red Hat OpenShift ${e?"Service on AWS":"Cluster Manager"} is a managed service that makes it easy for you to use OpenShift ${e?"on AWS":""} without needing to install, operate or upgrade your own OpenShift (Kubernetes) cluster.`),!t&&n().createElement(n().Fragment,null,n().createElement(A.h,{headingLevel:"h3"},"Your API token"),n().createElement(U.E,{component:"p"},"Use this API token to authenticate against your Red Hat OpenShift Cluster Manager account.")));var Q=a(30219),Z=a(10046),X=a(55213);const J=({isRosa:e,commandName:t,commandTool:a})=>n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,null,n().createElement(y.Z,{className:"ocm-c-api-token__card"},n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h2"},"SSO Login")),n().createElement(R.b,{className:"ocm-c-api-token__card--body"},n().createElement(M.n,null,n().createElement(Y,{isRosa:e,SSOLogin:!0})),n().createElement(M.n,{className:"pf-v5-u-mt-lg"},n().createElement(x.B8,{component:"ol"},n().createElement(G.c,null,"Download and install the ",n().createElement("code",null,t)," command-line tool:"," ",a===j.tools.OCM&&n().createElement(K.Ay,{...K.LE}),n().createElement(U.E,{component:"p"}),n().createElement(z.default,{tool:a,channel:j.channels.STABLE}),n().createElement(U.E,{component:"p"})),n().createElement(G.c,null,`Make sure your ${a.toUpperCase()} CLI version is ${"ocm"===a?"0.1.73":"1.2.37"} or higher `,n().createElement(X.default,{hint:n().createElement(n().Fragment,null,`To check your ${a.toUpperCase()} CLI version, run this command: `,n().createElement("code",null,`${a} version`))}),". To authenticate, run this command:",n().createElement(U.E,{component:"p"}),n().createElement(Z.default,{className:"ocm-c-api-token-limit-width",outerClassName:"pf-v5-u-mt-md"},`${t} login --use-auth-code`)),n().createElement(G.c,null,"Enter your Red Hat login credentials via SSO in the browser window.")))))),n().createElement(F.a,null,n().createElement(y.Z,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h2"},"Additional resources:")),n().createElement(R.b,null,n().createElement(M.n,null,"You can find documentation for these related products and services here:",n().createElement(x.B8,null,n().createElement(G.c,null,n().createElement(W.default,{href:j.default.OCM_CLI_DOCS,noIcon:!0},"OpenShift Cluster Manager documentation"))))))));var ee=a(58994),te=a(75070);const ae=n().createElement(W.default,{href:j.default.OCM_CLI_DOCS,noIcon:!0},"read more about setting up the ocm CLI"),le=e=>{const{show:t,showPath:a="",commandName:l="ocm",commandTool:r=j.tools.OCM,docsLink:i=ae,blockedByTerms:s,SSOLogin:o,isRosa:u}=e,c=(0,q.useGlobalState)((e=>e.rosaReducer.offlineToken)),m=(0,d.wA)(),p=(0,f.A)(),g=(0,v.useFeatureGate)(b.CLI_SSO_AUTHORIZATION)&&!o,_=(0,h.isRestrictedEnv)(),[S,C]=n().useState("");return n().useEffect((()=>{o||(_?(0,h.getRefreshToken)(p).then((e=>C(e))):c&&C(c))}),[p,_,c,o]),n().useEffect((()=>{o||s||!t||c||(console.log("Tokens: componentDidMount, props =",e),(0,te.z)(((e,t)=>{m((0,B.setOfflineToken)(t||e))}),window.location.origin,p))}),[]),o?n().createElement(J,{isRosa:u,commandName:l,commandTool:r}):n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,null,n().createElement(y.Z,{className:"ocm-c-api-token__card"},!_&&g?n().createElement(I.Z,null,n().createElement($.A,null)):null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h2"},`Connect with ${_?"refresh":"offline"} tokens`)),n().createElement(R.b,{className:"ocm-c-api-token__card--body"},n().createElement(M.n,null,n().createElement(Y,{isRosa:u,SSOLogin:!1})),t||S?n().createElement(n().Fragment,null,n().createElement(ee.A,{token:S}),n().createElement(M.n,{className:"pf-v5-u-mt-lg"},n().createElement(A.h,{headingLevel:"h3"},"Using your token in the command line"),n().createElement(x.B8,{component:"ol"},n().createElement(G.c,null,"Download and install the ",n().createElement("code",null,l)," command-line tool:"," ",r===j.tools.OCM&&n().createElement(K.Ay,{...K.LE}),n().createElement(U.E,{component:"p"}),n().createElement(z.default,{tool:r,channel:j.channels.STABLE}),n().createElement(U.E,{component:"p"})),n().createElement(G.c,null,"Copy and paste the authentication command in your terminal:",n().createElement(U.E,{component:"p"}),null!=c||_?n().createElement(ee.A,{token:S,command:`${l} login --token="{{TOKEN}}"`,showCommandOnError:!0,showInstructionsOnError:!1}):n().createElement(V.A,{size:"md"}))),n().createElement(A.h,{headingLevel:"h3"},`Need help connecting with your ${_?"refresh":"offline"} token?`),n().createElement(U.E,{component:"p"},"Run ",n().createElement("code",null,l," login --help")," for in-terminal guidance, or"," ",i," for more information about setting up the ",n().createElement("code",null,l)," ","CLI."))):n().createElement(E.Link,{to:a},n().createElement(H.$n,{variant:"primary",className:"pf-v5-u-mt-md","data-testid":"load-token-btn",onClick:()=>(0,te.z)(((e,t)=>{m((0,B.setOfflineToken)(t||e))}),window.location.origin,p)},"Load token"))))),!_&&n().createElement(F.a,null,n().createElement(y.Z,{className:"ocm-c-api-token__card"},n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h2"},"Revoke previous tokens")),n().createElement(R.b,{className:"ocm-c-api-token__card--body"},n().createElement(Q.A,null)))))},ne=e=>n().createElement(le,{...e,commandName:"rosa",commandTool:j.tools.ROSA,docsLink:n().createElement(W.default,{href:j.default.ROSA_CLI_DOCS,noIcon:!0},"read more about setting up the rosa CLI")});var re=a(71870);const ie=({children:e})=>n().createElement(N.AppPage,{title:"OpenShift Cluster Manager"},n().createElement(O.A,{className:"pf-v5-u-mb-md"},n().createElement(P.A,{title:"OpenShift Cluster Manager"})),n().createElement(C.d8,null,n().createElement(y.Z,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h2"},"OpenShift Cluster Manager CLI login")),n().createElement(R.b,null,e)))),se=({showToken:e=!1,showPath:t,isRosa:a=!1})=>{const{organization:l,isLoading:r,error:i}=(0,re.default)();let s=!1;if(!(0,h.isRestrictedEnv)()){const e=i;if(r)return n().createElement(ie,null,n().createElement(D.A,null));if(i&&!L.g)return n().createElement(ie,null,n().createElement(T.F,{variant:"danger",isInline:!0,title:"Error retrieving user account",role:"alert",className:"error-box","data-testid":"alert-error"},n().createElement("p",null,e.reason),n().createElement("p",null,`Operation ID: ${e.operation_id||"N/A"}`)));s=!!(null==l?void 0:l.capabilities)&&(0,L.X)(l.capabilities)}const o="OpenShift Cluster Manager "+(s?"SSO login":"API Token"),u=a?ne:le;return n().createElement(N.AppPage,{title:(s?"SSO Login":"API Token")+" | OpenShift Cluster Manager"},n().createElement(O.A,{className:"pf-v5-u-mb-md"},!s&&n().createElement(w.default,{path:[{label:"Downloads",path:"/downloads"},{label:o}]}),n().createElement(P.A,{title:o})),n().createElement(C.d8,null,n().createElement(u,{show:e,showPath:t,SSOLogin:s,isRosa:a})))};var oe=a(45745),ue=a(98240),ce=a(33675),de=a(75279),me=a(69671);const pe=()=>n().createElement(N.AppPage,null,n().createElement(ce.p,{id:"not-found"},n().createElement(de.h,null,n().createElement(me.y,null))));var fe=a(31777);const Ee=()=>n().createElement(N.AppPage,null,n().createElement(ce.p,{id:"not-found","data-testid":"not-found"},n().createElement(de.h,null,n().createElement(fe.A,null))));var ge=a(1179);const ve=()=>{const{id:e}=(0,m.useParams)(),{data:t,isLoading:a,isError:l}=(0,ge.useFetchAccessRequest)(e);return l?n().createElement(Ee,null):a||!(null==t?void 0:t.subscription_id)?n().createElement(pe,null):n().createElement(E.Navigate,{replace:!0,to:`/details/s/${t.subscription_id}#accessRequest`})};var he=a(34006),_e=a(98759),Se=a(52025),be=a(17957),Ce=a(86130),ye=a(54169),Ie=a(19202),Ae=a(66827);const Re=e=>l.createElement(be.I,{...e},l.createElement(Ie.CheckCircleIcon,{color:Ae.E.value})),Te=()=>l.createElement(ce.p,null,l.createElement(Ce.o,{titleText:"Submission confirmation",icon:l.createElement(ye.q,{icon:Re}),headingLevel:"h4"}),l.createElement(de.h,null,"Thank you for completing the GovCloud access form.",l.createElement("br",null),"You will receive an email in 3-5 business days about the next steps."));var Oe=a(96998),Pe=a(96553),De=a(26995),Le=a(83873),Ne=a(56780),we=a(23285),ke=a(72972),Fe=a(55318),Me=a(7028);const xe=(e,t,a)=>_.Ay.postForm("/fedramp-customer-interest/incident",{file:a,contractID:t,acknowledgement:JSON.stringify(e)},{headers:{"Content-Type":"multipart/form-data"},baseURL:Me.default.configData.fedrampGateway});var Ge=a(24074);const Ue=({title:e,onSubmitSuccess:t,hasGovEmail:a})=>{const[n,r]=l.useState(!1),[i,s]=l.useState(!1),[o,u]=l.useState(!1),[c,d]=l.useState(),[m,p]=l.useState(!1),[f,E]=l.useState(!1),[g,v]=l.useState(),h=n&&i&&o&&m;return l.createElement(y.Z,{style:{maxWidth:"80rem",borderTopColor:"#e00",borderTopStyle:"solid"}},l.createElement(I.Z,null,l.createElement(Oe.s,{alignContent:{default:"alignContentCenter"},direction:{default:"column"},justifyContent:{default:"justifyContentCenter"},alignItems:{default:"alignItemsCenter"}},l.createElement(Pe.Z,{style:{width:"5rem"}},l.createElement(De.m,{src:Ge,alt:"Red Hat Logo"})),l.createElement(Pe.Z,null,l.createElement(M.n,null,l.createElement(U.E,{component:U.Y.h1},e))))),l.createElement(R.b,null,l.createElement(k.B,{hasGutter:!0},l.createElement(F.a,null,l.createElement(M.n,null,l.createElement(U.E,{component:U.Y.p},"Red Hat OpenShift Service on AWS (ROSA) and Red Hat Insights in the GovCloud Region have been authorized (agency) under the Federal Risk Assessment and Management Program (FedRAMP) High and DoD Cloud Computing Security Requirements Guide (SRG)."),l.createElement(U.E,{component:U.Y.p},"Federal and government agencies can be granted access to the FedRAMP environment without further verification. However, commercial organizations and FISMA R&D universities will need to provide documentation to show that they are supporting a government contract/grant or in the process of bidding on a government contract/grant (RFP, RFI, pre-bid stage), confirmation of U.S. Person only access at the root level and agreement to the FedRAMP Rules of Behavior."),l.createElement(U.E,{component:U.Y.p},"Upon submission, this form will be processed by Red Hat. If further information is required you will receive a follow up email, or you will receive instructions on how to access the service. By checking the boxes below you confirm that:"))),l.createElement(F.a,null,l.createElement(Le.S,{label:"Requestor is U.S. Person as defined by the International Traffic in Arms Regulations, 22 CFR 120.62.",isChecked:n,onChange:(e,t)=>r(t),id:"citizen-checkbox"}),l.createElement(Le.S,{label:"Requestor will use the service to support a U.S. government contract and/or grant.",isChecked:i,onChange:(e,t)=>s(t),id:"check-checkbox"}),l.createElement(Le.S,{label:"Requestor will only authorize U.S. Persons to manage and access root account keys to the service.",isChecked:o,onChange:(e,t)=>u(t),id:"training-checkbox"}),l.createElement(Le.S,{label:l.createElement("div",null,"Requestor will abide by the"," ",l.createElement(H.$n,{variant:"link",isInline:!0},l.createElement("a",{href:`${Me.default.configData.fedrampS3}/fedramp-rules-of-behavior.pdf`,target:"_blank",rel:"noopener noreferrer"},"FedRAMP Rules of Behavior."))),isChecked:m,onChange:(e,t)=>p(t),id:"rulesOfBehavior-checkbox"})),!a&&l.createElement(F.a,null,l.createElement(Ne.g,{label:l.createElement(l.Fragment,null,"Contract ID, Award ID or RFP Number from the"," ",l.createElement("a",{href:"https://www.usaspending.gov/search",target:"_blank",rel:"noreferrer noopener"},"U.S. Spending government")," ","website . If the contract is not numbered, specify ‘N/A’.")},l.createElement(we.ks,{value:c,onChange:(e,t)=>d(t),isRequired:!0}))))),l.createElement(ke.w,null,l.createElement(k.B,{hasGutter:!0},!!g&&l.createElement(F.a,null,l.createElement(T.F,{isInline:!0,variant:"danger",title:"An error occured."},g)),l.createElement(F.a,null,l.createElement(Fe.a,null,l.createElement(H.$n,{variant:"primary",isDisabled:!h||f,onClick:async()=>{E(!0);try{await xe({isUSPerson:n,authPerson:o,govContract:i,rulesOfBehavior:m},c),t()}catch(e){const t=e;v(`${t.code}: ${t.message}`)}finally{E(!1)}},isLoading:f},f?"Submitting":"Submit"))))))};var He=a(31003),Ve=a(48525);const Be=e=>l.createElement(be.I,{...e},l.createElement(He.ExclamationCircleIcon,{color:Ve.global_danger_color_100.value})),qe=({message:e})=>l.createElement(ce.p,null,l.createElement(Ce.o,{titleText:"Failed to verify GovCloud prerequisites",icon:l.createElement(ye.q,{icon:Be}),headingLevel:"h4"}),l.createElement(de.h,null,l.createElement(M.n,{className:"pf-v5-u-mb-md"},e),l.createElement(H.$n,{variant:"link",iconPosition:"right",isInline:!0,onClick:()=>window.location.reload()},"Try refreshing the page.")));var je=a(40167);const ze=e=>l.createElement(be.I,null,l.createElement(He.ExclamationCircleIcon,{...e,color:Ve.global_danger_color_100.value})),We=({redirectURL:e})=>l.createElement(ce.p,null,l.createElement(Ce.o,{titleText:"Signed agreement not detected",icon:l.createElement(ye.q,{icon:ze}),headingLevel:"h4"}),l.createElement(de.h,null,"You need to sign the Enterprise agreement and Appendix4 to proceed",l.createElement("br",null),l.createElement(H.$n,{variant:"link",icon:l.createElement(be.I,null,l.createElement(je.ExternalLinkAltIcon,null)),iconPosition:"right",isInline:!0,onClick:()=>window.location.assign(`${e}&redirect=${window.location.href}`)},"Sign them here.")));var $e=a(90020);const Ke=/\.(gov|mil)$/,Ye="Access request for Red Hat OpenShift Service on AWS (ROSA) FedRAMP",Qe=()=>{const[e,t]=l.useState(!1),[a,n,r,i]=(()=>{const[e,t]=l.useState(!1),[a,n]=l.useState(""),[r,i]=l.useState(),[s,o]=l.useState(!0);return l.useEffect((()=>{(async()=>{o(!0);try{const e=await $e.authorizationsService.selfTermsReview({event_code:"govCloud",site_code:"cloudServices"});t(!e.data.terms_required),n(e.data.redirect_url||"")}catch(e){i("Failed to detect Enterprise agreement & Appendix 4 status.")}finally{o(!1)}})()}),[]),[e,a,s,r]})(),[s,o,u]=(()=>{const[e,t]=l.useState(!0),[a,n]=l.useState(),[r,i]=l.useState(!1);return l.useEffect((()=>{(async()=>{try{const e=await $e.accountsService.getCurrentAccount();i(Ke.test(e.data.email||""))}catch(e){const t=e;n(`Could not retrieve user's email. ${t.code}: ${t.message}`)}finally{t(!1)}})()}),[]),[r,e,a]})(),c=i||u,d=r||o;let m;return m=c?l.createElement(qe,{message:c}):d?l.createElement(me.y,null):a?e?l.createElement(Te,null):l.createElement(Ue,{title:Ye,onSubmitSuccess:()=>t(!0),hasGovEmail:s}):l.createElement(We,{redirectURL:n}),l.createElement(N.AppPage,{title:`${Ye} | Red Hat OpenShift Cluster Manager`},l.createElement(C.d8,{className:"govcloud-page"},m))};var Ze=a(34158),Xe=a(60311),Je=a(58349),et=a(83821),tt=a(44902),at=a(55083),lt=a(69387),nt=a(79425),rt=a(67287),it=a(70315),st=a(48854),ot=a(36202),ut=a(44372),ct=a(77528),dt=a(83069),mt=a(52189),pt=a(32937),ft=a(34468),Et=a(69275),gt=a(9607),vt=a(24635),ht=a(74321),_t=a(70183),St=a(81179),bt=a(95740),Ct=a(45946),yt=a(76638),It=a(96581),At=a(80720),Rt=a(35687),Tt=a(59262),Ot=a(21458),Pt=a(15048),Dt=a(15022),Lt=a(60590),Nt=a(61955),wt=a(36245),kt=a(35173),Ft=a(37245),Mt=a(3874);const xt=n().createElement(w.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Oracle Cloud Infrastructure (virtual machines)"}]}),Gt=n().createElement(n().Fragment,null,"For ",n().createElement(W.default,{href:j.default.INSTALL_GENERIC_NON_TESTED_PLATFORMS,stopClickPropagation:!0},"non-tested platforms")),Ut=()=>n().createElement(N.AppPage,{title:"Install OpenShift 4 | Red Hat OpenShift Cluster Manager | Oracle Cloud Infrastructure (virtual machines)"},n().createElement(Mt.InstructionsChooserPageTitle,{cloudName:"Oracle Cloud Infrastructure (virtual machines)",breadcrumbs:xt}),n().createElement(C.d8,null,n().createElement(Ft.InstructionsChooser,{aiPageLink:"/assisted-installer/clusters/~new",aiLearnMoreLink:j.default.INSTALL_ASSISTED_LEARN_MORE,hideIPI:!0,ipiPageLink:"",hideUPI:!0,upiPageLink:"",agentBasedPageLink:"/install/platform-agnostic/agent-based",agentBasedLearnMoreLink:j.default.INSTALL_AGENT_LEARN_MORE,providerSpecificFeatures:{abi:[Gt,"For air-gapped/restricted networks"],ai:[Gt],upi:[Gt]},name:"oracle-cloud"})));var Ht=a(57124),Vt=a(17330),Bt=a(21958),qt=a(19901),jt=a(4147),zt=a(25321),Wt=a(77313),$t=a(72063),Kt=a(555),Yt=a(45437),Qt=a(36561),Zt=a(74726),Xt=a(6845),Jt=a(74724),ea=a(90279),ta=a(15221),aa=a(21195),la=a(9367),na=a(88139),ra=a(9704),ia=a(30620),sa=a(23215),oa=a(20491),ua=a(47144),ca=a(91089),da=a(43775),ma=a(14419),pa=a(80883),fa=a(2479),Ea=a(25514),ga=a(13642),va=a(84037),ha=a(91497),_a=a(38871),Sa=a(71299),ba=a(2358);const Ca=({setSettings:e,canSubscribeOCP:t,isValid:a=!0,supportLevel:l=ga.SubscriptionCommonFields.support_level.EVAL,canSubscribeMarketplaceOCP:r=!1})=>{const i={support_level:l,isValid:a,managed:!1};return n().createElement(ba.A,{initialSettings:i,onSettingsChange:e,canSubscribeStandardOCP:t,canSubscribeMarketplaceOCP:r})},ya=e=>{const t=c()(e,"userProfile.organization.details.capabilities",[]).find((e=>"capability.cluster.subscribed_ocp"===e.name));return!(!t||"true"!==t.value)},{SUPPORT_LEVEL:Ia,SYSTEM_UNITS:Aa,CPU_TOTAL:Ra,SOCKET_TOTAL:Ta}=S.subscriptionSettings,Oa=e=>{const{[Ia]:t,[Aa]:a,[Ra]:l,[Ta]:n}=e;if(t!==ga.SubscriptionCommonFields.support_level.PREMIUM&&t!==ga.SubscriptionCommonFields.support_level.STANDARD&&t!==ga.SubscriptionCommonFields.support_level.SELF_SUPPORT)return{request:null,isValid:!0};if(!e.isValid)return{request:null,isValid:!1};const r={...e};return a===ga.SubscriptionCommonFields.system_units.SOCKETS&&(r[Ta]=parseInt(n,10),r[Ra]=r[Ta]),a===ga.SubscriptionCommonFields.system_units.CORES_V_CPU&&(r[Ta]=1,r[Ra]=parseInt(l,10)),{request:r,isValid:e.isValid}},Pa=()=>{const e=(0,d.wA)(),[t,a]=(0,l.useState)({}),{quotaResponse:r,registerClusterResponse:i,isOpen:s,canSubscribeOCP:o}=(0,Ea.useGlobalState)((e=>({quotaResponse:(0,ra.get)(e,"userProfile.organization",null),registerClusterResponse:e.clusters.createdCluster,isOpen:(0,ma.default)(e,da.default.REGISTER_CLUSTER_ERROR),canSubscribeOCP:ya(e)}))),u=(0,l.useCallback)((()=>{e((0,pa.resetCreatedClusterResponse)())}),[e]);(0,l.useEffect)((()=>(u(),e((0,fa.getOrganizationAndQuota)()),()=>u())),[e,u]),(0,l.useEffect)((()=>{i.error&&!s&&e((0,ca.openModal)(da.default.REGISTER_CLUSTER_ERROR))}),[i.error,s,e]);const c=(0,l.useMemo)((()=>Oa(t)),[t]);if(i.fulfilled)return n().createElement(E.Navigate,{replace:!0,to:`/details/s/${i.cluster.id}`});const m=s&&n().createElement(ha.default,{title:"Error Registering Cluster",errorResponse:i,resetResponse:()=>e((0,pa.resetCreatedClusterResponse)())});return(null==r?void 0:r.error)?n().createElement(C.d8,null,n().createElement(Sa.default,{message:"Error retrieving quota",response:r})):n().createElement(N.AppPage,null,n().createElement(O.A,null,n().createElement(w.default,{path:[{label:"Cluster List"},{label:"Register disconnected cluster"}]}),n().createElement(P.A,{title:"Register disconnected cluster"})),n().createElement(C.d8,null,m,n().createElement(na.Formik,{initialValues:{cluster_id:"",display_name:"",web_console_url:""},onSubmit:a=>(a=>{const{request:l,isValid:n}=Oa(t);if(n){const t={cluster_uuid:a.cluster_id,plan_id:ga.SubscriptionCreateRequest.plan_id.OCP,status:ga.SubscriptionCreateRequest.status.DISCONNECTED,display_name:a.display_name,console_url:a.web_console_url};e((0,pa.registerDisconnectedCluster)(t,l))}})(a)},(({getFieldMeta:e,getFieldProps:t,submitForm:l,isValid:s})=>n().createElement(y.Z,{id:"register-cluster"},n().createElement(R.b,null,n().createElement(ia.x,null,n().createElement(sa.E,{md:8},n().createElement(M.n,{id:"register-cluster-top-text"},n().createElement(U.E,{component:U.Y.p},"Register clusters that are not connected to OpenShift Cluster Manager. Existing cluster owners, cluster editors, or admins can edit existing cluster subscriptions from the cluster details page.")),(null==r?void 0:r.fulfilled)?n().createElement(oa.l,{onSubmit:l,className:"subscription-settings form"},n().createElement(na.Field,{component:_a.default,name:"cluster_id",label:"Cluster ID",type:"text",extendedHelpText:"The cluster ID may be found on the About page of the cluster web console",disabled:i.pending,input:{...t("cluster_id")},meta:e("cluster_id"),validate:va.checkClusterUUID,isRequired:!0}),n().createElement(na.Field,{component:_a.default,name:"display_name",label:"Display name",type:"text",disabled:i.pending,input:{...t("display_name")},meta:e("display_name"),validate:va.checkClusterDisplayName}),n().createElement(na.Field,{component:_a.default,name:"web_console_url",label:"Web console URL",validate:va.checkDisconnectedConsoleURL,disabled:i.pending,input:{...t("web_console_url")},meta:e("web_console_url"),type:"text"}),n().createElement(A.h,{headingLevel:"h4",size:"xl"},"Subscription settings"),n().createElement(M.n,null,n().createElement(U.E,{component:U.Y.p},"Editing the subscription settings will help ensure that you receive the level of support that you expect, and that your cluster is consuming the correct type of subscription.")),o?n().createElement(Ca,{setSettings:a,canSubscribeOCP:o}):n().createElement(ua.m,{content:"You cannot edit subscription settings because your organization does not have any OpenShift subscriptions. Contact sales to purchase OpenShift.",position:ua.Z.auto},n().createElement("div",null,n().createElement(Ca,{setSettings:a,canSubscribeOCP:o})))):n().createElement(D.A,null)))),n().createElement(ke.w,null,n().createElement(H.$n,{variant:"primary",type:"submit",onClick:l,isDisabled:i.pending||!s||!c.isValid},"Register cluster"),n().createElement(E.Link,{to:"/cluster-list"},n().createElement(H.$n,{variant:"secondary",isDisabled:i.pending},"Cancel"))))))))};var Da=a(90179),La=a.n(Da),Na=a(77937),wa=a(87370),ka=a(7851),Fa=a(38328),Ma=a(9296),xa=a(93413),Ga=a(98229),Ua=a(54910),Ha=a(41685),Va=a(72067),Ba=a(72230);const qa=(e,t,a)=>{t.min>t.max&&(e[a]={min:"The minimum cannot be above the maximum value.",max:"The minimum cannot be above the maximum value."})},ja=e=>{const t=e[Ba.FieldId.ClusterAutoscaling];if(!t)return{};const{cores:a,memory:l}=t.resource_limits,n={};return qa(n,a,"cores"),qa(n,l,"memory"),0===Object.keys(n).length?{}:{cluster_autoscaling:{resource_limits:n}}};var za=a(65824),Wa=a(94538),$a=a(74585),Ka=a(77475),Ya=a(22916);var Qa=a(81437),Za=a(4775),Xa=a(7019),Ja=a(10135),el=a(73553),tl=a(14115),al=a(55576),ll=a(56349);const nl=a.p+"images/CreateOSDWizard-intro.d8523900feace80f..png";var rl=a(17661),il=a(22563),sl=a(81995),ol=a(97862),ul=a(38715);const cl=({hasGcpQuota:e,hasRhmQuota:t})=>{const[a]=(0,na.useField)(Ba.FieldId.MarketplaceSelection),{values:{[Ba.FieldId.BillingModel]:r,[Ba.FieldId.MarketplaceSelection]:i},setFieldValue:s,setFieldTouched:o,validateField:u}=(0,Va.l)(),c=(0,l.useCallback)((()=>{s(Ba.FieldId.MarketplaceSelection,null,!1)}),[s]);(0,l.useEffect)((()=>{r.startsWith(ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE)||c()}),[r,c]),(0,l.useEffect)((()=>{r.startsWith(ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE)&&u(Ba.FieldId.MarketplaceSelection)}),[r,i,u]);const[d,m]=(0,l.useState)(!1),p="Select your marketplace",f=[{label:p,value:"placeholder"},{label:"Google Cloud Marketplace",value:ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP,isDisabled:!e,description:e?null:"You do not currently have a Google Cloud Platform subscription."},{label:"Red Hat Marketplace",value:ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE,isDisabled:!t,description:t?null:"You do not currently have a Red Hat Marketplace subscription."}],E=()=>{m(!d)},g=a=>{var l,r;return n().createElement(rl.S,{ref:a,onClick:E,isExpanded:d,isDisabled:!e&&!t,isFullWidth:!0,className:"marketplace-select-menu-toggle"},null!==(r=null===(l=f.find((e=>e.value===i)))||void 0===l?void 0:l.label)&&void 0!==r?r:p)},v=(e,t)=>{o(Ba.FieldId.MarketplaceSelection,!0,!1),t&&"placeholder"!==t?(s(Ba.FieldId.MarketplaceSelection,t,!1),s(Ba.FieldId.CloudProvider,t===ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP?tl.CloudProviderType.Gcp:tl.CloudProviderType.Aws,!1),s(Ba.FieldId.BillingModel,t,!1),s(Ba.FieldId.Byoc,"true",!1),s(Ba.FieldId.Product,S.normalizedProducts.OSD,!1)):c(),m(!1)};return n().createElement(na.Field,{name:Ba.FieldId.MarketplaceSelection,validate:e=>{if((!e||"placeholder"===e)&&r.startsWith(ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE))return"A selection is required."}},(({field:e,form:t,meta:l})=>n().createElement(Ne.g,{...a,fieldId:e.name,isRequired:!0,className:"pf-v5-u-mt-sm"},n().createElement(il.l,{isOpen:d,selected:i,toggle:g,onSelect:v,onOpenChange:e=>m(e)},n().createElement(sl.B,null,f.map((({label:e,value:t,isDisabled:a,description:l})=>n().createElement(ol.O,{value:t,key:t,isDisabled:a,description:l},e))))),n().createElement(ul.FormGroupHelperText,{touched:l.touched,error:l.error}))))};var dl,ml=a(38046);!function(e){e.OsdTrial="osdTrial",e.StandardOsd="standardOsd",e.Marketplace="marketplace",e.Byoc="byoc",e.RhInfra="rhInfra",e.MarketplaceByoc="marketplaceByoc",e.MarketplaceRhInfra="marketplaceRhInfra",e.GcpResources="gcpResources",e.AwsResources="awsResources",e.SingleAzResources="singleAzResources",e.MultiAzResources="multiAzResources"}(dl||(dl={}));const pl=(e,t)=>!!e&&(0,Ga.availableQuota)(e,t)>0,fl={[dl.OsdTrial]:{resourceType:ml.QuotaTypes.CLUSTER,product:S.normalizedProducts.OSDTRIAL},[dl.StandardOsd]:{resourceType:ml.QuotaTypes.CLUSTER,product:S.normalizedProducts.OSD,billingModel:ga.RelatedResource.billing_model.STANDARD},[dl.Marketplace]:{resourceType:ml.QuotaTypes.CLUSTER,product:S.normalizedProducts.OSD,billingModel:ga.RelatedResource.billing_model.MARKETPLACE},[dl.Byoc]:{resourceType:ml.QuotaTypes.CLUSTER,billingModel:ga.RelatedResource.billing_model.STANDARD,isBYOC:!0},[dl.RhInfra]:{resourceType:ml.QuotaTypes.CLUSTER,billingModel:ga.RelatedResource.billing_model.STANDARD,isBYOC:!1},[dl.MarketplaceByoc]:{resourceType:ml.QuotaTypes.CLUSTER,billingModel:ga.RelatedResource.billing_model.MARKETPLACE,product:S.normalizedProducts.OSD,isBYOC:!0},[dl.MarketplaceRhInfra]:{resourceType:ml.QuotaTypes.CLUSTER,billingModel:ga.RelatedResource.billing_model.MARKETPLACE,product:S.normalizedProducts.OSD,isBYOC:!1},[dl.GcpResources]:{resourceType:ml.QuotaTypes.CLUSTER,cloudProviderID:tl.CloudProviderType.Gcp},[dl.AwsResources]:{resourceType:ml.QuotaTypes.CLUSTER,cloudProviderID:tl.CloudProviderType.Aws},[dl.SingleAzResources]:{resourceType:ml.QuotaTypes.CLUSTER,isMultiAz:!1},[dl.MultiAzResources]:{resourceType:ml.QuotaTypes.CLUSTER,isMultiAz:!0}},El=e=>{const t=(0,q.useGlobalState)((e=>e.userProfile.organization.quotaList)),{product:a,billingModel:l,isBYOC:n}=e;return{[dl.OsdTrial]:pl(t,fl[dl.OsdTrial]),[dl.StandardOsd]:pl(t,fl[dl.StandardOsd]),[dl.Marketplace]:pl(t,fl[dl.Marketplace]),[dl.GcpResources]:pl(t,{...fl[dl.GcpResources],product:a,billingModel:l,isBYOC:n}),[dl.AwsResources]:pl(t,{...fl.awsResources,product:a,billingModel:l,isBYOC:n}),[dl.Byoc]:pl(t,{...fl[dl.Byoc],product:a}),[dl.RhInfra]:pl(t,{...fl[dl.RhInfra],product:a}),[dl.MarketplaceByoc]:pl(t,fl[dl.MarketplaceByoc]),[dl.MarketplaceRhInfra]:pl(t,fl[dl.MarketplaceRhInfra])}},gl=()=>{const e="gcp"===(0,Ja.getQueryParam)("source"),{values:{[Ba.FieldId.Product]:t,[Ba.FieldId.BillingModel]:a,[Ba.FieldId.MarketplaceSelection]:l},values:r,setFieldValue:i}=(0,Va.l)(),s=(0,d.wA)(),{clusterVersions:o}=(0,Ea.useGlobalState)((e=>e.clusters)),u=El({product:t}),c=u.osdTrial,m=n().createElement("p",null,n().createElement(W.default,{href:"https://access.redhat.com/articles/5990101",noIcon:!0,noTarget:!0},"Try OpenShift Dedicated")," ","for free for 60 days. Upgrade anytime"),p=n().createElement(n().Fragment,null,l===ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE&&n().createElement("p",null,"Use Red Hat Marketplace to subscribe and pay based on the services you use"),l===ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP&&n().createElement("p",null,"Use Google Cloud Marketplace to subscribe and pay based on the services you use"),!(l===ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE)&&!(l===ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP)&&n().createElement("p",null,"Use your cloud marketplace to subscribe and pay based on the services you use")),f=n().createElement(W.default,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated",noIcon:!0},"Red Hat Marketplace"),E=n().createElement(W.default,{href:"https://console.cloud.google.com/marketplace/product/redhat-marketplace/red-hat-openshift-dedicated",noIcon:!0},"Google Cloud"),g=n().createElement(n().Fragment,null,p,n().createElement("div",null,n().createElement(Za.A,{position:Za.$.right,headerContent:"On-Demand subscription",bodyContent:n().createElement("p",null,"Billing based on cluster consumption. Purchase a subscription via ",f," or"," ",E),"aria-label":"help"},n().createElement(H.$n,{variant:"link"},n().createElement(Xa.default,null)," How can I purchase a subscription?")))),v=[...c?[{value:S.STANDARD_TRIAL_BILLING_MODEL_TYPE,label:"Free trial (upgradeable)",description:m}]:[],{disabled:!u.standardOsd,value:ga.SubscriptionCommonFields.cluster_billing_model.STANDARD,label:"Annual: Fixed capacity subscription from Red Hat",description:"Use the quota pre-purchased by your organization"},{disabled:!u.marketplace&&!u.gcpResources,value:"marketplace-select",shouldCheck:(e,t)=>e.startsWith("marketplace")&&"marketplace-select"==`${t}`,label:n().createElement(n().Fragment,null,n().createElement("div",null,"On-Demand: Flexible usage billed through ",E," or ",f),n().createElement(cl,{hasGcpQuota:u.gcpResources,hasRhmQuota:u.marketplace})),description:u.marketplace||u.gcpResources?p:g}];n().useEffect((()=>{t===S.normalizedProducts.OSDTRIAL&&(c?(i(Ba.FieldId.BillingModel,S.STANDARD_TRIAL_BILLING_MODEL_TYPE),i(Ba.FieldId.Byoc,"true")):i(Ba.FieldId.Product,S.normalizedProducts.OSD)),c&&a!==ga.SubscriptionCommonFields.cluster_billing_model.STANDARD||!u.marketplace||u.standardOsd||a.startsWith(ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE)||i(Ba.FieldId.BillingModel,ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE),(null==o?void 0:o.fulfilled)&&s(ll.clustersActions.clearInstallableVersions())}),[t,a,c,u.marketplace,u.standardOsd,l]),n().useEffect((()=>{e&&(i(Ba.FieldId.MarketplaceSelection,ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP,!1),i(Ba.FieldId.CloudProvider,tl.CloudProviderType.Gcp,!1),i(Ba.FieldId.BillingModel,ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP,!1),i(Ba.FieldId.Byoc,"true",!1),i(Ba.FieldId.Product,S.normalizedProducts.OSD,!1),(0,Ja.deleteQueryParam)("source"))}),[e]);let h=!1,_=!1;a.startsWith(ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE)?(h=!u.marketplaceRhInfra,_=!u.marketplaceByoc):(h=!u.rhInfra,_=!u.byoc);const b=[{label:"Customer cloud subscription",description:"Provision the cluster using your existing cloud provider account",value:"true",disabled:_},{label:"Red Hat cloud account",description:"Deploy in cloud provider accounts owned by Red Hat",value:"false",disabled:h}];return n().createElement(Oe.s,{alignItems:{default:"alignItemsFlexStart"}},n().createElement(Pe.Z,{flex:{default:"flex_3"}},n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,{className:"pf-v5-u-mb-xl"},n().createElement(A.h,{headingLevel:"h2",className:"pf-v5-u-pb-md"},"Welcome to Red Hat OpenShift Dedicated"),n().createElement(U.E,{component:"p",id:"welcome-osd-text"},"Reduce operational complexity and focus on building applications that add more value to your business with Red Hat OpenShift Dedicated, a fully-managed service of Red Hat OpenShift on Amazon Web Services (AWS) and Google Cloud.")),n().createElement(F.a,null,n().createElement(A.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"Subscription type"),n().createElement(al.RadioGroupField,{name:Ba.FieldId.BillingModel,options:v,onChange:(e,t)=>{let a=S.normalizedProducts.OSD;t!==ga.SubscriptionCommonFields.cluster_billing_model.STANDARD&&i(Ba.FieldId.Byoc,"true"),t===S.STANDARD_TRIAL_BILLING_MODEL_TYPE&&(a=S.normalizedProducts.OSDTRIAL),i(Ba.FieldId.Product,a)}})),n().createElement(F.a,null,n().createElement(A.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"Infrastructure type"),n().createElement(al.RadioGroupField,{name:Ba.FieldId.Byoc,options:b,onChange:(e,t)=>{const a="true"===t,l="true"===r[Ba.FieldId.MultiAz];i(Ba.FieldId.NodesCompute,(0,el.getNodesCount)(a,l,!0)),i(Ba.FieldId.MinReplicas,(0,el.getMinReplicasCount)(a,l,!0)),i(Ba.FieldId.MaxReplicas,"")}})))),n().createElement(Pe.Z,{flex:{default:"flex_1"}},n().createElement("img",{src:nl,className:"billing-model_osd-logo","aria-hidden":"true",alt:""})))};var vl=a(52202),hl=a(83805),_l=a(80313),Sl=a(13442),bl=a(54801),Cl=a(18679),yl=a(83709),Il=a(12322),Al=a(31358),Rl=a(15651),Tl=a(17611);const Ol=()=>{const{ccsCredentialsValidity:e}=(0,Ea.useGlobalState)((e=>e.ccsInquiries));return n().createElement(n().Fragment,null,n().createElement(al.FileUploadField,{validate:e=>(0,va.required)(e)||(0,va.validateGCPServiceAccount)(e),name:Ba.FieldId.GcpServiceAccount,label:"Service account JSON",helperText:"Upload a JSON file or type to add",tooltip:n().createElement(n().Fragment,null,n().createElement("p",null,"To create a service account JSON file, create a key for your service account, export it to a file and upload it to this field."),n().createElement(W.default,{href:"https://cloud.google.com/iam/docs/creating-managing-service-account-keys#creating_service_account_keys"},"Learn how to create service account keys"))}),n().createElement("p",{className:"pf-v5-u-mt-md"},e.pending&&"Validating..."))},Pl=()=>n().createElement("div",null,n().createElement(M.n,null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Successful cluster provisioning requires that:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Your Google Cloud account has the necessary resource quotas and limits to support your desired cluster size according to the"," ",n().createElement(W.default,{noIcon:!0,href:j.default.OSD_CCS_GCP_LIMITS},"cluster resource requirements"))),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"An IAM Service account called osd-ccs-admin exists with the following roles attached:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Compute Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"DNS Administrator")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Security Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Service Account Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Service Account Key Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Service Account User")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Organization Policy Viewer")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Service Management Administrator")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Service Usage Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Storage Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Compute Load Balancer Admin")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Role Viewer")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Role Administrator"))))),n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Enhanced Support from GCP is also recommended. To prevent potential conflicts, we recommend that you have no other resources provisioned in the project prior to provisioning OpenShift Dedicated. For more guidance, see the"," ",n().createElement(W.default,{noIcon:!0,href:j.default.OSD_CCS_GCP},"Customer Cloud Subscription requirements"),".")));var Dl=a(36070),Ll=a(57983);const Nl=e=>{const{wifConfigs:t,selectedWifConfigID:a,input:{name:r,onChange:i},meta:{error:s,touched:o},isLoading:u,onRefresh:c}=e,[d,m]=(0,l.useState)(!1),p=t.map((e=>({entryId:e.id,label:e.display_name,description:e.id}))),f=(0,l.useCallback)((e=>m(e)),[]),E=t.length>0,g=(0,l.useMemo)((()=>{switch(!0){case u:return"Loading";case!u&&!E:return"No WIF configurations found";default:return"Select a configuration"}}),[E,u]);return n().createElement(Ne.g,{label:"WIF configuration",isRequired:!0},n().createElement(Oe.s,null,n().createElement(Pe.Z,{grow:{default:"grow"}},n().createElement(Ll.FuzzySelect,{isOpen:d,selectionData:p,selectedEntryId:E&&null!=a?a:"",onOpenChange:f,onSelect:(e,t)=>{m(!1),i(t)},toggleId:r,popperProps:{appendTo:document.body},placeholderText:g,isDisabled:u||!E,validated:o&&s?"danger":void 0,inlineFilterPlaceholderText:"Filter by name / ID"})),n().createElement(Pe.Z,null,n().createElement(H.$n,{size:"sm",variant:"secondary",isDisabled:u,isLoading:u,onClick:()=>{c()}},u?"Loading":"Refresh"))),n().createElement(ul.FormGroupHelperText,{touched:o,error:s}))},wl=e=>{const{getWifConfigsService:t}=e,{isLoading:a,wifConfigs:r,getWifConfigs:i,error:s}=function(e){const[t,a]=(0,l.useState)(null),[n,r]=(0,l.useState)(),[i,s]=(0,l.useState)(!1);return{getWifConfigs:(0,l.useCallback)((t=>{s(!0),r(void 0),e(t).then((e=>a(e.data.items))).catch((e=>{r(e)})).finally((()=>s(!1)))}),[e]),isLoading:i,wifConfigs:t,error:n}}(t);(0,l.useEffect)((()=>{i("")}),[i]);const{setFieldValue:o,getFieldProps:u,getFieldMeta:c,values:{[tl.FieldId.GcpWifConfig]:d}}=(0,Va.l)();return(0,l.useEffect)((()=>{r&&d&&!r.find((e=>e.id===d.id))&&o(tl.FieldId.GcpWifConfig,null,!0)}),[r,d,o]),n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,null,n().createElement(M.n,null,n().createElement(U.E,{component:"h4"},"1. Create a new Workload Identity Federation (WIF) configuration"),n().createElement(U.E,{component:U.Y.p},"Workload Identity Federation is a keyless authentication mechanism for calling Google Cloud APIs. It eliminates the maintenance and security burden associated with service account keys."),n().createElement(U.E,{component:U.Y.p},"Run the following ",n().createElement("code",null,"ocm")," CLI command to create a Workload Identity Federation configuration (automatic mode). Make sure to replace the WIF name and GCP Project ID with your own values."))),n().createElement(F.a,null,n().createElement(Dl.Ck,{"data-testid":"gcp-wif-command",isReadOnly:!0,hoverTip:"Copy",clickTip:"Copied",isCode:!0,isBlock:!0},"ocm gcp create wif-config --name <wif_name> --project <gcp_project_id>")),n().createElement(F.a,null,n().createElement(M.n,null,n().createElement(U.E,{component:U.Y.small},"This command creates all the necessary resources for deploying OSD on GCP using only temporary credentials. You can also run the command in manual mode."," ",n().createElement(W.default,{noIcon:!0,href:j.default.OSD_CCS_GCP_WIF_CREATION_LEARN_MORE},"Learn more"),"."))),n().createElement(F.a,null,n().createElement(M.n,null,n().createElement(U.E,{component:"h4"},"2. Select configuration"))),s?n().createElement(F.a,null,n().createElement(T.F,{variant:"danger",isInline:!0,title:"Error retrieving WIF configurations"})):null,n().createElement(F.a,null,n().createElement(na.Field,{component:Nl,name:tl.FieldId.GcpWifConfig,input:{...u(tl.FieldId.GcpWifConfig),onChange:e=>{const t=(null!=r?r:[]).find((t=>t.id===e));t&&o(tl.FieldId.GcpWifConfig,t,!0)}},meta:c(tl.FieldId.GcpWifConfig),onRefresh:()=>i(""),isLoading:a,validate:e=>(null==e?void 0:e.id)?void 0:"Wif configuration is required",wifConfigs:null!=r?r:[],selectedWifConfigID:null==d?void 0:d.id})))},kl=()=>n().createElement("div",null,n().createElement(M.n,null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"To provision your cluster, you must:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"To use short-lived credentials,"," ",n().createElement(E.Link,{to:"/downloads",target:"_blank"},"download")," ","and authenticate to the ",n().createElement("code",null,"ocm")," CLI.")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},n().createElement(W.default,{noIcon:!0,href:j.default.OSD_CCS_GCP_WIF_GCLOUD_CLI},"Download")," ","the ",n().createElement("code",null,"gcloud")," CLI and use the"," ",n().createElement(W.default,{noIcon:!0,href:j.default.OSD_CCS_GCP_WIF_GCLOUD_CREDENTIALS},"Application Default Credentials"," ")," ","to authenticate.")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Check your"," ",n().createElement(W.default,{noIcon:!0,href:j.default.OSD_CCS_GCP_LIMITS},"cluster resource requirements")," ","to make sure your Google Cloud account has the necessary resource quotas and limits to support the size cluster you want.")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Optional: You have Enhanced Support from GCP. To prevent conflicts, make sure your project has no other provisioned resources before you provision OSD."," ",n().createElement(W.default,{noIcon:!0,href:j.default.OSD_CCS_GCP},"Learn more"),"."))))),Fl=e=>{const{getWifConfigsService:t}=e,{values:{[Ba.FieldId.BillingModel]:a}}=(0,Va.l)(),l=(0,v.useFeatureGate)(b.OSD_GCP_WIF),{setFieldValue:r,values:{[Ba.FieldId.GcpAuthType]:i}}=(0,Va.l)(),s=l?i:Qa.GCPAuthType.ServiceAccounts,o=e=>{const{id:t}=e.currentTarget,a=t===Qa.GCPAuthType.WorkloadIdentityFederation?Qa.GCPAuthType.WorkloadIdentityFederation:Qa.GCPAuthType.ServiceAccounts;r(Ba.FieldId.GcpAuthType,a),r(Ba.FieldId.AcknowledgePrereq,!1)};return n().createElement(oa.l,{isWidthLimited:!0,onSubmit:e=>e.preventDefault()},a!==ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP&&n().createElement(hl.T,null,n().createElement(T.F,{variant:"info",isInline:!0,title:"Customer cloud subscription"},"Provision your cluster in a Google Cloud Platform account owned by you or your company to leverage your existing relationship and pay Google Cloud Platform directly for public cloud costs.")),n().createElement(Oe.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},l&&n().createElement(Pe.Z,null,n().createElement(A.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"GCP account details"),n().createElement(Ne.g,{label:"Authentication type",labelIcon:n().createElement(Za.A,{bodyContent:n().createElement("div",null,n().createElement("div",null,"Workload Identity Federation (WIF) uses short-lived credentials which is more secure. Use of WIF requires an OSD cluster running OpenShift"," ",n().createElement("span",{className:"pf-v5-u-font-family-monospace"},"4.17")," or later."),n().createElement("br",null),n().createElement("div",null,"Service Account uses longer-lived credentials, which are less secure."))},n().createElement("button",{type:"button","aria-label":"More info for authentication types",onClick:e=>e.preventDefault(),className:Rl.A.formGroupLabelHelp},n().createElement(Al.HelpIcon,null)))},n().createElement(_l.O,{"aria-label":"Authentication type"},n().createElement(Sl.d,{text:"Service Account",key:0,buttonId:Qa.GCPAuthType.ServiceAccounts,isSelected:s===Qa.GCPAuthType.ServiceAccounts,onChange:o}),n().createElement(Sl.d,{text:"Workload Identity Federation",key:1,buttonId:Qa.GCPAuthType.WorkloadIdentityFederation,isSelected:s===Qa.GCPAuthType.WorkloadIdentityFederation,onChange:o})))),n().createElement(Pe.Z,null,l?n().createElement(A.h,{headingLevel:"h4",className:"pf-v5-u-mb-sm"},s===Qa.GCPAuthType.WorkloadIdentityFederation?"Workload Identity Federation":"Service Account"):n().createElement(A.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"GCP Service account"),n().createElement(Tl.A,{acknowledgementRequired:!0,initiallyExpanded:!0},a===ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP&&n().createElement(bl.C,{className:"pf-v5-u-mb-md pf-v5-u-mt-sm"},n().createElement(Cl.Y,null,n().createElement("strong",null,"Have you prepared your Google account?")),n().createElement(yl.I,null,"To prepare your account, accept the Google Cloud Terms and Agreements. If you've already accepted the terms, you can continue to complete OSD prerequisites."),n().createElement(Il.R,null,n().createElement(W.default,{href:j.default.GCP_CONSOLE_OSD_HOME},"Review Google terms and agreements."))),s===Qa.GCPAuthType.WorkloadIdentityFederation?n().createElement(kl,null):n().createElement(Pl,null))),n().createElement(Pe.Z,null,s===Qa.GCPAuthType.WorkloadIdentityFederation?n().createElement(wl,{getWifConfigsService:t}):n().createElement(Ol,null))))};var Ml=a(49484),xl=a(11912);const Gl=()=>{const{ccsCredentialsValidity:e}=(0,q.useGlobalState)((e=>e.ccsInquiries)),t=(0,q.useGlobalState)((e=>e.machineTypesByRegion)),{pending:a}=e,l=(0,d.wA)(),r=n().useCallback((()=>{t.region&&l((0,xl.clearMachineTypesByRegion)())}),[l,t.region]);return n().createElement(ia.x,{hasGutter:!0,md:6},n().createElement(Oe.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.AccountId,label:"AWS account ID",validate:va.awsNumericAccountID,isDisabled:a,onChange:r,tooltipWidth:"27rem",tooltip:n().createElement(n().Fragment,null,n().createElement("p",null,"Find your 12-digit AWS account ID in the AWS console or by running this command in the AWS CLI:"),n().createElement("br",null),n().createElement(Z.default,{textAriaLabel:"Copyable AWS account ID command"},"aws sts get-caller-identity"),n().createElement("br",null),n().createElement(W.default,{href:j.default.FINDING_AWS_ACCOUNT_IDENTIFIERS},"Finding your AWS account ID"))})),n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h4"},"AWS IAM user credentials")),n().createElement(sa.E,null,n().createElement(T.F,{className:"bottom-alert pf-v5-u-mt-0",variant:"warning",title:Ml.billingModelConstants.awsCredentialsWarning,isInline:!0})),n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.AccessKeyId,label:"AWS access key ID",validate:va.required,isDisabled:a,helperText:a?"Validating...":"",onChange:r})),n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.SecretAccessKey,label:"AWS secret access key",validate:va.required,isDisabled:a,helperText:a?"Validating...":"",type:"password",onChange:r})),n().createElement(sa.E,null,n().createElement(al.CheckboxField,{name:Ba.FieldId.DisableScpChecks,label:"Bypass AWS service control policy (SCP) checks",tooltip:Ml.constants.bypassSCPChecksHint}))))},Ul=()=>n().createElement(ia.x,{hasGutter:!0},n().createElement(sa.E,null,n().createElement(T.F,{variant:"info",isInline:!0,title:"Customer cloud subscription"},"Provision your cluster in an AWS account owned by you or your company to leverage your existing relationship and pay AWS directly for public cloud costs.")),n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"AWS account details"),n().createElement(Tl.A,{acknowledgementRequired:!0,initiallyExpanded:!0},n().createElement(M.n,null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Successful cluster provisioning requires that:"),n().createElement("ul",null,n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Your AWS account has the necessary limits to support your desired cluster size according to the"," ",n().createElement(W.default,{noIcon:!0,href:j.default.OSD_CCS_AWS_LIMITS},"cluster resource requirements"),".")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"An IAM user called ",n().createElement("b",null,"osdCcsAdmin")," exists with the AdministratorAccess policy.")),n().createElement("li",null,n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"An Organization service control policy (SCP) is set up according to the requirements for Customer Cloud Subscriptions."))),n().createElement(U.E,{component:U.Y.p,className:"ocm-secondary-text"},"Business Support for AWS is also recommended. For more guidance, see the"," ",n().createElement(W.default,{href:j.default.OSD_CCS_AWS_CUSTOMER_REQ},"Customer Cloud Subscription requirements"),".")))),n().createElement(Gl,null));var Hl=a(46942),Vl=a.n(Hl),Bl=a(3516),ql=a(92644),jl=a(73495);const zl=()=>{const{values:{[Ba.FieldId.CloudProvider]:e,[Ba.FieldId.Product]:t,[Ba.FieldId.BillingModel]:a,[Ba.FieldId.Byoc]:l},setFieldValue:r}=(0,Va.l)(),i=El({product:t,billingModel:a,isBYOC:l}),s=i.gcpResources,o=a!==ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP&&i.awsResources,u=a===ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP?"OpenShift Dedicated purchased through the Google Cloud marketplace can only be provisioned on GCP.":xa.noQuotaTooltip,c=e=>{r(Ba.FieldId.Region,e===tl.CloudProviderType.Aws?tl.AWS_DEFAULT_REGION:tl.GCP_DEFAULT_REGION),r(Ba.FieldId.MachineTypeForceChoice,!1),r(Ba.FieldId.MachineType,""),r(Ba.FieldId.AcknowledgePrereq,!1),r(Ba.FieldId.FipsCryptography,!1),r(Ba.FieldId.CloudProvider,e)},d=e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),c(e.currentTarget.id))},m=n().createElement(Bl.F,{id:tl.CloudProviderType.Gcp,className:Vl()("ocm-tile-create-cluster",!s&&"tile-disabled"),onClick:()=>s&&c(tl.CloudProviderType.Gcp),onKeyDown:d,isDisabled:!s,"data-testid":"gcp-provider-card",title:"Run on Google Cloud Platform",icon:n().createElement(jl.A,null),isDisplayLarge:!0,isStacked:!0,isSelected:e===tl.CloudProviderType.Gcp}),p=n().createElement(Bl.F,{id:tl.CloudProviderType.Aws,className:Vl()("ocm-tile-create-cluster",!o&&"tile-disabled"),onClick:()=>o&&c(tl.CloudProviderType.Aws),onKeyDown:d,isDisabled:!o,"data-testid":"aws-provider-card",title:"Run on Amazon Web Services",icon:n().createElement(ql.A,null),isDisplayLarge:!0,isStacked:!0,isSelected:e===tl.CloudProviderType.Aws});return n().createElement("div",{role:"listbox","aria-label":"Providers options"},o?p:n().createElement(ua.m,{content:u},p),s?m:n().createElement(ua.m,{content:xa.noQuotaTooltip},m))},Wl=()=>{const e=(0,d.wA)(),{values:{[Ba.FieldId.CloudProvider]:t,[Ba.FieldId.Byoc]:a,[Ba.FieldId.AccountId]:l,[Ba.FieldId.AccessKeyId]:r,[Ba.FieldId.SecretAccessKey]:i,[Ba.FieldId.GcpServiceAccount]:s,[Ba.FieldId.GcpAuthType]:o}}=(0,Va.l)(),{ccsCredentialsValidity:u}=(0,q.useGlobalState)((e=>e.ccsInquiries)),c="true"===a;return n().useEffect((()=>{e((0,vl.clearCcsCredientialsInquiry)())}),[l,r,i,s,t,o,e]),n().createElement(oa.l,null,n().createElement(A.h,{headingLevel:"h3"},"Select a cloud provider"),n().createElement(zl,null),c&&n().createElement(n().Fragment,null,t===tl.CloudProviderType.Aws?n().createElement(Ul,null):n().createElement(Fl,{getWifConfigsService:$e.clusterService.getGCPWifConfigs}),u.error&&n().createElement(T.F,{variant:"danger",isInline:!0,title:`${t.toUpperCase()} wasn't able to verify your credentials`},"Verify that your entered"," ",t===tl.CloudProviderType.Aws?"access keys match the access keys provided in your AWS account.":"service account details are correct.")))};var $l=a(94698),Kl=a(93809),Yl=a(76882),Ql=a(12024);const Zl=({isLoading:e,onNext:t,track:a=()=>{}})=>{const{goToNextStep:r,goToPrevStep:i,close:s,activeStep:o,steps:u}=(0,$l.CV)(),{values:c,validateForm:d,setTouched:m,isValidating:p,submitForm:f}=(0,Va.l)(),[E,g]=(0,l.useState)(!1),v=(0,q.useGlobalState)((e=>e.clusters.createdCluster)).pending,h=p||e,_=E||e,S=async()=>{if(p)return void(E||g(!0));const e=await d(c);if(Object.keys(e||{}).length>0)return m((0,na.setNestedObjectValues)(e,!0)),void(0,xa.scrollToFirstField)((0,Ql.getScrollErrorIds)(e));(null!=t?t:r)()};return(0,l.useEffect)((()=>{E&&!1===p&&(g(!1),S())}),[p,E]),v?null:n().createElement(Yl.W,null,o.id===Ba.StepId.Review?n().createElement(H.$n,{variant:"primary","data-testid":"wizard-create-cluster-button",onClick:()=>{f(),a()},isLoading:h,isDisabled:_},"Create cluster"):n().createElement(H.$n,{variant:"primary","data-testid":"wizard-next-button",onClick:S,isLoading:h,isDisabled:_},"Next"),n().createElement(H.$n,{variant:"secondary","data-testid":"wizard-back-button",onClick:i,isDisabled:_||0===u.indexOf(o)},"Back"),n().createElement(H.$n,{variant:"link","data-testid":"wizard-cancel-button",onClick:s,isDisabled:_},"Cancel"))},Xl=()=>{const e=(0,d.wA)(),{values:t}=(0,Va.l)(),{goToNextStep:a}=(0,$l.CV)(),{ccsCredentialsValidity:r}=(0,Ea.useGlobalState)((e=>e.ccsInquiries)),[i,s]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{i&&(r.fulfilled||r.error)&&(s(!1),r.fulfilled&&a())}),[i,r.fulfilled,r.error,a]),n().createElement(Zl,{onNext:()=>{(0,Kl.BH)(t,r)?((0,Kl.eC)(t,e),s(!0)):a()},isLoading:i})};var Jl=a(30666),en=a(93973),tn=a(19033),an=a(45436),ln=a(10176),nn=a(94402),rn=a(92148),sn=a(22629),on=a(29814),un=a(28053),cn=a(55816),dn=a(62077);const mn="Full Support",pn=(e,t)=>(0,ln.versionComparator)(t.label,e.label),fn=({name:e,label:t,isDisabled:a,onChange:r})=>{var i;const s=(0,d.wA)(),o=(0,Ea.useGlobalState)((e=>e.userProfile.organization.details)),u=(0,v.useFeatureGate)(b.UNSTABLE_CLUSTER_VERSIONS)&&(e=>{var t;return(null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:[]).some((e=>"capability.organization.non_stable_channel_group"===e.name&&"true"===e.value))})(o),[c,{touched:m,error:p}]=(0,na.useField)(e),{clusterVersions:f}=(0,Ea.useGlobalState)((e=>e.clusters)),{values:{[tl.FieldId.ClusterVersion]:E,[tl.FieldId.BillingModel]:g,[tl.FieldId.GcpAuthType]:h},setFieldValue:_}=(0,Va.l)(),[S,C]=(0,l.useState)(!1),[y,I]=(0,l.useState)([]),[A]=(0,dn.useOCPLifeCycleStatusData)(),R=null===(i=null==A?void 0:A[0])||void 0===i?void 0:i.versions,T=null==R?void 0:R.reduce(((e,t)=>(e[t.name]=t.type,e)),{}),O=g===ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP,P=h===Qa.GCPAuthType.WorkloadIdentityFederation,L=(0,l.useCallback)((()=>s(ll.clustersActions.getInstallableVersions({isMarketplaceGcp:O,isWIF:P,includeUnstableVersions:u}))),[s,O,P,u]);(0,l.useEffect)((()=>{var t,a;f.fulfilled?(null===(t=f.meta)||void 0===t?void 0:t.isMarketplaceGcp)!==O||(null===(a=f.meta)||void 0===a?void 0:a.isWIF)!==P?(_(e,null),L()):I(f.versions):f.error?C(!1):f.pending||(_(e,null),L())}),[L,f,O,P,e,_]),(0,l.useEffect)((()=>{if(y.length&&!(null==E?void 0:E.raw_id)){const t=y.findIndex((e=>!0===e.default));_(e,y[-1!==t?t:0])}}),[y,null==E?void 0:E.raw_id,e,_]);const N=n().useMemo((()=>((e,t,a)=>{const l=[],n=[],r=[],i=[],s=[];e.forEach((e=>{const{raw_id:o,id:u,channel_group:c}=e;if(o&&u){if(!t||"stable"===c){const e=parseFloat(o),t=(null==a?void 0:a[e])===mn,r={entryId:u,label:o,groupKey:t?mn:"Maintenance Support"};return void(t?l.push(r):n.push(r))}if(t){const e={entryId:u,label:`${o} (${c})`,groupKey:c};switch(c){case"candidate":r.push(e);break;case"nightly":i.push(e);break;case"fast":s.push(e)}}}}));const o={"Full support":l,"Maintenance support":n};return t?{...o,Candidate:r,Nightly:i,Fast:s}:o})(y,u,T)),[T,y,u]);return n().createElement(Ne.g,{...c,label:t,fieldId:e,isRequired:!0},f.error&&n().createElement(cn.default,{message:"Error getting cluster versions",response:f}),f.pending&&n().createElement(n().Fragment,null,n().createElement("div",{className:"spinner-fit-container"},n().createElement(D.A,null)),n().createElement("div",{className:"spinner-loading-text"},"Loading...")),f.fulfilled&&n().createElement(Ll.FuzzySelect,{"aria-label":t,isOpen:S,onOpenChange:e=>{C(e),e&&f.error&&L()},onSelect:(t,a)=>{C(!1);const l=y.find((e=>e.id===a));_(e,l),l&&r(l)},selectedEntryId:null==E?void 0:E.id,selectionData:N,isDisabled:a,sortFn:pn,placeholderText:"Filter by versions",filterValidate:{pattern:/^[0-9.]*$/gm,message:"Please enter only digits or periods."},truncation:100,inlineFilterPlaceholderText:"Filter by version number",toggleId:"version-selector",isScrollable:!0}),n().createElement(ul.FormGroupHelperText,{touched:m,error:p}))};var En=a(17804),gn=a(2404),vn=a.n(gn),hn=a(3638),_n=a(8371);class Sn extends n().Component{constructor(){super(...arguments),this.loadIfNeeded=()=>{const{hasDependencies:e,matchesDependencies:t,requestStatus:a,loadData:l}=this.props;!e||t||a.pending||l()},this.currentValueIrrelevant=()=>{const{hasDependencies:e,matchesDependencies:t,requestStatus:a,items:l,input:n}=this.props;return!(!n.value||e&&(!t||!a.fulfilled||l.includes(n.value)))}}componentDidMount(){if(this.loadIfNeeded(),this.currentValueIrrelevant()){const{input:e}=this.props;e.onChange("")}}componentDidUpdate(){if(this.loadIfNeeded(),this.currentValueIrrelevant()){const{input:e}=this.props;e.onChange("")}}render(){const{loadData:e,requestStatus:t,items:a,matchesDependencies:l,meta:r,input:i,isRequired:s,label:o,labelIcon:u,helperText:c,placeholder:d,emptyAlertTitle:m,emptyAlertBody:p,refreshButtonText:f,noDependenciesPlaceholder:E,requestErrorTitle:g}=this.props,v=l&&t.fulfilled;let h=null,_=null;v?a.length>0?_=n().createElement(n().Fragment,null,n().createElement(hn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:d}),a.map((e=>n().createElement(hn.Q,{key:e,value:e,label:e})))):(h=n().createElement(T.F,{isInline:!0,variant:"danger",title:m,role:"alert"},n().createElement(M.n,null,p,f&&n().createElement(U.E,null,n().createElement(H.$n,{variant:"secondary",onClick:e},f)))),_=n().createElement(hn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:""})):t.pending?_=n().createElement(hn.Q,{isDisabled:!0,value:"",label:"Loading..."}):l&&t.error?(h=n().createElement(cn.default,{message:g,response:t}),_=n().createElement(hn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:""})):_=n().createElement(hn.Q,{isDisabled:!0,value:"",label:E||""});const S=this.currentValueIrrelevant()?"":i.value,{onChange:b,...C}=i;return n().createElement(Ne.g,{label:o,labelIcon:u,fieldId:i.name,isRequired:s},h,n().createElement(_n.F,{"aria-label":o,isDisabled:!(v&&a.length>0),validated:r.touched&&r.error?"error":"default",...C,onChange:(e,t)=>b(t),value:S},_),n().createElement(ul.FormGroupHelperText,{touched:r.touched,error:r.error},c))}}const bn=Sn,Cn=()=>{var e;const t=(0,d.wA)(),{gcpKeyRings:a}=(0,q.useGlobalState)((e=>e.ccsInquiries)),{values:l,getFieldProps:r,setFieldValue:i,getFieldMeta:s}=(0,Va.l)(),o=(0,Kl.GO)(l),{[Ba.FieldId.GcpAuthType]:u,[Ba.FieldId.KeyLocation]:c}=l,m=!(!o||!c),p=a.cloudProvider===tl.CloudProviderType.Gcp&&vn()(a.credentials,o)&&a.keyLocation===c;return n().createElement(sa.E,null,n().createElement(na.Field,{component:bn,name:Ba.FieldId.KeyRing,label:"Key ring",labelIcon:n().createElement(X.default,{hint:Ml.constants.keyRing}),helperText:"A key ring organizes keys in a specific Google Cloud location.",noDependenciesPlaceholder:"Enter GCP credentials first",placeholder:"Select key ring",requestErrorTitle:"Error listing key rings using your GCP credentials",emptyAlertTitle:"No key rings found for this location",emptyAlertBody:n().createElement(n().Fragment,null,n().createElement(U.E,null,"If available, change the Key ring location. Or go to your"," ",n().createElement(W.default,{href:"https://console.cloud.google.com/security/kms"},"Google Cloud Console")," ","and create the key ring."),n().createElement(U.E,null,"Once created, refresh using the ",n().createElement("strong",null,"Refresh custom key rings")," button.")),refreshButtonText:"Refresh custom key rings",validate:va.required,isRequired:!0,input:{...r(Ba.FieldId.KeyRing),onChange:e=>i(Ba.FieldId.KeyRing,e)},meta:s(Ba.FieldId.KeyRing),hasDependencies:m,matchesDependencies:p,requestStatus:a,items:((null===(e=a.data)||void 0===e?void 0:e.items)||[]).map((e=>e.name)),loadData:()=>m&&t((0,vl.getGCPKeyRings)(u,o,c))}))},yn=()=>{var e;const t=(0,d.wA)(),{gcpKeys:a}=(0,q.useGlobalState)((e=>e.ccsInquiries)),{values:l,getFieldProps:r,setFieldValue:i,getFieldMeta:s}=(0,Va.l)(),o=(0,Kl.GO)(l),{[Ba.FieldId.KeyLocation]:u,[Ba.FieldId.KeyRing]:c,[Ba.FieldId.GcpAuthType]:m}=l,p=!!(o&&u&&c),f="gcp"===a.cloudProvider&&vn()(a.credentials,o)&&a.keyLocation===u&&a.keyRing===c;return n().createElement(sa.E,null,n().createElement(na.Field,{component:bn,name:Ba.FieldId.KeyName,label:"Key name",labelIcon:n().createElement(X.default,{hint:Ml.constants.keyName}),helperText:"Name of the key in the keyring.",placeholder:"Select key",requestErrorTitle:"Error listing keys using your GCP credentials",emptyAlertTitle:"No keys found for this location and key ring",emptyAlertBody:n().createElement(n().Fragment,null,n().createElement(U.E,null,"If available, change the Key ring location / Key ring. Or go to your"," ",n().createElement(W.default,{href:"https://console.cloud.google.com/security/kms"},"Google Cloud Console")," ","and create the key."),n().createElement(U.E,null,"Once created, refresh using the ",n().createElement("strong",null,"Refresh custom keys")," button.")),refreshButtonText:"Refresh custom keys",validate:va.required,isRequired:!0,input:{...r(Ba.FieldId.KeyName),onChange:e=>i(Ba.FieldId.KeyName,e)},meta:s(Ba.FieldId.KeyName),loadData:()=>p&&t((0,vl.getGCPKeys)(m,o,u,c)),hasDependencies:p,matchesDependencies:f,requestStatus:a,items:((null===(e=a.data)||void 0===e?void 0:e.items)||[]).map((e=>e.name))}))},In=({region:e})=>{const{getFieldProps:t,setFieldValue:a}=(0,Va.l)();return n().createElement(n().Fragment,null,n().createElement(sa.E,null,n().createElement(Ne.g,{label:"Key ring location",fieldId:Ba.FieldId.KeyLocation,labelIcon:n().createElement(X.default,{hint:Ml.constants.regionHint})},n().createElement(na.Field,{component:En.A,name:Ba.FieldId.KeyLocation,selectedRegion:e,input:{...t(Ba.FieldId.KeyLocation),onChange:e=>a(Ba.FieldId.KeyLocation,e)}}))),n().createElement(Cn,null),n().createElement(yn,null),n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.KmsServiceAccount,label:"KMS Service Account",tooltip:Ml.constants.kmsserviceAccount,validate:va.validateGCPKMSServiceAccount,helperText:"GCP Service account will be used for compute scaling."})))},An=({hasCustomerManagedKey:e,region:t,cloudProvider:a,kmsKeyArn:l})=>{const{setFieldTouched:r}=(0,Va.l)(),i=a===tl.CloudProviderType.Gcp,s=i?"https://cloud.google.com/storage/docs/encryption/default-keys":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/data-protection.html",o=[{value:"false",label:"Use default KMS Keys"},{value:"true",label:"Use custom KMS keys",popoverHint:i?"Managed via Google Cloud Key Management Service. Used to store and generate encryption keys and encrypt your data.":"Use a custom AWS KMS key for AWS EBS volume encryption instead of your default AWS KMS key."}];return n().useEffect((()=>{"true"===e&&l&&!i&&r(Ba.FieldId.KmsKeyArn,!0,!0)}),[]),n().createElement(ia.x,{hasGutter:!0},n().createElement(sa.E,null,n().createElement(Ne.g,{fieldId:Ba.FieldId.CustomerManagedKey,id:"customerManagedKey",label:"Encryption Keys",isRequired:!0,isInline:!0},n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-pb-md"},"The cloud storage for your cluster is encrypted at rest."," ",n().createElement(W.default,{href:s},"Learn more")),n().createElement(al.RadioGroupField,{name:Ba.FieldId.CustomerManagedKey,options:o,direction:"row",isRequired:!0}))),"true"===e&&(i?n().createElement(In,{region:t}):n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.KmsKeyArn,label:"Key ARN",validate:e=>(0,va.validateAWSKMSKeyARN)(e,t),helperText:l?"":"Provide a custom key ARN",tooltip:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-sm"},Ml.constants.awsKeyARN),n().createElement(W.default,{href:j.default.AWS_FINDING_KEY_ARN},"Finding the key ID and ARN"))}),n().createElement(sa.E,{md:6},n().createElement(T.F,{className:"pf-v5-u-mt-sm",isInline:!0,isLiveRegion:!0,variant:"info",title:"If you delete the ARN key, the cluster will no longer be available."})))))};var Rn=a(2786),Tn=a(10138);const On=function(){const e=(0,d.wA)(),{values:{[Ba.FieldId.Byoc]:t,[Ba.FieldId.MultiAz]:a,[Ba.FieldId.Product]:r,[Ba.FieldId.BillingModel]:i,[Ba.FieldId.Region]:s,[Ba.FieldId.CloudProvider]:o,[Ba.FieldId.CustomerManagedKey]:u,[Ba.FieldId.KmsKeyArn]:c,[Ba.FieldId.ClusterVersion]:m,[Ba.FieldId.SecureBoot]:p,[Ba.FieldId.MachinePoolsSubnets]:f,[Ba.FieldId.HasDomainPrefix]:E},errors:g,isValidating:v,setFieldValue:h,getFieldProps:_}=(0,Va.l)(),[S,b]=n().useState(!1),[C,y]=n().useState(!1),I="true"===t,R="true"===a,O=o===tl.CloudProviderType.Gcp,{organization:{quotaList:P}}=(0,q.useGlobalState)((e=>e.userProfile)),{gcpKeyRings:D}=(0,q.useGlobalState)((e=>e.ccsInquiries)),{[Ba.FieldId.KeyRing]:L,[Ba.FieldId.KeyName]:N,[Ba.FieldId.KmsServiceAccount]:w,[Ba.FieldId.KeyLocation]:k}=g,F=D.error||L||N||w||k,M=O&&-1===(0,ln.versionComparator)(null==m?void 0:m.raw_id,Ba.MIN_SECURE_BOOT_VERSION);n().useEffect((()=>{e((0,Tn.getCloudProviders)())}),[e]),n().useEffect((()=>{"true"===u&&(O&&F||!O&&(0,va.validateAWSKMSKeyARN)(c,s))&&b(!0)}),[v]),n().useEffect((()=>{p||M||y(!1),p&&M&&(y(!0),h(Ba.FieldId.SecureBoot,!1))}),[M]);const x={product:r,billingModel:i,isBYOC:I,cloudProviderID:o},G=pl(P,{...fl.singleAzResources,...x}),U=pl(P,{...fl.multiAzResources,...x}),H=(0,l.useCallback)((()=>{const e=R?3:1,t=[];for(let a=0;a<e;a+=1)t.push((0,tl.emptyAWSSubnet)());h(Ba.FieldId.MachinePoolsSubnets,t),h(Ba.FieldId.SelectedVpc,"")}),[R,h]),V=[{value:"false",label:"Single zone",disabled:!G,popoverHint:Ml.constants.availabilityHintSingleZone,...!G&&{tooltip:xa.noQuotaTooltip}},{value:"true",label:"Multi-zone",disabled:!U,popoverHint:Ml.constants.availabilityHintMultiZone,...!U&&{tooltip:xa.noQuotaTooltip}}],B=n().createElement("div",{className:"pf-v5-u-mt-sm"},n().createElement(T.F,{isInline:!0,variant:"danger",title:`Secure Boot support requires OpenShift version ${Ba.MIN_SECURE_BOOT_VERSION} or above`}));return n().createElement(oa.l,null,n().createElement(ia.x,{hasGutter:!0,md:6},n().createElement(Oe.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(A.h,{headingLevel:"h3"},"Cluster details"),n().createElement(sa.E,null,n().createElement(na.Field,{component:al.RichInputField,name:Ba.FieldId.ClusterName,label:"Cluster name",type:"text",validate:async e=>{const t=(0,va.createPessimisticValidator)(va.clusterNameValidation)(e,54);if(t)return t;return await(0,va.asyncValidateClusterName)(e)||void 0},validation:e=>(0,va.clusterNameValidation)(e,54),asyncValidation:va.clusterNameAsyncValidation,isRequired:!0,extendedHelpText:Ml.constants.clusterNameHint,input:_(Ba.FieldId.ClusterName)})),n().createElement(sa.E,null,n().createElement(Jl.B,{hasGutter:!0,className:"pf-u-mb-0"},n().createElement(en.o,null,n().createElement(al.CheckboxField,{name:Ba.FieldId.HasDomainPrefix,label:"Create custom domain prefix"})),n().createElement(en.o,null,n().createElement(X.default,{hint:Ml.constants.domainPrefixHint})))),E&&n().createElement(sa.E,null,n().createElement(na.Field,{component:al.RichInputField,name:Ba.FieldId.DomainPrefix,label:"Domain prefix",type:"text",validate:async e=>{const t=(0,va.createPessimisticValidator)(va.domainPrefixValidation)(e);if(t)return t;return await(0,va.asyncValidateDomainPrefix)(e)||void 0},validation:va.domainPrefixValidation,asyncValidation:va.domainPrefixAsyncValidation,isRequired:!0,input:_(Ba.FieldId.DomainPrefix)})),n().createElement(sa.E,null,n().createElement(fn,{name:Ba.FieldId.ClusterVersion,label:i===ga.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP?"Version (Google Cloud Marketplace enabled)":"Version",onChange:e=>{!(0,nn.E)(an.x.SECURITY_GROUPS,e.raw_id,{day1:!0})||h(Ba.FieldId.SecurityGroups,{applyControlPlaneToAll:!0,controlPlane:[],infra:[],worker:[]}),(0,tl.canConfigureDayOnePrivateServiceConnect)(e.raw_id||"")||h(Ba.FieldId.PrivateServiceConnect,!1)}})),n().createElement(sa.E,null,n().createElement(Ne.g,{label:"Region",isRequired:!0,fieldId:Ba.FieldId.Region,labelIcon:n().createElement(X.default,{hint:Ml.constants.regionHint})},n().createElement(na.Field,{component:un.A,name:Ba.FieldId.Region,cloudProviderID:o,isMultiAz:R,isBYOC:I,handleCloudRegionChange:H}))),n().createElement(sa.E,null,n().createElement(al.RadioGroupField,{label:"Availability",name:Ba.FieldId.MultiAz,options:V,onChange:(e,t)=>{const a="true"===t;h(Ba.FieldId.NodesCompute,(0,el.getNodesCount)(I,a,!0)),h(Ba.FieldId.MinReplicas,(0,el.getMinReplicasCount)(I,a,!0)),h(Ba.FieldId.MaxReplicas,"");const l=[f[0]];a&&(l.push((0,tl.emptyAWSSubnet)()),l.push((0,tl.emptyAWSSubnet)())),h(Ba.FieldId.MachinePoolsSubnets,l)},direction:"row",isRequired:!0})),!I&&n().createElement(n().Fragment,null,n().createElement(sa.E,null,n().createElement(Ne.g,{label:"Persistent storage",fieldId:Ba.FieldId.PersistentStorage,labelIcon:n().createElement(X.default,{hint:Ml.constants.persistentStorageHint})},n().createElement(na.Field,{name:Ba.FieldId.PersistentStorage,input:{..._(Ba.FieldId.PersistentStorage),onChange:e=>h(Ba.FieldId.PersistentStorage,e)},component:sn.A,cloudProviderID:o,billingModel:i,product:r,isBYOC:I,isMultiAZ:R}))),n().createElement(sa.E,null,n().createElement(Ne.g,{label:"Load balancers",fieldId:Ba.FieldId.LoadBalancers,labelIcon:n().createElement(X.default,{hint:Ml.constants.loadBalancersHint})},n().createElement(na.Field,{name:Ba.FieldId.LoadBalancers,input:{..._(Ba.FieldId.LoadBalancers),onChange:e=>h(Ba.FieldId.LoadBalancers,e)},component:rn.A,currentValue:null,cloudProviderID:o,billingModel:i,product:r,isBYOC:I,isMultiAZ:R})))),O&&n().createElement(sa.E,null,n().createElement(Ne.g,{label:"Shielded VM",fieldId:Ba.FieldId.SecureBoot},n().createElement(Jl.B,{hasGutter:!0,className:"pf-u-mb-0"},n().createElement(en.o,null,n().createElement(al.CheckboxField,{name:Ba.FieldId.SecureBoot,label:"Enable Secure Boot support for Shielded VMs",isDisabled:M})),n().createElement(en.o,null,n().createElement(X.default,{hint:Ml.constants.enableSecureBootHint}))),C&&B)),n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h4"},"Monitoring")),n().createElement(Jl.B,{hasGutter:!0,className:"pf-v5-u-mb-0"},n().createElement(en.o,null,n().createElement(al.CheckboxField,{name:Ba.FieldId.EnableUserWorkloadMonitoring,label:"Enable user workload monitoring"})),n().createElement(en.o,null,n().createElement(X.default,{hint:n().createElement(n().Fragment,null,Ml.constants.enableUserWorkloadMonitoringHelp,n().createElement(W.default,{href:j.default.OSD_MONITORING_STACK},"Learn more"))}))),n().createElement(Rn.CheckboxDescription,null,Ml.constants.enableUserWorkloadMonitoringHint),n().createElement(tn.Q,{toggleText:"Advanced Encryption",onToggle:()=>{b(!S)},isExpanded:S},n().createElement(ia.x,{hasGutter:!0},I&&n().createElement(An,{hasCustomerManagedKey:u,region:s,cloudProvider:o,kmsKeyArn:c}),n().createElement(on.c,{isRosa:!1}))))))};var Pn=a(94675),Dn=a(88851),Ln=a(95343),Nn=a(60771),wn=a(48897),kn=a(60496),Fn=a(83814),Mn=a(77218);const xn=()=>{const{setFieldValue:e,getFieldMeta:t,getFieldProps:a}=(0,Va.l)(),l=t(Ba.FieldId.DefaultRouterSelectors),r=t(Ba.FieldId.DefaultRouterExcludedNamespacesFlag);return n().createElement(n().Fragment,null,n().createElement(sa.E,{span:9},n().createElement(Ne.g,{label:"Route selector",labelIcon:n().createElement(kn.h,null)},n().createElement(na.Field,{name:Ba.FieldId.DefaultRouterSelectors,type:"text",validate:va.checkRouteSelectors,className:"pf-v5-u-w-100",input:{...a(Ba.FieldId.DefaultRouterSelectors),onChange:t=>e(Ba.FieldId.DefaultRouterSelectors,t,!1)}}),n().createElement(ul.FormGroupHelperText,{touched:!0,error:l.error},kn.i))),n().createElement(sa.E,{span:9},n().createElement(Ne.g,{label:"Excluded namespaces",labelIcon:n().createElement(Nn.m,null)},n().createElement(na.Field,{name:Ba.FieldId.DefaultRouterExcludedNamespacesFlag,type:"text",validate:va.validateNamespacesList,className:"pf-v5-u-w-100",input:{...a(Ba.FieldId.DefaultRouterExcludedNamespacesFlag),onChange:t=>e(Ba.FieldId.DefaultRouterExcludedNamespacesFlag,t,!1)}}),n().createElement(ul.FormGroupHelperText,{touched:!0,error:r.error},Nn.$))),n().createElement(Ne.g,{className:"pf-v5-u-mb-0",label:"Namespace ownership policy",labelIcon:n().createElement(wn.O,null)},n().createElement(na.Field,{id:Ba.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict,component:Mn.ReduxCheckbox,name:Ba.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict,label:"Strict",labelOff:"Inter-namespace ownership allowed",isSwitch:!0,input:a(Ba.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict),meta:t(Ba.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict)})),n().createElement(Ne.g,{className:"pf-v5-u-mb-0",label:"Wildcard policy",labelIcon:n().createElement(Fn.S,null)},n().createElement(na.Field,{id:Ba.FieldId.IsDefaultRouterWildcardPolicyAllowed,component:Mn.ReduxCheckbox,name:Ba.FieldId.IsDefaultRouterWildcardPolicyAllowed,label:"Allowed",labelOff:"Disallowed",isSwitch:!0,input:a(Ba.FieldId.IsDefaultRouterWildcardPolicyAllowed),meta:t(Ba.FieldId.IsDefaultRouterWildcardPolicyAllowed)})))},Gn=()=>{const e=(0,Wa.default)(),{values:{[Ba.FieldId.CloudProvider]:t,[Ba.FieldId.Product]:a,[Ba.FieldId.Byoc]:l,[Ba.FieldId.ClusterVersion]:r,[Ba.FieldId.ClusterPrivacy]:i,[Ba.FieldId.ConfigureProxy]:s,[Ba.FieldId.InstallToVpc]:o,[Ba.FieldId.UsePrivateLink]:u,[Ba.FieldId.ApplicationIngress]:c,[Ba.FieldId.MachinePoolsSubnets]:d,[Ba.FieldId.GcpAuthType]:m},values:p,setFieldValue:f}=(0,Va.l)(),E="true"===l,g=t===tl.CloudProviderType.Gcp,h=(0,v.useFeatureGate)(b.PRIVATE_SERVICE_CONNECT),_=i===Ln.ClusterPrivacyType.Internal,C=t===tl.CloudProviderType.Aws||t===tl.CloudProviderType.Gcp&&E,y=E&&[S.normalizedProducts.OSD,S.normalizedProducts.OSDTRIAL].includes(a),I=E&&g&&[S.normalizedProducts.OSD,S.normalizedProducts.OSDTRIAL].includes(a)&&(0,tl.canConfigureDayOnePrivateServiceConnect)(r.raw_id)&&h,R=m===Qa.GCPAuthType.WorkloadIdentityFederation,O=g&&_&&R&&h?"Private clusters deployed using Workload Identity Federation must be deployed into an existing VPC.":"",P=a===S.normalizedProducts.ROSA?Ma.ocmResourceType.MOA:Ma.ocmResourceType.OSD,D=E,L=(0,tl.canConfigureDayOneManagedIngress)(r.raw_id),N=(0,Dn.isExactMajorMinor)(r.raw_id,4,13);n().useEffect((()=>{R&&I&&_&&(f(Ba.FieldId.InstallToVpc,!0),f(Ba.FieldId.PrivateServiceConnect,!0))}),[R,I,_,o,f]);const w=(t,a)=>e(t,{resourceType:P,customProperties:{checked:a}}),k=()=>{p.securityGroups&&f(Ba.FieldId.SecurityGroups,(0,Pn.getDefaultSecurityGroupsSettings)())},F=[{value:Ln.ClusterPrivacyType.External,label:"Public",description:"Access Kubernetes API endpoint and application routes from the internet."},{value:Ln.ClusterPrivacyType.Internal,label:"Private",description:"Access Kubernetes API endpoint and application routes from direct private connections only."}],M=[{value:Ln.ApplicationIngressType.Default,label:"Default settings"},{value:Ln.ApplicationIngressType.Custom,label:"Custom settings"}];return n().createElement(oa.l,null,n().createElement(ia.x,{hasGutter:!0},n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h3"},"Networking configuration"),n().createElement(U.E,{className:"pf-v5-u-mt-sm"},"Configure network access for your cluster.")),C&&n().createElement(n().Fragment,null,n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Cluster privacy"),n().createElement(U.E,{className:"pf-v5-u-mt-sm"},"Install your cluster with all public or private API endpoints and application routes.")),n().createElement(sa.E,{span:6},n().createElement(al.RadioGroupField,{name:Ba.FieldId.ClusterPrivacy,options:F,onChange:(e,t)=>{t===Ln.ClusterPrivacyType.External?(f(Ba.FieldId.UsePrivateLink,!1),d.some((e=>e.availabilityZone||e.publicSubnetId||e.privateSubnetId))||(f(Ba.FieldId.InstallToVpc,!1),k(),s&&f(Ba.FieldId.ConfigureProxy,!1)),w(Ma.trackEvents.PrivateServiceConnect,!1),f(Ba.FieldId.PrivateServiceConnect,!1)):I&&(w(Ma.trackEvents.PrivateServiceConnect,!0),f(Ba.FieldId.PrivateServiceConnect,!0),f(Ba.FieldId.InstallToVpc,!0),w(Ma.trackEvents.InstallIntoVPC,!0))}})),_&&n().createElement(sa.E,null,n().createElement(T.F,{isInline:!0,variant:"warning",title:`${O} You will not be able to access your cluster until you properly configure private network connectivity to your cloud provider.`},t===tl.CloudProviderType.Aws&&n().createElement(W.default,{href:j.default.OSD_AWS_PRIVATE_CONNECTIONS},"Learn more about configuring network settings")))),E&&n().createElement(n().Fragment,null,n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h4",size:"xl",className:"privacy-heading"},"Virtual Private Cloud (VPC)"),n().createElement(U.E,{className:"pf-v5-u-mt-sm"},"By default, a new VPC will be created for your cluster. Alternatively, you may opt to install to an existing VPC below.")),n().createElement(sa.E,{span:6},n().createElement(Ne.g,{fieldId:Ba.FieldId.InstallToVpc},n().createElement(al.CheckboxField,{name:Ba.FieldId.InstallToVpc,label:"Install into an existing VPC",input:{onChange:(e,t)=>{f(Ba.FieldId.InstallToVpc,t),k(),w(Ma.trackEvents.InstallIntoVPC,t),I&&_&&f(Ba.FieldId.PrivateServiceConnect,t)}},isDisabled:u||s||_&&R&&h}),n().createElement("div",{className:"pf-v5-u-ml-lg pf-v5-u-mt-md"},_&&t===tl.CloudProviderType.Aws&&n().createElement(al.CheckboxField,{name:Ba.FieldId.UsePrivateLink,label:"Use a PrivateLink",input:{onChange:(e,t)=>{f(Ba.FieldId.UsePrivateLink,t),t&&f(Ba.FieldId.InstallToVpc,!0)},description:Ml.constants.privateLinkHint}}),_&&I&&n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(al.CheckboxField,{name:Ba.FieldId.PrivateServiceConnect,label:"Use Private Service Connect",input:{onChange:(e,t)=>{w(Ma.trackEvents.PrivateServiceConnect,t),f(Ba.FieldId.PrivateServiceConnect,t),t&&!o&&(f(Ba.FieldId.InstallToVpc,!0),w(Ma.trackEvents.InstallIntoVPC,t))},description:Ml.constants.privateServiceConnectHint},isDisabled:R,tooltip:n().createElement("p",null,"Red Hat recommends using Private Service Connect when deploying a Private OpenShift Dedicated cluster on Google Cloud. Private Service Connect ensures there is a secured, private connectivity between Red Hat infrastructure, Site Reliability Engineering (SRE) and private OpenShift clusters.")})),y&&n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(al.CheckboxField,{name:Ba.FieldId.ConfigureProxy,label:"Configure a cluster-wide proxy",input:{onChange:(e,t)=>{w(Ma.trackEvents.ConfigureClusterWideProxy,t),f(Ba.FieldId.ConfigureProxy,t),t&&!o&&(f(Ba.FieldId.InstallToVpc,!0),w(Ma.trackEvents.InstallIntoVPC,t))},description:Ml.constants.clusterProxyHint}})))))),D&&n().createElement(n().Fragment,null,n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h4",size:"xl"},"Application ingress settings"),n().createElement(U.E,{className:"pf-v5-u-mt-sm"},"Ingress is configured by default."," ",L?"Customize settings if needed.":"It can be customized for 4.14 clusters or newer.",N&&n().createElement(n().Fragment,null," ","For 4.13 clusters, refer to"," ",n().createElement(W.default,{href:j.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"this knowledge base article"),"."))),L&&n().createElement(n().Fragment,null,n().createElement(sa.E,null,n().createElement(al.RadioGroupField,{name:Ba.FieldId.ApplicationIngress,options:M,onChange:(e,t)=>(e=>{f(Ba.FieldId.ApplicationIngress,e)})(t)})),c===Ln.ApplicationIngressType.Custom&&n().createElement(xn,null)))))};var Un=a(69122);const Hn=va.default.disjointSubnets(Ba.FieldId.NetworkMachineCidr),Vn=va.default.disjointSubnets(Ba.FieldId.NetworkServiceCidr),Bn=va.default.disjointSubnets(Ba.FieldId.NetworkPodCidr),qn=va.default.awsSubnetMask(Ba.FieldId.NetworkMachineCidrSingleAz),jn=va.default.awsSubnetMask(Ba.FieldId.NetworkMachineCidrMultiAz),zn=va.default.awsSubnetMask(Ba.FieldId.NetworkServiceCidr),Wn=e=>t=>(0,va.required)(e)||va.default.cidr(e)||va.default.validateRange(e)||t===tl.CloudProviderType.Gcp&&va.default.privateAddress(e)||void 0,$n=()=>{const{values:{[Ba.FieldId.CloudProvider]:e,[Ba.FieldId.InstallToVpc]:t,[Ba.FieldId.MultiAz]:a,[Ba.FieldId.CidrDefaultValuesEnabled]:l,[Ba.FieldId.NetworkPodCidr]:r},values:i,setFieldValue:s,setFieldTouched:o}=(0,Va.l)(),u="true"===a;n().useEffect((()=>{void 0===r&&s(Ba.FieldId.NetworkPodCidr,Un.POD_CIDR_DEFAULT)}),[r,s]);const c=u?va.default.AWS_MACHINE_CIDR_MAX_MULTI_AZ:va.default.AWS_MACHINE_CIDR_MAX_SINGLE_AZ,d=e===tl.CloudProviderType.Gcp?n().createElement(n().Fragment,null,n().createElement("br",null),n().createElement("span",null,"The address must be a private IPv4 address, belonging to one of the following ranges:",n().createElement(x.B8,null,n().createElement(G.c,null,"10.0.0.0 – 10.255.255.255"),n().createElement(G.c,null,"172.16.0.0 – 172.31.255.255"),n().createElement(G.c,null,"192.168.0.0 – 192.168.255.255")))):null,m=(0,xa.constructSelectedSubnets)(i);return n().createElement(oa.l,null,n().createElement(ia.x,{hasGutter:!0},n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h3"},"CIDR ranges"),n().createElement(T.F,{id:"advanced-networking-alert",isInline:!0,variant:"info",className:"pf-v5-u-mt-sm",title:"CIDR ranges cannot be changed after you create your cluster."},n().createElement("p",{className:"pf-v5-u-mb-md"},"Specify non-overlapping ranges for machine, service, and pod ranges. Each range should correspond to the first IP address in their subnet."),n().createElement(W.default,{href:j.default.CIDR_RANGE_DEFINITIONS_OSD},"Learn more to avoid conflicts")))),n().createElement(ia.x,{hasGutter:!0,md:6},n().createElement(Oe.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(sa.E,null,n().createElement(al.CheckboxField,{name:Ba.FieldId.CidrDefaultValuesEnabled,label:"Use default values",input:{onChange:(e,t)=>{s(Ba.FieldId.CidrDefaultValuesEnabled,t),t&&(s(Ba.FieldId.NetworkMachineCidr,Un.MACHINE_CIDR_DEFAULT),s(Ba.FieldId.NetworkServiceCidr,Un.SERVICE_CIDR_DEFAULT),s(Ba.FieldId.NetworkPodCidr,Un.POD_CIDR_DEFAULT),s(Ba.FieldId.NetworkHostPrefix,Un.HOST_PREFIX_DEFAULT),o(Ba.FieldId.NetworkMachineCidr,!1),o(Ba.FieldId.NetworkServiceCidr,!1),o(Ba.FieldId.NetworkPodCidr,!1),o(Ba.FieldId.NetworkHostPrefix,!1))},description:"The below values are safe defaults. However, you must ensure that the Machine CIDR is valid for your chosen subnet(s)."}})),n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.NetworkMachineCidr,label:"Machine CIDR",validate:e=>(e=>(t,a)=>{const{[Ba.FieldId.CloudProvider]:l,[Ba.FieldId.MultiAz]:n}=t,r="true"===n;return Wn(e)(l)||l===tl.CloudProviderType.Aws&&va.default.awsMachineCidr(e,t)||l===tl.CloudProviderType.Gcp&&va.default.gcpMachineCidr(e,t)||va.default.validateRange(e)||l===tl.CloudProviderType.Aws&&va.default.subnetCidrs(e,t,Ba.FieldId.NetworkMachineCidr,a)||Hn(e,t)||l===tl.CloudProviderType.Aws&&!r&&qn(e)||l===tl.CloudProviderType.Aws&&r&&jn(e)||void 0})(e)(i,m),isDisabled:l,helperText:n().createElement("div",{className:"pf-v5-c-form__helper-text"},e===tl.CloudProviderType.Aws?`Subnet mask must be between /${va.default.AWS_MACHINE_CIDR_MIN} and /${c}.`:`Range must be private. Subnet mask must be at most /${va.default.GCP_MACHINE_CIDR_MAX}.`,t&&n().createElement(T.F,{variant:"info",isPlain:!0,isInline:!0,title:"Ensure the Machine CIDR range matches the selected VPC subnets."})),tooltip:n().createElement(n().Fragment,null,Ml.constants.machineCIDRHint,d,n().createElement(U.E,{component:U.Y.p},n().createElement(W.default,{href:j.default.OSD_CIDR_MACHINE},"Learn more"))),input:{placeholder:Un.MACHINE_CIDR_DEFAULT}})),n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.NetworkServiceCidr,label:"Service CIDR",validate:e=>(e=>(t,a)=>{const{[Ba.FieldId.CloudProvider]:l}=t;return Wn(e)(l)||va.default.serviceCidr(e)||Vn(e,t)||l===tl.CloudProviderType.Aws&&zn(e)||l===tl.CloudProviderType.Aws&&va.default.subnetCidrs(e,t,Ba.FieldId.NetworkServiceCidr,a)||void 0})(e)(i,m),isDisabled:l,helperText:e===tl.CloudProviderType.Aws?`Subnet mask must be at most /${va.default.SERVICE_CIDR_MAX}.`:`Range must be private. Subnet mask must be at most /${va.default.SERVICE_CIDR_MAX}.`,tooltip:n().createElement(n().Fragment,null,Ml.constants.serviceCIDRHint,d,n().createElement(U.E,{component:U.Y.p},n().createElement(W.default,{href:j.default.OSD_CIDR_SERVICE},"Learn more"))),input:{placeholder:Un.SERVICE_CIDR_DEFAULT}})),n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.NetworkPodCidr,label:"Pod CIDR",validate:e=>(e=>(t,a)=>{const{[Ba.FieldId.CloudProvider]:l}=t;return Wn(e)(t[Ba.FieldId.CloudProvider])||va.default.podCidr(e,t)||Bn(e,t)||l===tl.CloudProviderType.Aws&&va.default.subnetCidrs(e,t,Ba.FieldId.NetworkPodCidr,a)||void 0})(e)(i,m),isDisabled:l,helperText:e===tl.CloudProviderType.Aws?`Subnet mask must allow for at least ${va.default.POD_NODES_MIN} nodes.`:`Range must be private. Subnet mask must allow for at least ${va.default.POD_NODES_MIN} nodes.`,tooltip:n().createElement(n().Fragment,null,Ml.constants.podCIDRHint,d,n().createElement(U.E,{component:U.Y.p},n().createElement(W.default,{href:j.default.OSD_CIDR_POD},"Learn more"))),input:{placeholder:Un.POD_CIDR_DEFAULT}})),n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.NetworkHostPrefix,label:"Host prefix",validate:e=>(0,va.required)(e)||va.default.hostPrefix(e),isDisabled:l,helperText:`Must be between /${va.default.HOST_PREFIX_MIN} and /${va.default.HOST_PREFIX_MAX}.`,tooltip:Ml.constants.hostPrefixHint,input:{placeholder:Un.HOST_PREFIX_DEFAULT,onChange:(e,t)=>s(Ba.FieldId.NetworkHostPrefix,(e=>e&&"/"!==e.charAt(0)?`/${e}`:e)(t))}})))))};var Kn=a(57596),Yn=a(32358),Qn=a(34108),Zn=a(98173),Xn=a(22024),Jn=a(15403);const er=({index:e})=>{const{values:{[Ba.FieldId.UsePrivateLink]:t,[Ba.FieldId.SelectedVpc]:a,[Ba.FieldId.Region]:l,[Ba.FieldId.MultiAz]:r,[Ba.FieldId.MachinePoolsSubnets]:i},getFieldProps:s,getFieldMeta:o,setFieldTouched:u,setFieldValue:c}=(0,Va.l)(),d=`${Ba.FieldId.MachinePoolsSubnets}[${e}].availabilityZone`,m=`${Ba.FieldId.MachinePoolsSubnets}[${e}].privateSubnetId`,p=`${Ba.FieldId.MachinePoolsSubnets}[${e}].publicSubnetId`,f=i[e],E=0===e,g="true"===r,v=(0,Jn.default)(m),h=(0,Jn.default)(p),_=t?["private"]:["private","public"],S=(0,Yn.getMatchingAvailabilityZones)(l,a,_),b=!(null==a?void 0:a.id),C=f.availabilityZone?[f.availabilityZone]:[];return n().createElement(n().Fragment,null,n().createElement(sa.E,{className:"vpc-input-field",md:4},n().createElement(Xn.default,{showTooltip:b,content:"Select a VPC first"},n().createElement(na.Field,{component:Zn.default,name:d,label:E?"Availability zone":void 0,validate:e=>{const a=f.privateSubnetId&&(t||f.publicSubnetId);return(0,va.required)(e)||g&&(0,va.validateUniqueAZ)(e,{machinePoolsSubnets:i})||(a?"":"Select the subnets for this availability zone")},enabledAvailabilityZones:S,vpcId:null==a?void 0:a.id,isDisabled:b,region:l,input:{...s(d),onChange:e=>{c(d,e),u(m,!0,!0)}},meta:o(d)}))),n().createElement(sa.E,{md:4},n().createElement(Xn.default,{showTooltip:b,content:"Select a VPC first"},n().createElement(na.Field,{component:Qn.SubnetSelectField,name:m,label:E?"Private subnet":void 0,validate:va.required,input:{...s(m),onChange:v},meta:o(m),privacy:"private",selectedVPC:a,withAutoSelect:!1,allowedAZs:C}))),!t&&n().createElement(sa.E,{md:4},n().createElement(Xn.default,{showTooltip:b,content:"Select a VPC first"},n().createElement(na.Field,{component:Qn.SubnetSelectField,name:p,label:E?"Public subnet":void 0,validate:va.required,input:{...s(p),onChange:h},meta:o(p),privacy:"public",selectedVPC:a,withAutoSelect:!1,allowedAZs:C}))),t&&n().createElement(sa.E,{md:4}))},tr=()=>{const{values:e,dirty:t,getFieldProps:a,getFieldMeta:l,setFieldValue:r}=(0,Va.l)(),{[Ba.FieldId.MultiAz]:i,[Ba.FieldId.SelectedVpc]:s,[Ba.FieldId.UsePrivateLink]:o}=e,u="true"===i,c=l(Ba.FieldId.SelectedVpc);return n().createElement(n().Fragment,null,n().createElement(ia.x,null,n().createElement(sa.E,{md:6},n().createElement(na.Field,{component:Kn.default,name:Ba.FieldId.SelectedVpc,input:{...a(Ba.FieldId.SelectedVpc),onChange:e=>r(Ba.FieldId.SelectedVpc,e)},isOSD:!0,meta:c,validate:e=>t&&!(null==e?void 0:e.id)?"error":void 0,selectedVPC:s,showRefresh:!0,isHypershift:!1,usePrivateLink:o})),n().createElement(sa.E,{md:6})),n().createElement(er,{index:0}),u&&n().createElement(n().Fragment,null,n().createElement(er,{index:1}),n().createElement(er,{index:2})))};var ar=a(30155),lr=a(13731),nr=a(27872);const rr="securityGroups",ir=({input:{onChange:e,value:t},label:a,selectedVPC:l,isHypershift:r})=>n().createElement(lr.A,{label:a,selectedVPC:l,selectedGroupIds:t,isReadOnly:!1,onChange:e,isHypershift:r}),sr=()=>{const{values:{[Ba.FieldId.SelectedVpc]:e,[Ba.FieldId.ClusterVersion]:t,[Ba.FieldId.SecurityGroups]:a},getFieldProps:r,setFieldValue:i}=(0,Va.l)(),{applyControlPlaneToAll:s}=a,o=s?a.controlPlane:a.controlPlane.concat(a.infra).concat(a.worker),[u,c]=(0,l.useState)(o.length>0);if(!e.id)return null;const d=e=>t=>i(e,t),m=(0,nn.E)(an.x.SECURITY_GROUPS,null==t?void 0:t.raw_id,{day1:!0}),p=!m&&0===(e.aws_security_groups||[]).length;return n().createElement(tn.Q,{toggleText:"Additional security groups",isExpanded:u,onToggle:()=>{c(!u)}},m&&n().createElement("div",null,m),p&&n().createElement(nr.A,null),!m&&!p&&n().createElement(n().Fragment,null,n().createElement(T.F,{variant:"info",isInline:!0,title:"You cannot add or edit security groups associated with the control plane nodes, infrastructure nodes, or machine pools that were created by default during cluster creation.",actionLinks:n().createElement(n().Fragment,null,n().createElement(ar.v,{component:"a",href:j.default.OSD_SECURITY_GROUPS,target:"_blank"},"View more information"),n().createElement(ar.v,{component:"a",href:j.default.AWS_CONSOLE_SECURITY_GROUPS,target:"_blank"},"AWS security groups console"))}),n().createElement("br",null),n().createElement(na.Field,{component:al.CheckboxField,name:`${rr}.applyControlPlaneToAll`,label:"Apply the same security groups to all node types (control plane, infrastructure, worker)",input:{...r(`${rr}.applyControlPlaneToAll`),onChange:(e,t)=>i(`${rr}.applyControlPlaneToAll`,t)}}),n().createElement(na.Field,{component:ir,name:`${rr}.controlPlane`,label:s?"":"Control plane nodes",selectedVPC:e,validate:e=>(0,va.validateSecurityGroups)(e,!1),input:{...r(`${rr}.controlPlane`),onChange:d(`${rr}.controlPlane`)}}),!s&&n().createElement(n().Fragment,null,n().createElement(na.Field,{component:ir,name:`${rr}.infra`,label:"Infrastructure nodes",selectedVPC:e,validate:e=>(0,va.validateSecurityGroups)(e,!1),input:{...r(`${rr}.infra`),onChange:d(`${rr}.infra`)}}),n().createElement(na.Field,{component:ir,name:`${rr}.worker`,label:"Worker nodes",selectedVPC:e,validate:e=>(0,va.validateSecurityGroups)(e,!1),input:{...r(`${rr}.worker`),onChange:d(`${rr}.worker`)}}))))},or=()=>{const{values:{[Ba.FieldId.UsePrivateLink]:e,[Ba.FieldId.SelectedVpc]:t,[Ba.FieldId.MultiAz]:a},setFieldValue:l,setFieldTouched:r}=(0,Va.l)(),i="true"===a;return n().useEffect((()=>{if(!t.id){const e=i?3:1,t=[];for(let a=0;a<e;a+=1)t.push((0,tl.emptyAWSSubnet)());l(Ba.FieldId.MachinePoolsSubnets,t)}r(Ba.FieldId.MachinePoolsSubnets,!1)}),[l,r,i,t.id]),n().createElement(n().Fragment,null,n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h4",size:"md"},"Install into an existing VPC",n().createElement(X.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,"Your VPC must have public and private subnets. Public subnets are associated with appropriate Ingress rules. Private subnets need appropriate routes and tables."," ",n().createElement(W.default,{href:j.default.INSTALL_AWS_VPC},"Learn more about installing into an existing VPC"))})),n().createElement("p",{className:"pf-v5-u-mt-sm"},`To install into an existing VPC, you need to ensure that your VPC is configured with\n                ${e?"":"a public and"} a private subnet for each availability zone that you want the cluster\n                installed into.`," ",n().createElement(W.default,{href:j.default.INSTALL_AWS_CUSTOM_VPC_REQUIREMENTS},"Learn more about VPC"))),n().createElement(T.F,{variant:"info",isInline:!0,title:"You'll need to match these VPC subnets when you define the CIDR ranges."}),n().createElement(tr,null),n().createElement(sr,null))},ur=({input:e,placeholder:t,emptyPlaceholder:a,label:l,meta:r,helperText:i})=>{var s,o;const u=(0,d.wA)(),{values:c}=(0,Va.l)(),{vpcs:m}=(0,q.useGlobalState)((e=>e.ccsInquiries)),p=(0,Kl.GO)(c),{[Ba.FieldId.GcpAuthType]:f}=c,E=c[Ba.FieldId.Region],g=!(!p||!E),v=m.cloudProvider===tl.CloudProviderType.Gcp&&vn()(m.credentials,p)&&m.region===E,h=v&&m.fulfilled,_=n().useMemo((()=>{var e;return(null===(e=null==m?void 0:m.data)||void 0===e?void 0:e.items)||[]}),[null===(s=null==m?void 0:m.data)||void 0===s?void 0:s.items]),S=n().useMemo((()=>{let e;return e=h?_.length>0?n().createElement(n().Fragment,null,n().createElement(hn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:t}),_.map((({name:e})=>n().createElement(hn.Q,{key:e,value:e,label:e||""})))):n().createElement(hn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:a}):m.pending?n().createElement(hn.Q,{isDisabled:!0,value:"",label:"Loading..."}):n().createElement(hn.Q,{isDisabled:!0,value:"",label:""}),e}),[h,m.pending,_,t,a]),b=n().useMemo((()=>{var t;return!!e.value&&(!g||!(!v||!m.fulfilled)&&!((null===(t=m.data)||void 0===t?void 0:t.items)||[]).some((t=>t.name===e.value.toString())))}),[g,e.value,v,null===(o=m.data)||void 0===o?void 0:o.items,m.fulfilled]);n().useEffect((()=>{!g||v||m.pending||u((0,vl.getGCPCloudProviderVPCs)(vl.LIST_VPCS,f,p,E)),b&&e.onChange("")}),[e,g,v,m.pending,p,E,u,b,f]);const{onChange:C,...y}=e;return n().createElement(Ne.g,{label:l,fieldId:e.name},v&&m.error&&n().createElement(T.F,{variant:"danger",isInline:!0,title:"Failed to list existing VPCs using your GCP credentials"},"Verify that your entered service account details are correct"),n().createElement(_n.F,{"aria-label":l,isDisabled:!(h&&_.length>0),...y,onChange:(e,t)=>C(t)},S),n().createElement(ul.FormGroupHelperText,{touched:r.touched,error:r.error},i))},cr=({input:e,meta:t,label:a,placeholder:l,emptyPlaceholder:r,helperText:i})=>{var s;const{vpcs:o}=(0,q.useGlobalState)((e=>e.ccsInquiries)),{values:u,values:{[Ba.FieldId.Region]:c,[Ba.FieldId.VpcName]:d}}=(0,Va.l)(),m=(0,Kl.GO)(u),p=!!(m&&c&&d),f="gcp"===o.cloudProvider&&vn()(o.credentials,m)&&o.region===c,E=f&&o.fulfilled,g=n().useMemo((()=>{var e,t;const a=null===(t=null===(e=null==o?void 0:o.data)||void 0===e?void 0:e.items)||void 0===t?void 0:t.find((e=>e.name===d));return(null==a?void 0:a.subnets)||[]}),[d,null===(s=null==o?void 0:o.data)||void 0===s?void 0:s.items]),v=n().useMemo((()=>!(!e.value||p&&(!f||!o.fulfilled||g.some((t=>t===e.value.toString()))))),[p,e.value,g,f,o.fulfilled]);n().useEffect((()=>{v&&e.onChange("")}),[e,v]);const h=n().useMemo((()=>{let e;return e=E?g.length>0?n().createElement(n().Fragment,null,n().createElement(hn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:l}),g.map((e=>n().createElement(hn.Q,{key:e,value:e,label:e})))):n().createElement(hn.Q,{isDisabled:!0,isPlaceholder:!0,value:"",label:r}):o.pending?n().createElement(hn.Q,{isDisabled:!0,value:"",label:"Loading..."}):n().createElement(hn.Q,{isDisabled:!0,value:"",label:""}),e}),[r,g,l,E,o.pending]),{onChange:_,...S}=e;return n().createElement(Ne.g,{label:a,fieldId:e.name},f&&o.error&&n().createElement(T.F,{variant:"danger",isInline:!0,title:"Failed to list existing VPC subnets using your GCP credentials"},"Verify that your entered service account details are correct"),n().createElement(_n.F,{"aria-label":a,isDisabled:!(E&&g.length>0),...S,onChange:(e,t)=>_(t)},h),n().createElement(ul.FormGroupHelperText,{touched:t.touched,error:t.error},i))},dr=()=>{const{values:{[Ba.FieldId.ClusterVersion]:e,[Ba.FieldId.InstallToSharedVpc]:t,[Ba.FieldId.PrivateServiceConnect]:a,[Ba.FieldId.ClusterPrivacy]:r},getFieldProps:i,getFieldMeta:s,setFieldValue:o}=(0,Va.l)(),{goToStepById:u}=(0,$l.CV)(),c=(0,l.useMemo)((()=>{if(t){const t=-1===(0,ln.versionComparator)(null==e?void 0:e.raw_id,"4.13.15");return n().createElement(n().Fragment,null,t&&n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(T.F,{variant:"danger",isInline:!0,title:"You must use OpenShift version 4.13.15 or above.",actionLinks:n().createElement(ar.v,{onClick:()=>u(Ba.StepId.ClusterSettingsDetails)},"Change version")})),n().createElement("div",{className:"pf-v5-u-mt-md",style:{display:t?"none":"block"}},n().createElement(al.TextInputField,{name:Ba.FieldId.SharedHostProjectID,label:"Host project ID",validate:va.validateGCPHostProjectId}),n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(T.F,{variant:"info",isInline:!0,title:"NOTE: To install a cluster into a shared VPC, the shared VPC administrator must enable a project as a\n              host project in their Google Cloud console. Then you can attach service projects to the host project."}))))}return null}),[null==e?void 0:e.raw_id,u,t]),d=a&&r===Ln.ClusterPrivacyType.Internal;return n().createElement(n().Fragment,null,n().createElement(sa.E,{span:8},n().createElement(A.h,{headingLevel:"h4",size:"md"},"GCP shared VPC"),n().createElement("div",{className:"pf-v5-u-mt-md  pf-v5-u-mb-lg"},n().createElement(al.CheckboxField,{name:Ba.FieldId.InstallToSharedVpc,label:"Install into GCP Shared VPC",tooltip:n().createElement(n().Fragment,null,n().createElement("p",null,"Install into a VPC shared by another account in your GCP organization."),n().createElement(W.default,{href:j.default.INSTALL_GCP_VPC},"Learn more about GCP shared VPC.")),input:{onChange:(e,t)=>{o(Ba.FieldId.InstallToSharedVpc,t)}}}),c)),n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h4",size:"md"},"Existing VPC",n().createElement(X.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,"Install into a non-default subnet shared by another account in your CP organization",n().createElement(W.default,{href:j.default.INSTALL_GCP_VPC},"Learn more about GCP shared VPC"))})),n().createElement("div",{className:"pf-v5-u-ml-sm pf-v5-u-mt-md  pf-v5-u-mb-lg",style:{width:"fit-content"}},n().createElement("p",{className:"pf-v5-u-mt-sm"},"To install into an existing VPC, you need to ensure that your VPC is configured with a control plane subnet and compute subnet."),n().createElement("p",{className:"pf-v5-u-mt-sm"},"You'll also need to match these VPC subnets when you define the CIDR ranges."))),n().createElement(sa.E,{md:3},t?n().createElement(al.TextInputField,{name:Ba.FieldId.VpcName,label:"Existing VPC name",validate:va.validateGCPSubnet}):n().createElement(na.Field,{component:ur,name:Ba.FieldId.VpcName,validate:va.required,label:"Existing VPC name",placeholder:"Select VPC name",emptyPlaceholder:"No existing VPCs",input:{...i(Ba.FieldId.VpcName),onChange:e=>o(Ba.FieldId.VpcName,e)},meta:s(Ba.FieldId.VpcName)})),n().createElement(sa.E,{md:3},t?n().createElement(al.TextInputField,{name:Ba.FieldId.ControlPlaneSubnet,label:"Control plane subnet name",validate:va.validateGCPSubnet}):n().createElement(na.Field,{component:cr,name:Ba.FieldId.ControlPlaneSubnet,validate:va.required,label:"Control plane subnet name",placeholder:"Select subnet name",emptyPlaceholder:"No subnet names",input:{...i(Ba.FieldId.ControlPlaneSubnet),onChange:e=>o(Ba.FieldId.ControlPlaneSubnet,e)},meta:s(Ba.FieldId.ControlPlaneSubnet)})),n().createElement(sa.E,{md:3},t?n().createElement(al.TextInputField,{name:Ba.FieldId.ComputeSubnet,label:"Compute subnet name",validate:va.validateGCPSubnet}):n().createElement(na.Field,{component:cr,name:Ba.FieldId.ComputeSubnet,validate:va.required,label:"Compute subnet name",placeholder:"Select subnet name",emptyPlaceholder:"No subnet names",input:{...i(Ba.FieldId.ComputeSubnet),onChange:e=>o(Ba.FieldId.ComputeSubnet,e)},meta:s(Ba.FieldId.ComputeSubnet)})),d?n().createElement(sa.E,{md:3},t?n().createElement(al.TextInputField,{name:Ba.FieldId.PSCSubnet,label:"Private Service Connect subnet name",validate:va.validateGCPSubnet}):n().createElement(na.Field,{component:cr,name:Ba.FieldId.PSCSubnet,validate:va.required,label:"Private Service Connect subnet name",placeholder:"Select subnet name",emptyPlaceholder:"No subnet names",input:{...i(Ba.FieldId.PSCSubnet),onChange:e=>o(Ba.FieldId.PSCSubnet,e)},meta:s(Ba.FieldId.PSCSubnet)})):null,t&&n().createElement(sa.E,{span:9},n().createElement("div",{className:"pf-v5-u-mt-md  pf-v5-u-mb-lg"},n().createElement(T.F,{variant:"info",isInline:!0,title:`For successful installation, be sure your Host project ID, Existing VPC name, Control plane subnet name, ${d?"Compute subnet name, and Private Service Connect subnet name":"and Compute subnet name"} are correct.`}))))},mr=()=>{const{values:{[Ba.FieldId.CloudProvider]:e}}=(0,Va.l)();return n().createElement(oa.l,null,n().createElement(ia.x,{hasGutter:!0},n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h3"},"Virtual Private Cloud (VPC) subnet settings")),e===tl.CloudProviderType.Aws&&n().createElement(or,null),e===tl.CloudProviderType.Gcp&&n().createElement(dr,null)))},pr={"text/plain":[".pem",".crt",".ca",".cert"],"application/x-pem-file":[".pem"],"application/x-x509-ca-cert":[".crt",".ca",".cert"]},fr=()=>{const{values:{[Ba.FieldId.HttpProxyUrl]:e,[Ba.FieldId.HttpsProxyUrl]:t,[Ba.FieldId.AdditionalTrustBundle]:a,[Ba.FieldId.NoProxyDomains]:l},touched:r,setFieldValue:i,setFieldTouched:s}=(0,Va.l)(),{activeStep:o,goToStepByName:u}=(0,$l.CV)(),c=!e&&!t&&!a,d=o.name===Ba.StepName.ClusterProxy&&c?"Configure at least one of the cluster-wide proxy fields.":void 0,m=(r[Ba.FieldId.HttpProxyUrl]||r[Ba.FieldId.HttpsProxyUrl]||r[Ba.FieldId.AdditionalTrustBundle])&&c;return n().useEffect((()=>{!l||e||t||i(Ba.FieldId.NoProxyDomains,"")}),[l,e,t]),n().createElement(oa.l,null,n().createElement(sa.E,null,n().createElement(A.h,{headingLevel:"h3"},"Cluster-wide proxy"),n().createElement(U.E,{className:"pf-v5-u-mt-sm"},Ml.constants.clusterProxyHint),n().createElement(W.default,{href:j.default.OSD_CLUSTER_WIDE_PROXY},"Learn more about configuring a cluster-wide proxy")),n().createElement(sa.E,null,n().createElement(T.F,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),n().createElement(ia.x,{hasGutter:!0,md:6},n().createElement(Oe.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.HttpProxyUrl,label:"HTTP proxy URL",validate:e=>(0,va.validateUrl)(e,"http")||d,helperText:"Specify a proxy URL to use for HTTP connections outside the cluster.",input:{placeholder:Un.HTTP_PROXY_PLACEHOLDER}})),n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.HttpsProxyUrl,label:"HTTPS proxy URL",validate:e=>(0,va.validateUrl)(e,["http","https"])||d,helperText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",input:{placeholder:Un.HTTPS_PROXY_PLACEHOLDER}})),n().createElement(sa.E,null,n().createElement(al.TextInputField,{name:Ba.FieldId.NoProxyDomains,label:"No Proxy domains",validate:va.checkNoProxyDomains,helperText:Un.NO_PROXY_HELPER_TEXT,isDisabled:!e&&!t,input:{onChange:(e,t)=>i(Ba.FieldId.NoProxyDomains,(0,xa.stringToArray)(t)),placeholder:e||t?Un.NO_PROXY_PLACEHOLDER:Un.DISABLED_NO_PROXY_PLACEHOLDER}})),n().createElement(sa.E,null,n().createElement(al.FileUploadField,{name:Ba.FieldId.AdditionalTrustBundle,label:"Additional trust bundle",tooltip:n().createElement(n().Fragment,null,n().createElement(A.h,{headingLevel:"h6",className:"pf-v5-u-mb-sm"},"Additional trust bundle"),n().createElement("p",null,"An additional trust bundle is a PEM encoded X.509 certificate bundle that will be added to the nodes' trusted certificate store.")),validate:e=>(0,va.validateCA)(e)||d,helperText:"Upload or paste a PEM encoded X.509 certificate.",input:{textAreaPlaceholder:Un.TRUST_BUNDLE_PLACEHOLDER,dropzoneProps:{accept:pr,maxSize:4e6,onDropRejected:()=>{s(Ba.FieldId.AdditionalTrustBundle,!0),i(Ba.FieldId.AdditionalTrustBundle,"Invalid file")}}}})),n().createElement(sa.E,null,m&&n().createElement(T.F,{isInline:!0,variant:"warning",title:n().createElement("span",null,"Complete at least 1 of the fields above. If you don't want to set a cluster-wide proxy, disable this option in the ",n().createElement("strong",{style:{fontSize:"var(--pf-v5-global--FontSize--md)"}},"Networking > Configuration")," step."),actionLinks:n().createElement(ar.v,{onClick:()=>u("Configuration")},"Back to the networking configuration")})))))};var Er=a(28592);const gr=({onRetry:e,onClose:t,title:a="Missing prerequisite"})=>{const{goToStepById:l}=(0,$l.CV)(),r=(0,d.wA)(),i=()=>{r((0,ca.closeModal)()),t()};return n().createElement(Er.default,{header:n().createElement(A.h,{headingLevel:"h2",size:"2xl"},n().createElement(be.I,{className:"pf-v5-u-mr-sm"},n().createElement(He.ExclamationCircleIcon,{color:Ve.global_danger_color_100.value})),a),modalSize:"medium","aria-label":a,onPrimaryClick:i,onClose:i,actions:[n().createElement(H.$n,{key:"retry",variant:"primary",onClick:e,type:"submit"},"Retry creating cluster"),n().createElement(H.$n,{key:"prereq-guide",variant:"secondary",onClick:()=>{l(Ba.StepId.ClusterSettingsCloudProvider),i()}},"Go back to prerequisites guide"),n().createElement(H.$n,{key:"secondary",variant:"secondary",onClick:i},"Cancel")]},n().createElement("p",null,"The cluster cannot be created because the provided AWS credentials don't belong to the"," ",n().createElement("strong",null,"osdCcsAdmin")," user. To provision a cluster successfully, your AWS account requires an IAM user called ",n().createElement("strong",null,"osdCcsAdmin")," with the"," ",n().createElement("strong",null,"AdministratorAccess")," policy."),n().createElement("p",{className:"pf-v5-u-mt-md"},"Make sure the IAM user exists in your AWS account and try creating the cluster again."))},vr=e=>n().createElement(ha.default,{...e},n().createElement(U.E,{className:"pf-v5-u-mt-sm"},n().createElement(W.default,{href:j.default.OSD_CCS_GCP_SHEILDED_VM},"Learn more about Secure Boot"))),hr=({onRetry:e})=>{var t,a;const l=(0,d.wA)(),r=(0,d.d4)((e=>e.clusters.createdCluster)),i=()=>l((0,pa.resetCreatedClusterResponse)()),{error:s}=r;return s?"AWSCredsNotOSDCCSAdmin"===(null===(a=null===(t=r.errorDetails)||void 0===t?void 0:t[0])||void 0===a?void 0:a.Error_Key)?n().createElement(gr,{onRetry:e,onClose:i}):(null==r?void 0:r.errorMessage)&&"string"==typeof(null==r?void 0:r.errorMessage)&&(null==r?void 0:r.errorMessage.includes("SecureBoot feature"))?n().createElement(vr,{title:"Error creating cluster",errorResponse:r,resetResponse:i}):n().createElement(ha.default,{title:"Error creating cluster",errorResponse:r,resetResponse:i}):null};var _r=a(62193),Sr=a.n(_r),br=a(79082),Cr=a(46726),yr=a(55909),Ir=a(42772);const Ar=({isPending:e})=>{const{goToStepById:t}=(0,$l.CV)(),{values:{[Ba.FieldId.Product]:a,[Ba.FieldId.BillingModel]:l,[Ba.FieldId.InstallToVpc]:r,[Ba.FieldId.InstallToSharedVpc]:i,[Ba.FieldId.ConfigureProxy]:s,[Ba.FieldId.Byoc]:o,[Ba.FieldId.CloudProvider]:u,[Ba.FieldId.NodeLabels]:c,[Ba.FieldId.ClusterPrivacy]:d,[Ba.FieldId.ClusterVersion]:m,[Ba.FieldId.ApplicationIngress]:p,[Ba.FieldId.SecurityGroups]:f,[Ba.FieldId.HasDomainPrefix]:E},values:g}=(0,Va.l)(),h=(0,yr.default)(a,l),_=h&&!!g[Ba.FieldId.AutoscalingEnabled],S=(0,v.useFeatureGate)(b.OSD_GCP_WIF),C=(0,v.useFeatureGate)(b.PRIVATE_SERVICE_CONNECT),y="true"===o,I=u===tl.CloudProviderType.Aws,R=u===tl.CloudProviderType.Gcp,T=y&&(0,Pn.hasSelectedSecurityGroups)(f),O=S&&R&&y,P=d===Ln.ClusterPrivacyType.Internal&&r&&R,D=[Ba.FieldId.CloudProvider,...O?[Ba.FieldId.GcpAuthType]:[],Ba.FieldId.ClusterName,...E?[Ba.FieldId.DomainPrefix]:[],Ba.FieldId.ClusterVersion,Ba.FieldId.Region,Ba.FieldId.MultiAz,...R?[Ba.FieldId.SecureBoot]:[],Ba.FieldId.EnableUserWorkloadMonitoring,...y?[Ba.FieldId.CustomerManagedKey]:[Ba.FieldId.PersistentStorage],...y&&I?[Ba.FieldId.DisableScpChecks]:[],Ba.FieldId.EtcdEncryption,Ba.FieldId.FipsCryptography,...P?[Ba.FieldId.PrivateServiceConnect]:[]];return e?n().createElement(Fe.a,null,n().createElement(k.B,null,n().createElement(F.a,null,n().createElement(Fe.a,null,n().createElement(me.y,{size:"xl"}))),n().createElement(F.a,null,n().createElement(Fe.a,null,Ir.MESSAGES.INITIATE_CREATE_CLUSTER_REQUEST)))):n().createElement("div",{className:"ocm-create-osd-review-screen"},n().createElement(A.h,{headingLevel:"h2"},"Review your dedicated cluster"),n().createElement(Cr.default,{title:"Billing model",onGoToStep:()=>t(Ba.StepId.BillingModel)},n().createElement(Cr.ReviewItem,{name:Ba.FieldId.BillingModel,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.Byoc,formValues:g})),n().createElement(Cr.default,{title:"Cluster settings",onGoToStep:()=>t(Ba.StepId.ClusterSettingsCloudProvider)},D.map((e=>n().createElement(Cr.ReviewItem,{key:e,name:e,formValues:g})))),n().createElement(Cr.default,{title:"Default machine pool",onGoToStep:()=>t(Ba.StepId.ClusterSettingsMachinePool)},n().createElement(Cr.ReviewItem,{name:Ba.FieldId.MachineType,formValues:g}),h&&n().createElement(Cr.ReviewItem,{name:Ba.FieldId.AutoscalingEnabled,formValues:g}),_?n().createElement(Cr.ReviewItem,{name:Ba.FieldId.MinReplicas,formValues:g}):n().createElement(Cr.ReviewItem,{name:Ba.FieldId.NodesCompute,formValues:g}),!(1===c.length&&Sr()(c[0].key))&&n().createElement(Cr.ReviewItem,{name:Ba.FieldId.NodeLabels,formValues:g}),I&&y&&(0,tl.canSelectImds)(m.raw_id)&&n().createElement(Cr.ReviewItem,{name:Ba.FieldId.IMDS,formValues:g})),n().createElement(Cr.default,{title:"Networking",onGoToStep:()=>t(I?Ba.StepId.NetworkingConfiguration:Ba.StepId.NetworkingCidrRanges)},n().createElement(Cr.ReviewItem,{name:Ba.FieldId.ClusterPrivacy,formValues:g}),y&&n().createElement(Cr.ReviewItem,{name:Ba.FieldId.InstallToVpc,formValues:g}),y&&d===Ln.ClusterPrivacyType.Internal&&r&&I&&n().createElement(Cr.ReviewItem,{name:Ba.FieldId.UsePrivateLink,formValues:g}),P&&C&&n().createElement(Cr.ReviewItem,{name:Ba.FieldId.PrivateServiceConnect,formValues:g}),y&&R&&i&&n().createElement(Cr.ReviewItem,{name:Ba.FieldId.SharedHostProjectID,formValues:g}),y&&r&&n().createElement(Cr.ReviewItem,{name:I?"aws_standalone_vpc":"gpc_vpc",formValues:g}),y&&r&&T&&n().createElement(Cr.ReviewItem,{name:"securityGroups",formValues:g}),r&&n().createElement(Cr.ReviewItem,{name:Ba.FieldId.ConfigureProxy,formValues:g}),r&&s&&n().createElement(n().Fragment,null,n().createElement(Cr.ReviewItem,{name:Ba.FieldId.HttpProxyUrl,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.HttpsProxyUrl,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.NoProxyDomains,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.AdditionalTrustBundle,formValues:g})),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.NetworkMachineCidr,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.NetworkServiceCidr,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.NetworkPodCidr,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.NetworkHostPrefix,formValues:g}),y&&n().createElement(Cr.ReviewItem,{name:Ba.FieldId.ApplicationIngress,formValues:g}),"default"!==p&&y&&n().createElement(n().Fragment,null,n().createElement(Cr.ReviewItem,{name:Ba.FieldId.DefaultRouterSelectors,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.DefaultRouterExcludedNamespacesFlag,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.IsDefaultRouterWildcardPolicyAllowed,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.IsDefaultRouterNamespaceOwnershipPolicyStrict,formValues:g}))),n().createElement(Cr.default,{title:"Updates",onGoToStep:()=>t(Ba.StepId.ClusterUpdates)},n().createElement(Cr.ReviewItem,{name:Ba.FieldId.UpgradePolicy,formValues:g}),g[Ba.FieldId.UpgradePolicy]===tl.UpgradePolicyType.Automatic&&n().createElement(Cr.ReviewItem,{name:Ba.FieldId.AutomaticUpgradeSchedule,formValues:g}),n().createElement(Cr.ReviewItem,{name:Ba.FieldId.NodeDrainGracePeriod,formValues:g})),Me.default.fakeOSD&&n().createElement(br.DebugClusterRequest,{cloudProvider:u,product:a,formValues:g}))},Rr=()=>{const{submitForm:e}=(0,Va.l)(),t=(0,q.useGlobalState)((e=>e.clusters.createdCluster)),[a,l]=n().useState(!1);return n().useEffect((()=>{t.error&&!a&&l(!0)}),[t.error,a]),n().createElement("div",{className:"pf-v5-u-mb-md"},n().createElement(Ar,{isPending:t.pending}),a&&n().createElement(hr,{onRetry:e}))},Tr=()=>{var e;const t=(0,Wa.default)(),a=(0,E.useNavigate)(),{values:{[Ba.FieldId.Product]:l,[Ba.FieldId.CloudProvider]:r,[Ba.FieldId.Byoc]:i,[Ba.FieldId.InstallToVpc]:s,[Ba.FieldId.ConfigureProxy]:o}}=(0,Va.l)(),u=(0,q.useGlobalState)((e=>e.userProfile.organization)),c=(0,q.useGlobalState)((e=>e.loadBalancerValues)),d=(0,q.useGlobalState)((e=>e.persistentStorageValues)),m=(0,q.useGlobalState)((e=>e.clusters.createdCluster)),p=(0,Ga.availableClustersFromQuota)(u.quotaList,{product:l})>=1,f=[{data:u,name:"Organization & Quota"},{data:c,name:"Load balancers"},{data:d,name:"Storage options"}].reduce(((e,t)=>(t.data.error&&e.push({key:t.name,message:`Error while loading required form data (${t.name})`,response:t.data}),e)),[]),g=(e,a)=>t(e,{resourceType:Ma.ocmResourceTypeByProduct[l],...a&&{customProperties:{step_name:a}}});return u.pending||c.pending||d.pending||!u.fulfilled&&!u.error?n().createElement(C.d8,null,n().createElement(D.A,{centered:!0})):m.fulfilled?n().createElement(E.Navigate,{replace:!0,to:`/details/s/${null===(e=m.cluster.subscription)||void 0===e?void 0:e.id}`}):u.fulfilled&&!p?n().createElement(E.Navigate,{replace:!0,to:"/create"}):f.length>0?n().createElement(C.d8,null,n().createElement(Sa.default,{errors:f})):n().createElement(wa.s,{id:"osd-wizard",onClose:()=>a(Ba.UrlPath.CreateCloud),onStepChange:(e,{name:t},a,l)=>{let n;switch(l){case Na.ET.Next:n=Ma.trackEvents.WizardNext;break;case Na.ET.Back:n=Ma.trackEvents.WizardBack;break;default:n=Ma.trackEvents.WizardLinkNav}g(n,null==t?void 0:t.toString())},footer:n().createElement(Zl,{track:()=>g(Ma.trackEvents.WizardSubmit)}),nav:{"aria-label":`${Ba.ariaLabel} steps`},isVisitRequired:!0},n().createElement(ka.W,{name:Ba.StepName.BillingModel,id:Ba.StepId.BillingModel},n().createElement(gl,null)),n().createElement(ka.W,{name:Ba.StepName.ClusterSettings,id:Ba.StepId.ClusterSettings,isExpandable:!0,steps:[n().createElement(ka.W,{name:Ba.StepName.CloudProvider,id:Ba.StepId.ClusterSettingsCloudProvider,footer:n().createElement(Xl,null)},n().createElement(Wl,null)),n().createElement(ka.W,{name:Ba.StepName.Details,id:Ba.StepId.ClusterSettingsDetails},n().createElement(On,null)),n().createElement(ka.W,{name:Ba.StepName.MachinePool,id:Ba.StepId.ClusterSettingsMachinePool},n().createElement(Ua.ClusterSettingsMachinePool,null))]}),n().createElement(ka.W,{name:Ba.StepName.Networking,id:Ba.StepId.Networking,isExpandable:!0,steps:[n().createElement(ka.W,{name:Ba.StepName.Configuration,id:Ba.StepId.NetworkingConfiguration,isHidden:r===Qa.CloudProviderType.Gcp&&"true"!==i},n().createElement(Gn,null)),n().createElement(ka.W,{name:Ba.StepName.VpcSettings,id:Ba.StepId.NetworkingVpcSettings,isHidden:!s},n().createElement(mr,null)),n().createElement(ka.W,{name:Ba.StepName.ClusterProxy,id:Ba.StepId.NetworkingClusterProxy,isHidden:!o},n().createElement(fr,null)),n().createElement(ka.W,{name:Ba.StepName.CidrRanges,id:Ba.StepId.NetworkingCidrRanges},n().createElement($n,null))]}),n().createElement(ka.W,{name:Ba.StepName.ClusterUpdates,id:Ba.StepId.ClusterUpdates},n().createElement(Ua.ClusterUpdates,null)),n().createElement(ka.W,{name:Ba.StepName.Review,id:Ba.StepId.Review},n().createElement(Rr,null)))},Or=({product:e})=>{const t=(0,d.wA)(),a=(0,q.useGlobalState)((e=>e.persistentStorageValues)),l=(0,q.useGlobalState)((e=>e.loadBalancerValues)),r=(0,q.useGlobalState)((e=>e.userProfile.organization));return(0,$a.default)(),n().useEffect((()=>{(0,xa.shouldRefetchQuota)(r,!1)&&t((0,fa.getOrganizationAndQuota)())}),[]),n().useEffect((()=>(a.fulfilled||a.pending||t((0,Ka.action)(Ya.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES,$e.clusterService.getStorageQuotaValues().then((e=>e.data.items)))),l.fulfilled||l.pending||t((0,Ka.action)(Ya.loadBalancerConstants.GET_LOAD_BALANCER_VALUES,$e.clusterService.getLoadBalancerQuotaValues().then((e=>e.data.items)))),()=>{t((0,pa.resetCreatedClusterResponse)())})),[t,l.fulfilled,l.pending,a.fulfilled,a.pending]),n().createElement(N.AppPage,{title:Ba.documentTitle},n().createElement(na.Formik,{initialValues:{...Ba.initialValues,...e&&{product:e}},initialTouched:Ba.initialTouched,validate:ja,validateOnChange:!1,onSubmit:async e=>{const a=e[Ba.FieldId.NodeLabels].some((e=>!!e.key)),l=La()(e,[Ba.FieldId.CidrDefaultValuesEnabled,Ba.FieldId.AcknowledgePrereq,...a?[]:[Ba.FieldId.NodeLabels]]);t((()=>(0,Ha.default)(t,{isWizard:!0})(l)))}},n().createElement(n().Fragment,null,n().createElement(za.default,{title:"Create an OpenShift Dedicated Cluster",breadcrumbs:n().createElement(w.default,{path:Ba.breadcrumbs})}),n().createElement(C.d8,null,Me.default.fakeOSD&&n().createElement(Fa.l,{variant:"gold"},"On submit, a fake OSD cluster will be created."),n().createElement(Tr,null)))))};var Pr=a(182);const Dr=a(17161).A;var Lr=a(21345);const Nr=(0,d.Ng)((e=>({fulfilled:e.entitlementConfig.fulfilled,pending:e.entitlementConfig.pending})),(e=>({createRosaEntitlement:()=>e((0,Ka.action)(Lr.A,$e.accountsService.createRosaEntitlement()))})))((({fulfilled:e,pending:t,createRosaEntitlement:a})=>(n().useEffect((()=>{e||t||a()}),[]),null)));var wr=a(53034);const kr=({href:e})=>n().createElement(H.$n,{variant:"primary","data-no-nav-prompt":!0,component:"a",href:e},"View Terms and Conditions"),Fr={selfTermsReview:fa.selfTermsReview},Mr=(0,d.Ng)((e=>({selfTermsReviewResult:e.userProfile.selfTermsReviewResult})),Fr)((({selfTermsReview:e,selfTermsReviewResult:t,children:a,gobackPath:l})=>{const r=(0,E.useNavigate)(),i=(0,m.useLocation)();n().useEffect((()=>{e()}),[]);const s=n().useCallback((()=>{r(l)}),[r,l]),o=n().useCallback((e=>{const t=window.location.host+i.pathname,a=window.location.host+l;return(0,wr.A)(e,t,a)}),[i.pathname,l]);if(t.error)return n().createElement(Sa.default,{response:t});if(!t.fulfilled)return n().createElement(ce.p,null,n().createElement(de.h,null,n().createElement(D.A,{centered:!0})));if(!t.terms_required&&!t.terms_available)return a;const u=t.terms_required?"Terms and Conditions":"Updated Terms and Conditions",c=t.terms_required?n().createElement(M.n,null,n().createElement(U.E,{component:U.Y.p},"Red Hat has Terms and Conditions for its managed services."),n().createElement(U.E,{component:U.Y.p},n().createElement("b",null,"If you do not accept the terms, you will not be able to create new clusters or to alter existing clusters.")," ","Existing clusters will not be affected, however access will be read-only.")):n().createElement(M.n,null,n().createElement(U.E,{component:U.Y.p},"Red Hat has updated the Terms and Conditions for its managed services.")),d=o(t.redirect_url),p=[n().createElement(kr,{href:d,key:"view-terms-and-conditions"}),n().createElement(H.$n,{variant:"secondary",key:"cancel-terms-and-conditions",onClick:s},"Cancel")];return n().createElement(n().Fragment,null,n().createElement(Er.default,{title:u,className:"terms-and-conditions-guard-modal",onClose:s,actions:p},c),n().cloneElement(n().Children.only(a),{blockedByTerms:!0}))}));var xr=a(10876),Gr=a(1932),Ur=a(75942),Hr=a(15402),Vr=a(76792),Br=a(2442),qr=a(16623);const jr={...j.tools,PULL_SECRET:"pull-secret",TOKEN_OCM:"ocm-api-token"},zr=[{key:"CLI",title:"Command-line interface (CLI) tools",tools:[j.tools.OC,j.tools.OCM,j.tools.ROSA,j.tools.KN,j.tools.TKN,j.tools.ARGO_CD,j.tools.SHP_CLI]},{key:"DEV",title:"Developer tools",tools:[j.tools.ODO,j.tools.HELM,j.tools.OPM,j.tools.OPERATOR_SDK,j.tools.RHOAS]},{key:"INSTALLATION",title:"OpenShift installation",tools:[j.tools.X86INSTALLER,j.tools.IBMZINSTALLER,j.tools.PPCINSTALLER,j.tools.ARMINSTALLER,j.tools.MULTIINSTALLER,j.tools.CRC]},{key:"DISCONNECTED_INSTALLATION",title:"OpenShift disconnected installation tools",tools:[j.tools.MIRROR_REGISTRY,j.tools.OC_MIRROR_PLUGIN]},{key:"CUSTOM_INSTALLATION",title:"OpenShift installation customization tools",tools:[j.tools.BUTANE,j.tools.COREOS_INSTALLER,j.tools.CCOCTL]},{key:"TOKENS",title:"Tokens",tools:[jr.PULL_SECRET,jr.TOKEN_OCM]}],Wr=[{key:"CLI",title:"Command-line interface (CLI) tools",tools:[j.tools.OC,j.tools.ROSA]},{key:"TOKENS",title:"Tokens",tools:[jr.PULL_SECRET,jr.TOKEN_OCM]}],$r=(zr.concat(Wr),()=>[{key:"ALL",title:"All categories",tools:((0,h.isRestrictedEnv)()?Wr:zr).reduce(((e,t)=>e.concat(t.tools)),[])}].concat((0,h.isRestrictedEnv)()?Wr:zr)),Kr=({selectedCategory:e,setCategory:t})=>n().createElement(_n.F,{"aria-label":"Select category",value:e,onChange:t,"data-testid":"downloads-category-dropdown"},$r().map((e=>n().createElement(hn.Q,{key:e.key,value:e.key,label:e.title})))),Yr=({selectedCategory:e,category:t,description:a,children:l})=>{var r;return["ALL",t].includes(e)?n().createElement(n().Fragment,null,n().createElement("div",{className:"downloads-section-header","data-testid":`downloads-section-${t}`},n().createElement(A.h,{headingLevel:"h2"},null===(r=$r().find((e=>e.key===t)))||void 0===r?void 0:r.title),a&&n().createElement("div",{className:"description"},a)),l):null},Qr=()=>n().createElement(Hr.d,null,n().createElement(Vr.Tr,null,n().createElement(Br.Th,{width:10}),n().createElement(Br.Th,{width:40},"Name"),n().createElement(Br.Th,{width:20},"OS type"),n().createElement(Br.Th,{width:20},"Architecture type")));var Zr=a(11318);const Xr=({children:e})=>n().createElement("div",{style:{textAlign:"right"}},n().createElement("span",{style:{display:"inline-block"}},e));var Jr=a(62344),ei=a(97192),ti=a(94935);const ai=({expanded:e,setExpanded:t,expandKey:a,cells:l,description:r,toolRefs:i})=>{const s=!!e[a];return n().createElement(ei.N,{isExpanded:s,ref:null==i?void 0:i.expandKey,"data-testid":`expandable-row-${a}`},n().createElement(Vr.Tr,null,n().createElement(Zr.Td,{expand:{isExpanded:s,onToggle:(l,n,r)=>{t({...e,[a]:r})},rowIndex:0}}),l),n().createElement(Vr.Tr,{isExpanded:s,"data-testid":`expanded-row-${a}`},n().createElement(Zr.Td,{colSpan:1+l.length},n().createElement(ti.g,null,r))))},li=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i,tool:s,channel:o,name:u,description:c})=>{const d=(0,Jr.downloadChoice)(a,l,i,s,o,{text:"Download"});return n().createElement(ai,{expanded:e,setExpanded:t,toolRefs:r,expandKey:s,cells:[n().createElement(Zr.Td,{dataLabel:"Name",key:`${s}-name`},n().createElement("span",null,u)),n().createElement(Zr.Td,{dataLabel:"OS",key:`${s}-os`},d.osDropdown),n().createElement(Zr.Td,{dataLabel:"Architecture",key:`${s}-arch`},d.archDropdown),n().createElement(Zr.Td,{dataLabel:"",key:`${s}-download`},n().createElement(Xr,null,d.downloadButton," "))],description:c})},ni=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i})=>{const s={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i};return n().createElement(n().Fragment,null,n().createElement(li,{...s,tool:j.tools.OC,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"OpenShift command-line interface (",n().createElement("code",null,"oc"),")"),description:n().createElement(U.E,null,"Create applications and manage OpenShift projects from the command line using the OpenShift client ",n().createElement("code",null,"oc"),". ",n().createElement(W.default,{href:j.default.CLI_TOOLS_OCP_GETTING_STARTED},"Get started"))}),!(0,h.isRestrictedEnv)()&&n().createElement(li,{...s,tool:j.tools.OCM,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"OpenShift Cluster Manager API command-line interface (",n().createElement("code",null,"ocm"),")"," ",n().createElement(K.Ay,{...K.LE})),description:n().createElement(M.n,null,n().createElement(U.E,null,"Manage your OpenShift clusters from the command line using the OpenShift Cluster Manager API client ",n().createElement("code",null,"ocm"),"."," ",n().createElement(W.default,{href:j.default.OCM_CLI_DOCS},"Get started")))}),n().createElement(li,{...s,tool:j.tools.ROSA,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"Red Hat OpenShift Service on AWS command-line interface (",n().createElement("code",null,"rosa"),")"),description:n().createElement(U.E,null,"Manage your Red Hat OpenShift Service on AWS (ROSA) clusters from the command line using the ROSA client for OCM and AWS APIs."," ",n().createElement(W.default,{href:j.default.ROSA_CLI_DOCS},"Get started"))}),!(0,h.isRestrictedEnv)()&&n().createElement(n().Fragment,null,n().createElement(li,{...s,tool:j.tools.KN,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"Knative command-line interface for OpenShift Serverless (",n().createElement("code",null,"kn"),")"),description:n().createElement(U.E,null,"Interact with Knative components on OpenShift Container Platform with the Knative client for OpenShift Serverless ",n().createElement("code",null,"kn"),"."," ",n().createElement(W.default,{href:j.default.KN_DOCS},"Learn more"))}),n().createElement(li,{...s,tool:j.tools.TKN,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"Tekton command-line interface for OpenShift Pipelines (",n().createElement("code",null,"tkn"),")"),description:n().createElement(U.E,null,"Manage and interact with CI pipelines on OpenShift Container Platform with the Tekton CLI for OpenShift Pipelines."," ",n().createElement(W.default,{href:j.default.TKN_DOCS},"Get started"))}),n().createElement(li,{...s,tool:j.tools.ARGO_CD,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"Argo CD command-line interface for OpenShift GitOps (argocd)",n().createElement(K.Ay,{...K.Qu})),description:n().createElement(U.E,null,"Manage applications on Argo CD from the command line using the Argo CD CLI for OpenShift GitOps. ",n().createElement(W.default,{href:j.default.ARGO_CD_DOCS},"Get started"))}),n().createElement(li,{...s,tool:j.tools.SHP_CLI,channel:j.channels.STABLE,name:"Shipwright command-line interface for Builds for OpenShift (shp)",description:n().createElement(U.E,null,"Manage and interact with Shipwright Builds on OpenShift using the Shipwright CLI."," ",n().createElement(W.default,{href:j.default.SHP_CLI_DOCS},"Get started"))})))},ri=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i})=>{const s={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i};return n().createElement(n().Fragment,null,n().createElement(li,{...s,tool:j.tools.BUTANE,channel:j.channels.STABLE,name:"Butane config transpiler CLI",description:n().createElement(M.n,null,n().createElement(U.E,null,"Write and validate machine configs in a convenient short-hand syntax with the Butane config transpiler CLI tool."," ",n().createElement(W.default,{href:j.default.BUTANE_DOCS},"Learn more")))}),n().createElement(li,{...s,tool:j.tools.COREOS_INSTALLER,channel:j.channels.STABLE,name:"CoreOS Installer CLI",description:n().createElement(M.n,null,n().createElement(U.E,null,"Download and install RHCOS disk images with the coreos-installer CLI tool."," ",n().createElement(W.default,{href:j.default.COREOS_INSTALLER_DOCS},"Learn more")))}),n().createElement(li,{...s,tool:j.tools.CCOCTL,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"Cloud Credential Operator CLI utility (",n().createElement("code",null,"ccoctl"),")"),description:n().createElement(M.n,null,n().createElement(U.E,null,"The ccoctl tool provides various commands to assist with the creating and maintenance of cloud credentials from outside the cluster (necessary when Cloud Credential Operator is put in Manual mode)."," ",n().createElement(W.default,{href:j.default.CCO_MANUAL_MODE},"Learn more")))}))},ii=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i})=>{const s={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i};return n().createElement(n().Fragment,null,n().createElement(li,{...s,tool:j.tools.ODO,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"Developer-focused CLI for OpenShift (",n().createElement("code",null,"odo"),")",n().createElement(K.Ay,{...K.Qy})),description:n().createElement(U.E,null,"Write, build, and deploy applications on OpenShift with ",n().createElement("code",null,"odo"),", a fast, iterative, and straightforward CLI tool for developers."," ",n().createElement(W.default,{href:j.default.ODO_DOCS},"Learn more"))}),n().createElement(li,{...s,tool:j.tools.HELM,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"Helm 3 CLI (",n().createElement("code",null,"helm"),")"),description:n().createElement(U.E,null,"Define, install, and upgrade application packages as Helm charts using Helm 3, a package manager for Kubernetes. ",n().createElement(W.default,{href:j.default.HELM_DOCS},"Learn more"))}),n().createElement(li,{...s,tool:j.tools.OPM,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"Operator Package Manager (",n().createElement("code",null,"opm"),")"),description:n().createElement(U.E,null,"Create and maintain catalogs of Operators from a list of bundles with the Operator Package Manager. ",n().createElement(W.default,{href:j.default.OPM_DOCS},"Learn more"))}),n().createElement(li,{...s,tool:j.tools.OPERATOR_SDK,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"Operator SDK CLI (",n().createElement("code",null,"operator-sdk"),")"),description:n().createElement(U.E,null,"Build, test, and deploy Operators with the Operator SDK CLI."," ",n().createElement(W.default,{href:j.default.OSDK_DOCS},"Learn more"))}),n().createElement(li,{...s,tool:j.tools.RHOAS,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"Red Hat OpenShift Application Services CLI (",n().createElement("code",null,"rhoas"),")"," ",n().createElement(K.Ay,{...K.LE})),description:n().createElement(M.n,null,n().createElement(U.E,null,"Create and manage Kafka instances and topics, service accounts, and more using"," ",n().createElement("code",null,"rhoas"),"."),n().createElement(U.E,null,n().createElement(W.default,{href:j.default.RHOAS_CLI_DOCS},"Get started")))}))},si=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i})=>{const s={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i};return n().createElement(n().Fragment,null,n().createElement(li,{...s,tool:j.tools.MIRROR_REGISTRY,channel:j.channels.STABLE,name:"mirror registry for Red Hat OpenShift",description:n().createElement(M.n,null,n().createElement(U.E,null,"Download and install a local, minimal single instance deployment of Red Hat Quay to aid bootstrapping the first disconnected cluster."," ",n().createElement(W.default,{href:j.default.INSTALL_MIRROR_REGISTRY_LEARN_MORE},"Learn more")))}),n().createElement(li,{...s,tool:j.tools.OC_MIRROR_PLUGIN,channel:j.channels.STABLE,name:"OpenShift Client (oc) mirror plugin",description:n().createElement(M.n,null,n().createElement(U.E,null,'The "mirror" plugin for the OpenShift CLI client (oc) controls the process'," ","of mirroring all relevant container image for a full disconnected OpenShift"," ","installation in a central, declarative tool."," ",n().createElement(W.default,{href:j.default.INSTALL_OC_MIRROR_PLUGIN_LEARN_MORE},"Learn more")),n().createElement(U.E,null,"RHEL 9 is FIPS compatible; RHEL 8 is non-FIPS compatible."))}))},oi=({expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i})=>{const s={expanded:e,setExpanded:t,selections:a,setSelections:l,toolRefs:r,urls:i};return n().createElement(n().Fragment,null,n().createElement(li,{...s,tool:j.tools.X86INSTALLER,channel:j.channels.STABLE,name:"OpenShift for x86_64 Installer",description:n().createElement(M.n,null,n().createElement(U.E,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported x86_64 infrastructure using our"," ",n().createElement(W.default,{href:j.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),n().createElement(U.E,null,"Learn how to deploy in the ",n().createElement(E.Link,{to:"/create"},"cloud"),", or in your"," ",n().createElement(E.Link,{to:"/create/datacenter"},"data center"),"."))}),n().createElement(li,{...s,tool:j.tools.ARMINSTALLER,channel:j.channels.STABLE,name:"OpenShift for ARM Installer",description:n().createElement(M.n,null,n().createElement(U.E,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported ARM infrastructure using our"," ",n().createElement(W.default,{href:j.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),n().createElement(U.E,null,"Learn how to deploy in ",n().createElement(E.Link,{to:"/install/aws/arm"},"AWS"),","," ",n().createElement(E.Link,{to:"/install/azure/arm/installer-provisioned"},"Azure"),", or in your"," ",n().createElement(E.Link,{to:"/install/arm"},"data center"),"."))}),n().createElement(li,{...s,tool:j.tools.IBMZINSTALLER,channel:j.channels.STABLE,name:"OpenShift for IBM Z (s390x) Installer",description:n().createElement(M.n,null,n().createElement(U.E,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported IBM Z (s390x) infrastructure using our"," ",n().createElement(W.default,{href:j.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),n().createElement(U.E,null,"Learn how to deploy in your"," ",n().createElement(E.Link,{to:"/install/ibmz/user-provisioned"},"data center"),"."))}),n().createElement(li,{...s,tool:j.tools.PPCINSTALLER,channel:j.channels.STABLE,name:"OpenShift for Power Installer",description:n().createElement(M.n,null,n().createElement(U.E,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported Power infrastructure using our"," ",n().createElement(W.default,{href:j.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),n().createElement(U.E,null,"Learn how to deploy in your"," ",n().createElement(E.Link,{to:"/install/power/user-provisioned"},"data center"),"."))}),n().createElement(li,{...s,tool:j.tools.MULTIINSTALLER,channel:j.channels.STABLE,name:"OpenShift Installer with multi-architecture compute machines",description:n().createElement(M.n,null,n().createElement(U.E,null,"Download and extract your operating system's installation program and place the file in the directory where you'll store your configuration details. Then, create clusters on supported infrastructure using our"," ",n().createElement(W.default,{href:j.default.INSTALL_DOCS_ENTRY},"documentation")," as a guide."),n().createElement(U.E,null,"Learn how to deploy in"," ",n().createElement(E.Link,{to:"/install/azure/multi/installer-provisioned"},"Azure"),"."))}),n().createElement(li,{...s,tool:j.tools.CRC,channel:j.channels.STABLE,name:n().createElement(n().Fragment,null,"OpenShift Local (",n().createElement("code",null,"crc"),")"),description:n().createElement(M.n,null,n().createElement(U.E,null,"Download and open the OpenShift Local file to automatically start a step-by-step installation guide."),n().createElement(U.E,null,n().createElement(E.Link,{to:"/create/local"},"Create a minimal cluster on your desktop")," for local development and testing."))}))};var ui=a(86161),ci=a(73083),di=a(88832);const mi=({expanded:e,setExpanded:t,toolRefs:a,token:l})=>n().createElement(ai,{expanded:e,setExpanded:t,toolRefs:a,expandKey:jr.PULL_SECRET,cells:[n().createElement(Zr.Td,{key:"pullSecret"},"Pull secret"),n().createElement(Zr.Td,{key:"download"},n().createElement(Xr,null,n().createElement(Jl.B,{hasGutter:!0},n().createElement(en.o,null,n().createElement(ci.default,{token:l,text:"Copy",variant:"link-inplace"})),n().createElement(en.o,null,n().createElement(di.default,{token:l,text:"Download"})))))],description:n().createElement(M.n,null,n().createElement(U.E,null,"An image pull secret provides authentication for the cluster to access services and registries which serve the container images for OpenShift components. Every individual user gets a single pull secret generated. The pull secret can be used when installing clusters, based on the required infrastructure."),n().createElement(U.E,null,"Learn how to ",n().createElement(E.Link,{to:"/create"},"create a cluster")," or"," ",n().createElement(W.default,{href:j.default.OCM_DOCS_PULL_SECRETS},"learn more about pull secrets"),"."))}),pi=({expanded:e,setExpanded:t,toolRefs:a})=>n().createElement(ai,{expanded:e,setExpanded:t,toolRefs:a,expandKey:jr.TOKEN_OCM,cells:[n().createElement(Zr.Td,{key:"name"},"OpenShift Cluster Manager API Token"),n().createElement(Zr.Td,{key:"viewAPI"},n().createElement(Xr,null,n().createElement(E.Link,{to:"/token"},n().createElement(H.$n,{variant:"secondary",icon:n().createElement(ui.ArrowRightIcon,null),"data-testid":"view-api-token-btn",iconPosition:"right"},"View API token"))))],description:n().createElement(U.E,null,"Use your API token to authenticate against your OpenShift Cluster Manager account.")}),fi=({expanded:e,setExpanded:t,toolRefs:a,token:l,restrictTokens:r,orgRequest:i,restrictedEnv:s})=>{const o={expanded:e,setExpanded:t,toolRefs:a},u={...o,token:l};return s?n().createElement(n().Fragment,null,n().createElement(mi,{...u}),n().createElement(pi,{...o})):r?n().createElement(mi,{...u}):i.isLoading?n().createElement(n().Fragment,null,n().createElement(mi,{...u}),n().createElement(ei.N,null,n().createElement(Vr.Tr,null,n().createElement(Zr.Td,null,n().createElement(D.A,{centered:!0}))))):i.error&&!L.g?n().createElement(n().Fragment,null,n().createElement(mi,{...u}),n().createElement(ei.N,null,n().createElement(Vr.Tr,null,n().createElement(Zr.Td,null),n().createElement(Zr.Td,{id:"org-error"},n().createElement(T.F,{variant:"danger",isInline:!0,title:"Error retrieving user account"},n().createElement("p",null,i.error.reason),n().createElement("p",null,`Operation ID: ${i.error.operation_id||"N/A"}`))),n().createElement(Zr.Td,null)))):n().createElement(n().Fragment,null,n().createElement(mi,{...u}),n().createElement(pi,{...o}))},Ei=e=>`tool-${e}`,gi=()=>{var e;const t=(0,h.isRestrictedEnv)(),a=(0,d.wA)(),r=(0,Ea.useGlobalState)((e=>e.githubReleases)),i=(0,Ea.useGlobalState)((e=>e.tollbooth.token||{})),s=(0,m.useLocation)(),o=(0,E.useNavigate)(),{organization:u,isLoading:c,error:p}=(0,re.default)(),[f,g]=(0,l.useState)(),[v,_]=(0,l.useState)("ALL"),[S,b]=(0,l.useState)(Object.values(jr).reduce(((e,t)=>({...e,[`${t}`]:!1})),{})),[y,I]=(0,l.useState)({}),A=(e,t)=>{var a,l;let n=null;null===(l=null===(a=$r().find((t=>t.key===e)))||void 0===a?void 0:a.tools)||void 0===l||l.forEach((e=>{t[e]&&(n=e)}));const r=n?`#${Ei(n)}`:"";r!==s.hash&&o({...s,hash:r})},R=e=>{b(e),A(v,e)},T=Object.values(jr).reduce(((e,t)=>({...e,[`${t}`]:(0,l.createRef)()})),{}),D=()=>{var e;const t=s.hash.replace("#",""),a=Object.values(jr).find((e=>Ei(e)===t));if(a){R({...S,[a]:!0});const t=null===(e=T[a])||void 0===e?void 0:e.current;if(t){t.scrollIntoView({block:"start",behavior:"smooth"});const e=t.querySelector("button, select");e&&e.focus({preventScroll:!0})}}};(0,l.useEffect)((()=>{!t&&!c&&!p&&u&&u.capabilities&&(0,L.X)(u.capabilities)&&g(!0)}),[u,c,p,t]),(0,l.useEffect)((()=>(a(ll.tollboothActions.createAuthToken()),j.githubReleasesToFetch.forEach((e=>{r[e].fulfilled||a(ll.githubActions.getLatestRelease(e))})),D(),window.addEventListener("hashchange",D),()=>{window.removeEventListener("hashchange",D)})),[]);const w=(0,j.urlsSelector)(r),k=null===(e=$r().find((e=>e.key===v)))||void 0===e?void 0:e.tools,F=!(null==k?void 0:k.every((e=>S[e]))),M={expanded:S,setExpanded:R,selections:y,setSelections:I,toolRefs:T,urls:w};return n().createElement(N.AppPage,{title:"Downloads | Red Hat OpenShift Cluster Manager"},n().createElement(O.A,{className:"downloads-page-header"},n().createElement(Jl.B,null,n().createElement(en.o,{isFilled:!0},n().createElement(P.A,{className:"ocm-page-title",title:"Downloads"}))),n().createElement(Jl.B,{className:"subheader"},n().createElement(en.o,null,n().createElement(Kr,{selectedCategory:v,setCategory:(e,t)=>{_(t),A(t,S)}})),n().createElement(en.o,null,n().createElement(Ur.c,{className:"expand-collapse-all",isExpanded:!F,onToggle:()=>{R((0,Gr.jM)(S,(e=>{null==k||k.forEach((t=>{e[t]=F}))})))}},F?"Expand all":"Collapse all")))),n().createElement(C.d8,{className:"downloads-page-body"},n().createElement(C.d8,{variant:"light",padding:{default:"noPadding"},className:"downloads-page-body"},n().createElement(Yr,{selectedCategory:v,category:"CLI",description:n().createElement(U.E,null,"Download command line tools to manage and work with OpenShift from your terminal.")},n().createElement(qr.X,{"aria-label":"CLI tools table",cells:[],rows:[]},n().createElement(Qr,null),n().createElement(ni,{...M}))),!t&&n().createElement(n().Fragment,null,n().createElement(Yr,{selectedCategory:v,category:"DEV",description:n().createElement(U.E,null,"Access all the powers of Kubernetes through a simplified workflow with Red Hat’s developer tools."," ",n().createElement(W.default,{href:"https://developers.redhat.com/topics/developer-tools"},"Learn more"))},n().createElement(qr.X,{"aria-label":"Developer tools table"},n().createElement(Qr,null),n().createElement(ii,{...M}))),n().createElement(Yr,{selectedCategory:v,category:"INSTALLATION",description:n().createElement(U.E,null,"Install OpenShift based on your infrastructure. For the installer matching your infrastructure type, select the operating system and architecture on which you wish to run the installer. Then follow the steps provided within your infrastructure's tab on the ",n().createElement(E.Link,{to:"/create"},"create cluster")," page to install an OpenShift cluster.")},n().createElement(qr.X,{"aria-label":"OpenShift installation table"},n().createElement(Qr,null),n().createElement(oi,{...M}))),n().createElement(Yr,{selectedCategory:v,category:"DISCONNECTED_INSTALLATION",description:n().createElement(U.E,null,"Utilities to simplify preparation of disconnected cluster installations.")},n().createElement(qr.X,{"aria-label":"OpenShift disconnected installation tools table"},n().createElement(Qr,null),n().createElement(si,{...M}))),n().createElement(Yr,{selectedCategory:v,category:"CUSTOM_INSTALLATION",description:n().createElement(U.E,null,"Customize OpenShift and Red Hat Enterprise Linux CoreOS (RHCOS) installation with these tools.")},n().createElement(qr.X,{"aria-label":"OpenShift installation customization downloads table"},n().createElement(Qr,null),n().createElement(ri,{...M})))),n().createElement(Yr,{category:"TOKENS",selectedCategory:v},n().createElement(qr.X,{"aria-label":"Tokens table"},n().createElement(Hr.d,null,n().createElement(Vr.Tr,null,n().createElement(Br.Th,{width:10}),n().createElement(Br.Th,{width:90}),n().createElement(Br.Th,{width:10})))," ",n().createElement(fi,{expanded:S,setExpanded:R,toolRefs:T,token:i,restrictTokens:f,orgRequest:{isLoading:c,error:p},restrictedEnv:t}))))))};var vi=a(88423),hi=a(56540),_i=a(90128),Si=a.n(_i),bi=a(99851),Ci=a(46828),yi=a(91877),Ii=a(14559),Ai=a(47816),Ri=a(97796),Ti=a(89217);const Oi=({data:e,refresh:t,marketplace:a})=>{const l=(e,t,a)=>n().createElement(C.d8,{className:"subscriptions-empty-state"},n().createElement(ce.p,null,n().createElement(Ce.o,{titleText:e,headingLevel:"h4"}),n().createElement(de.h,null,t),n().createElement(Ri.s,null,a))),r={account:{emptyTitle:"Unable to retrieve account information",errorTitle:"Unable to retrieve account information",text:"Contact support to verify your account is valid",emptyButton:void 0},ocp:{emptyTitle:"You do not have any clusters",errorTitle:"Unable to retrieve subscription status",text:n().createElement("p",null,"Create a cluster to get started."),emptyButton:n().createElement(E.Link,{to:"/install"},n().createElement(H.$n,null,"Create cluster"))},osd:{emptyTitle:"You do not have any quota",errorTitle:"Unable to retrieve quota information",text:n().createElement("p",null,n().createElement("a",{href:"https://cloud.redhat.com/products/dedicated/contact/",rel:"noreferrer noopener",target:"_blank"},"Contact sales")," ","to get started with OpenShift Dedicated."),emptyButton:void 0},osdmarketplace:{emptyTitle:"Marketplace On-Demand subscriptions not detected",errorTitle:"Unable to retrieve quota information",text:n().createElement("p",null,n().createElement("p",null,"No marketplace subscriptions for OpenShift Dedicated or add-ons were found in your account"),n().createElement("br",null),n().createElement("p",null,n().createElement(H.$n,{component:"a",href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated",variant:"primary",rel:"noopener noreferrer",target:"_blank"},"Enable in Marketplace")),n().createElement("br",null),n().createElement(W.default,{href:j.default.OCM_DOCS_SUBSCRIPTIONS},"Learn more")),emptyButton:void 0}};let i=r[e.type];a&&"osd"===e.type&&(i=r.osdmarketplace);let s=null;if(e.error){const a=(()=>{var t;const{internalErrorCode:a,errorMessage:l,operationID:r}=e;return Ti.BANNED_USER_CODE===a?n().createElement("span",null,null===(t=(0,Ti.overrideErrorMessage)({code:a}))||void 0===t?void 0:t.split(/\n/).map((e=>n().createElement(n().Fragment,null,e,n().createElement("br",null))))):n().createElement(n().Fragment,null,n().createElement("p",null,"An error has occurred! Try again or contact support by including this error message:"),n().createElement("q",null,l),n().createElement("p",null,`Operation ID: ${r||"N/A"}`))})(),r=n().createElement(H.$n,{onClick:t},"Try again");s=l(i.errorTitle,a,r)}else e.pending?s=n().createElement(C.d8,null,n().createElement(D.A,{centered:!0})):e.empty&&(s=l(i.emptyTitle,i.text,i.emptyButton));return s};var Pi=a(42877),Di=a.n(Pi),Li=a(69673);const Ni=({rows:e,children:t})=>{const a=n().createElement(n().Fragment,null,n().createElement("p",null,"Standard: Cluster infrastructure costs paid by Red Hat"),n().createElement("p",null,"CCS: Cluster infrastructure costs paid by the customer")),l=Di()(e,[0,1]).map((e=>({cells:e})));return n().createElement(n().Fragment,null,n().createElement(Li.X,{"aria-label":"Quota Table"},n().createElement(Hr.d,null,n().createElement(Vr.Tr,null,n().createElement(Br.Th,null,"Resource type"),n().createElement(Br.Th,null,"Resource name"),n().createElement(Br.Th,null,"Availability"),n().createElement(Br.Th,null,"Plan type ",n().createElement(X.default,{hint:a})),n().createElement(Br.Th,null,"Cluster type"),n().createElement(Br.Th,null,"Used"),n().createElement(Br.Th,null,"Capacity"))),n().createElement(ei.N,null,l.map(((e,t)=>n().createElement(Vr.Tr,{key:t},e.cells.map((e=>n().createElement(Zr.Td,null,e)))))))),t)},wi=(e,t)=>{let a=n().createElement(yi.us,null);return e>t?a=n().createElement(bi.ExclamationTriangleIcon,{className:"warn-icon"}):e===t?a=n().createElement(Ai.Qo,null):e>=t/2?a=n().createElement(Ii.cN,null):0===e&&(a=n().createElement(Ci.O1,null)),a},ki={fetchQuotaCost:e=>hi.subscriptionsActions.fetchQuotaCost(e)},Fi=(0,d.Ng)((e=>({quotaCost:e.subscriptions.quotaCost})),ki)((({quotaCost:e,marketplace:t,organizationID:a,fetchQuotaCost:l})=>{var r;const i=n().useCallback((()=>{l(a)}),[a,l]);let s;n().useEffect((()=>{i()}),[]);const o=[];let u=n().createElement(E.Link,{to:"/quota/resource-limits"},"Dedicated (On-Demand Limits)"),d="The summary of all annual subscriptions for OpenShift Dedicated purchased by your organization or granted by Red Hat. For On-Demand resources, see";return t&&(u=n().createElement(W.default,{href:"/openshift/subscriptions/openshift-dedicated",noIcon:!0},"Dedicated (On-Demand)"),d="Active subscriptions allow your organization to use up to a certain number of OpenShift Dedicated clusters. Overall OSD subscription capacity and usage can be viewed in"),e.fulfilled&&(null===(r=e.items)||void 0===r||r.forEach((e=>{if(0===e.consumed&&0===e.allowed)return;const a=c()(e,"related_resources",[]).filter((e=>0!==e.cost));if(0===a.length)return;const l=c()(a[0],"billing_model");let n=c()(a[0],"resource_name");var r,i;t&&l!==ga.RelatedResource.billing_model.MARKETPLACE&&"addon-open-data-hub"!==n||(t||l!==ga.RelatedResource.billing_model.MARKETPLACE&&"addon-open-data-hub"!==n)&&("compute.node"===c()(a[0],"resource_type")&&"byoc"===c()(a[0],"byoc")&&(n="vCPU"),o.push([c()(a[0],"resource_type"),n,(i=c()(a[0],"availability_zone_type"),"multi"===i?"multi-zone":"single"===i?"single zone":"N/A"),(r=c()(a[0],"byoc"),"rhinfra"===r?"Standard":"byoc"===r?"CCS":"any"===r?"Any":"N/A"),Si()(c()(a[0],"product")),`${e.consumed} of ${e.allowed}`,wi(e.consumed,e.allowed)]))}))),s=o.length>0?n().createElement(n().Fragment,null,n().createElement(F.a,{className:"content-header"},"Quota"),n().createElement(F.a,{className:"table-container"},n().createElement(Ni,{rows:o}))):n().createElement(Oi,{data:{error:e.error,pending:e.pending,type:"osd",empty:!0},refresh:i,marketplace:t}),n().createElement(y.Z,null,n().createElement(I.Z,null,"OpenShift Dedicated"),n().createElement(R.b,null,n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,null,d," ",u),s)))})),Mi="Quota | Red Hat OpenShift Cluster Manager",xi={fetchAccount:hi.subscriptionsActions.fetchAccount,invalidateClusters:pa.clustersActions.invalidateClusters},Gi=(0,d.Ng)((e=>({account:e.subscriptions.account})),xi)((({invalidateClusters:e,fetchAccount:t,account:a,marketplace:l})=>{if(n().useEffect((()=>(t(),()=>{e()})),[]),a.fulfilled&&a.data.organization&&a.data.organization.id){const e=l?"Dedicated (On-Demand Limits)":"Dedicated (Annual)",t=a.data.organization.id;return n().createElement(N.AppPage,{title:Mi},n().createElement(O.A,null,n().createElement(P.A,{title:e,className:"page-title"})),n().createElement(C.d8,{className:"ocm-p-subscriptions"},n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,{className:"ocm-l-osd-subscription__section"},n().createElement(Fi,{organizationID:t,marketplace:l})))))}return n().createElement(N.AppPage,{title:Mi},n().createElement(Oi,{data:{error:a.error,pending:a.pending,type:"account",internalErrorCode:a.error?a.internalErrorCode:void 0},refresh:t}))}));var Ui=a(99589),Hi=a.n(Ui),Vi=a(34637),Bi=a(67321),qi=a(62169);const ji=e=>{const t=Hi().coerce(e);if(!t)return null;const{major:a,minor:l,patch:n,prerelease:r}=t;if(4!==a||!Sr()(r))return null;const i=`https://docs.openshift.com/container-platform/${a}.${l}/release_notes/ocp-${a}-${l}-release-notes.html`;return n>0?i+`#ocp-${a}-${l}-${n}`:i};var zi=a(18501),Wi=a(10314);var $i=a(1860);const Ki=({children:e})=>n().createElement("dd",{className:"pf-v5-c-description-list__description ocm-l-ocp-releases__channel-detail"},n().createElement($i.$,{className:"ocm-l-ocp-releases__channel-detail-level"},e)),Yi=({children:e})=>n().createElement("dt",{className:"pf-v5-c-description-list__term pf-v5-u-mt-md"},e),Qi=({channel:e,status:t})=>{var a;const[l]=(0,dn.useOCPLatestVersionInChannel)(e),r=e.includes("candidate"),i=(e=>{const t=Hi().coerce(e);if(!t)return null;const{major:a,minor:l,prerelease:n}=t;if(4!==a||!Sr()(n))return null;let r="understanding_updates/understanding-update-channels-release.html";return l<14&&(r=l<6?`updating-cluster-between-minor.html#candidate-${a}-${l}-channel`:"understanding-upgrade-channels-release.html#candidate-version-channel_understanding-upgrade-channels-releases"),`https://docs.openshift.com/container-platform/${a}.${l}/updating/${r}`})(l),{major:s,minor:o}=null!==(a=Hi().coerce(l))&&void 0!==a?a:{major:"4",minor:"7"},u=ji(l);return n().createElement(n().Fragment,null,n().createElement(Yi,null,r&&n().createElement(qi.c,{className:"ocm-l-ocp-releases__divider pf-v5-u-my-lg"}),e,r&&n().createElement(X.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-md"},`Candidate channels contain candidate releases for a z-stream\n                  (e.g., ${s}.${o}.z). A candidate channel release contains\n                  all the features of the product, but is not supported until the\n                  release is promoted to the fast, stable, or eus channels.`),i&&n().createElement("p",null,n().createElement(W.default,{href:i,noIcon:!0},"Learn more about candidate channels")))})),n().createElement(Ki,null,l&&n().createElement(zi.o,null,"Latest version"," ",u?n().createElement(W.default,{href:u,noIcon:!0},l):l),t&&n().createElement(Wi.A,{status:t})))},Zi=()=>{var e,t,a;const[l]=(0,dn.useOCPLifeCycleStatusData)(),r=null===(e=null==l?void 0:l[0])||void 0===e?void 0:e.versions,i=null==r?void 0:r.filter((e=>!e.name.includes("EUS"))),s=null==i?void 0:i.splice(0,6),o=null!==(a=null===(t=null==s?void 0:s[0])||void 0===t?void 0:t.name)&&void 0!==a?a:"4.7",u=e=>n().createElement(n().Fragment,null,"OpenShift ",e);return n().createElement(N.AppPage,{title:"Releases | Red Hat OpenShift Cluster Manager"},n().createElement(O.A,null,n().createElement(P.A,{title:"Releases",className:"page-title"})),n().createElement(C.d8,{className:"ocm-p-releases"},n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,{className:"ocm-l-ocp-releases__section"},n().createElement(y.Z,null,n().createElement(I.Z,null,"Latest OpenShift releases"),n().createElement(R.b,null,n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,null,"View general information on the most recent OpenShift Container Platform release versions that you can install. Versions are only supported when released to the fast, stable, or eus channels."," ",n().createElement(Za.A,{"aria-label":"Version help",bodyContent:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-md"},"The most recent versions aren't always available for every cluster. To keep your cluster up to date with the recommended version, run regular updates from the ",n().createElement(E.Link,{to:"/cluster-list"},"clusters list"),"."),n().createElement("p",null,n().createElement("em",null,"Note:")," Disconnected clusters won't show available recommended updates on the clusters list.")),id:"version-help"},n().createElement(H.$n,{variant:"link",isInline:!0},"I don't see these versions as upgrade options for my cluster."," ",n().createElement(Xa.OutlinedQuestionCircleIcon,null)))),n().createElement(Vi.Z,{hasGutter:!0,minWidths:{sm:"340px"},maxWidths:{default:"340px"}},null==s?void 0:s.map((e=>{var t,a;const l=ji(e.name);return n().createElement(Bi.K,{key:e.name,"data-testid":`version-${e.name}`},n().createElement(y.Z,{isFlat:!0,className:"ocm-l-ocp-releases__card"},n().createElement(I.Z,null,n().createElement("div",{className:"ocm-l-ocp-releases__card-title pf-v5-u-mb-sm"},l?n().createElement(W.default,{href:l,noIcon:!0},u(e.name)):u(e.name)),n().createElement(qi.c,{className:"ocm-l-ocp-releases__divider pf-v5-u-mt-lg pf-v5-u-mb-sm"})),n().createElement(R.b,null,n().createElement("div",{className:"ocm-l-ocp-releases__subheading"},"Channel details"),n().createElement("dl",{className:"ocm-l-ocp-releases__channels"},n().createElement(Qi,{channel:`stable-${e.name}`,status:e.type}),!(0,h.isRestrictedEnv)()&&n().createElement(Qi,{channel:`fast-${e.name}`,status:e.type}),(e=>{const t=Hi().coerce(e);if(!t)return!1;const{minor:a}=t;return a>5&&a%2==0})(e.name)?n().createElement(Qi,{channel:`eus-${e.name}`,status:null!==(a=null===(i=e.name,t=null==r?void 0:r.find((e=>e.name.includes(`${i} EUS`))))||void 0===t?void 0:t.type)&&void 0!==a?a:e.type}):n().createElement(n().Fragment,null,n().createElement(Yi,null,"-"),n().createElement(Ki,null,`No ${e.name} EUS channel`)),!(0,h.isRestrictedEnv)()&&n().createElement(Qi,{channel:`candidate-${e.name}`})))));var i}))))))),n().createElement(F.a,{className:"ocm-l-osd-releases__section"},n().createElement(y.Z,null,n().createElement(I.Z,null,"Channels"),n().createElement(R.b,null,n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,null,`Channels recommend release versions and help control the pace of updates.\n                    Update channels are tied to a minor version of OpenShift Container Platform,\n                    for example ${o}. To update to the next minor release, you may need to change\n                    the channel you're in.`),n().createElement(F.a,null,n().createElement(W.default,{href:`https://docs.openshift.com/container-platform/${o}/updating/understanding_updates/understanding-update-channels-release.html`,noIcon:!0},"Learn more about updating channels")))))))))};var Xi,Ji=a(51937),es=a(83741);!function(e){e.Available="available",e.Deploying="deploying",e.Failed="failed",e.Started="started",e.Unavailable="unavailable",e.Requested="requested"}(Xi||(Xi={}));const ts=e=>e.status===Xi.Unavailable&&e.quota.current>=e.quota.limit?"quota-exceeded":e.status,as="/demoExperience/rosa-hands-on",ls=async()=>{const e=await _.Ay.get(as,{baseURL:Me.default.configData.demoExperience});return{...e,data:(t=e.data,{...t,status:ts(t)})};var t},ns=()=>_.Ay.post(as,{},{baseURL:Me.default.configData.demoExperience});var rs=a(76123),is=a.n(rs),ss=a(43212),os=a(59759);const us="https://red.ht/rosa-slack",cs="/create/rosa/getstarted",ds=e=>l.createElement(be.I,{...e},l.createElement(He.ExclamationCircleIcon,{color:Ve.global_danger_color_100.value})),ms=({message:e})=>l.createElement(ce.p,null,l.createElement(Ce.o,{titleText:"Failed to fetch demo experience.",icon:l.createElement(ye.q,{icon:ds}),headingLevel:"h4"}),l.createElement(de.h,null,l.createElement(M.n,{className:"pf-v5-u-mb-md"},e),l.createElement(H.$n,{variant:"link",iconPosition:"right",isInline:!0,onClick:()=>window.location.reload()},"Try refreshing the page.")));var ps=a(66312),fs=a(49650),Es=a(5924),gs=a(99755),vs=a(59779),hs=a(22125);const _s=a.p+"images/RosaHandsOnIcon.41dbfcbb409e199e..svg",Ss=()=>n().createElement("img",{src:_s,alt:"Preview Rosa hands-on","aria-hidden":"true",style:{width:"300px",height:"auto"}}),bs="rosa-handson-main-card",Cs=({children:e,popoverContent:t,popoverHeader:a})=>n().createElement(G.c,{icon:n().createElement(be.I,{size:"md"},n().createElement(vs.Sr,{color:hs.Q.value})),style:{alignItems:"baseline"}},n().createElement(U.E,null,e,t&&n().createElement(n().Fragment,null," ",n().createElement(Za.A,{bodyContent:t,headerContent:a,maxWidth:"40rem",appendTo:()=>document.getElementById(bs)},n().createElement(H.$n,{icon:n().createElement(Al.HelpIcon,null),variant:"link",isInline:!0}))))),ys=({demoExperience:e})=>n().createElement(x.B8,{isPlain:!0,id:bs},n().createElement(Cs,{popoverContent:n().createElement(n().Fragment,null,"You may launch a demo up to ",n().createElement("strong",null,e.quota.limit," times")," total. If you have questions, you can join the"," ",n().createElement(W.default,{href:us},"ROSA community Slack channel"),"."),popoverHeader:"What to expect"},"Access to a free hands-on experience of ROSA that will last for ",8," hours."),n().createElement(Cs,{popoverContent:"Your time will not start until after the cluster is provisioned.",popoverHeader:"Getting started"},"One-click deployment of a ROSA cluster in a demo environment."),n().createElement(Cs,null,"A view into a fully managed turnkey application platform with integrated services and tools,",n().createElement("br",null),"fully backed by a global team of site reliability engineers (SREs)."),n().createElement(Cs,null,"Step-by-step guided content on how to get started and build, deploy and scale an application on ROSA.")),Is=e=>n().createElement(E.Link,{...e,to:cs}),As=({demoExperience:e,onRequestCluster:t})=>{let a,l=n().createElement(ys,{demoExperience:e}),r="What you get with this experience",i=!0;switch(e.status){case Xi.Started:r="Your experience is ready",l="Get started with OpenShift with a guided walkthrough of ROSA.",a=n().createElement(W.default,{href:e.experience_url||"",isButton:!0,variant:"primary",noIcon:!0,customTrackProperties:{link_name:"launch-rosa-hands-on-experience"}},"Access experience"),i=!1;break;case Xi.Deploying:case Xi.Requested:a=n().createElement(ua.m,{content:"We are currently getting your ROSA experience ready. This process may take up to 1 hour."},n().createElement(H.$n,{variant:"primary",isLoading:!0,isAriaDisabled:!0},"Provisioning cluster"));break;case"quota-exceeded":a=n().createElement(H.$n,{variant:"primary",href:cs,component:Is},"Create a ROSA cluster"),r="Take the next step. Create your own ROSA Cluster!",l=n().createElement(n().Fragment,null,"You've successfully completed the ROSA Hands on Experience. Now, it's time to dive even deeper",n().createElement("br",null),"into the world of ROSA by creating your very own cluster on your AWS account."),i=!1;break;default:a=n().createElement(H.$n,{variant:"primary",onClick:t,isDisabled:e.status===Xi.Unavailable},"Request experience")}return n().createElement(y.Z,null,n().createElement(ps.a,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h4"},r))),n().createElement(R.b,null,n().createElement(ia.x,null,n().createElement(sa.E,{span:9},l),i&&n().createElement(sa.E,{span:3,style:{justifySelf:"right"}},n().createElement(Ss,null)))),n().createElement(ke.w,null,n().createElement(fs.M,null,n().createElement(Es.P,{style:{paddingLeft:"unset"}},n().createElement(gs.T,null,a),n().createElement(gs.T,null,n().createElement(W.default,{href:"https://www.redhat.com/en/technologies/cloud-computing/openshift/aws",isButton:!0,variant:"link"},"Learn more about ROSA"))))))},Rs=()=>n().createElement(H.$n,{variant:"link",isInline:!0,"data-analytics-id":"contact-support"},"contact support"),Ts=()=>n().createElement(H.$n,{variant:"link",isInline:!0,"data-analytics-id":"qualify-rosa-he"},"additional information"),Os=a.p+"images/OpenshiftIcon.af877dec581aaca0..svg",Ps=()=>n().createElement("img",{src:Os,alt:"Openshift","aria-hidden":"true",style:{height:"var(--pf-v5-global--icon--FontSize--xl)"}}),Ds=()=>n().createElement(O.A,null,n().createElement(w.default,{path:[{label:"Overview",path:"/overview"},{label:"Red Hat OpenShift Service on AWS (ROSA)",path:"/overview/rosa"},{label:"Hands-on Experience"}]}),n().createElement(Oe.s,{direction:{default:"row"},flexWrap:{default:"nowrap"}},n().createElement(Pe.Z,{alignSelf:{default:"alignSelfFlexStart"}},n().createElement(Ps,null)),n().createElement(qi.c,{orientation:{default:"vertical"}}),n().createElement(Pe.Z,null,n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,null,n().createElement(M.n,null,n().createElement(U.E,{component:"h2"},"Red Hat OpenShift Service on AWS Hands-on Experience"))),n().createElement(F.a,null,n().createElement(U.E,null,"Red Hat OpenShift Service on AWS (ROSA) is a fully-managed turnkey application platform that allows organizations to quickly build, deploy, and scale applications in a native AWS environment. With one click, start your free 8-hour hands-on experience in a ROSA cluster.")),n().createElement(F.a,null,n().createElement(W.default,{href:us},"Have a question? Join our slack community"))))));var Ls=a(15129);const Ns=[{title:"Red Hat OpenShift Service on AWS learning hub",link:"https://www.redhat.com/en/technologies/cloud-computing/openshift/aws/learn",label:"Documentation"},{title:"Red Hat OpenShift Service on AWS (ROSA) interactive walkthrough",link:"https://www.redhat.com/en/products/interactive-walkthrough/install-rosa",label:"Walkthrough"},{title:"Watch our Red Hat OpenShift Service on AWS video series",link:"https://www.redhat.com/en/about/videos/rosa-lightboard",label:"Video"}],ws=()=>n().createElement(C.d8,{style:{paddingBottom:"unset",paddingTop:"unset"}},n().createElement(Li.X,{"aria-label":"Recommended content table"},Ns.map((e=>n().createElement(ei.N,null,n().createElement(Vr.Tr,null,n().createElement(Zr.Td,{span:6},e.title),n().createElement(Zr.Td,{span:3,style:{textAlign:"center"}},n().createElement(Ls.J,{color:"orange",style:{width:"120px",display:"block"}},e.label)),n().createElement(Zr.Td,{span:3,style:{textAlign:"right"}},n().createElement(W.default,{href:e.link},"Learn more")))))))),ks=e=>e instanceof Error?e.message:"string"==typeof e?e:"Unexpected error",Fs=({demoExperience:e})=>{const t=new Date(e.scheduled_delete_timestamp||"").getTime()-Date.now(),a=e.quota.limit-e.quota.current;let l;switch(e.status){case"quota-exceeded":l=n().createElement(T.F,{title:n().createElement(n().Fragment,null,"After ",e.quota.limit," launches, you can create ROSA clusters using a pay-as-you-go option. If you have any questions, you can ",n().createElement(Rs,null),"."),isInline:!0,variant:"info"});break;case Xi.Started:l=n().createElement(T.F,{title:n().createElement(n().Fragment,null,"Your current experience demo will end in"," ",is()(t,{units:["h","m"],maxDecimalPoints:2,round:!0,delimiter:" and "}),". You have ",a," experience launches remaining."),variant:"info",isInline:!0});break;case Xi.Failed:l=n().createElement(T.F,{title:n().createElement(n().Fragment,null,"We're experiencing an error on our end. This does not affect your quota. Try again and if this issue persists, ",n().createElement(Rs,null),"."),variant:"danger",isInline:!0});break;case Xi.Unavailable:{const t="unauthorized"===e.unavailable_reason?n().createElement(n().Fragment,null,"Let's get you access to the Hands-on Experience. To continue, we need some"," ",n().createElement(Ts,null),"."):n().createElement(n().Fragment,null,"The demo system is currently unavailable. If this issue persists, you can"," ",n().createElement(Rs,null),".");l=n().createElement(T.F,{title:t,variant:"danger",isInline:!0});break}case Xi.Available:l=e.quota.current>0?n().createElement(T.F,{variant:"info",isInline:!0,title:n().createElement(n().Fragment,null,"You have ",a," launches remaining. If you have any questions, you can"," ",n().createElement(Rs,null),".")}):null;break;default:l=null}return l},Ms=({error:e,loading:t,requestError:a,demoExperience:l,onRequestCluster:r})=>e?n().createElement(ms,{message:ks(e)}):n().createElement(os.default,null,n().createElement(Ds,null),n().createElement(Fs,{demoExperience:l}),a?n().createElement(T.F,{title:"Failed to request an experience",variant:"danger",isInline:!0},ks(e)):null,n().createElement(n().Fragment,null,n().createElement(C.d8,null,t?n().createElement(y.Z,null,n().createElement(R.b,{style:{height:"200px"}},n().createElement(ss.E,{height:"100%",screenreaderText:"Loading Rosa handson demo experience"}))):n().createElement(As,{onRequestCluster:r,demoExperience:l})),n().createElement(C.d8,{style:{paddingTop:"unset"}},n().createElement(M.n,null,n().createElement(U.E,{component:"h3"},"Recommended content"))),n().createElement(ws,null))),xs=5e3,Gs=()=>{const e=(0,Wa.default)(),{demoExperience:t,initializing:a,initializeError:l,restartPolling:r}=(()=>{const[e,t]=n().useState({quota:{}}),[a,l]=n().useState(!1),[r,i]=n().useState(),s=n().useRef(),o=n().useRef(0),u=n().useRef(-1),c=e=>(null==e?void 0:e.status)===Xi.Available||(null==e?void 0:e.status)===Xi.Failed||(null==e?void 0:e.status)===Xi.Unavailable||"quota-exceeded"===(null==e?void 0:e.status),d=()=>{s.current&&(window.clearInterval(s.current),s.current=null),u.current=-1},m=async e=>{u.current=0;const a=window.setInterval((async()=>{u.current+=1;const a=u.current;try{const{data:l}=await ls();if((e=>e!==u.current)(a))return;t(l),c(l)?d():e===xs&&5===u.current&&(d(),m(3e4))}catch(e){if(a!==u.current)return;0===o.current&&es.Cp(e),o.current+=1}}),e);s.current=a};return n().useEffect((()=>((async()=>{l(!0);try{const{data:e}=await ls();t(e),c(e)||m(xs)}catch(e){es.Cp(e),i(e)}finally{l(!1)}})(),()=>d())),[]),{demoExperience:e,initializing:a,initializeError:r,restartPolling:e=>{d(),t(e),m(xs)}}})(),[i,s]=n().useState(),[o,u]=n().useState(!1);return n().createElement(N.AppPage,{title:"ROSA hands-on experience"},n().createElement(Ji.Y,null,n().createElement(Ms,{requestError:i,error:l,loading:a||o,demoExperience:t,onRequestCluster:()=>(async()=>{try{u(!0);const t=await ns();u(!1),r(t.data),s(null),e(Ma.trackEvents.RequestRosaHandsOnExperience)}catch(e){es.Cp(e),s(e),u(!1)}})()})))};function Us(e){const{cardClassName:t,textLabelLinkItems:a}=e;return n().createElement(y.Z,{className:t},n().createElement(x.B8,{isPlain:!0,isBordered:!0},a.length&&a.map((({listItemText:e,listItemLabel:t,listItemLink:l,dataTestId:r},i)=>{let s="pf-v5-u-pt-md pf-v5-u-pr-md pf-v5-u-pb-md pf-v5-u-pl-md";return i===a.length-1&&(s+=" pf-v5-u-pb-lg"),0===i&&(s+=" pf-v5-u-pt-lg"),n().createElement(G.c,{key:e},n().createElement(Jl.B,{className:s,hasGutter:!0,"data-testid":r},n().createElement(en.o,{style:{width:"60%"}},n().createElement(Jl.B,null,n().createElement(en.o,null,e),n().createElement(en.o,{isFilled:!0}))),n().createElement(en.o,{style:{width:"40%"}},n().createElement(Jl.B,null,n().createElement(en.o,{"data-testtag":"label"},t),n().createElement(en.o,{isFilled:!0}),n().createElement(en.o,null,l)))))}))))}const Hs=({items:e})=>n().createElement(y.Z,null,n().createElement(x.B8,{isPlain:!0,isBordered:!0},e.map((({title:e,contents:t})=>n().createElement(G.c,{className:"rosa-expandable-list-item",key:e},n().createElement(tn.Q,{className:"rosa-expandable-section",toggleContent:n().createElement(U.E,{component:U.Y.h3},e),displaySize:"lg"},t))))));var Vs=a(47652),Bs=a(61261);const qs=({linkComponentURL:e,title:t,bodyContent:a,createClusterBtnTitle:r})=>{const i=(0,l.useCallback)((t=>n().createElement(E.Link,{"data-testid":"register-cluster",to:e,...t})),[e]);return n().createElement(y.Z,null,n().createElement(Oe.s,{justifyContent:{default:"justifyContentSpaceBetween"}},n().createElement(Pe.Z,null,n().createElement(ps.a,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h3"},n().createElement(be.I,{size:"md"},n().createElement(Vs.Ay,{className:"pf-v5-u-mr-sm rosa-cube-icon"})),t))),n().createElement(R.b,null,a),n().createElement(ke.w,null,n().createElement(Oe.s,null,n().createElement(Pe.Z,null,n().createElement(Bs.A,{isButton:!0,"data-testid":"register-cluster",variant:"primary",to:e,component:i},r)))))))},js=({bodyContent:e,linkComponentURL:t,title:a,learnMore:l,createClusterBtnTitle:r})=>n().createElement(n().Fragment,null,n().createElement(M.n,{className:"pf-v5-u-mb-lg"},n().createElement(A.h,{headingLevel:"h2"},a)),n().createElement(Oe.s,null,n().createElement(Pe.Z,{flex:{default:"flex_1"}},n().createElement(qs,{createClusterBtnTitle:r,linkComponentURL:t,bodyContent:e,title:a})),n().createElement(Pe.Z,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},l))),zs=[{title:"Hourly",first:"Control plane - $0.03/hour",second:"Worker nodes CPU - As low as $0.171/4vCPU/hour"},{title:"1-Year",first:"Control plane - $0.03/hour",second:"Worker nodes CPU - As low as $0.114/4vCPU/hour"},{title:"3-Year",first:"Control plane - $0.03/hour",second:"Worker nodes CPU - As low as $0.076/4vCPU/hour"}],Ws=[{title:"Infrastructure billing: Customer Cloud Subscription (CCS)",first:"Flexibility in instance availability and portability, private networks, etc."},{title:"Purchase channel: Google Cloud Marketplace",first:"Flexible, PAYGO billing across all regions",second:"Optimize spend with Google committed use discounts (CUD).",third:"Auto-scaling is enabled for your clusters."},{title:"Cloud provider: Google Cloud Platform",first:"Looking for an AWS option? Red Hat OpenShift on AWS is your best fit."}],$s=()=>n().createElement(n().Fragment,null,n().createElement(A.h,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Pricing"),n().createElement(Oe.s,{direction:{default:"column"}},n().createElement(Pe.Z,null,n().createElement(Oe.s,{justifyContent:{default:"justifyContentSpaceBetween"},flexWrap:{default:"nowrap"},alignItems:{default:"alignItemsStretch"}},zs.map((e=>n().createElement(Pe.Z,null,n().createElement(y.Z,null,n().createElement(Oe.s,null,n().createElement(Pe.Z,null,n().createElement(ps.a,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h3"},e.title))),n().createElement(R.b,null,n().createElement(U.E,null,e.first),n().createElement(U.E,null,e.second)))))))))),n().createElement(Pe.Z,null,n().createElement("div",{className:"pf-v5-u-mb-md"},n().createElement(W.default,{href:j.default.OSD_PRICING},"Learn more about pricing")))),n().createElement(A.h,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Recommendations"),n().createElement(Oe.s,{flexWrap:{default:"nowrap"},alignItems:{default:"alignItemsStretch"}},Ws.map((e=>n().createElement(Pe.Z,null,n().createElement(y.Z,{style:{height:"100%"}},n().createElement(ps.a,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h3"},e.title))),n().createElement(R.b,null,n().createElement(x.B8,{isPlain:!0},n().createElement(G.c,null,e.first),n().createElement(G.c,null,null==e?void 0:e.second),n().createElement(G.c,null,null==e?void 0:e.third))))))))),Ks=({icon:e,learnMoreLink:t,title:a,text:l,iconCardBodyClassName:r,breadcrumbs:i,dataTestId:s})=>n().createElement(O.A,null,i,n().createElement(Jl.B,{"data-testid":s},n().createElement(en.o,{className:"pf-v5-u-pr-md"},n().createElement(R.b,{className:r},e)),n().createElement(qi.c,{orientation:{default:"vertical"}}),n().createElement(en.o,{className:"pf-v5-u-pl-md"},n().createElement(k.B,{hasGutter:!0},n().createElement(F.a,{isFilled:!0},n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h1"},a))),n().createElement(F.a,{isFilled:!0},n().createElement(R.b,null,n().createElement(U.E,null,l))),n().createElement(F.a,null,n().createElement(ke.w,null,t)))))),Ys=()=>n().createElement(n().Fragment,null,n().createElement(A.h,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Pricing"),n().createElement(Oe.s,null,n().createElement(Pe.Z,{flex:{default:"flex_1"}},n().createElement(y.Z,null,n().createElement(Oe.s,{justifyContent:{default:"justifyContentSpaceBetween"}},n().createElement(Pe.Z,null,n().createElement(ps.a,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h3"},"Cost Component 1: ROSA service fees"))),n().createElement(R.b,null,"Accrue on demand at an hourly rate per 4 vCPU used by worker nodes. Annual contracts are also available for further discounts. ROSA service fees are uniform across all supported regions."))))),n().createElement(Pe.Z,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},n().createElement(y.Z,{isFullHeight:!0},n().createElement(Oe.s,{justifyContent:{default:"justifyContentSpaceBetween"}},n().createElement(Pe.Z,null,n().createElement(ps.a,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h3"},"Cost Component 2: AWS infrastructure fees"))),n().createElement(R.b,null,"Includes fees for the underlying worker nodes, infrastructure nodes, control plane nodes, storage, and network.")))))),n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(W.default,{href:j.default.ROSA_PRICING},"Learn more about pricing")));var Qs=a(84545);const Zs=()=>n().createElement(k.B,{hasGutter:!0},n().createElement("span",null,n().createElement(Qs.A,{height:"3em",width:"5em"})),n().createElement(qi.c,null),n().createElement(ql.A,{height:"2.5em",width:"5em"})),Xs=()=>n().createElement(k.B,{hasGutter:!0},n().createElement("span",{className:"pf-v5-u-mt-xl"},n().createElement(Qs.A,{height:"3em",width:"5em"}))),Js=({serviceName:e})=>"ROSA"===e?n().createElement(Zs,null):n().createElement(Xs,null);var eo=a(36392);const to={icon:n().createElement("img",{src:eo,alt:"OpenShift"}),learnMoreLink:n().createElement(W.default,{href:j.default.WHAT_IS_OSD},"Learn more about OpenShift Dedicated"),title:"Red Hat OpenShift Dedicated",text:"Automate the deployment and management of your clusters on our fully managed cloud service dedicated to you. Focus on the applications and business, not managing infrastructure.",iconCardBodyClassName:"rosa-aws-redhat-vertical-logo"},ao={icon:n().createElement("img",{src:eo,alt:"OpenShift"}),learnMoreLink:n().createElement(W.default,{href:j.default.WHAT_IS_ROSA},"Learn more about ROSA"),title:"Red Hat OpenShift Service on AWS (ROSA)",text:"Quickly build, deploy, and scale applications with our fully-managed turnkey application platform.",iconCardBodyClassName:"rosa-aws-redhat-vertical-logo"},lo=[{title:"Self-service deployment",contents:"Create fully-managed OpenShift clusters in minutes so you can get up and running quickly."},{title:"Seamless integration with other AWS services",contents:"A native AWS service accessed on demand from the AWS Management Console. Take advantage of seamless integration with other AWS cloud native services."},{title:"Maximum availability",contents:"Deploy clusters across multiple Availability Zones in supported regions to maximize availability."}],no=[{title:"Accelerate time to value",contents:"Quickly build, deploy, and manage applications at scale with a comprehensive application platform."},{title:"Focus on innovation",contents:"Simplify delivering, operating, and scaling workloads with automated deployment and proactive management of OpenShift clusters."},{title:"Gain hybrid cloud flexibility",contents:"Get a consistent Red Hat OpenShift experience across the hybrid cloud for developers and operations teams."}],ro=[{title:"Deploy applications where they need to be",contents:"Red Hat OpenShift Service on AWS delivers the production-ready application platform that many enterprises already use on-premises, simplifying the ability to shift workloads to the AWS public cloud as business needs dictate."},{title:"Flexible consumption-based pricing",contents:"Scale as per your business needs and pay as you go with flexible pricing with an on-demand hourly or annual billing model."},{title:"Fully-managed service",contents:"Fully-managed OpenShift service, backed by a global Site Reliability Engineering (SRE) team and an enterprise class SLA, enabling customers to focus on applications, not managing infrastructure."}],io=[{title:"Comprehensive application platform",contents:"Fully integrated development and operational productivity features, such as Integrated Development Environment (IDE), monitoring and service mesh, runtimes, build pipelines, and more."},{title:"Expert support",contents:"Engineered, operated, and supported by Red Hat site reliability engineering (SRE) with a 99.95% uptime service-level agreement (SLA) and 24x7 coverage."},{title:"Streamlined billing and procurement",contents:"Receive a single bill for both the Red Hat OpenShift service and Google CloudPlatform infrastructure consumption."},{title:"High availability architecture",contents:"Deploy clusters with multiple masters and infrastructure nodes across multiple availability zones in supported regions to ensure maximum availability and continuous operation."}],so={title:"Create an OpenShift Dedicated cluster",bodyContent:"Focus on what matters. We’ll manage and maintain the cluster hosted on Google Cloud for you.",linkComponentURL:"/create/osd",createClusterBtnTitle:"Create cluster",learnMore:n().createElement((()=>n().createElement(y.Z,{style:{height:"100%"}},n().createElement(ps.a,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h3"},"Want to learn more?"))),n().createElement(R.b,null,"Learn how to get started with OpenShift Dedicated on Google Cloud Marketplace."),n().createElement(ke.w,null,n().createElement(W.default,{href:j.default.LEARN_MORE_OSD},"Go to interactive walkthrough")))),null)},oo={title:"Create a ROSA cluster",bodyContent:"Get back to focusing on your application when you build a ROSA cluster. We'll manage and maintain the cluster for you.",linkComponentURL:"/create/rosa/getstarted",createClusterBtnTitle:"Begin setup",learnMore:n().createElement((()=>{const e="/overview/rosa/hands-on",t=(0,l.useCallback)((t=>n().createElement(E.Link,{...t,to:e})),[]);return n().createElement(y.Z,{style:{height:"100%"}},n().createElement(ps.a,null,n().createElement(I.Z,null,n().createElement(A.h,{headingLevel:"h3"},"Want a preview of ROSA?"))),n().createElement(R.b,null,"Access a no-cost, hands-on Red Hat OpenShift Service on AWS experience."),n().createElement(ke.w,null,n().createElement(Bs.A,{isButton:!0,variant:"secondary",component:t,to:e},"Try it")))}),null)},uo={cardClassName:"pf-v5-u-mb-lg",textLabelLinkItems:[{listItemText:"Red Hat OpenShift Dedicated on Google Cloud Marketplace",listItemLabel:n().createElement(Ls.J,{color:"gold"},"Documentation"),listItemLink:n().createElement(W.default,{href:j.default.OSD_GOOGLE_MARKETPLACE},"Learn More")},{listItemText:"Red Hat OpenShift Dedicated Interactive Walkthrough",listItemLabel:n().createElement(Ls.J,{color:"green"},"Walkthrough"),listItemLink:n().createElement(W.default,{href:j.default.LEARN_MORE_OSD},"Learn More")},{listItemText:"How to get started with OpenShift Dedicated on Google Cloud Marketplace",listItemLabel:n().createElement(Ls.J,{color:"gold"},"Quickstart"),listItemLink:n().createElement(W.default,{href:j.default.OSD_QUICKSTART},"Learn More")}]},co={cardClassName:"pf-v5-u-mb-lg",textLabelLinkItems:[{listItemText:"Product Documentation for Red Hat OpenShift Service on AWS 4",listItemLabel:n().createElement(Ls.J,{color:"gold"},"Documentation"),listItemLink:n().createElement(W.default,{href:j.default.ROSA_CP_DOCS},"Learn More")},{listItemText:"Red Hat OpenShift Service on AWS quickstart guide",listItemLabel:n().createElement(Ls.J,{color:"green"},"Quickstart"),listItemLink:n().createElement(W.default,{href:j.default.ROSA_QUICKSTART},"Learn More")},{listItemText:"Troubleshooting installations",listItemLabel:n().createElement(Ls.J,{color:"gold"},"Documentation"),listItemLink:n().createElement(W.default,{href:j.default.ROSA_TROUBLESHOOTING_INSTALLATIONS},"Learn More")},{listItemText:"Red Hat OpenShift Service on AWS service definition",listItemLabel:n().createElement(Ls.J,{color:"gold"},"Documentation"),listItemLink:n().createElement(W.default,{href:j.default.ROSA_DEFINITION_DOC},"Learn More")}]},mo=({serviceName:e})=>{var t,a,r,i;const s=(0,l.useMemo)((()=>"OSD"===e?{bannerContent:to,benefitsExpandableContents:no,featuresExpandableContents:io,linkTextLabelLinkCardContents:uo,getStartedSection:so}:{bannerContent:ao,benefitsExpandableContents:lo,featuresExpandableContents:ro,linkTextLabelLinkCardContents:co,getStartedSection:oo}),[e]);return n().createElement(N.AppPage,null,n().createElement(Ks,{icon:n().createElement(Js,{serviceName:e}),learnMoreLink:null===(t=s.bannerContent)||void 0===t?void 0:t.learnMoreLink,title:null===(a=s.bannerContent)||void 0===a?void 0:a.title,text:null===(r=s.bannerContent)||void 0===r?void 0:r.text,iconCardBodyClassName:null===(i=s.bannerContent)||void 0===i?void 0:i.iconCardBodyClassName,breadcrumbs:n().createElement(w.default,{path:[{label:"Overview",path:"/overview"},{label:"Red Hat OpenShift Dedicated"}]})}),n().createElement(C.d8,null,n().createElement(js,{...s.getStartedSection}),n().createElement(A.h,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Benefits"),n().createElement(Hs,{items:s.benefitsExpandableContents}),n().createElement(A.h,{className:"pf-v5-u-mt-lg pf-v5-u-mb-lg",headingLevel:"h2"},"Features"),n().createElement(Hs,{items:s.featuresExpandableContents}),"OSD"===e?n().createElement($s,null):null,"ROSA"===e?n().createElement(Ys,null):null,n().createElement(A.h,{headingLevel:"h2",className:"pf-v5-u-mt-lg pf-v5-u-mb-lg"},"Recommended content"),n().createElement(Us,{...s.linkTextLabelLinkCardContents})))};var po=a(22204);const fo=({error:e,restore:t})=>{var a,l,r;const i=null===(r=null===(l=null===(a=e.data)||void 0===a?void 0:a.details)||void 0===l?void 0:l[0])||void 0===r?void 0:r.legal_terms_url,s=window.location.href,o=(0,wr.A)(i,s,s);return n().createElement(ce.p,{variant:ce.s.lg},n().createElement(Ce.o,{titleText:"This action is blocked.",icon:n().createElement(ye.q,{icon:He.ExclamationCircleIcon,color:Ve.global_danger_color_100.value}),headingLevel:"h4"}),n().createElement(de.h,null,"You must accept the Terms and Conditions in order to make changes to this cluster. Your cluster will remain unaffected until then. Once you accept the terms, you will need to retry the action that was blocked."),n().createElement(Ri.s,null,n().createElement(kr,{href:o}),n().createElement(po.c,null,n().createElement(H.$n,{variant:"link",onClick:t},"Go back to previous page"))))};var Eo=a(42561),go=a.n(Eo);var vo=a(31965);const ho={showApiError:vo.Mu.showApiError,clearApiError:vo.Mu.clearApiError},_o=(0,d.Ng)((e=>({apiError:e.apiError})),ho)((({apiRequest:e,showApiError:t,children:a,apiError:l,clearApiError:r})=>{const i=(0,m.useLocation)();if(n().useEffect((()=>{const a=((e,t)=>{const a=e.interceptors.response.use((e=>e),(e=>(go().isAxiosError(e)&&e.response&&(0,Ti.hasOwnErrorPage)(e.response)&&t(e.response),Promise.reject(e))));return()=>{e.interceptors.response.eject(a)}})(e,t);return()=>{a(),r()}}),[e,r,i]),l&&(0,Ti.hasOwnErrorPage)(l)){const e=(0,Ti.getInternalErrorCode)(l);if(e===Ti.TERMS_REQUIRED_CODE)return n().createElement(fo,{error:l,restore:r});console.error(`no defined error page: code=${e}`)}return a})),So=(e,t,a,l)=>{const n={ocm_cluster_id:a,...l?{resource_id:l}:{}};return e.startsWith("/archived")?{ocm_resource_type:Ma.ocmResourceType.ALL}:e.startsWith("/assisted-installer")?{ocm_resource_type:Ma.ocmResourceType.OCP_ASSISTED_INSTALL}:e.startsWith("/create/osdtrial")?{ocm_resource_type:Ma.ocmResourceType.OSDTRIAL}:e.startsWith("/create/osd")?{ocm_resource_type:Ma.ocmResourceType.OSD}:e.startsWith("/create/rosa")?{ocm_resource_type:Ma.ocmResourceType.MOA}:e.startsWith("/create")?{ocm_resource_type:Ma.ocmResourceType.ALL}:e.match(/\/details\/s\/.*\/add-idp/)?{ocm_resource_type:(0,Ma.getOCMResourceType)(t),title:"Add IdP",path:"/openshift/details/s/add-idp",...n}:e.match(/\/details\/s\/.*\/edit-idp/)?{ocm_resource_type:(0,Ma.getOCMResourceType)(t),title:"Edit IdP",path:"/openshift/details/s/edit-idp",...n}:e.startsWith("/details/s/")?{ocm_resource_type:(0,Ma.getOCMResourceType)(t),title:"View Cluster",path:"/openshift/details/s",...n}:e.startsWith("/install/azure/aro-provisioned")?{ocm_resource_type:Ma.ocmResourceType.ARO}:e.startsWith("/install/pull-secret")?{ocm_resource_type:Ma.ocmResourceType.ALL}:e.startsWith("/install")?{ocm_resource_type:Ma.ocmResourceType.OCP}:e.startsWith("/dashboard")||e.startsWith("/quota")?{ocm_resource_type:Ma.ocmResourceType.ALL}:e.startsWith("/register")||e.startsWith("/releases")?{ocm_resource_type:Ma.ocmResourceType.OCP}:e.startsWith("/token/rosa")?{ocm_resource_type:Ma.ocmResourceType.MOA}:(e.startsWith("/token"),{ocm_resource_type:Ma.ocmResourceType.ALL})},bo=()=>{const e=document.querySelector("#not-found h1");return e instanceof HTMLElement&&"We lost that page"===e.innerText},Co=e=>n().createElement(N.AppPage,null,n().createElement(p.UILibRoutes,{...e})),yo=(0,d.Ng)((e=>{const{cluster:t}=e.clusters.details;return{planType:c()(t,"subscription.plan.type",S.normalizedProducts.UNKNOWN),clusterId:c()(t,"subscription.cluster_id"),externalClusterId:c()(t,"subscription.external_cluster_id")}}))((({planType:e,clusterId:t,externalClusterId:a})=>{const{pathname:r,search:i}=(0,m.useLocation)(),{segment:{setPageMetadata:s},chromeHistory:o}=(0,f.A)(),u=(0,v.useFeatureGate)(b.HYPERSHIFT_WIZARD_FEATURE),c=(0,v.useFeatureGate)(b.CLUSTER_OWNERSHIP_TRANSFER);return n().useEffect((()=>{console.info("---------------Features---------------\n",`HYPERSHIFT_WIZARD_FEATURE: ${u?"Enabled":"Disabled"}\n`,"-------------------------------------")}),[u,c]),(0,l.useEffect)((()=>{s({...So(r.replace(E.ocmBaseName,""),e,t,a),...bo()?{title:"404 Not Found"}:{}})}),[r,e,t,a,s]),n().createElement(_o,{apiRequest:_.Ay},n().createElement(m.Routes,null,n().createElement(m.Route,{path:"/install/osp/installer-provisioned",element:n().createElement(E.Navigate,{replace:!0,to:"/install/openstack/installer-provisioned"})}),n().createElement(m.Route,{path:"/install/crc/installer-provisioned",element:n().createElement(E.Navigate,{replace:!0,to:"/create/local"})}),n().createElement(m.Route,{path:"/token/moa",element:n().createElement(E.Navigate,{replace:!0,to:"/token/rosa"})}),n().createElement(m.Route,{path:"/insights",element:n().createElement(E.Navigate,{replace:!0,to:"/dashboard"})}),n().createElement(m.Route,{path:"/subscriptions",element:n().createElement(E.Navigate,{replace:!0,to:"/quota"})}),n().createElement(m.Route,{path:"/downloads",element:n().createElement(gi,null)}),n().createElement(m.Route,{path:"/token/rosa/show",element:n().createElement(Mr,{gobackPath:"/"},n().createElement(N.AppPage,null,n().createElement(se,{showToken:!0,isRosa:!0}),n().createElement(Nr,null)))}),n().createElement(m.Route,{path:"/token/rosa",element:n().createElement(Mr,{gobackPath:"/"},n().createElement(N.AppPage,null,n().createElement(se,{showToken:!1,showPath:"/token/rosa/show",isRosa:!0}),n().createElement(Nr,null)))}),n().createElement(m.Route,{path:"/token/show",element:n().createElement(se,{showToken:!0})}),n().createElement(m.Route,{path:"/token",element:n().createElement(se,{showToken:!1,showPath:"/token/show"})}),n().createElement(m.Route,{path:"/install/alibaba",element:n().createElement(Xe.A,null)}),n().createElement(m.Route,{path:"/install/arm/installer-provisioned",element:n().createElement(rt.Ay,null)}),n().createElement(m.Route,{path:"/install/arm/user-provisioned",element:n().createElement(it.Ay,null)}),n().createElement(m.Route,{path:"/install/arm/agent-based",element:n().createElement(nt.Ay,null)}),n().createElement(m.Route,{path:"/install/arm/pre-release",element:n().createElement(st.Ay,null)}),n().createElement(m.Route,{path:"/install/arm",element:n().createElement(lt.A,null)}),n().createElement(m.Route,{path:"/install/aws/installer-provisioned",element:n().createElement(mt.Ay,null)}),n().createElement(m.Route,{path:"/install/aws/user-provisioned",element:n().createElement(pt.Ay,null)}),n().createElement(m.Route,{path:"/install/aws/arm/installer-provisioned",element:n().createElement(et.Ay,null)}),n().createElement(m.Route,{path:"/install/aws/arm/user-provisioned",element:n().createElement(tt.Ay,null)}),n().createElement(m.Route,{path:"/install/aws/arm",element:n().createElement(Je.A,null)}),n().createElement(m.Route,{path:"/install/aws/multi/installer-provisioned",element:n().createElement(Pt.Ay,null)}),n().createElement(m.Route,{path:"/install/aws",element:n().createElement(dt.A,null)}),n().createElement(m.Route,{path:"/install/gcp/installer-provisioned",element:n().createElement(Ct.Ay,null)}),n().createElement(m.Route,{path:"/install/gcp/user-provisioned",element:n().createElement(yt.Ay,null)}),n().createElement(m.Route,{path:"/install/gcp",element:n().createElement(bt.A,null)}),n().createElement(m.Route,{path:"/install/nutanix",element:n().createElement(wt.A,null)}),n().createElement(m.Route,{path:"/install/nutanix/installer-provisioned",element:n().createElement(kt.Ay,null)}),n().createElement(m.Route,{path:"/install/openstack/installer-provisioned",element:n().createElement(Vt.Ay,null)}),n().createElement(m.Route,{path:"/install/openstack/user-provisioned",element:n().createElement(Bt.Ay,null)}),n().createElement(m.Route,{path:"/install/openstack",element:n().createElement(Ht.A,null)}),n().createElement(m.Route,{path:"/install/azure/arm/installer-provisioned",element:n().createElement(at.Ay,null)}),n().createElement(m.Route,{path:"/install/azure/multi/installer-provisioned",element:n().createElement(Dt.Ay,null)}),n().createElement(m.Route,{path:"/install/azure/installer-provisioned",element:n().createElement(Et.Ay,null)}),n().createElement(m.Route,{path:"/install/azure/user-provisioned",element:n().createElement(gt.Ay,null)}),n().createElement(m.Route,{path:"/install/azure",element:n().createElement(ft.A,null)}),n().createElement(m.Route,{path:"/install/azure-stack-hub/installer-provisioned",element:n().createElement(ut.Ay,null)}),n().createElement(m.Route,{path:"/install/azure-stack-hub/user-provisioned",element:n().createElement(ct.Ay,null)}),n().createElement(m.Route,{path:"/install/azure-stack-hub",element:n().createElement(ot.A,null)}),n().createElement(m.Route,{path:"/install/metal/user-provisioned",element:n().createElement(St.Ay,null)}),n().createElement(m.Route,{path:"/install/metal/installer-provisioned",element:n().createElement(_t.Ay,null)}),n().createElement(m.Route,{path:"/install/metal/agent-based",element:n().createElement(ht.Ay,null)}),n().createElement(m.Route,{path:"/install/metal/multi",element:n().createElement(Lt.Ay,null)}),n().createElement(m.Route,{path:"/install/metal",element:n().createElement(vt.A,null)}),n().createElement(m.Route,{path:"/install/multi/pre-release",element:n().createElement(Nt.Ay,null)}),n().createElement(m.Route,{path:"/install/vsphere",element:n().createElement(ea.A,null)}),n().createElement(m.Route,{path:"/install/vsphere/agent-based",element:n().createElement(ta.Ay,null)}),n().createElement(m.Route,{path:"/install/vsphere/user-provisioned",element:n().createElement(la.Ay,null)}),n().createElement(m.Route,{path:"/install/vsphere/installer-provisioned",element:n().createElement(aa.Ay,null)}),n().createElement(m.Route,{path:"/install/ibm-cloud",element:n().createElement(It.Ay,null)}),n().createElement(m.Route,{path:"/install/ibmz/user-provisioned",element:n().createElement(Ot.Ay,null)}),n().createElement(m.Route,{path:"/install/ibmz/pre-release",element:n().createElement(Tt.Ay,null)}),n().createElement(m.Route,{path:"/install/ibmz/agent-based",element:n().createElement(Rt.Ay,null)}),n().createElement(m.Route,{path:"/install/ibmz",element:n().createElement(At.A,null)}),n().createElement(m.Route,{path:"/install/power/user-provisioned",element:n().createElement(Yt.Ay,null)}),n().createElement(m.Route,{path:"/install/power/pre-release",element:n().createElement(Kt.Ay,null)}),n().createElement(m.Route,{path:"/install/power/agent-based",element:n().createElement($t.Ay,null)}),n().createElement(m.Route,{path:"/install/power",element:n().createElement(Wt.A,null)}),n().createElement(m.Route,{path:"/install/powervs/installer-provisioned",element:n().createElement(Qt.Ay,null)}),n().createElement(m.Route,{path:"/install/platform-agnostic/agent-based",element:n().createElement(jt.Ay,null)}),n().createElement(m.Route,{path:"/install/platform-agnostic/user-provisioned",element:n().createElement(zt.Ay,null)}),n().createElement(m.Route,{path:"/install/platform-agnostic",element:n().createElement(qt.A,null)}),n().createElement(m.Route,{path:"/install/pre-release",element:n().createElement(Zt.Ay,null)}),n().createElement(m.Route,{path:"/install/pull-secret",element:n().createElement(Xt.Ay,null)}),n().createElement(m.Route,{path:"/install/azure/aro-provisioned",element:n().createElement(Jt.Ay,null)}),n().createElement(m.Route,{path:"/install/oracle-cloud",element:n().createElement(Ut,null)}),n().createElement(m.Route,{path:"/install",element:n().createElement(E.Navigate,{replace:!0,to:"/create"})}),n().createElement(m.Route,{path:"/create/osd/aws",element:n().createElement(E.Navigate,{replace:!0,to:"/create/osd"})}),n().createElement(m.Route,{path:"/create/osd/gcp",element:n().createElement(E.Navigate,{replace:!0,to:"/create/osd"})}),n().createElement(m.Route,{path:"/create/osdtrial/aws",element:n().createElement(E.Navigate,{replace:!0,to:"/create/osdtrial"})}),n().createElement(m.Route,{path:"/create/osdtrial/gcp",element:n().createElement(E.Navigate,{replace:!0,to:"/create/osdtrial"})}),n().createElement(m.Route,{path:"/create/osdtrial",element:n().createElement(Mr,{gobackPath:"/create"},n().createElement(Or,{product:S.normalizedProducts.OSDTRIAL}))}),n().createElement(m.Route,{path:"/create/osd",element:n().createElement(Mr,{gobackPath:"/create"},n().createElement(Or,null))}),n().createElement(m.Route,{path:"/create/cloud",element:n().createElement(Se.A,{activeTab:"cloud"})}),n().createElement(m.Route,{path:"/create/datacenter",element:n().createElement(Se.A,{activeTab:"datacenter"})}),n().createElement(m.Route,{path:"/create/local",element:n().createElement(Se.A,{activeTab:"local"})}),n().createElement(m.Route,{path:"/create/rosa/welcome",element:n().createElement(E.Navigate,{replace:!0,to:"/create/rosa/getstarted"})}),n().createElement(m.Route,{path:"/create/rosa/getstarted",element:n().createElement(Mr,{gobackPath:"/create"},n().createElement(Dr,null))}),n().createElement(m.Route,{path:"/create/rosa/govcloud",element:n().createElement(Qe,null)}),n().createElement(m.Route,{path:"/create/rosa/wizard",element:n().createElement(Mr,{gobackPath:"/create"},n().createElement(Pr.A,null))}),n().createElement(m.Route,{path:"/create/rosa/wizard",element:n().createElement(Pr.A,null)}),n().createElement(m.Route,{path:"/create",element:n().createElement(Se.A,{activeTab:""})}),n().createElement(m.Route,{path:"/details/s/:id/insights/:reportId/:errorKey",element:n().createElement(Ze.default,null)}),n().createElement(m.Route,{path:"/details/s/:id/add-idp/:idpTypeName",element:n().createElement(he.A,null)}),n().createElement(m.Route,{path:"/details/s/:id/edit-idp/:idpName",element:n().createElement(he.A,{isEditForm:!0})}),n().createElement(m.Route,{path:"/details/s/:id",element:n().createElement(ue.A,null)}),n().createElement(m.Route,{path:"/details/:id/insights/:reportId/:errorKey",element:n().createElement(Ze.default,null)}),n().createElement(m.Route,{path:"/details/:id",element:n().createElement(g.A,null)}),n().createElement(m.Route,{path:"/register",element:n().createElement(Pa,null)}),n().createElement(m.Route,{path:"/quota/resource-limits",element:n().createElement(Gi,{marketplace:!0})}),n().createElement(m.Route,{path:"/quota",element:n().createElement(Gi,null)}),n().createElement(m.Route,{path:"/archived",element:n().createElement(oe.A,{getMultiRegion:!0})}),n().createElement(m.Route,{path:"/dashboard",element:n().createElement(xr.A,null)}),n().createElement(m.Route,{path:"/overview/rosa/hands-on",element:n().createElement(Gs,null)}),n().createElement(m.Route,{path:"/overview/rosa",element:n().createElement(mo,{serviceName:"ROSA"})}),n().createElement(m.Route,{path:"/overview/osd",element:n().createElement(mo,{serviceName:"OSD"})}),n().createElement(m.Route,{path:"/overview",element:n().createElement(vi.A,null)}),n().createElement(m.Route,{path:"/releases",element:n().createElement(Zi,null)}),n().createElement(m.Route,{path:"/assisted-installer/*",element:n().createElement(Co,{allEnabledFeatures:{},history:o,basename:E.ocmBaseName})}),n().createElement(m.Route,{path:"/services/rosa/demo",element:n().createElement(E.Navigate,{replace:!0,to:`/overview/rosa/hands-on/${i}`})}),n().createElement(m.Route,{path:"/services/rosa",element:n().createElement(E.Navigate,{replace:!0,to:`/overview/rosa${i}`})}),n().createElement(m.Route,{path:"/access-request/:id",element:(0,h.isRestrictedEnv)()?n().createElement(Ee,null):n().createElement(ve,null)}),n().createElement(m.Route,{path:"/cluster-list",element:n().createElement(_e.A,{getMultiRegion:!0})}),n().createElement(m.Route,{path:"/",element:n().createElement(E.Navigate,{replace:!0,to:(0,h.isRestrictedEnv)()?"/cluster-list":"/overview"})}),n().createElement(m.Route,{path:"*",element:n().createElement(Ee,null)})))}));function Io(e,t){return a=>{const{target:l}=a,{height:n}=l.getBoundingClientRect();e!==n&&t(n)}}const Ao=({children:e})=>{var t,a;const u=null===(t=document.getElementsByTagName("header"))||void 0===t?void 0:t[0],c=null===(a=document.getElementsByClassName("chr-c-beta-switcher"))||void 0===a?void 0:a[0],[d,m]=(0,l.useState)(u?u.getBoundingClientRect().height:0),[p,f]=(0,l.useState)(c?c.getBoundingClientRect().height:0);return(0,r.A)(u,Io(d,m)),(0,r.A)(c,Io(p,f)),n().createElement("div",{id:"app-outer-div",style:{height:`calc(100vh - ${d}px - ${p}px`}},n().createElement(i.Ht,{client:o.q},n().createElement(yo,null),n().createElement(s.E,{initialIsOpen:!1,position:"bottom",buttonPosition:"bottom-right"})))}},83689:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppDrawer:()=>u,AppDrawerContext:()=>o});var l=a(93345),n=a.n(l),r=a(55401),i=a(47708),s=a(35900);const o=(0,l.createContext)({openDrawer:()=>{},closeDrawer:()=>{}}),u=({children:e})=>{const[t,a]=(0,l.useState)(),u=(0,l.useCallback)((e=>a(e)),[a]),c=(0,l.useMemo)((()=>{if(t){const e=t.getElementsByClassName("pf-v5-c-drawer");if(e.length){const t=getComputedStyle(e[0]).getPropertyValue("--pf-v5-c-drawer__panel--TransitionDuration");try{const e=parseInt(t,10);return t.endsWith("ms")||!t.endsWith("s")?e:1e3*e}catch(e){}}}return 250}),[t]),[d,m]=(0,l.useState)({drawerProps:{isExpanded:!1}}),[p,f]=(0,l.useState)(!1),E=(0,l.useCallback)(((e={skipOnClose:!1})=>{const{skipOnClose:t}=e;m((e=>{const{drawerProps:a,drawerPanelContent:l,onClose:n,focusOnClose:r}=e;return t||setTimeout((()=>{null==r||r.focus(),null==n||n()}),c),{drawerProps:{...a,isExpanded:!1},drawerPanelContent:l}}))}),[c,m]),g=(0,l.useCallback)((({drawerProps:e,...t})=>{var a;const l=null===(a=null==d?void 0:d.drawerProps)||void 0===a?void 0:a.isExpanded;p||(f(!0),l?E({skipOnClose:!0}):m({drawerProps:{...e,isExpanded:!1},...t}),setTimeout((()=>{m({drawerProps:{...e,isExpanded:!0},...t}),setTimeout((()=>{f(!1)}),c)}),l?c:0))}),[E,d,c,p,f,m]),v=(0,l.useMemo)((()=>({openDrawer:g,closeDrawer:E})),[g,E]),{drawerProps:h,drawerPanelContent:_}=d;return n().createElement("div",{id:"app-drawer-div",ref:u},n().createElement(o.Provider,{value:v},n().createElement(r._s,{...h},n().createElement(i.z,{"data-testid":"appDrawerContent",panelContent:_},n().createElement(s.J,{className:"app-drawer-body"},e)))))}},98515:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppPage:()=>p});var l=a(93345),n=a.n(l),r=a(51513),i=a(7028),s=a(83689),o=a(24510),u=a(69304);const c=({env:e})=>n().createElement(o.F,{variant:"warning",isInline:!0,id:"env-override-message",title:n().createElement(n().Fragment,null,"Using the ",n().createElement("em",null,e)," environment API"),className:"pf-v5-u-flex-basis-0 pf-v5-u-flex-grow-1"},n().createElement(u.Link,{to:"/",reloadDocument:!0,onClick:()=>{localStorage.removeItem(r.ENV_OVERRIDE_LOCALSTORAGE_KEY)}},"Go back to ",n().createElement("strong",null,"staging")));var d=a(59759);const m=()=>n().createElement(o.F,{variant:"warning",isInline:!0,id:"env-override-message",title:n().createElement(n().Fragment,null,"Simulating a ",n().createElement("em",null,"restricted")," environment"),className:"pf-v5-u-flex-basis-0 pf-v5-u-flex-grow-1"},n().createElement(u.Link,{to:"/",reloadDocument:!0,onClick:()=>{localStorage.removeItem(r.RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY)}},"Remove ",n().createElement("strong",null,"restricted env")," override")),p=({children:e,title:t})=>{(0,l.useEffect)((()=>{t&&(document.title=t)}),[]);const a=!!localStorage.getItem(r.RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY);return n().createElement(s.AppDrawer,null,n().createElement("div",{className:"pf-v5-u-display-flex pf-v5-u-flex-direction-row"},a&&n().createElement(m,null),i.default.envOverride&&n().createElement(c,{env:i.default.envOverride})),n().createElement(d.default,null,e))}},59759:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(33675),i=a(24510),s=a(83741);class o extends n().Component{constructor(){super(...arguments),this.state={}}componentDidCatch(e,t){var a;this.setState({error:e.toString(),componentStack:null!==(a=t.componentStack)&&void 0!==a?a:void 0}),s.v4((a=>{a.setExtras({componentStack:t.componentStack}),s.Cp(e)}))}render(){const{error:e,componentStack:t}=this.state;if(e)return n().createElement(r.p,null,n().createElement(i.F,{variant:"danger",isInline:!0,title:"Something went wrong"},n().createElement("div",{style:{whiteSpace:"pre-wrap",textAlign:"left",fontFamily:"monospace"}},e,t)));const{children:a}=this.props;return a}}const u=o},57146:(e,t,a)=>{"use strict";a.d(t,{q:()=>l});const l=new(a(85055).E)({defaultOptions:{queries:{staleTime:1e3,refetchOnMount:"always",refetchInterval:!1,refetchOnWindowFocus:!0}}})},30219:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(83579),o=a(35787),u=a(8888);const c=({reason:e})=>n().createElement(r.n,{className:"ocm-c-revoke-tokens"},e&&n().createElement("p",{className:"pf-v5-u-mt-sm"},n().createElement("strong",null,e)),n().createElement(i.E,null,"To manage and revoke previous tokens:"),n().createElement(s.B8,{component:"ol"},n().createElement(o.c,null,"Navigate to the"," ",n().createElement(u.default,{href:"https://sso.redhat.com/auth/realms/redhat-external/account/#/applications"},n().createElement("b",null,"SSO application management"))," ","page."),n().createElement(o.c,null,"Locate the ",n().createElement("b",null,"cloud-services")," client ID, expand the row if necessary."),n().createElement(o.c,null,"Select ",n().createElement("b",null,"Remove access"),".")),n().createElement(i.E,null,"All refresh tokens will stop working immediately after you Remove access, but existing access tokens (which are cached by ",n().createElement("code",null,"ocm")," and ",n().createElement("code",null,"rosa")," commands) may take up to 15 minutes to expire."),n().createElement(i.E,null,"Refresh this page afterwards to generate a new token."))},58994:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var l=a(93345),n=a.n(l),r=a(43212),i=a(24510),s=a(75907),o=a(10046),u=a(30219);const c="invalid_grant",d=({token:e,command:t="{{TOKEN}}",showCommandOnError:a=!1,showInstructionsOnError:l=!0,textAriaLabel:d="Copyable token",className:m="",...p})=>{if(!e)return n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement("div",{className:"pf-v5-u-mb-xs"},n().createElement(s.A,{className:"progressing-icon"}),n().createElement("span",null,"Loading token, this might take a minute")),n().createElement(r.E,{fontSize:"md"}));const f=n().createElement(o.default,{className:m,textAriaLabel:d,outerClassName:"pf-v5-u-mt-md",...p},t.replace("{{TOKEN}}",e===c?"":e));return e===c?n().createElement(n().Fragment,null,a&&f,l&&n().createElement(i.F,{variant:"warning",isInline:!0,className:"pf-v5-u-mt-md",id:"invalid_grant-message",title:"Could not grant an offline token"},n().createElement(u.A,{reason:"You might have exceeded the maximum number of offline sessions."}))):f}},75070:(e,t,a)=>{"use strict";a.d(t,{z:()=>d});var l=a(42561),n=a.n(l),r=a(92068),i=a(84193),s=a.n(i);const o={realm:"redhat-external",clientId:"cloud-services",cookieName:"cs_jwt"},u={prod:{url:["access.redhat.com","prod.foo.redhat.com","cloud.redhat.com","console.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"},qa:{url:["qa.foo.redhat.com","qa.cloud.redhat.com","qa.console.redhat.com"],sso:"https://sso.qa.redhat.com/auth",portal:"https://access.qa.redhat.com"},ci:{url:["ci.foo.redhat.com","ci.cloud.redhat.com","ci.console.redhat.com"],sso:"https://sso.qa.redhat.com/auth",portal:"https://access.qa.redhat.com"},stage:{url:["stage.foo.redhat.com","cloud.stage.redhat.com","console.stage.redhat.com","fetest.stage.redhat.com"],sso:"https://sso.stage.redhat.com/auth",portal:"https://access.stage.redhat.com"},gov:{url:["gov.cloud.redhat.com","gov.console.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"},govStage:{url:["gov.cloud.stage.redhat.com","gov.console.stage.redhat.com"],sso:"https://sso.stage.redhat.com/auth",portal:"https://access.redhat.com"},dev:{url:["console.dev.redhat.com"],sso:"https://sso.redhat.com/auth",portal:"https://access.redhat.com"}},c="chrome.offline.redirectUri",d=(e,t,a)=>{a.auth.getOfflineToken().then((e=>{console.log("Tokens: getOfflineToken succeeded => scope",e.data.scope),window.parent&&window.parent.postMessage({tokenOrError:e.data.refresh_token},t)})).catch((a=>{var l,i,d;const m=n().isAxiosError(a)?a.toString():a,p=n().isAxiosError(a)?null===(i=null===(l=a.response)||void 0===l?void 0:l.data)||void 0===i?void 0:i.error:"";"not available"===a?(console.log('Tokens: getOfflineToken failed => "not available", running doOffline()'),(e=>{const t="noauth";localStorage.removeItem(c);const a=s()(window.location.href);a.removeSearch(t),a.addSearch(t,"2402500adeacc30eb5c5a8a5e2e0ec1f");const l=a.toString();l&&localStorage.setItem(c,l),Promise.resolve((async e=>{const t=Object.entries(e).find((([,{url:e}])=>e.includes(window.location.hostname)));return t?null==t?void 0:t[1].sso:"https://sso.qa.redhat.com/auth"})(u)).then((async t=>{const a={...o,promiseType:"native",redirectUri:l,url:t,checkLoginIframe:!1},n=new r.A(a);await n.init(a);const i=(()=>{const e=window.location.pathname.replace(/^\//,"");if(e.match(/^connect\/.+/))return`api.partner_link.${e.split("/")[1]}`})(),s=document.createElement("iframe"),u=n.createLoginUrl({prompt:"none",redirectUri:l,scope:"offline_access"+(i?` ${i}`:"")});s.setAttribute("src",u),s.setAttribute("title","keycloak-silent-check-sso"),s.style.display="none",document.body.appendChild(s);const c=t=>{t.origin===window.location.origin&&s.contentWindow===t.source&&"object"==typeof t.data&&t.data.tokenOrError&&(e(t.data.tokenOrError,t.data.errorReason),window.removeEventListener("message",c),document.body.removeChild(s))};window.addEventListener("message",c)}))})(e)):window.self!==window.parent?null===(d=window.parent)||void 0===d||d.postMessage({tokenOrError:m,errorReason:p},t):(console.log("Tokens: getOfflineToken failed =>",a),e(m,p))}))}},71870:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(31122);const i=()=>{const[e,t]=n().useState(),[a,l]=n().useState(!1),[i,s]=n().useState();return n().useEffect((()=>{(async()=>{var e,a;let n;s(void 0),l(!0);try{const a=await r.A.getCurrentAccount();(null===(e=a.data.organization)||void 0===e?void 0:e.id)&&(n=await r.A.getOrganization(a.data.organization.id),t(n.data))}catch(e){s(null===(a=null==e?void 0:e.response)||void 0===a?void 0:a.data)}finally{l(!1)}})()}),[]),{organization:e,isLoading:a,error:i}}},59368:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SyncEditorModal:()=>W});var l=a(93345),n=a.n(l),r=a(94359),i=a(16165),s=a(96998),o=a(96553),u=a(47144),c=a(72583),d=a(24510),m=a(57021),p=a(32803),f=a(72839),E=a(9670),g=a(81164),v=a(57823),h=a(39931),_=a(88301),S=a(45330),b=a(30144),C=a(13331);const y=({title:e,content:t,primaryActionLabel:a="Confirm",primaryAction:l,secondaryActionLabel:r="Cancel",secondaryAction:s,isOpen:o=!1,variant:u="small",closeCallback:d})=>o?n().createElement(i.a,{id:"confirmation-dialog",title:e,onClose:d,variant:u,isOpen:!0,actions:[n().createElement(c.$n,{key:"confirm",variant:"primary",onClick:()=>{l&&l(),d()}},a),n().createElement(c.$n,{key:"cancel",variant:"link",onClick:()=>{s&&s(),d()}},r)]},t):null;var I=a(81569);class A{configure(e,t){throw new Error("Method not implemented.")}}var R=a(84302);class T{configure(e,t){const{dispose:a}=(0,R.f)(e,{enableSchemaRequest:!0,validate:!0,format:!0,hover:!0,completion:!0,...t});return a}}class O{static createrLoader(e){return e===r.T.yaml?new T:new A}}const P=({content:e,onChange:t,isReadOnly:a,readOnlyMessage:r,schemas:i,isSideBarVisible:s,language:o,isDarkTheme:u,setValidationErrors:c})=>{const[d,m]=(0,l.useState)(e),[p,f]=(0,l.useState)(),[E,g]=(0,l.useState)(),[v,h]=(0,l.useState)(),_=(0,l.useCallback)(((e,t)=>{c&&e.length&&t&&c(e.reduce(((e,a)=>[...e,...t.editor.getModelMarkers({resource:a}).map((e=>e.message))]),[]))}),[c]),S=(0,l.useCallback)(((e,t)=>{const a=O.createrLoader(o).configure(t,{schemas:i});f((()=>()=>a())),e.focus(),g(e),t.editor.onDidChangeMarkers((e=>_(e,t)));const{width:l,height:n}=e.getLayoutInfo();h({width:l,height:n})}),[o,i,_]),b=(0,l.useCallback)(((e,a)=>{m(e),t(e)}),[t]);(0,l.useEffect)((()=>()=>{p&&p()}),[p]),(0,l.useEffect)((()=>{E&&E.layout(v)}),[s]);const C=(0,l.useMemo)((()=>n().createElement(I.Ay,{width:"100%",height:"100%",language:o,theme:u?"vs-dark":"vs-light",options:{selectOnLineNumbers:!0,minimap:{enabled:!0},quickSuggestions:{other:!0,comments:!0,strings:!0},readOnly:a,readOnlyMessage:r,fixedOverflowWidgets:!0,automaticLayout:!0},value:d,editorDidMount:S,onChange:b})),[o,u,a,r,d,S,b]);return n().createElement("div",{style:{height:"100%"}},C)},D=({schema:e})=>n().createElement("div",null,e);var L=a(59257),N=a(49318),w=a(62169),k=a(29962),F=a(13135);const M=navigator.userAgent.includes("Mac"),x=({shortcut:e})=>e[M?"Mac":"PC"].map((e=>n().createElement(F.v,{key:e,isReadOnly:!0},e))).reduce(((e,t)=>n().createElement(n().Fragment,null,[e," + ",t])));var G=a(30620),U=a(23215),H=a(4775),V=a(31358);const B={bodyContent:n().createElement(G.x,{span:6,hasGutter:!0,key:"grid"},[{PC:["F1"],Mac:["F1"],description:"View all editor shortcuts"},{PC:["Ctrl","F"],Mac:["⌥ Opt","F"],description:"Search"},{PC:["Ctrl","Space"],Mac:["⌥ Opt","Esc"],description:"Activate auto complete"},{PC:["Alt","Down"],Mac:["⌥ Opt","Down"],description:"Move a line down"},{PC:["Alt","Up"],Mac:["⌥ Opt","Up"],description:"Move a line up"},{PC:["Alt","F8"],Mac:["⌥ Opt","F8"],description:"View problem"},{PC:["🖱 Hover"],Mac:["🖱 Hover"],description:"View property descriptions"}].map(((e,t)=>n().createElement(n().Fragment,{key:`shortcut-${t}`},n().createElement(U.E,{style:{textAlign:"right",marginRight:"1em"}},n().createElement(x,{shortcut:e})),n().createElement(U.E,null,n().createElement(L.E,null,n().createElement(N.j,{variant:"indeterminate"},e.description))))))),"aria-label":"Shortcuts"},q=({shortcutsPopoverButtonText:e="View Shortcuts"})=>n().createElement(H.A,{...B},n().createElement(c.$n,{variant:c.Ak.link,icon:n().createElement(V.default,null)},e)),j={PC:["Ctrl","F1"],Mac:["⌥ Opt","F1"],description:"Accessibility help"},z=({isRequestPending:e,requestPendingMessage:t,requestErrorMessage:a,isSideBarVisible:l,isContentValid:r,toggleSideBar:i})=>n().createElement(s.s,{direction:{default:"column"}},e&&t?n().createElement(o.Z,null,n().createElement(d.F,{variant:"info",title:t})):null,a?n().createElement(o.Z,null,n().createElement(d.F,{variant:"danger",title:a})):null,r?null:n().createElement(o.Z,null,n().createElement(d.F,{variant:"danger",title:"Not valid content"},n().createElement("p",null,"There are validation errors. Please fix them before submitting the cluster creation request."))),n().createElement(s.s,null,n().createElement(o.Z,{align:{default:"alignRight"},spacer:{default:"spacerMd"}},n().createElement(s.s,null,n().createElement(o.Z,{align:{default:"alignRight"},spacer:{default:"spacerSm"}},n().createElement(x,{shortcut:j})),n().createElement(o.Z,null,n().createElement(L.E,null,n().createElement(N.j,{variant:"indeterminate"},j.description))))),n().createElement(w.c,{component:"div",orientation:{default:"vertical"},inset:{default:"insetMd"},className:"pf-m-spacer-none"}),n().createElement(o.Z,{spacer:{default:"spacerSm"}},n().createElement(q,null)),n().createElement(w.c,{component:"div",orientation:{default:"vertical"},inset:{default:"insetMd"},className:"pf-m-spacer-none"}),n().createElement(o.Z,null,n().createElement(c.$n,{variant:c.Ak.link,icon:n().createElement(k.InfoCircleIcon,null),onClick:i},l?"Hide":"Show"," sidebar")))),W=({isOpen:e,closeCallback:t,content:a,schema:I,submitButtonLabel:A,downloadFileName:R,onSubmit:T,translatorToObject:O,isRequestPending:L,isRequestFulfilled:N,requestErrorMessage:w,requestPendingMessage:k,closeWarningMessage:F,readOnlyMessage:M="Cannot edit on read-only."})=>{const[x,G]=(0,l.useState)(!0),[U,H]=(0,l.useState)(a),[V,B]=(0,l.useState)(!0),[q,j]=(0,l.useState)(!1),W=(0,l.useMemo)((()=>a!==U),[U,a]),$=(0,l.useCallback)((()=>{if(U){const e=document.createElement("a"),t=new Blob([U],{type:"text"});e.href=URL.createObjectURL(t),e.download=R,document.body.appendChild(e),e.click()}}),[R,U]),K=(0,l.useCallback)((()=>{W?j(!0):t()}),[t,W]),Y=(0,l.useCallback)((()=>{U&&T(O?O(U):U)}),[U,T,O]),Q=(0,l.useCallback)((e=>{L||K()}),[K,L]);(0,l.useEffect)((()=>{N&&t()}),[t,N]);const Z=(0,l.useCallback)((()=>B(!V)),[V]);return n().createElement(i.a,{title:"Edit YAML",isOpen:e,variant:i.d.large,onClose:K,id:"sync-editor-modal",showClose:!L,onEscapePress:Q,footer:n().createElement(s.s,null,n().createElement(o.Z,null,n().createElement(u.m,{trigger:x?"manual":"mouseenter",content:"There are validation errors. Please fix them before submitting the cluster\n                  creation request"},n().createElement(c.$n,{isAriaDisabled:L||!x,onClick:Y,className:"pf-v5-u-mr-md","data-testid":"submit-btn",isLoading:L},A)),n().createElement(c.$n,{variant:"secondary",onClick:K,isDisabled:L},"Cancel")),n().createElement(o.Z,{align:{default:"alignRight"}},F?n().createElement(d.F,{variant:"warning",isInline:!0,isPlain:!0,title:F}):null),n().createElement(o.Z,{align:{default:"alignRight"}},n().createElement(c.$n,{variant:"primary",isDisabled:!U,icon:n().createElement(C.DownloadIcon,null),onClick:$},"Download")))},n().createElement(n().Fragment,null,n().createElement(m.B,{hasBorder:!0,isPanelRight:!0},n().createElement(p.Y,null,n().createElement(z,{isRequestPending:L,requestPendingMessage:k,requestErrorMessage:w,isContentValid:x,isSideBarVisible:V,toggleSideBar:Z})),V?n().createElement(f.r,{width:{default:"width_25"},variant:"sticky"},n().createElement(E.h,{headingLevel:"h2",className:"pf-v5-u-pl-sm"},"ROSA cluster creation")):null),n().createElement(m.B,{style:{overflow:"auto"},tabIndex:0,hasBorder:!0,isPanelRight:!0},n().createElement(p.Y,{style:{height:"600px"}},n().createElement(P,{content:U,onChange:H,isReadOnly:L,readOnlyMessage:{value:M},schemas:[I],isSideBarVisible:V,isDarkTheme:!0,language:r.T.yaml,setValidationErrors:e=>G(0===e.length)})),V?n().createElement(f.r,{width:{default:"width_25"},variant:"sticky"},n().createElement(g.t,{activeKey:0},n().createElement(v.o,{eventKey:0,title:n().createElement(h.V,null,"Schema")},n().createElement(_.Z,null,n().createElement(S.s,null,n().createElement(b.y,null,n().createElement(D,{schema:JSON.stringify(I)}))))))):null),n().createElement(y,{title:"Close editor without saving?",content:"All changes will be lost.",primaryActionLabel:"Close",primaryAction:t,secondaryActionLabel:"Cancel",isOpen:q,closeCallback:()=>j(!1)})))}},15077:(e,t,a)=>{"use strict";a.r(t),a.d(t,{columns:()=>T,default:()=>O,sortColumns:()=>R});var l=a(93345),n=a.n(l),r=a(43212),i=a(33675),s=a(86130),o=a(54169),u=a(75279),c=a(57691),d=a(76792),m=a(11318),p=a(74160),f=a(2442),E=a(69673),g=a(15402),v=a(97192),h=a(69304),_=a(13642),S=a(6071),b=a(12200),C=a(43775),y=a(49422),I=a(23271),A=a(56859);const R={Name:"display_name",Status:"status",Type:"type",Provider:"provider"},T={name:{title:"Name",width:30,sortIndex:R.Name,apiSortOption:!0},type:{title:"Type",sortIndex:R.Type},status:{title:"Status",sortIndex:R.Status,apiSortOption:!0},provider:{title:"Provider (Location)",visibility:["visibleOnLg","hiddenOnMd","hiddenOnSm"],sortIndex:R.Provider},actions:{title:"",screenReaderText:"cluster actions"}},O=({setSort:e,clusters:t,openModal:a,activeSortDirection:l,activeSortIndex:R,isPending:O})=>{const P=Object.keys(T).map(((t,a)=>{const r=T[t],i=r.sortIndex&&r.apiSortOption?(s=r.sortIndex,{sortBy:{index:R,direction:l,defaultDirection:p.l.asc},onSort:(t,a,l)=>{e(a,l)},columnIndex:s}):void 0;var s;return n().createElement(f.Th,{width:r.width,visibility:r.visibility,sort:i,key:a},r.screenReaderText?n().createElement("span",{className:"pf-v5-screen-reader"},r.screenReaderText):null,r.title)}));return O||t&&0!==t.length?n().createElement(E.X,{"aria-label":"Archived clusters"},n().createElement(g.d,null,n().createElement(d.Tr,null,P)),n().createElement(v.N,null,O?[...Array(10).keys()].map((e=>n().createElement(d.Tr,{key:e,"data-testid":"skeleton"},n().createElement(m.Td,{colSpan:7},n().createElement(r.E,{screenreaderText:"loading cluster"}))))):t.map((e=>(e=>{var t,l,r,i,s,o;const u=null!==(l=null===(t=e.cloud_provider)||void 0===t?void 0:t.id)&&void 0!==l?l:"N/A",c=(0,S.default)(e),p=n().createElement(h.Link,{to:`/details/s/${null===(r=e.subscription)||void 0===r?void 0:r.id}`},c),f=(0,I.getClusterStateAndDescription)(e).description,E=!e.canEdit&&"You do not have permissions to unarchive this cluster",g=n().createElement(b.default,{variant:"secondary",onClick:()=>a(C.default.UNARCHIVE_CLUSTER,{subscriptionID:e.subscription?e.subscription.id:"",name:c,shouldDisplayClusterName:!0}),disableReason:E},"Unarchive"),v=(null===(i=e.subscription)||void 0===i?void 0:i.status)!==_.SubscriptionCommonFields.status.DEPROVISIONED?g:null;return n().createElement(d.Tr,{key:e.id},n().createElement(m.Td,{dataLabel:T.name.title},p),n().createElement(m.Td,{dataLabel:T.type.title},n().createElement(A.default,{cluster:e})),n().createElement(m.Td,{dataLabel:T.status.title},n().createElement("span",{className:"cluster-status-string"},f)),n().createElement(m.Td,{dataLabel:T.provider.title,visibility:T.provider.visibility},n().createElement(y.ClusterLocationLabel,{regionID:null!==(o=null===(s=e.region)||void 0===s?void 0:s.id)&&void 0!==o?o:"N/A",cloudProviderID:u})),n().createElement(m.Td,{isActionCell:!0},v))})(e))))):n().createElement(i.p,null,n().createElement(s.o,{titleText:"No archived clusters found.",icon:n().createElement(o.q,{icon:c.default}),headingLevel:"h4"}),n().createElement(u.h,null,"This filter criteria matches no clusters.",n().createElement("br",null),"Try changing your filter settings."))}},48539:(e,t,a)=>{"use strict";a.r(t),a.d(t,{eventTypes:()=>v,getSubscriptionLastReconciledDate:()=>s,hasCpuAndMemory:()=>i,isArchivedSubscription:()=>c,isExtenalAuthenicationActive:()=>g,isHypershiftCluster:()=>n.isHypershiftCluster,isMPoolAz:()=>u,isMultiAZ:()=>o,isReadyForAwsAccessActions:()=>p,isReadyForExternalActions:()=>E,isReadyForIdpActions:()=>f,isReadyForRoleAccessActions:()=>m});var l=a(93413),n=a(23271),r=a(13642);const i=(e,t)=>!(!e||!t||(null==e?void 0:e.updated_timestamp)&&new Date(e.updated_timestamp).getTime()<0||(null==t?void 0:t.updated_timestamp)&&new Date(t.updated_timestamp).getTime()<0||void 0===(null==e?void 0:e.total.value)||void 0===(null==t?void 0:t.total.value)),s=e=>!(!e.last_reconcile_date||e.last_reconcile_date===l.goZeroTime)&&new Date(e.last_reconcile_date).toLocaleString(),o=e=>!(0,n.isHypershiftCluster)(e)&&!0===e.multi_az,u=(e,t)=>!!(o(e)&&t&&t>1||o(e)&&!t),c=e=>{var t,a;return(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.SubscriptionCommonFields.status.ARCHIVED||(null===(a=e.subscription)||void 0===a?void 0:a.status)===r.SubscriptionCommonFields.status.DEPROVISIONED},d=(e,t)=>{var a;return!0===e.managed&&(!t||!["",void 0].includes(null===(a=e.console)||void 0===a?void 0:a.url))&&(e.state===n.default.READY||(0,n.isHibernating)(e))&&!c(e)},m=e=>d(e,!1),p=e=>{var t,a;return m(e)&&"aws"===(null===(t=e.cloud_provider)||void 0===t?void 0:t.id)&&!(null===(a=e.ccs)||void 0===a?void 0:a.enabled)},f=e=>d(e,!(0,n.isHypershiftCluster)(e)),E=e=>d(e,!1),g=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.external_auth_config)||void 0===t?void 0:t.enabled)&&void 0!==a&&a&&(0,n.isHypershiftCluster)(e)},v={CLICKED:"clicked",AUTO:"auto",NONE:""}},22118:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ExternalAuthenticationSection:()=>ne});var l=a(93345),n=a.n(l),r=a(60915),i=a(983),s=a(9670),o=a(65702),u=a(8888),c=a(47144),d=a(72583),m=a(96998),p=a(96553),f=a(17957),E=a(2923),g=a(69673),v=a(29230),h=a(15402),_=a(76792),S=a(2442),b=a(97192),C=a(11318),y=a(55816),I=a(25982),A=a(57146),R=a(96678),T=a(36817),O=a(16236);const P=()=>{A.q.invalidateQueries({queryKey:[T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchBreakGlassCredentials"]})};var D=a(57434),L=a(17629),N=a(12200),w=a(16165),k=a(73113),F=a(36070);const M=({textOutput:e,disabled:t})=>{const a=new Blob([e],{type:"text/plain"});return n().createElement(d.$n,{component:"a",variant:"primary",download:"kubeConfig.txt",target:"_blank",rel:"noreferrer",href:URL.createObjectURL(a),isDisabled:t},"Download")};function x(e){const{clusterID:t,onClose:a,credential:l,region:r,isOpen:i=!0}=e,{data:s,isLoading:o,isError:u,error:c}=((e,t="",a="")=>{const{data:l,isLoading:n,isError:r,error:i}=(0,I.I)({queryKey:[T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchBreakGlassCredentialDetails"],queryFn:async()=>e?(0,O.getClusterServiceForRegion)(e).getBreakGlassCredentialDetails(t,a):O.default.getBreakGlassCredentialDetails(t,a),enabled:!!t&&!!a});if(r){const e=(0,R.formatErrorData)(n,r,i);return{data:null==l?void 0:l.data,isLoading:n,isError:r,error:e}}return{data:null==l?void 0:l.data,isLoading:n,isError:r,error:i}})(r,t,null==l?void 0:l.id),m=()=>{a()};return n().createElement(w.a,{id:"edit-mp-modal",title:`${null==l?void 0:l.username} credentials`,onClose:m,variant:"medium",description:"Use these temporary credentials to access your cluster.",isOpen:i,actions:[n().createElement(M,{textOutput:(null==s?void 0:s.kubeconfig)||"",disabled:o||!(null==s?void 0:s.kubeconfig)}),n().createElement(d.$n,{key:"cancel",variant:"secondary",onClick:m},"Cancel")]},"revoked"===(null==s?void 0:s.status)?"Credentials have been revoked.":"created"===(null==s?void 0:s.status)?"Credentials are being created. Try again later.":"Here are the credentials",u&&n().createElement(k.a,null,n().createElement(y.default,{message:"A problem occurred while retrieving credential",response:{errorMessage:c.error.reason,operationID:c.error.operationID}})),n().createElement(F.Ck,{isReadOnly:!0,variant:F.$X.expansion},o?"Loading...":(null==s?void 0:s.kubeconfig)||"No kubeconfig"))}var G=a(88139),U=a(12664),H=a(90678),V=a(20491),B=a(77051),q=a(75913),j=a(28592),z=a(82309);function W(e){const{clusterId:t,isNewModalOpen:a,onClose:l,credentialList:r,region:i}=e,{isPending:s,isError:o,error:u,mutate:c,reset:m}=((e,t="")=>{const{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}=(0,z.n)({mutationKey:["postBreakGlassCredentials"],mutationFn:async a=>e?(0,O.getClusterServiceForRegion)(e).postBreakGlassCredentials(t,a):O.default.postBreakGlassCredentials(t,a)});return n?{data:a,isPending:l,isError:n,error:(0,R.formatErrorData)(l,n,r),mutate:i,reset:s}:{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}})(i,t),p=e=>{const t=new Date;return new Date(t.setHours(t.getHours()+e)).toISOString()},f=()=>{m(),l()};return a?n().createElement(G.Formik,{initialValues:{username:"",expiration:1},validationSchema:U.object({username:U.string().matches(/^[a-zA-Z0-9-]+$/,"Only alphanumeric characters and hyphens are allowed").max(64,"Must be 64 characters or less").required("Required").notOneOf(r||[],"Username already exists"),expiration:U.number().integer("Only integer numbers allowed").min(1).max(24).test("is-integer","expiration must be an integer",(e=>Number.isInteger(e)))}),onSubmit:async e=>{const t={username:e.username,expiration_timestamp:p(e.expiration||1)};c(t,{onSuccess:()=>l()})}},(e=>n().createElement(j.default,{id:"add-break-glass-credential-modal",title:"Add break glass credential",onClose:f,modalSize:"small",description:"Add a break glass credential to access the cluster.",footer:n().createElement(H.B,{hasGutter:!0},o&&n().createElement(k.a,null,n().createElement(y.default,{message:"A problem occurred while adding credential",response:{errorMessage:u.error.reason,operationID:u.error.operationID}})),n().createElement(k.a,null,n().createElement(d.$n,{onClick:e.submitForm,className:"pf-v5-u-mr-md","data-testid":"submit-btn",isDisabled:!e.isValid||!e.dirty||e.isSubmitting||s,isLoading:s},"Add"),n().createElement(d.$n,{variant:"secondary",onClick:f,isDisabled:e.isSubmitting||s},"Cancel")))},n().createElement(V.l,null,n().createElement(q.default,{fieldId:"username",label:"Username",isRequired:!0}),n().createElement(B.NumberInputField,{fieldId:"expiration",label:"Hours until credentials expire",isRequired:!0,min:1,max:24,helpText:"Expiration time will be 1 - 24 hours from now."}))))):null}const $=e=>{const{clusterId:t,onClose:a,region:l,isOpen:r=!0}=e,{isPending:i,isError:s,error:o,mutate:u,reset:c}=((e,t)=>{const{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}=(0,z.n)({mutationKey:["revokeBreakGlassCredentials"],mutationFn:async()=>t?(0,O.getClusterServiceForRegion)(t).revokeBreakGlassCredentials(e):O.default.revokeBreakGlassCredentials(e)});return n?{data:a,isPending:l,isError:n,error:(0,R.formatErrorData)(l,n,r),mutate:i,reset:s}:{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}})(t,l),p=()=>{c(),a()};return n().createElement(w.a,{title:"Revoke all credentials for cluster",onClose:p,isOpen:r,variant:"medium",actions:[n().createElement(d.$n,{key:"revoke",variant:"primary",isDisabled:i,isLoading:i,onClick:()=>{u(),p()}},"Revoke all"),n().createElement(d.$n,{key:"cancel",variant:"secondary",onClick:p},"Cancel")]},s?n().createElement(y.default,{message:"A problem occurred while deleting the credentials.",response:{errorMessage:o.error.errorMessage,operationID:o.error.operationID}}):n().createElement(m.s,{direction:{default:"column"}},n().createElement("p",null,"This action cannot be undone. It will permanently revoke all credentials.")))},K=({subscriptionID:e,clusterID:t,region:a})=>{const[l,r]=n().useState(void 0),[i,s]=n().useState(!1),[o,u]=n().useState(!1),[A,w]=n().useState(!1),{canUpdateBreakGlassCredentials:k}=(0,D.eA)(e||"",T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{data:F,isLoading:M,isError:G,error:U,isFetching:H}=((e,t,a="")=>{const{data:l,isLoading:n,isError:r,isFetching:i,error:s}=(0,I.I)({queryKey:[T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchBreakGlassCredentials"],queryFn:async()=>t?(0,O.getClusterServiceForRegion)(t).getBreakGlassCredentials(a):O.default.getBreakGlassCredentials(a),enabled:!!e});if(r){const e=(0,R.formatErrorData)(n,r,s);return{data:null==l?void 0:l.data.items,isLoading:n,isError:r,error:e,isFetching:i}}return{data:null==l?void 0:l.data.items,isLoading:n,isError:r,error:s,isFetching:i}})(k,a,t),V=!k&&"You do not have permission to create new credentials for this cluster.",B=(M||!(null==F?void 0:F.some((e=>e.status===L.BreakGlassCredentialStatus.ISSUED&&!F.some((e=>e.status===L.BreakGlassCredentialStatus.AWAITING_REVOCATION))))))&&"There must be at least one issued credential without a pending revocation.";return n().createElement(n().Fragment,null,i&&n().createElement(x,{clusterID:t||"",region:a,onClose:()=>{s(!1)},credential:l}),n().createElement(W,{clusterId:t||"",isNewModalOpen:o,onClose:()=>{u(!1),P()},credentialList:(null==F?void 0:F.map((e=>e.username||"")))||[],region:a}),n().createElement(m.s,null,n().createElement(p.Z,null,n().createElement(N.default,{className:"access-control-add",variant:"secondary",onClick:()=>u(!0),disableReason:V},"New credentials")),(null==F?void 0:F.length)&&k?n().createElement(n().Fragment,null,n().createElement(p.Z,{align:{default:"alignRight"}},n().createElement(N.default,{className:"access-control-add",variant:"danger",onClick:()=>{w(!0)},disableReason:B},"Revoke all credentials")),n().createElement(p.Z,null,n().createElement(N.default,{className:"access-control-add",variant:"plain",onClick:()=>P(),isDisabled:M||H},n().createElement(f.I,null,n().createElement(E.default,null))))):null),(null==F?void 0:F.length)?n().createElement(g.X,{"aria-label":"break glass credential table",variant:"compact"},n().createElement(v.H,null,"Assigned credentials"),n().createElement(h.d,null,n().createElement(_.Tr,null,n().createElement(S.Th,null,"ID"),n().createElement(S.Th,null,"Username"),n().createElement(S.Th,null,"Expires"),n().createElement(S.Th,null,"Status"))),n().createElement(b.N,null,null==F?void 0:F.map((e=>n().createElement(_.Tr,{key:e.id},n().createElement(C.Td,null,e.id),n().createElement(C.Td,null,e.username),n().createElement(C.Td,null,new Date(e.expiration_timestamp).toLocaleString("en-CA")),n().createElement(C.Td,null,e.status===L.BreakGlassCredentialStatus.ISSUED?n().createElement(c.m,{content:"Download credentials to access cluster as admin."},n().createElement(d.$n,{variant:"link",onClick:()=>{return t=e,s(!0),void r(t);var t}},"Credentials issued")):(e=>{let t,a;switch(e){case L.BreakGlassCredentialStatus.ISSUED:t="Credentials issued",a="Credentials issued";break;case L.BreakGlassCredentialStatus.REVOKED:t="Revoked",a="Credentials have been manually revoked and are no longer valid.";break;case L.BreakGlassCredentialStatus.AWAITING_REVOCATION:t="Awaiting Revocation",a="Credentials are awaiting revocation. No other revocation can occur until this completes.";break;case L.BreakGlassCredentialStatus.EXPIRED:t="Expired",a="Credentials have passed their expiration date and are no longer valid.";break;case L.BreakGlassCredentialStatus.CREATED:t="Pending",a="Credentials have been created but not yet issued kubeconfig.";break;case L.BreakGlassCredentialStatus.FAILED:t="Failed",a="Unable to create credentials.";break;default:t="Unknown status",a="Unknown status"}return n().createElement(c.m,{content:a},n().createElement(d.$n,{variant:"plain"},t))})(e.status||void 0))))))):null,G&&n().createElement(y.default,{message:"A problem occurred while retrieving credentials",response:{errorMessage:U.error.errorMessage,operationID:U.error.operationID}}),A&&n().createElement($,{clusterId:t||"",region:a,onClose:()=>{w(!1),r(void 0),setTimeout((()=>{P()}),500)}}))};var Y=a(73069);const Q=()=>{A.q.invalidateQueries({queryKey:[T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchExternalAuths"]})};var Z=a(23285);const X=e=>{const{clusterId:t,externalAuthProvider:a,onClose:l,isOpen:r=!0,region:i}=e,[s,o]=n().useState(""),{isPending:u,isError:c,error:p,mutate:f,reset:E}=((e,t="")=>{const{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}=(0,z.n)({mutationKey:["deleteExternalAuth"],mutationFn:async a=>e?(0,O.getClusterServiceForRegion)(e).deleteExternalAuth(t,a):O.default.deleteExternalAuth(t,a)});return n?{data:a,isPending:l,isError:n,error:(0,R.formatErrorData)(l,n,r),mutate:i,reset:s}:{data:a,isPending:l,isError:n,error:r,mutate:i,reset:s}})(i,t),g=()=>{o(""),E(),l()},v=s===(null==a?void 0:a.id);return n().createElement(w.a,{title:`Delete provider: ${null==a?void 0:a.id}`,onClose:g,isOpen:r,variant:"medium",actions:[n().createElement(d.$n,{key:"delete",variant:"primary",isDisabled:u||!v,isLoading:u,onClick:()=>{f((null==a?void 0:a.id)||"",{onSuccess:()=>{Q(),g()}})}},"Delete"),n().createElement(d.$n,{key:"cancel",variant:"secondary",onClick:g},"Cancel")]},n().createElement(m.s,{direction:{default:"column"}},n().createElement("p",null,"This action cannot be undone. It will permanently remove the external authentication provider ",null==a?void 0:a.id,"."),n().createElement("p",null,"Confirm deletion by typing ",n().createElement("strong",null,null==a?void 0:a.id)," below:"),n().createElement(V.l,{onSubmit:e=>{e.preventDefault(),v&&f(s)}},n().createElement(Z.ks,{type:"text",value:s,placeholder:"Enter name",onChange:(e,t)=>o(t),"aria-label":"provider name to delete"}))),c&&n().createElement(H.B,{hasGutter:!0},n().createElement(k.a,null,n().createElement(y.default,{message:`Failed to delete external auth provider: ${null==a?void 0:a.id}`,response:{errorMessage:p.error.errorMessage,operationID:p.error.operationID}}))))};var J=a(89217),ee=a(84037),te=a(67548);function ae(e){var t,a,l,r,i,s,o,u,c,m,p,f,E;const{clusterID:g,onClose:v,externalAuthProvider:h,isEdit:_,region:S,isOpen:b=!0}=e,{isPending:C,isError:I,error:A,mutate:T}=((e,t)=>{const{data:a,isPending:l,isError:n,error:r,mutate:i}=(0,z.n)({mutationKey:["addEditExternalAuth"],mutationFn:async({values:a,externalAuthProviderId:l})=>{const n=t?(0,O.getClusterServiceForRegion)(t):O.default;return l?(0,n.patchExternalAuth)(e||"",l,a):(0,n.postExternalAuth)(e||"",a)}});return n?{data:a,isPending:l,isError:n,error:(0,R.formatErrorData)(l,n,r),mutate:i}:{data:a,isPending:l,isError:n,error:r,mutate:i}})(g,S),P=null===(t=null==h?void 0:h.clients)||void 0===t?void 0:t.find((e=>{var t;return"console"===(null===(t=e.component)||void 0===t?void 0:t.name)}));return n().createElement(G.Formik,{initialValues:{id:(null==h?void 0:h.id)||"",issuer:(null===(a=null==h?void 0:h.issuer)||void 0===a?void 0:a.url)||"",groups:(null===(i=null===(r=null===(l=null==h?void 0:h.claim)||void 0===l?void 0:l.mappings)||void 0===r?void 0:r.groups)||void 0===i?void 0:i.claim)||"groups",username:(null===(u=null===(o=null===(s=null==h?void 0:h.claim)||void 0===s?void 0:s.mappings)||void 0===o?void 0:o.username)||void 0===u?void 0:u.claim)||"email",audiences:(null===(m=null===(c=null==h?void 0:h.issuer)||void 0===c?void 0:c.audiences)||void 0===m?void 0:m.join(", "))||"",provider_ca:""!==(null===(f=null===(p=null==h?void 0:h.issuer)||void 0===p?void 0:p.ca)||void 0===f?void 0:f.trim())?null===(E=null==h?void 0:h.issuer)||void 0===E?void 0:E.ca:"",consoleClientID:(null==P?void 0:P.id)||"",consoleClientSecret:""},validationSchema:U.object().shape({id:U.string().matches(/^[a-z]([-a-z0-9]*[a-z0-9])?$/,"Only lowercase alphanumeric characters and hyphens are allowed. Value must start with a letter and end with an alphanumeric.").max(15,"Must be 15 characters or less").required("Required"),issuer:U.string().max(255,"Must be 255 characters or less").required("Required").url("Invalid URL: example https://redhat.com").test("secure-url","URL must be https",(e=>(0,ee.validateSecureURL)(e))),groups:U.string().matches(/^[a-zA-Z0-9-]+$/,"Only alphanumeric characters and hyphens are allowed").required("Required"),username:U.string().matches(/^[a-zA-Z0-9-]+$/,"Only alphanumeric characters and hyphens are allowed").required("Required"),audiences:U.string().required("Required"),consoleClientID:U.string().when("consoleClientSecret",{is:e=>e,then:e=>e.required("Client ID is required when client secret is provided"),otherwise:e=>e}).test("is-member-of-audience","Client ID must be a member of the audiences",((e,t)=>{var a;return!e||(null===(a=t.parent.audiences)||void 0===a?void 0:a.split(",").map((e=>e.trim())).includes(e||""))})),consoleClientSecret:U.string().when("consoleClientID",{is:e=>e&&(null==P?void 0:P.id)!==e,then:e=>e.required("Client secret is required when client ID is provided"),otherwise:e=>e})},[["consoleClientID","consoleClientSecret"]]),onSubmit:async e=>{const t=(e=>{var t;const a={clients:[{component:{name:"console",namespace:"openshift-console"},id:e.consoleClientID,secret:e.consoleClientSecret}]},l={id:e.id,issuer:{url:e.issuer,audiences:null===(t=null==e?void 0:e.audiences)||void 0===t?void 0:t.split(",").map((e=>e.trim())),ca:e.provider_ca},claim:{mappings:{username:{claim:e.username},groups:{claim:e.groups}}}};return e.consoleClientID&&e.consoleClientSecret?{...l,...a}:l})(e);T({values:t,externalAuthProviderId:null==h?void 0:h.id},{onSuccess:()=>{Q(),v()}})}},(e=>n().createElement(w.a,{id:"edit-ext-auth-provider-modal",title:_?`Edit provider ${null==h?void 0:h.id}`:"Add external authentication provider",onClose:v,isOpen:b,variant:"medium",description:!_&&"An external authentication provider controls access to your cluster. You can add one provider to your cluster.",actions:[n().createElement(d.$n,{key:"add-ext-auth-provider",isDisabled:C,isLoading:C,onClick:e.submitForm},_?"Save":"Add"),n().createElement(d.$n,{key:"cancel",variant:"secondary",onClick:v},"Cancel")]},n().createElement(V.l,null,!_&&n().createElement(q.default,{fieldId:"id",label:"Name",isRequired:!0}),n().createElement(q.default,{fieldId:"issuer",label:"Issuer URL",isRequired:!0}),n().createElement(q.default,{fieldId:"audiences",label:"Audiences",isRequired:!0,helpText:"The audience IDs that this authentication provider issues tokens for. Use commas to separate multiple audiences."}),n().createElement(q.default,{fieldId:"groups",label:"Groups mapping",isRequired:!0}),n().createElement(q.default,{fieldId:"username",label:"Username mapping",isRequired:!0}),n().createElement(q.default,{fieldId:"consoleClientID",label:"Console client ID",helpText:"The console identifier of the OIDC client from the OIDC provider. Once set, a client ID can be modified by not removed."}),n().createElement(q.default,{fieldId:"consoleClientSecret",label:"Console client secret",helpText:"The console secret of the OIDC client from the OIDC provider.",placeHolderText:(null==P?void 0:P.id)&&e.values.consoleClientID===(null==P?void 0:P.id)?"Secret not displayed":""}),n().createElement(G.Field,{component:te.default,onChange:t=>e.setFieldValue("provider_ca",t),input:{name:"provider_ca",value:e.values.provider_ca,onChange:t=>e.setFieldValue("provider_ca",t),onBlur:e.handleBlur},name:"provider_ca",label:"CA file",helpText:"PEM encoded certificate bundle to use to validate server certificates for the configured issuer URL.",certValue:_?e.values.provider_ca:""})),I&&n().createElement(H.B,{hasGutter:!0},n().createElement(k.a,null,n().createElement(y.default,{message:_?"Error editing provider":"Error adding provider",response:{errorDetails:A.error.errorDetails,errorMessage:(0,J.getErrorMessage)({payload:A.error}),operationID:A.error.operationID}}))))))}const le=({clusterID:e,canUpdateClusterResource:t,region:a})=>{const[l,r]=n().useState(!1),[i,s]=n().useState(!1),[o,u]=n().useState(void 0),{data:c,isError:d,error:m}=((e,t="")=>{const{data:a,isLoading:l,isError:n,error:r}=(0,I.I)({queryKey:[T.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchExternalAuths"],queryFn:async()=>{if(e){const a=(0,O.getClusterServiceForRegion)(e);return await a.getExternalAuths(t)}return await O.default.getExternalAuths(t)}});if(n){const e=(0,R.formatErrorData)(l,n,r);return{data:null==a?void 0:a.data.items,isLoading:l,isError:n,error:e}}return{data:null==a?void 0:a.data.items,isLoading:l,isError:n,error:r}})(a,e),p=!t&&"You do not have permission to create a new provider for this cluster.";return d?n().createElement(y.default,{message:"A problem occurred while getting provider",response:{errorMessage:m.error.errorMessage,operationID:m.error.operationID}}):n().createElement(n().Fragment,null,(null==c?void 0:c.length)?null:n().createElement(N.default,{className:"access-control-add",variant:"secondary",onClick:()=>r(!0),disableReason:p},"Add external authentication provider"),l?n().createElement(ae,{clusterID:e||"",onClose:()=>{r(!1),u(void 0)},region:a,externalAuthProvider:o,isEdit:!!o}):null,(null==c?void 0:c.length)?n().createElement(g.X,{"aria-label":"External authentication providers table",variant:"compact"},n().createElement(v.H,null,"External authentication provider"),n().createElement(h.d,null,n().createElement(_.Tr,null,n().createElement(S.Th,null,"Name"),n().createElement(S.Th,null,"Issuer URL"),n().createElement(S.Th,null,"Audiences"),n().createElement(S.Th,{screenReaderText:"Action Menu","aria-label":"Action Menu"}))),n().createElement(b.N,null,null==c?void 0:c.map((e=>{var a,l,i,o,c;const d=(e=>[{title:"Edit",onClick:()=>(e=>{r(!0),u(e)})(e)},{title:"Delete",onClick:()=>(e=>{s(!0),u(e)})(e)}])(e);return n().createElement(_.Tr,{key:e.id},n().createElement(C.Td,null,e.id),n().createElement(C.Td,null,null!==(l=null===(a=e.issuer)||void 0===a?void 0:a.url)&&void 0!==l?l:""),n().createElement(C.Td,null,null!==(c=null===(o=null===(i=e.issuer)||void 0===i?void 0:i.audiences)||void 0===o?void 0:o.join(", "))&&void 0!==c?c:""),n().createElement(C.Td,{isActionCell:!0},t&&n().createElement(Y.G,{items:d})))})))):null,n().createElement(X,{externalAuthProvider:null!=o?o:void 0,clusterId:e||"",onClose:()=>{s(!1),u(void 0)},region:a,isOpen:i}))},ne=({clusterID:e,subscriptionID:t,canUpdateClusterResource:a,region:l})=>n().createElement(r.Z,null,n().createElement(i.b,null,n().createElement(s.h,{className:"card-title",headingLevel:"h3",size:"lg"},"External authentication"),n().createElement("p",null,"Allow authentication to be handled by an external provider.",n().createElement(u.default,{href:o.default.ROSA_HCP_EXT_AUTH}," Learn more.")),n().createElement(le,{clusterID:e,canUpdateClusterResource:a,region:l})),n().createElement(i.b,null,n().createElement(s.h,{className:"card-title",headingLevel:"h3",size:"lg"},"Credentials"),n().createElement("p",null,"Allows temporary admin access to the cluster using kubeconfig file.",n().createElement(u.default,{href:o.default.ROSA_HCP_BREAK_GLASS}," Learn more.")),n().createElement(K,{subscriptionID:t,clusterID:e,region:l})))},78045:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ie});var l=a(93345),n=a.n(l),r=a(58156),i=a.n(r),s=a(55378),o=a.n(s),u=a(71468),c=a(4775),d=a(72583),m=a(17957),p=a(60915),f=a(6229),E=a(983),g=a(72972),v=a(9670),h=a(31358),_=a(76792),S=a(11318),b=a(73069),C=a(69673),y=a(73683),I=a(15402),A=a(2442),R=a(97192),T=a(76980),O=a(82309),P=a(96678),D=a(90020),L=a(25982),N=a(57146);const w=()=>{N.q.resetQueries({queryKey:["fetchOCMRoles"]})};var k=a(25514),F=a(12200),M=a(55816),x=a(91089),G=a(43775),U=a(48539),H=a(88139),V=a(17661),B=a(20491),q=a(56780),j=a(51976),z=a(22069),W=a(23285),$=a(22563),K=a(81995),Y=a(97862),Q=a(38715),Z=a(14419),X=a(75166),J=a(28592),ee=a(55213);function te({onSubmit:e,row:t,productId:a,isGrantOcmRolePending:r,isGrantOcmRoleError:i,isGrantOcmRoleSuccess:s,grantOcmRoleError:o}){const[c,d]=(0,l.useState)(t.usernameValue||""),[m,p]=(0,l.useState)(""),[f,E]=(0,l.useState)(""),[g,v]=(0,l.useState)(X.ocmRoles.CLUSTER_EDITOR.id),[h,_]=(0,l.useState)(!1),[S,b]=(0,l.useState)(!1),C=(0,k.useGlobalState)((e=>(0,Z.default)(e,G.default.OCM_ROLES))),y=(0,u.wA)();(0,l.useEffect)((()=>{C&&(d(t.usernameValue),v(t.roleValue||X.ocmRoles.CLUSTER_EDITOR.id),p(""),E(""),_(!1))}),[C]);const I=()=>{y((0,x.closeModal)()),b(!1)};if((0,l.useEffect)((()=>{var e;if(r)E(""),_(!0);else if(s)I();else if(i&&o){if(404===o.error.errorCode)E("This Red Hat login could not be found.");else if(400===o.error.errorCode&&o.error.reason&&o.error.reason.toString().includes("belong to different organizations"))E("This Red Hat login is not part of your organization.");else{const t=((null===(e=o.error.reason)||void 0===e?void 0:e.toString())||"Unknown Error").split(/\r?\n/).pop();E(t&&t.endsWith(".")?t:`${t}.`)}_(!1)}}),[r,s,i,o]),!C)return null;const A=e=>(E(""),e?(p(""),_(!1),!0):(p("Red Hat login cannot be empty."),_(!0),!1)),R=()=>{b(!S)},T=t.isCreating?"Grant role":"Edit role",O=t.isCreating?"Grant role":"Edit role",P=Object.values(X.ocmRoles).filter((e=>!a||!e.excludeProductIds||!e.excludeProductIds.some((e=>e===a)))),D=e=>{var t;return n().createElement(V.S,{ref:e,onClick:R,isExpanded:S,isFullWidth:!0,"aria-label":"roles menu",className:"roles-select-menu-toggle"},null===(t=P.find((e=>e.id===g)))||void 0===t?void 0:t.name)};return n().createElement(H.Formik,{initialValues:{username:c,role:g},onSubmit:async a=>{(a=>{A(a)&&(e(t,a,g),b(!1))})(a.username,a.role)}},(e=>n().createElement(J.default,{title:T,onClose:I,primaryText:O,secondaryText:"Cancel",onPrimaryClick:e.submitForm,onSecondaryClick:I,isPrimaryDisabled:h,id:"ocm-roles-access-dialog"},n().createElement("p",{className:"pf-v5-u-mb-xl"},"Allow users in your organization to edit or view clusters. These permissions only apply to cluster management in OpenShift Cluster Manager."),n().createElement(B.l,{className:"control-form-cursor"},n().createElement(q.g,{label:n().createElement(n().Fragment,null,n().createElement("span",null,"Red Hat login"),n().createElement(ee.default,{id:"ocm-roles-section-username-tooltip",hint:n().createElement(j.n,null,n().createElement(z.E,{component:z.Y.p},"Your Red Hat login is the username you use to access your Red Hat account.")),iconClassName:"text-input-tootip-icon",hasAutoWidth:!0,maxWidth:"20.0rem"})),isRequired:!0,fieldId:"username"},n().createElement(W.ks,{value:c,isRequired:!0,id:"username",type:"text",onChange:(t,a)=>{(e=>{const t=e.trim();d(t),A(t)})(a),e.setFieldValue("username",a)},isDisabled:!t.isCreating,validated:m||f?"error":"default","aria-label":"username"}),n().createElement(Q.FormGroupHelperText,{touched:!0,error:m||f})),n().createElement(q.g,{label:"Role",isRequired:!0},n().createElement($.l,{isOpen:S,selected:g,toggle:D,onOpenChange:e=>b(e),onSelect:(t,a)=>{e.setFieldValue("role",a),v(a),b(!S)}},n().createElement(K.B,{"aria-label":"roles"},P.map((e=>n().createElement(Y.O,{key:e.id,value:e.id,description:e.description},e.name))))))))))}te.modalName=G.default.OCM_ROLES;var ae=a(90128),le=a.n(ae),ne=a(47144);class re{constructor(e=null,t){var a;this.data=e,this.id=i()(this.data,"id",""),this.usernameValue=i()(this.data,"account.username",""),this.roleValue=i()(this.data,"role.id",""),this.email=i()(this.data,"account.email",""),this.isCreating=null===e,this.isPending=!1;const l=n().createElement(ne.m,{content:this.email,key:`ocm-roles-username-tooltip-${t}`},n().createElement("span",{className:"hand-pointer"},this.usernameValue)),r=(null===(a=Object.values(X.ocmRoles).find((e=>e.id===this.roleValue)))||void 0===a?void 0:a.name)||le()(this.roleValue);this.cellsData=[{title:l},{title:r}]}setIsPending(e){this.isPending=e}get cells(){return this.cellsData}}const ie=function({subscription:e,canEditOCMRoles:t,canViewOCMRoles:a,refreshEvent:r}){var s;const[N,H]=(0,l.useState)([]),[V,B]=(0,l.useState)(-1),[q,j]=(0,l.useState)(null),[z,W]=(0,l.useState)(!1),[$,K]=(0,l.useState)(""),{data:Y}=(0,k.useGlobalState)((e=>e.modal)),Q=e.id,{data:Z,isLoading:X,isError:J,error:ee,isSuccess:ae}=((e,t,a="")=>{const{data:l,isLoading:n,isError:r,error:i,isSuccess:s}=(0,L.I)({queryKey:["fetchOCMRoles"],queryFn:async()=>await D.accountsService.getSubscriptionRoleBindings(a),enabled:!!a&&(e||t)});if(r){const e=(0,P.formatErrorData)(n,r,i);return{data:null==l?void 0:l.data,isLoading:n,isError:r,error:e,isSuccess:s}}return{data:null==l?void 0:l.data,isLoading:n,isError:r,error:i,isSuccess:s}})(t,a,Q),{isPending:le,isError:ne,error:ie,isSuccess:se,mutate:oe}=((e="")=>{const{data:t,isPending:a,isError:l,error:n,isSuccess:r,mutate:i}=(0,O.n)({mutationKey:["grantOCMRole"],mutationFn:async({username:t,roleID:a})=>D.accountsService.createSubscriptionRoleBinding(e,t,a)});return l?{data:t,isPending:a,isError:l,error:(0,P.formatErrorData)(a,l,n),isSuccess:r,mutate:i}:{data:t,isPending:a,isError:l,error:n,isSuccess:r,mutate:i}})(Q),{isPending:ue,isError:ce,error:de,isSuccess:me,mutate:pe}=((e="")=>{const{data:t,isPending:a,isError:l,error:n,isSuccess:r,mutate:i}=(0,O.n)({mutationKey:["deleteOCMRole"],mutationFn:async t=>D.accountsService.deleteSubscriptionRoleBinding(e,t)});return l?{data:t,isPending:a,isError:l,error:(0,P.formatErrorData)(a,l,n),isSuccess:r,mutate:i}:{data:t,isPending:a,isError:l,error:n,isSuccess:r,mutate:i}})(Q),fe=null===(s=null==e?void 0:e.plan)||void 0===s?void 0:s.id,Ee=(0,u.wA)(),ge=()=>{if(V>=0&&V<N.length){const e=N[V],t=N.slice();e.isCreating?t.splice(V,1):t[V].setIsPending(!1),H(t)}B(-1)};(0,l.useEffect)((()=>{a&&e.id&&(W(!0),w()),K(a?t?"":"You don't have permission to configure user roles in your organization. Only the Cluster Owner and the Organization Admin have the permission.":"You don't have permission to view user roles in your organization. Only the Cluster Owner, Cluster Editor, and the Organization Admin have the permission.")}),[a,t,e.id]),(0,l.useEffect)((()=>{a&&i()(r,"type")===U.eventTypes.CLICKED&&e.id&&(W(!0),w())}),[r]),(0,l.useEffect)((()=>{var e,t;if(X)j(null);else if(X||J)J&&ee.error&&(W(!1),j(n().createElement(M.default,{message:"Error getting OCM roles and access",response:{errorMessage:ee.error.reason,operationID:null===(t=ee.error.errorCode)||void 0===t?void 0:t.toString()}})),ge());else{W(!1);const t=null!==(e=null==Z?void 0:Z.items)&&void 0!==e?e:[],a=o()(t,((e,t)=>new re(e,t.toString())));H(a),j(null)}}),[X,J,ae,z]),(0,l.useEffect)((()=>{le?j(null):se&&e.id?(w(),j(null)):ne&&ie.error&&ge()}),[le,se,ne]),(0,l.useEffect)((()=>{ue?j(null):me&&e.id?(w(),j(null)):ce&&de&&(j(n().createElement(M.default,{message:"Error removing the role from the user",response:de.error})),ge())}),[ue,me,ce,de]);const ve="Username",he="Role",_e=n().createElement(n().Fragment,null,ve,n().createElement(c.A,{position:c.$.top,"aria-label":"Username",id:"ocm-roles-section-username",bodyContent:n().createElement("p",null,"The username is the Red Hat login that is used to access the Red Hat account.")},n().createElement(d.$n,{variant:"plain",isInline:!0},n().createElement(m.I,{size:"md"},n().createElement(h.HelpIcon,null))))),Se=n().createElement(n().Fragment,null,he,n().createElement(c.A,{position:c.$.top,"aria-label":"Role",id:"ocm-roles-section-role",bodyContent:n().createElement("p",null,"The OpenShift Cluster Manager role that is granted to this user.")},n().createElement(d.$n,{variant:"plain",isInline:!0},n().createElement(m.I,{size:"md"},n().createElement(h.HelpIcon,null))))),be=e=>void 0!==e.title;return z?n().createElement(p.Z,null,n().createElement(f.Z,null,n().createElement(T.A,{size:"md"})),n().createElement(E.b,null,n().createElement(T.A,{size:"lg"})),n().createElement(g.w,null,n().createElement(T.A,{size:"md"}))):n().createElement(p.Z,null,n().createElement(E.b,null,n().createElement(v.h,{className:"card-title",headingLevel:"h3",size:"lg"},"OCM Roles and Access"),n().createElement("p",null,"Allow users in your organization to edit clusters. These permissions only apply to cluster management in OpenShift Cluster Manager."),n().createElement(F.default,{onClick:()=>{const e=N.length,t=new re(null,e.toString());setTimeout((()=>Ee((0,x.openModal)(G.default.OCM_ROLES,t))),0)},variant:"secondary",className:"access-control-add",disableReason:$,"data-testid":"grant-role-btn"},"Grant role")),n().createElement(E.b,null,q,n().createElement(C.X,{"aria-label":"OCM Roles and Access",variant:y.a.compact},n().createElement(I.d,null,n().createElement(_.Tr,null,n().createElement(A.Th,null,_e),n().createElement(A.Th,null,Se),n().createElement(A.Th,{screenReaderText:"Role action"}))),n().createElement(R.N,null,N.map(((t,a)=>{const l=((t,a)=>[{title:"Delete",onClick:()=>{ge(),e.id&&t.id&&((e=>{if(null!==e&&e>=0&&e<N.length){const t=N.slice();t[e].setIsPending(!0),B(e),H(t)}})(a),pe(t.id,{onSuccess:()=>{w()}}))}}])(t,a),{cellsData:r,usernameValue:i}=t,s=be(null==r?void 0:r[0])?null==r?void 0:r[0].title:null==r?void 0:r[0],o=be(null==r?void 0:r[1])?null==r?void 0:r[1].title:null==r?void 0:r[1];return t.isCreating||t.isPending?n().createElement(_.Tr,{key:i},n().createElement(S.Td,{dataLabel:ve},n().createElement(T.A,{size:"md"})),n().createElement(S.Td,{dataLabel:he},n().createElement(T.A,{size:"md"})),n().createElement(S.Td,{isActionCell:!0})):n().createElement(_.Tr,{key:i},n().createElement(S.Td,{dataLabel:ve},s),n().createElement(S.Td,{dataLabel:he},o),n().createElement(S.Td,{isActionCell:!0},n().createElement(b.G,{items:l,isDisabled:!!$})))})))),n().createElement(te,{onSubmit:(t,a,l)=>{ge(),t.isCreating&&e.id&&oe({username:a,roleID:l},{onSuccess:()=>{w()}})},row:Y,productId:fe,isGrantOcmRolePending:le,isGrantOcmRoleError:ne,grantOcmRoleError:ie,isGrantOcmRoleSuccess:se})))}},6894:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(75166),n=a(23271);const r=e=>{var t,a,r,i;const s=(null===(a=null===(t=e.subscription)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type)||l.normalizedProducts.OSD,o=e.state;if(s===l.normalizedProducts.RHMI||o!==n.default.READY)return!1;if(null===(r=e.ccs)||void 0===r?void 0:r.enabled)return!0;const u=((null===(i=e.subscription)||void 0===i?void 0:i.capabilities)||[]).find((e=>"capability.cluster.manage_cluster_admin"===e.name));return!(!u||"true"!==u.value)}},94699:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(24510),i=a(69304);const s=({total:e,linkUrl:t,accessRequests:a})=>e?n().createElement(r.F,{id:"pendingAccessRequestAlert",className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Pending Access Requests"},"Your organization has ",n().createElement("b",null,e)," pending Access Request",e>1?"s":""," ",(null==a?void 0:a.length)?n().createElement("span",null," ","to the following Cluster",e>1?"s":"",":"," ",a.map((e=>n().createElement(i.Link,{key:`pendingAccessRequestAlertLink-${e.subscription_id}`,to:`/details/s/${e.subscription_id}#accessRequest`},e.subscription_id))).reduce(((e,t)=>[e,", ",t])),". Please enter the Cluster details page and review them in the Access Requests tab."):null,t?n().createElement(i.Link,{to:t},"Show pending requests"):null):null},36958:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Pe});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(983),u=a(74160),c=a(65702),d=a(10135),m=a(8888),p=a(48609),f=a(91089),E=a(43775),g=a(1179),v=a(25982),h=a(57146),_=a(96678),S=a(36817),b=a(74314);const C=()=>{h.q.invalidateQueries({queryKey:[S.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchAccessRequests"]})};var y,I,A,R=a(27241),T=a(22916),O=a(25514),P=a(88139),D=a(12664),L=a(90678),N=a(73113),w=a(55816),k=a(28592),F=a(23711),M=a(82309),x=a(90020),G=a(13642);!function(e){let t;!function(e){e.APPROVED="Approved",e.DENIED="Denied",e.EXPIRED="Expired"}(t=e.decision||(e.decision={}))}(y||(y={})),function(e){e.State="state",e.Justification="justification"}(I||(I={})),function(e){e.PENDING="Pending",e.DENIED="Denied",e.APPROVED="Approved",e.EXPIRED="Expired"}(A||(A={}));var U=a(30620),H=a(23215),V=a(84680),B=a(32034),q=a(78755),j=a(1319),z=a(47144),W=a(22069),$=a(55213);const K=({accessRequest:e})=>{const t=(0,l.useMemo)((()=>{var t;return(null===(t=null==e?void 0:e.decisions)||void 0===t?void 0:t.length)?e.decisions[e.decisions.length-1]:void 0}),[e]);return e?n().createElement(U.x,{hasGutter:!0},n().createElement(H.E,{sm:8},n().createElement(V.B,null,n().createElement(B.W,null,n().createElement(q.X,null,"ID"),n().createElement(j.d,null,e.id)),n().createElement(B.W,null,n().createElement(q.X,null,"Subscription ID"),n().createElement(j.d,null,e.subscription_id)),n().createElement(B.W,null,n().createElement(q.X,null,"Cluster ID"),n().createElement(j.d,null,e.cluster_id)),n().createElement(B.W,null,n().createElement(q.X,null,"Service Request ID"),n().createElement(j.d,null,e.support_case_id||"N/A")))),n().createElement(H.E,{sm:4},n().createElement(V.B,null,n().createElement(B.W,null,n().createElement(q.X,null,"Created Time"),n().createElement(j.d,null,n().createElement(z.m,{content:n().createElement("span",null,"Last updated on"," ",e.updated_at?new Date(e.updated_at).toLocaleDateString():"N/A")},n().createElement(W.E,null,e.created_at?new Date(e.created_at).toLocaleDateString():"N/A")))),n().createElement(B.W,null,n().createElement(q.X,null,"Respond By"," ",n().createElement($.default,{id:"respond-by-hint",iconClassName:"nodes-hint",hint:"If not reviewed, the Access Request will expire by this date and the original customer case or incident will be automatically closed without a technical resolution."})),n().createElement(j.d,null,e.deadline_at?new Date(e.deadline_at).toLocaleDateString():"N/A")),n().createElement(B.W,null,n().createElement(q.X,null,"Request Duration"," ",n().createElement($.default,{id:"request-duration-hint",iconClassName:"nodes-hint",hint:"Once approved, SRE will have access to customer data in the cluster and in the corresponding cloud account for this amount of time. All access to customer data is audited."})),n().createElement(j.d,null,e.duration||"N/A")))),n().createElement(H.E,{sm:12},n().createElement(V.B,null,n().createElement(B.W,null,n().createElement(q.X,null,"Justification"),n().createElement(j.d,null,n().createElement("span",{"data-testid":"justification-field-value"},e.justification||"N/A"))))),(null==t?void 0:t.decision)?n().createElement(H.E,{sm:12},n().createElement(V.B,null,n().createElement(B.W,null,n().createElement(q.X,null,"Decision"),n().createElement(j.d,null,n().createElement(W.E,{"data-testid":"decision-text"},n().createElement("b",null,null==t?void 0:t.decision),(null==t?void 0:t.created_at)?n().createElement(n().Fragment,null," ","on ",n().createElement("b",null,new Date(t.created_at).toLocaleDateString())):null,(null==t?void 0:t.decided_by)?n().createElement(n().Fragment,null," ","by ",n().createElement("b",null,t.decided_by)):null,(null==t?void 0:t.justification)?n().createElement(n().Fragment,null," ","because ",n().createElement("i",null,t.justification)):null))))):null):null};var Y=a(20491),Q=a(56780),Z=a(65843),X=a(61864),J=a(59257),ee=a(49318),te=a(24510),ae=a(77218);const le=({accessRequest:e,userDecisionRights:t})=>{const{setFieldValue:a,getFieldProps:r,values:{[I.State]:i,[I.Justification]:s},errors:o}=(0,P.useFormikContext)(),[u,c]=(0,l.useState)("Add justification for denying it"),[d,m]=(0,l.useState)("default");return(0,l.useEffect)((()=>{if(i===A.DENIED){const e=null==o?void 0:o[I.Justification];m(e?"error":"success"),c(e?null==o?void 0:o[I.Justification]:"Thanks for your justification!")}else m("default"),c("")}),[i,o]),n().createElement(U.x,{hasGutter:!0},n().createElement(H.E,null,n().createElement(K,{accessRequest:e})),t?n().createElement(Y.l,{id:"modal-with-form-form"},n().createElement(H.E,{sm:12},n().createElement(Q.g,{label:"Decision",isRequired:!0,isInline:!0,fieldId:I.State},n().createElement(P.Field,{component:ae.RadioButtons,name:I.State,ariaLabel:"Decision",onChange:e=>a(I.State,e),input:{...r(I.State),onChange:e=>a(I.State,e)},options:[{value:A.APPROVED,label:"Approve"},{value:A.DENIED,label:"Deny"}],required:!0}))),n().createElement(H.E,{sm:12},n().createElement(Q.g,{label:"Justification",isRequired:i===A.DENIED,fieldId:I.Justification},n().createElement(Z.fs,{name:I.Justification,value:s,onChange:(e,t)=>a(I.Justification,t),isRequired:!0,"aria-label":"access request justification",validated:d,isDisabled:i!==A.DENIED,resizeOrientation:"vertical"}),n().createElement(X.e,null,n().createElement(J.E,null,n().createElement(ee.j,{variant:d},u)))))):n().createElement(H.E,{sm:12},n().createElement(te.F,{variant:te.w.warning,title:"No rights for making a decision",isInline:!0},"The user has no rights for approving or denying the access request. Please contact cluster owner or organization admin.")))};var ne=a(15129),re=a(19202),ie=a(99851),se=a(88872),oe=a(73828);const ue={[A.PENDING]:{color:"orange",icon:n().createElement(ie.ExclamationTriangleIcon,null)},[A.APPROVED]:{color:"green",icon:n().createElement(re.CheckCircleIcon,null)},[A.DENIED]:{color:"red",icon:n().createElement(oe.I$,null)},[A.EXPIRED]:{icon:n().createElement(se.Y8,null)}},ce=({accessRequest:e})=>{var t;return(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.state)?n().createElement(ne.J,{color:ue[e.status.state].color,icon:ue[e.status.state].icon},e.status.state):null},de=()=>{var e;const t=(0,r.wA)(),{accessRequest:a,onClose:i}=(0,O.useGlobalState)((e=>e.modal.data)),s=(0,O.useGlobalState)((e=>{var t,a,l;return null===(l=null===(a=null===(t=e.userProfile)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.details)||void 0===l?void 0:l.id})),[o,u]=(0,l.useState)(!0),c=(0,l.useMemo)((()=>{var e;return(null===(e=null==a?void 0:a.status)||void 0===e?void 0:e.state)===A.PENDING}),[a]),{mutate:d,isPending:m,isError:p,error:E,isSuccess:g}=(e=>{const{data:t,isPending:a,isError:l,error:n,mutate:r,isSuccess:i}=(0,M.n)({mutationKey:["postAccessrequestDecision"],mutationFn:async t=>await b.A.postAccessRequestDecision(e,t)});return{data:null==t?void 0:t.data,isPending:a,isError:l,error:l?(0,_.formatErrorData)(a,l,n):n,mutate:r,isSuccess:i}})(null==a?void 0:a.id),{data:h,isLoading:R,isError:T,error:U}=((e,t,a)=>{const{data:l,isLoading:n,isError:r,error:i,isSuccess:s}=(0,v.I)({queryKey:[S.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"canMakeDecision"],queryFn:async()=>await x.authorizationsService.selfAccessReview({action:G.SelfAccessReview.action.CREATE,resource_type:G.SelfAccessReview.resource_type.ACCESS_REQUEST_DECISION,subscription_id:e,organization_id:t}),enabled:a});return{data:null==l?void 0:l.data,isLoading:n,isError:r,error:r?(0,_.formatErrorData)(n,r,i):i,isSuccess:s}})(null==a?void 0:a.subscription_id,s,c),H=(0,l.useCallback)((()=>{t((0,f.closeModal)()),i()}),[t,i]);return(0,l.useEffect)((()=>u(!(null==a?void 0:a.id)||R||m)),[u,null==a?void 0:a.id,R,m]),(0,l.useEffect)((()=>{g&&H()}),[H,g]),a?n().createElement(P.Formik,{initialValues:{[I.State]:null===(e=a.status)||void 0===e?void 0:e.state,[I.Justification]:""},validationSchema:D.object({[I.State]:D.string().required("Required"),[I.Justification]:D.string().trim().matches(/^[a-zA-Z0-9-\s.&,;':_!"/$]+$/,"Only alphanumeric characters and punctuation marks are allowed").max(256,"Must be 256 characters or less").when([I.State],{is:A.DENIED,then:e=>e.required("The justification is required in case of denial.")})}),onSubmit:async e=>{const t=e[I.State];d({decision:t,justification:t===y.decision.DENIED?e[I.Justification]:void 0},{onSuccess:()=>{C(),(0,F.refetchPendingAccessRequests)()}})}},(e=>n().createElement(k.default,{title:"Access Request Details",onClose:H,primaryText:"Save",showPrimary:c,secondaryText:c?"Cancel":"Close",onPrimaryClick:e.handleSubmit,onSecondaryClick:H,isPrimaryDisabled:c&&(!e.isValid||!e.dirty||e.isSubmitting||m),id:"access-request-modal",isPending:o,help:n().createElement(ce,{accessRequest:a}),footer:p||T?n().createElement(n().Fragment,null,p?n().createElement(L.B,{hasGutter:!0},n().createElement(N.a,null,n().createElement(w.default,{message:"A problem occurred while saving access request",response:{errorMessage:null==E?void 0:E.error.errorMessage,errorDetails:null==E?void 0:E.error.errorDetails}}))):null,T?n().createElement(L.B,{hasGutter:!0},n().createElement(N.a,null,n().createElement(w.default,{message:"A problem occurred while retrieving rights for making a decision",response:{errorMessage:null==U?void 0:U.error.errorMessage,errorDetails:null==U?void 0:U.error.errorDetails}}))):null):null},c&&!p?n().createElement(le,{accessRequest:a,userDecisionRights:null==h?void 0:h.allowed}):n().createElement(K,{accessRequest:a})))):null};de.modalName=E.default.ACCESS_REQUEST_DETAILS;const me=de;var pe=a(43212),fe=a(72583),Ee=a(63802),ge=a(33675),ve=a(86130),he=a(54169),_e=a(5600),Se=a(57691),be=a(73317),Ce=a(16623),ye=a(32569),Ie=a(68923);const Ae=[{title:"State",sortTitle:"status.state",transforms:[be.X]},{title:"ID",sortTitle:"id",transforms:[be.X]},{title:"Created Time",sortTitle:"created_at",transforms:[be.X]},{title:"Actions",screenReaderText:"access request actions",sortTitle:""}],Re=({accessRequestItems:e,setSorting:t,openDetailsAction:a,sortBy:r,isPending:i})=>{const s=(0,l.useMemo)((()=>i?Array.from(Array(10).keys()).map((()=>Array.from(Array(Ae.length).keys()).reduce((e=>[...e,{title:n().createElement(pe.E,null)}]),[]))):null==e?void 0:e.map((e=>[{title:n().createElement(ce,{accessRequest:e})},{title:e.id},{title:e.created_at},{title:n().createElement(fe.$n,{variant:"secondary",icon:n().createElement(_e.EyeIcon,null),"aria-label":"openDetailsAction",onClick:()=>a(e)},"Open")}]))),[e,a,i]),o=(0,l.useCallback)(((e,a,l)=>t({isAscending:l===u.l.asc,sortField:Ae[a].sortTitle,sortIndex:a})),[t]);return(null==s?void 0:s.length)?n().createElement(Ce.X,{"aria-label":"Access Request",cells:Ae,rows:s,sortBy:r,onSort:o},n().createElement(ye.A,null),n().createElement(Ie.B,null)):n().createElement(Ee.d8,null,n().createElement(ge.p,null,n().createElement(ve.o,{titleText:"No access request entries found",icon:n().createElement(he.q,{icon:Se.default}),headingLevel:"h4"})))};var Te=a(96346);const Oe=({viewType:e,viewOptions:t,isDisabled:a,variant:l})=>n().createElement(Te.default,{viewType:e,currentPage:t.currentPage,pageSize:t.pageSize,totalCount:t.totalCount,totalPages:t.totalPages,variant:l,isDisabled:a}),Pe=({subscriptionId:e})=>{const t=(0,r.wA)(),a=T.viewConstants.ACCESS_REQUESTS_VIEW,h=(0,O.useGlobalState)((e=>e.viewOptions[a])),{data:y,isLoading:I,isError:A,isSuccess:P}=(0,g.useFetchAccessRequest)(e),{data:D,isLoading:L}=((e,t,a,l)=>{const{data:n,isLoading:r,isError:i,error:s,isSuccess:o}=(0,v.I)({queryKey:[S.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchAccessRequests",t,a,l],queryFn:async()=>await b.A.getAccessRequests({page:t.currentPage,size:t.pageSize,search:`subscription_id='${e}'`,orderBy:t.sorting.sortField?`${t.sorting.sortField} ${t.sorting.isAscending?"asc":"desc"}`:void 0}),enabled:null==l?void 0:l.enabled});return{data:null==n?void 0:n.data,isLoading:r,isError:i,error:i?(0,_.formatErrorData)(r,i,s):s,isSuccess:o}})(e,h,!1,{enabled:!0}),[N,w]=(0,l.useState)(h),k=(0,l.useMemo)((()=>L),[L]),F=(0,l.useMemo)((()=>{var e;return k||!(null===(e=null==D?void 0:D.items)||void 0===e?void 0:e.length)}),[k,D]),M=(0,l.useMemo)((()=>({index:h.sorting.sortIndex,direction:h.sorting.isAscending?u.l.asc:u.l.desc})),[h]),x=(0,l.useCallback)((e=>t(R.viewActions.onListSortBy(e,a))),[t,a]),G=(0,l.useCallback)((e=>t(f.modalActions.openModal(E.default.ACCESS_REQUEST_DETAILS,{accessRequest:e,onClose:()=>{C()}}))),[t]);return(0,l.useEffect)((()=>{!P||I||A||G(y)}),[y,G,P,I,A]),(0,l.useEffect)((()=>{(0,d.viewPropsChanged)(h,N)&&!L&&void 0!==e&&w(h)}),[L,N,e,h]),n().createElement(n().Fragment,null,n().createElement(i.Z,{className:"ocm-c-access-request__card"},n().createElement(s.Z,{className:"ocm-c-access-request__card--header"},"Access Requests"),n().createElement(o.b,{className:"ocm-c-access-request__card--body"},n().createElement("div",{className:"access-request-subtitle"},"Access requests to customer data on Red Hat OpenShift Service on AWS clusters and the corresponding cloud accounts can be created by SRE either in response to a customer-initiated support ticket or in response to alerts received by SRE, as part of the standard incident response process."),n().createElement(m.default,{href:c.default.ACCESS_REQUEST_DOC_LINK},"Read more about Access Requests functionality"))),n().createElement(i.Z,null,n().createElement(o.b,null,n().createElement(Oe,{viewType:a,viewOptions:h,variant:"top",isDisabled:F}),n().createElement(Re,{accessRequestItems:null==D?void 0:D.items,setSorting:x,openDetailsAction:G,sortBy:M,isPending:k}),n().createElement(Oe,{viewType:a,viewOptions:h,variant:"bottom",isDisabled:F}))),n().createElement(p.default,{ModalComponent:me}))}},89691:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(96553),i=a(8888);const s=e=>{const{activeCardDocsLink:t,installedAddOnOperatorVersion:a,addonID:l,clusterID:s,externalClusterID:o,subscriptionPlanID:u}=e,c={current_path:"/openshift/details/s",tab_title:"Add-ons",tab_id:"addOnsTabContent",card_type:"addon",addon_id:l,ocm_resource_type:u.toLowerCase(),resource_id:o,ocm_cluster_id:s};return a||t?n().createElement(r.Z,null,a&&n().createElement(n().Fragment,null,n().createElement("strong",null,"Current Version")," ",a," "),t&&n().createElement(i.default,{href:t,customTrackProperties:c},"View Documentation")):null}},18273:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var l=a(93345),n=a(71468),r=a(60915),i=a(6229),s=a(983),o=a(72972),u=a(12956),c=a(20491),d=a(56780),m=a(13642),p=a(20542),f=a(1508),E=a(17661),g=a(22563),v=a(81995),h=a(97862),_=a(8888);const S={"managed-odh":{aws:"https://aws.amazon.com/marketplace/search/results?searchTerms=OpenShift+Data+Science+enables"}},b=({subscriptionModels:e,setSubscriptionModel:t,activeCardId:a,hasQuota:n,isReady:u,cloudAccounts:c,installedAddOn:d,billingModel:m,name:p,cloudProvider:f})=>{const b=e[a],C=c&&c[f].length>0,[y,I]=l.useState(!1),[A,R]=l.useState(b.cloudAccount);l.useEffect((()=>{var e;if(d&&(null===(e=null==d?void 0:d.billing)||void 0===e?void 0:e.billing_marketplace_account)){const e=d.billing.billing_marketplace_account;d.billing.billing_model===m&&R(e)}}),[d]),l.useEffect((()=>{"standard"===(null==b?void 0:b.billingModel)&&R("")}),[null==b?void 0:b.billingModel]);const T=()=>{I(!y)};return l.createElement(r.Z,{id:m,isSelectableRaised:!0,isSelected:(null==b?void 0:b.billingModel)===m,isDisabled:!C||!n||!u,onClick:()=>{A&&t({...e,[a]:{addOn:a,billingModel:m,cloudAccount:A}})}},l.createElement(i.Z,null,p),l.createElement(s.b,null,"Flexible usage. Pay only for the services you use."),C&&n?l.createElement(o.w,null,l.createElement(g.l,{isOpen:y,selected:A,toggle:e=>l.createElement(E.S,{ref:e,onClick:T,isExpanded:y,isDisabled:!u,isFullWidth:!0,"aria-label":"account menu",className:"account-menu-toggle"},A||"Select an account"),onSelect:(l,n)=>{null==l||l.stopPropagation(),t({...e,[a]:{addOn:a,billingModel:m,cloudAccount:n}}),R(n),I(!1)},onOpenChange:e=>I(e)},l.createElement(v.B,null,c&&c[f].map((({cloud_account_id:e})=>l.createElement(h.O,{key:e,value:e},e)))))):l.createElement(o.w,null,l.createElement("small",null,"Not available.")," ",S[a]&&S[a][f]&&l.createElement(_.default,{href:S[a][f]},"Enable in ",p,".")))};var C=a(57294);const y=({activeCardId:e,billingQuota:t,installedAddOn:a,subscriptionModels:E})=>{var g;const v=(0,n.wA)(),h=e=>{v((0,p.setAddonsDrawer)({subscriptionModels:e}))},_=E[e],S=!(Boolean(a)||a&&a.state!==f.default.INSTALLATION_STATE.READY),y=Boolean(a)||!!t.standard&&t.standard.consumed+t.standard.cost<=t.standard.allowed,I=Boolean(a)||!!t.marketplace&&t.marketplace.consumed+t.marketplace.cost<=t.marketplace.allowed,A=void 0===t.standard,R=void 0===t.marketplace;l.useEffect((()=>{var t;E[e]||h({...E,[e]:{addOn:e,billingModel:a?a.billing.billing_model:A?I?m.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE:C.NO_QUOTA:R?y?m.SubscriptionCommonFields.cluster_billing_model.STANDARD:C.NO_QUOTA:y?m.SubscriptionCommonFields.cluster_billing_model.STANDARD:I?m.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE:C.NO_QUOTA,cloudAccount:(null===(t=null==a?void 0:a.billing)||void 0===t?void 0:t.billing_marketplace_account)||""}})}),[E,e,a]);const T=l.createElement(r.Z,{id:"standard-rh",isSelectableRaised:!0,isSelected:"standard"===(null==_?void 0:_.billingModel),isDisabled:!y||!S},l.createElement(i.Z,null,"Red Hat Standard"),l.createElement(s.b,null,"Fixed capacity subscription."),l.createElement(o.w,null,!y&&l.createElement("small",null,"Not enough quota."))),O=null===(g=t.marketplace)||void 0===g?void 0:g.cloudAccounts,P=l.createElement(l.Fragment,null,!1,l.createElement(b,{subscriptionModels:E,setSubscriptionModel:h,activeCardId:e,hasQuota:I,isReady:S,cloudAccounts:O,installedAddOn:a,billingModel:m.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_AWS,name:"AWS Marketplace",cloudProvider:"aws"}),!1);return l.createElement(l.Fragment,null,l.createElement("div",{className:t.standard&&t.marketplace?"pf-v5-u-mb-sm":"pf-v5-u-mb-lg"},l.createElement("strong",null,l.createElement("small",null,"Subscription type"))),t.standard&&t.marketplace&&l.createElement(c.l,null,l.createElement(d.g,{role:"radiogroup",isInline:!0,fieldId:"billing-model-group"},t.standard&&((t=!1)=>l.createElement(u.s,{isChecked:(null==_?void 0:_.billingModel)===m.SubscriptionCommonFields.cluster_billing_model.STANDARD,name:"billing-model",id:m.SubscriptionCommonFields.cluster_billing_model.STANDARD,value:m.SubscriptionCommonFields.cluster_billing_model.STANDARD,label:l.createElement("div",null,l.createElement("span",{className:t?"pf-v5-u-mr-xs":""},"Standard")),isDisabled:t,onChange:()=>{h({...E,[e]:{addOn:e,billingModel:m.SubscriptionCommonFields.cluster_billing_model.STANDARD,cloudAccount:""}})}}))(!S),t.marketplace&&((t=!1)=>l.createElement(u.s,{isChecked:null==_?void 0:_.billingModel.startsWith(m.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE),name:"billing-model",id:m.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE,value:m.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE,label:l.createElement("div",null,l.createElement("span",{className:t?"pf-v5-u-mr-xs":""},"Marketplace")),isDisabled:t,onChange:()=>{var t;h({...E,[e]:{addOn:e,billingModel:m.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE,cloudAccount:(null===(t=null==a?void 0:a.billing)||void 0===t?void 0:t.billing_marketplace_account)||""}})}}))(!S))),(null==_?void 0:_.billingModel)===m.SubscriptionCommonFields.cluster_billing_model.STANDARD&&T,(null==_?void 0:_.billingModel.startsWith(m.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE))&&P)}},57294:(e,t,a)=>{"use strict";a.r(t),a.d(t,{NO_QUOTA:()=>l});const l="no-quota"},73068:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(24510);const i=()=>n().createElement(r.F,{className:"ai-non-editable-alert pf-v5-u-mt-md",isInline:!0,variant:"info",title:"You cannot edit the cluster.",role:"alert"},n().createElement("p",null,"To get permission to edit, contact the Cluster Owner or Organization Admin."))},25655:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var l=a(93345),n=a.n(l),r=a(60915),i=a(6229),s=a(9670),o=a(69671),u=a(22069),c=a(983),d=a(31003),m=a(48525),p=a(23271),f=a(24022),E=a(53737);const g=({cluster:e,hasInflightErrors:t,regionalInstance:a})=>t||e.state===p.default.INSTALLING||e.state===p.default.PENDING||e.state===p.default.VALIDATING||e.state===p.default.WAITING||e.state===p.default.ERROR?n().createElement(E.default,{cluster:e,actionRequiredInitialOpen:!0,regionalInstance:a}):null;var v=a(82183),h=a(83280);const _=({cluster:e,regionalInstance:t})=>{const a=e.state===p.default.ERROR,l=e.state===p.default.PENDING,E=e.state===p.default.VALIDATING,_=e.state===p.default.INSTALLING,S=e.state===p.default.UNINSTALLING,b=(0,p.isWaitingROSAManualMode)(e),C=(0,p.isWaitingHypershiftCluster)(e),y=(l||_||C||E||!b)&&!a,I=(y||S)&&!a,A=(0,p.isHypershiftCluster)(e)?"10":"30 to 60",R=(0,p.hasInflightEgressErrors)(e);let T;return a?T="Installation error":S?T="Uninstalling cluster":b?T="Action required to continue installation":y&&(T="Installing cluster"),n().createElement(r.Z,null,!R&&n().createElement(i.Z,null,n().createElement(s.h,{headingLevel:"h2",size:"lg",className:"card-title pf-v5-u-display-inline-block pf-v5-u-mr-md","data-testid":"installation-header"},I&&n().createElement(o.y,{size:"sm",className:"progressing-icon pf-v5-u-mr-md"}),a&&n().createElement("span",{className:"pf-v5-u-mr-xs"},n().createElement(d.default,{color:m.global_danger_color_100.value})," "),T),(y||b)&&!S&&n().createElement(f.A,null),y&&!S&&n().createElement(u.E,{component:u.Y.p,"data-testid":"expected-cluster-installation-msg",className:"expected-cluster-installation-text"},"Cluster creation usually takes ",A," minutes to complete.")),n().createElement(c.b,null,S?n().createElement(v.A,{cluster:e}):n().createElement(g,{cluster:e,hasInflightErrors:R,regionalInstance:t}),n().createElement(h.default,{isExpandable:!S,cluster:e})))}},94696:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(74353),i=a.n(r),s=a(71468),o=a(24510),u=a(72583),c=a(8888),d=a(91089),m=a(43775);const p=({expirationTimestamp:e,trialExpiration:t,cluster:a,OSDRHMExpiration:l})=>{const r=(0,s.wA)(),p=i().utc(),f=i().utc(e),E=f.diff(p,"hour"),g=p.to(f),v=f.local().format("dddd, MMMM Do YYYY, h:mm a");if(E<=0)return n().createElement(o.F,{id:"expiration-alert",className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Cluster failed to delete","data-testid":"expiration-alert-passed",role:"alert"},n().createElement(n().Fragment,null,`This cluster should have been deleted ${g} but is still running.`," ",n().createElement(c.default,{href:"https://access.redhat.com/support/"},"Contact our customer support"),"."));let h;switch(!0){case E<24:h="danger";break;case E<48&&E>=24:h="warning";break;default:h="info"}let _=`This cluster is scheduled for deletion on ${v}`;return l?_=n().createElement(n().Fragment,null,"Your cluster subscription was purchased from Red Hat Marketplace and will expire on",` ${v}. `,"Once expired, the cluster will be deleted permanently. To avoid deletion, please purchase a new subscription from the"," ",n().createElement(c.default,{href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-dedicated"},"Red Hat Marketplace")," ","before the expiration date."):t&&(_=`Your free trial cluster will automatically be deleted on ${v}. Upgrade your cluster at any time to prevent deletion.`),n().createElement(o.F,{id:"expiration-alert",className:"pf-v5-u-mt-md",variant:h,isInline:!0,title:`This cluster will be deleted ${g}.`,"data-testid":"expiration-alert-will-delete",role:"alert"},n().createElement("p",null,_),t&&n().createElement(u.$n,{variant:"secondary",className:"pf-v5-u-mt-sm","data-testid":"trial-button",onClick:()=>{var e;r(null===(e=d.modalActions.openModal)||void 0===e?void 0:e.call(d.modalActions,m.default.UPGRADE_TRIAL_CLUSTER,{title:"Upgrade cluster from Trial",clusterID:null==a?void 0:a.id,cluster:a}))}},"Upgrade from trial"))}},13767:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(30666),i=a(93973),s=a(24510),o=a(8888);const u=({summary:e})=>{var t;const a=null===(t=null==e?void 0:e.match(/'([^']+)'/))||void 0===t?void 0:t[1];return n().createElement(r.B,null,n().createElement(i.o,{isFilled:!0},n().createElement(s.F,{id:"gcp-org-policy-alert",variant:"warning",className:"pf-v5-u-mt-md",isInline:!0,title:n().createElement(n().Fragment,null,"Your installation might be affected by the"," ",n().createElement(o.default,{href:"https://cloud.google.com/resource-manager/docs/organization-policy/overview"},"GCP Organization Policy Service"))},n().createElement(n().Fragment,null,"OCM is unable to determine whether the GCP organization contains any policies that would affect the installation without the GCP Org Policy API enabled. Enable the"," ",n().createElement(o.default,{href:"https://cloud.google.com/resource-manager/docs/reference/orgpolicy/rest"},"Organization Policy API")," ","for the GCP project '",a,"'"))))}},80116:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(24510),i=a(84680),s=a(32034),o=a(78755),u=a(1319),c=a(65702),d=a(72432),m=a(8888);const p=({limitedSupportReasons:e,isROSA:t,isOSD:a})=>{const l=n().useMemo((()=>(null==e?void 0:e.filter((e=>{var t;return!(null===(t=e.override)||void 0===t?void 0:t.enabled)})))||[]),[e]);return l.length?n().createElement(r.F,{id:"limited-support-alert",variant:"danger",className:"pf-v5-u-mt-md",isInline:!0,role:"alert",isExpandable:l.length>1,title:`This cluster has limited support${l.length>1?" due to multiple reasons":""}.`,actionLinks:t||a?n().createElement(m.default,{href:t?c.default.ROSA_LIMITED_SUPPORT_DEFINITION:c.default.OSD_LIMITED_SUPPORT_DEFINITION},"Learn more"):null},n().createElement(i.B,null,l.map(((e,t)=>n().createElement(s.W,{key:`reason-${t}`,"data-testid":"dl-group"},e.summary?n().createElement(o.X,null,e.summary):null,e.details?n().createElement(u.d,null,n().createElement(d.A,null,e.details)):null))))):null}},77965:(e,t,a)=>{"use strict";a.r(t),a.d(t,{RecommendedOperatorsAlert:()=>b,STATIC_ALERT_MESSAGES:()=>S});var l=a(93345),n=a.n(l),r=a(22069),i=a(24510),s=a(69211),o=a(19033),u=a(51513),c=a(8888),d=a(35051),m=a(25335),p=a(23271),f=a(9670),E=a(96998),g=a(96553),v=a(94800);const h=({cards:e,openLearnMore:t,title:a,selectedCardTitle:l,learnMoreLink:r})=>n().createElement("div",{className:(a?`${a}-`:"")+"product-card-view"},a?n().createElement(f.h,{size:"xl",headingLevel:"h2",className:"pf-v5-u-mt-lg"},a):null,n().createElement(E.s,{className:"pf-v5-u-mb-lg"},e.map((e=>n().createElement(g.Z,{"data-testid":"product-overview-card-flex-item"},n().createElement(v.A,{...e,openLearnMore:t,isSelected:e.title===l,dataTestId:null!=a?a:"product-card-view"}))))),r?n().createElement(c.default,{href:r.link},r.name):null),_=[...d.C,...m.O],S={actionRequired:{title:"Action is required in order to continue cluster creation.",description:"Please address the issue before considering recommended operators."},installing:{title:"Your cluster is being created.",description:"While you wait, learn how to optimize your cluster with Operators. You can go to other pages, just come back here to check on your cluster."},ready:{title:"Optimize your cluster with operators.",description:"Check out our recommended operators for you, or view all operators in the console."},hibernating:{title:"Your cluster is currently hibernating.",description:"Please wake the cluster before considering recommended operators."},error:{title:"Your cluster encountered an error during creation.",description:"Please address the issue before considering recommended operators."}},b=({openLearnMore:e,selectedCardTitle:t="",clusterState:a,closeDrawer:d,onDismissAlertCallback:m,consoleURL:f})=>{const[E,g]=(0,l.useState)(!1),v=(0,l.useMemo)((()=>({...S,...f?{ready:{title:"Optimize your cluster with operators.",description:n().createElement(r.E,{"data-testid":"alert-description-with-consoleURL-provided"},"Check out our recommended operators for you, or view all operators in the"," ",n().createElement(c.default,{noIcon:!0,href:f},"console"),".")}}:{}})),[f]),{title:b,description:C}=(0,l.useMemo)((()=>{switch(!0){case a===p.default.WAITING:return v.actionRequired;case[p.default.INSTALLING,p.default.VALIDATING,p.default.PENDING].includes(a):return v.installing;case a===p.default.HIBERNATING:return v.hibernating;case a===p.default.ERROR:return v.error;default:return v.ready}}),[v,a]);return n().createElement(i.F,{variant:"info",title:b,isInline:!0,actionClose:n().createElement(s.X,{onClose:()=>{E&&d(),g(!1),localStorage.setItem(u.HAS_USER_DISMISSED_RECOMMENDED_OPERATORS_ALERT,"true"),m()}}),className:"pf-v5-u-mt-md",component:"h2"},n().createElement(r.E,null,C),n().createElement(o.Q,{toggleText:(E?"Hide":"Show")+" recommended operators",onToggle:(e,t)=>{t||d(),g(t)},isExpanded:E},n().createElement(h,{cards:_,openLearnMore:e,selectedCardTitle:t})))}},47434:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(71468),i=a(24510),s=a(30155),o=a(53034),u=a(75166),c=a(2479),d=a(25514),m=a(13642);const p=({subscription:e})=>{const t=(0,r.wA)(),a=(0,d.useGlobalState)((e=>e.userProfile.selfTermsReviewResult)),[p,f]=(0,l.useState)(void 0),E=e=>{var t,a;return e.status!==m.SubscriptionCommonFields.status.DEPROVISIONED&&[u.normalizedProducts.OSD,u.normalizedProducts.RHMI,u.normalizedProducts.ROSA].includes(null!==(a=null===(t=e.plan)||void 0===t?void 0:t.type)&&void 0!==a?a:"")};return(0,l.useEffect)((()=>{void 0!==p&&e.id===p.id||!E(e)||t((0,c.selfTermsReview)()),f(e)}),[e,p,t]),E(e)&&a.fulfilled&&a.terms_required?n().createElement(i.F,{id:"terms-alert",variant:"warning",isInline:!0,title:"You must accept the Terms and Conditions",actionLinks:n().createElement(s.v,{key:"terms-alert-link",component:"a",href:(g=a.redirect_url,(0,o.A)(g,window.location.href,window.location.href)),"data-testid":"terms-alert-link"},"View Terms and Conditions"),"data-testid":"terms-alert"},n().createElement("p",null,"Access to this cluster will be read-only until you accept the Terms and Conditions.")):null;var g}},40507:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a.n(l),r=a(58156),i=a.n(r),s=a(24510),o=a(69304),u=a(75166),c=a(8888),d=a(13642);const m=({subscription:e})=>{if(![u.normalizedProducts.OCP,u.normalizedProducts.ARO].includes(i()(e,"plan.type",""))||!(null==e?void 0:e.released))return null;const t=e.status===d.SubscriptionCommonFields.status.DISCONNECTED?n().createElement(n().Fragment,null,"The transfer process will complete after"," ",n().createElement(o.Link,{to:"/register","data-testid":"link"},"registering")," ","the cluster again using the same id."):n().createElement(n().Fragment,null,"The transfer process will complete once the pull secret has been changed in the cluster. See"," ",n().createElement(c.default,{href:"https://access.redhat.com/solutions/4902871","data-testid":"external-link"},"this knowledgebase article")," ","for instructions on how to change the pull secret.");return n().createElement(s.F,{id:"transfer-cluster-ownership-alert",className:"pf-v5-u-mt-md",variant:"info",isInline:!0,title:"Cluster ownership transfer initiated"},t)}},85471:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ae});var l=a(93345),n=a.n(l),r=a(62193),i=a.n(r),s=a(47091),o=a.n(s),u=a(71468),c=a(60915),d=a(66312),m=a(69671),p=a(6229),f=a(9670),E=a(983),g=a(63802),v=a(33675),h=a(86130),_=a(54169),S=a(91289),b=a(57691),C=a(69304),y=a(21481),I=a(27241),A=a(25514),R=a(93413),T=a(10135),O=a(22916),P=a(55816),D=a(67209);const L=({timestamp:e})=>{const[,t]=n().useState(0);return n().useEffect((()=>{const e=setInterval((()=>t(Date.now())),6e4);return()=>clearInterval(e)}),[]),n().createElement(D.A,{type:"relative",date:e})};var N=a(12773),w=a(73509),k=a(13945),F=a(74353),M=a.n(F),x=a(55318),G=a(75279),U=a(22069),H=a(68472),V=a(97192),B=a(76792),q=a(11318),j=a(74160),z=a(94935),W=a(69673),$=a(73683),K=a(15402),Y=a(2442),Q=a(72432),Z=a(8888),X=a(48539);const J=[{title:"Description",sortTitle:"summary"},{title:"Type",sortTitle:"log_type"},{title:"Severity",sortTitle:"severity"},{title:"Logged by",sortTitle:"username||created_by"},{title:"Date",sortTitle:"timestamp"}],ee=({logs:e,setSorting:t,pending:a,refreshEvent:l})=>{const[r,i]=n().useState([]),[s,o]=n().useState(!1),[u,c]=n().useState(J.findIndex((e=>"timestamp"===e.sortTitle))+1),[d,p]=n().useState(j.l.desc);n().useEffect((()=>{a||(o(!0),l.type!==X.eventTypes.NONE&&l.reset())}),[l,a]);const f=e=>r.includes(e.id),E=a&&(l.type===X.eventTypes.NONE||!s);return n().createElement(x.a,null,E?n().createElement(m.y,{size:"lg"}):n().createElement(W.X,{"aria-label":"Expandable table",variant:$.a.compact},n().createElement(K.d,null,n().createElement(B.Tr,null,n().createElement(Y.Th,null),J.map(((e,a)=>{return n().createElement(Y.Th,{sort:(l=a+1,{sortBy:{index:u,direction:d},onSort:(e,a,l)=>{const n={isAscending:l===j.l.asc,sortField:J[a-1].sortTitle,sortIndex:a};t(n),c(a),p(n.isAscending?j.l.asc:j.l.desc)},columnIndex:l}),key:e.title},e.title);var l})))),(null==e?void 0:e.length)?e.map(((e,t)=>((e,t)=>{const{summary:a,severity:l,timestamp:s,description:o,username:u,created_by:c,internal_only:d,log_type:m,doc_references:p}=e,E=M().utc(s).format("D MMM YYYY, HH:mm UTC"),g=p&&p.length>0?n().createElement(n().Fragment,null,n().createElement(U.E,{"data-testid":`references_${t}`,className:"cluster-log__resources",component:U.Y.h2},n().createElement("strong",null,"References:")),n().createElement("ul",null,p.map((e=>n().createElement("li",{key:e},n().createElement(Z.default,{href:e},e)))))):null,v=d;return n().createElement(V.N,{className:v?"pf-v5-u-background-color-danger":void 0,key:t},n().createElement(B.Tr,null,n().createElement(q.Td,{expand:{rowIndex:t,isExpanded:f(e),onToggle:()=>{((e,t=!0)=>{const a=r.filter((t=>t!==e.id)),l=t?[...a,e.id]:a;i(l)})(e,!f(e))}}}),n().createElement(q.Td,null,a," ",v?n().createElement(H.PX,null):null),n().createElement(q.Td,null,m),n().createElement(q.Td,null,l),n().createElement(q.Td,null,u||c),n().createElement(q.Td,null,E)),n().createElement(B.Tr,{isExpanded:f(e)},n().createElement(q.Td,{className:"cluster-log",colSpan:J.length+1},n().createElement(z.g,null,n().createElement(Q.A,null,o),g))))})(e,t))):(g=J.length+1,n().createElement(V.N,null,n().createElement(B.Tr,null,n().createElement(q.Td,{colSpan:g},n().createElement(x.a,null,n().createElement(v.p,{variant:v.s.sm},n().createElement(h.o,{titleText:"No results found",icon:n().createElement(_.q,{icon:b.SearchIcon}),headingLevel:"h2"}),n().createElement(G.h,null,"No results match the filter criteria. Remove all filters or clear all filters to show results.")))))))));var g};var te=a(86395);const ae=({externalClusterID:e,clusterID:t,region:a,createdAt:l,refreshEvent:r,isVisible:s,findGcpOrgPolicyWarning:D})=>{const F=(0,C.useNavigate)(),M=(0,u.wA)(),x=O.viewConstants.CLUSTER_LOGS_VIEW,G=(0,A.useGlobalState)((e=>e.viewOptions[x])),[U,H]=n().useState(!1),[V,B]=n().useState(G),[q,j]=n().useState(!1),[z,W]=n().useState(!1),[$,K]=n().useState(1),[Y,Q]=n().useState(20),{data:Z,isError:X,error:J,dataUpdatedAt:ae,isPending:le}=(0,y.useFetchClusterLogs)(e,t,G,a,$,Y),ne=null==Z?void 0:Z.items,re=J,ie=new Date(ae),se=(null==Z?void 0:Z.total)||0,oe=$&&Y&&se>0?($-1)*Y+1:0,ue=$&&Y?Math.min($*Y,se):0,ce=(e,t)=>{K(t)},de=(e,t,a)=>{Q(t),K(a)};return n().useEffect((()=>{const e=(0,T.getQueryParam)("severityTypes")||"",t=(0,T.getQueryParam)("logTypes")||"";let a;i()(e)&&i()(t)||(H(!0),M(I.viewActions.onListFlagsSet("conditionalFilterFlags",{severityTypes:i()(e)?[]:e.split(",").filter((e=>w.SEVERITY_TYPES.includes(e))),logTypes:i()(t)?[]:t.split(",").filter((e=>w.LOG_TYPES.includes(e)))},x)));const n=(0,T.getQueryParam)("loggedBy")||"",r=(0,T.getQueryParam)("description")||"",s=(0,T.getQueryParam)("timestampFrom")||"",o=(0,T.getQueryParam)("timestampTo")||"";if(i()(n)&&i()(r)&&i()(s)&&i()(o)||(a={loggedBy:n,description:r,timestampFrom:s,timestampTo:o}),l&&!i()(s)){const e=(0,N.dateParse)(l),{symbol:t,date:n}=(0,N.onDateChangeFromFilter)((0,N.dateFormat)((0,N.getTimestampFrom)(e)));a={...null!=a?a:{},timestampFrom:`${t} '${n}'`}}a&&(H(!0),M(I.viewActions.onListFilterSet(a,x)))}),[l,M,x]),n().useEffect((()=>{!(0,T.viewPropsChanged)(G,V)||le&&(U||!e&&!t)||((0,y.refetchClusterLogsQueries)(),B(G))}),[M,le,U,e,t,G,V]),n().useEffect((()=>{re&&(403!==(null==re?void 0:re.errorCode)&&404!==(null==re?void 0:re.errorCode)||j(!0))}),[re]),n().useEffect((()=>{const e=i()(G.filter)&&R.default.nestedIsEmpty(G.flags);W(!o()(ne)&&le&&e)}),[ne,le,G.filter,G.flags]),n().useEffect((()=>{if(!0===s){const e=Object.entries(G.filter).filter((e=>["description","loggedBy","timestampFrom","timestampTo"].includes(e[0])&&e[1])).reduce(((e,t)=>({...e,[`${t[0]}`]:[t[1]]})),{});F({hash:"#clusterHistory",search:(0,T.buildFilterURLParams)({...e,...G.flags.conditionalFilterFlags||{}})},{replace:!0})}}),[s,G.flags.conditionalFilterFlags,G.filter,F]),n().useEffect((()=>{D&&D(ne)}),[ne,D]),n().createElement(c.Z,{className:"ocm-c-overview-cluster-history__card"},n().createElement(d.a,{actions:{actions:n().createElement(n().Fragment,null,"Updated  ",ie&&!le?n().createElement(L,{timestamp:ie.getTime()}):n().createElement(m.y,{size:"sm"})),hasNoOffset:!1},className:"ocm-c-overview-cluster-history__card--header"},n().createElement(p.Z,{className:"ocm-c-overview-cluster-history__card--header"},n().createElement(f.h,{headingLevel:"h2",className:"card-title","data-testid":"cluster_history_title"},"Cluster history"))),n().createElement(E.b,{className:"ocm-c-overview-cluster-history__card--body"},X&&!q&&n().createElement(P.default,{message:"Error retrieving cluster logs",response:{errorMessage:re.errorMessage,operationID:re.operationID}}),n().createElement(te.A,{view:x,externalClusterID:e,isPendingNoData:z,clusterID:t,createdAt:l,logs:null==ne?void 0:ne.length,itemCount:(null==Z?void 0:Z.total)||0,page:$,perPage:Y,itemsStart:oe,itemsEnd:ue,onSetPage:ce,onPerPageSelect:de}),X&&!o()(ne)&&q?n().createElement(g.d8,null,n().createElement(v.p,null,n().createElement(h.o,{titleText:"No cluster log entries found",icon:n().createElement(_.q,{icon:b.default}),headingLevel:"h4"}))):n().createElement(n().Fragment,null,n().createElement(ee,{pending:le,logs:ne,setSorting:e=>M(I.viewActions.onListSortBy(e,x)),refreshEvent:r}),n().createElement(k.default,{itemCount:(null==Z?void 0:Z.total)||0,isDisabled:z,page:$,perPage:Y,itemsStart:oe,itemsEnd:ue,variant:S.A.bottom,onSetPage:ce,onPerPageSelect:de}))))}},13945:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(91289);const i=({itemCount:e,isDisabled:t,page:a,perPage:l,itemsStart:i,itemsEnd:s,variant:o,onSetPage:u,onPerPageSelect:c})=>n().createElement(r.d,{itemCount:e,perPage:l,page:a,variant:o||r.A.bottom,onSetPage:u,onPerPageSelect:c,itemsStart:i,itemsEnd:s,isDisabled:t,dropDirection:"bottom"===o?"up":"down",isCompact:"bottom"!==o})},73509:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{GET_CLUSTER_LOGS:()=>n,LOG_TYPES:()=>s,RESET_CLUSTER_HISTORY:()=>r,SEVERITY_TYPES:()=>i,default:()=>o}),function(e){let t,a;!function(e){e.CLUSTERCREATE_HIGH_LEVEL="clustercreate-high-level",e.CLUSTERCREATE_DETAILS="clustercreate-details",e.CLUSTERREMOVE_HIGH_LEVEL="clusterremove-high-level",e.CLUSTERREMOVE_DETAILS="clusterremove-details",e.CLUSTER_STATE_UPDATES="cluster-state-updates",e.CLUSTER_SUBSCRIPTION="Cluster Subscription",e.CLUSTER_LIFECYCLE="Cluster Lifecycle",e.CLUSTER_UPDATES="Cluster Updates",e.CLUSTER_OWNERSHIP="Cluster Ownership",e.CLUSTER_ACCESS="Cluster Access",e.CLUSTER_SCALING="Cluster Scaling",e.CAPACITY_MANAGEMENT="Capacity Management",e.CLUSTER_CONFIGURATION="Cluster Configuration",e.CLUSTER_SECURITY="Cluster Security",e.CLUSTER_ADD_ONS="Cluster Add-ons",e.CUSTOMER_SUPPORT="Customer Support",e.CLUSTER_NETWORKING="Cluster Networking",e.GENERAL_NOTIFICATION="General Notification"}(t=e.log_type||(e.log_type={})),function(e){e.DEBUG="Debug",e.INFO="Info",e.WARNING="Warning",e.ERROR="Error",e.FATAL="Fatal",e.MAJOR="Major",e.CRITICAL="Critical"}(a=e.severity||(e.severity={}))}(l||(l={}));const n="GET_CLUSTER_LOGS",r="RESET_CLUSTER_HISTORY",i=["Debug","Info","Warning","Error","Major","Critical","Fatal"],s=Object.values(l.log_type).sort(((e,t)=>e.localeCompare(t,void 0,{sensitivity:"case"}))),o={GET_CLUSTER_LOGS:n,SEVERITY_TYPES:i,LOG_TYPES:s,RESET_CLUSTER_HISTORY:r}},87857:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(93345),n=a.n(l),r=a(74353),i=a.n(r),s=a(72583),o=a(16165),u=a(90678),c=a(73113),d=a(56780),m=a(12956),p=a(24510),f=a(10135),E=a(90020);const g=({externalClusterID:e,clusterID:t,viewOptions:a,logs:l})=>{const[r,g]=n().useState(!1),[v,h]=n().useState("json"),[_,S]=n().useState(!1),[b,C]=n().useState(!1),y=()=>{g(!1),S(!1)};return n().createElement(n().Fragment,null,n().createElement(s.$n,{isDisabled:!l,variant:"primary",onClick:()=>g(!0),"data-testid":"download-btn"},"Download history"),r&&n().createElement(o.a,{variant:"small",title:"Download cluster history",isOpen:!0,onClose:b?void 0:y,actions:[n().createElement(s.$n,{"data-testid":"submit-btn",key:"download",variant:"primary",onClick:async()=>{const l=(0,f.createServiceLogQueryObject)({...a,currentPage:1,pageSize:-1},v);try{C(!0),S(!1);const{data:a}=await E.serviceLogService.getClusterHistory(e,t,l),n=i()().format("YYYY-MM-DD HHmm");let r=a;"json"===v&&(r=JSON.stringify(a));const s=new Blob([r],{type:"octet/stream"}),o=document.createElement("a");o.setAttribute("href",window.URL.createObjectURL(s)),o.setAttribute("download",`${e||t}.${n}.${v}`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),y()}catch(e){S(!0)}finally{C(!1)}},isDisabled:b,isLoading:b,spinnerAriaLabel:"Loading cluster logs"},"Download"),n().createElement(s.$n,{key:"close",variant:"link",onClick:y,isDisabled:b},"Cancel")]},n().createElement(u.B,{hasGutter:!0},n().createElement(c.a,null,n().createElement(d.g,{label:"Choose a file type"},n().createElement(m.s,{id:"json-format",isChecked:"json"===v,name:"format",onChange:(e,t)=>t&&h("json"),label:"JSON",isDisabled:b}),n().createElement(m.s,{id:"csv-format",isChecked:"csv"===v,name:"format",onChange:(e,t)=>t&&h("csv"),label:"CSV",isDisabled:b}))),_&&n().createElement(c.a,null,n().createElement(p.F,{variant:"danger",title:"Unable to download records",isInline:!0})))))}},47208:(e,t,a)=>{"use strict";a.r(t),a.d(t,{IDPNeedsOAuthURL:()=>p,IDPObjectNames:()=>c,IDPTypeNames:()=>o,IDPformValues:()=>i,generateIDPName:()=>f,getCreateIDPRequestData:()=>g,getGitHubTeamsAndOrgsData:()=>_,getInitialValuesForEditing:()=>b,getOauthCallbackURL:()=>m,getOpenIdClaims:()=>v,getldapAttributes:()=>h,getldapca:()=>E,isEmptyReduxArray:()=>S,mappingMethods:()=>d,mappingMethodsformValues:()=>s,singularFormIDP:()=>u});var l=a(62193),n=a.n(l),r=a(93413);const i={GITHUB:"GithubIdentityProvider",GOOGLE:"GoogleIdentityProvider",OPENID:"OpenIDIdentityProvider",LDAP:"LDAPIdentityProvider",GITLAB:"GitlabIdentityProvider",HTPASSWD:"HTPasswdIdentityProvider"},s={CLAIM:"claim",LOOKUP:"lookup",GENERATE:"generate",ADD:"add"},o={[i.GITHUB]:"GitHub",[i.GOOGLE]:"Google",[i.OPENID]:"OpenID",[i.LDAP]:"LDAP",[i.GITLAB]:"GitLab",[i.HTPASSWD]:"htpasswd"},u={[i.GITHUB]:"a GitHub",[i.GOOGLE]:"a Google",[i.OPENID]:"an OpenID",[i.LDAP]:"an LDAP",[i.GITLAB]:"a GitLab",[i.HTPASSWD]:"an HTPasswd"},c={[i.GITHUB]:"github",[i.GOOGLE]:"google",[i.OPENID]:"open_id",[i.LDAP]:"ldap",[i.GITLAB]:"gitlab",[i.HTPASSWD]:"htpasswd"},d=[{name:s.CLAIM,value:s.CLAIM},{name:s.LOOKUP,value:s.LOOKUP},{name:s.GENERATE,value:s.GENERATE},{name:s.ADD,value:s.ADD}],m=(e,t,a)=>{const l=a?e.api:e.console;if(!t||!l)return"";const n=(l.endsWith("/")?l:`${l}/`).split(".");if(n[0]="https://oauth"+(a?"":"-openshift"),a&&!(e=>e===o[i.OPENID])(t)){const e=n[n.length-1];-1!==e.indexOf(":")&&(n[n.length-1]=`${e.split(":")[0]}/`)}return`${n.join(".")}oauth2callback/${t}`},p=e=>![i.LDAP,i.HTPASSWD].includes(null!=e?e:""),f=(e,t)=>{const a=t.map((e=>e.name));let l=0;const n=o[e];if(!a.includes(n))return n;let r=`${n}-${l+1}`;for(;a.includes(r);)l+=1,r=`${n}-${l+1}`;return r},E=e=>e.ldap_ca?e.ldap_insecure?"":e.ldap_ca.trim():e.ldap_ca,g=e=>{const t={GithubIdentityProvider:{name:"github",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),organizations:"organizations"===e.github_auth_mode?e.organizations:void 0,teams:"teams"===e.github_auth_mode?e.teams:void 0,hostname:e.hostname,ca:e.github_ca?e.github_ca.trim():e.github_ca})},GoogleIdentityProvider:{name:"google",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),hosted_domain:e.hosted_domain})},OpenIDIdentityProvider:{name:"open_id",data:()=>({ca:e.openid_ca?e.openid_ca.trim():e.openid_ca,claims:{email:e.openid_email,name:e.openid_name,preferred_username:e.openid_preferred_username},client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),extra_scopes:(0,r.strToCleanArray)(e.openid_extra_scopes),issuer:e.issuer})},LDAPIdentityProvider:{name:"ldap",data:()=>({attributes:{id:e.ldap_id,email:e.ldap_email,name:e.ldap_name,preferred_username:e.ldap_preferred_username},bind_dn:e.bind_dn,bind_password:e.bind_password,insecure:e.ldap_insecure,url:e.ldap_url,ca:E(e)})},GitlabIdentityProvider:{name:"gitlab",data:()=>({client_id:e.client_id.trim(),client_secret:e.client_secret.trim(),url:e.gitlab_url,ca:e.gitlab_ca?e.gitlab_ca.trim():e.gitlab_ca})},HTPasswdIdentityProvider:{name:"htpasswd",data:()=>{var t;return{users:{items:null===(t=e.users)||void 0===t?void 0:t.map((e=>({username:e.username,password:e.password})))}}}}},a={type:e.type,name:e.name,id:e.idpId,mapping_method:void 0},l=t[e.type].data(),n=t[e.type].name;return"htpasswd"!==n&&(a.mapping_method=e.mappingMethod||s.CLAIM),e.idpId&&""!==e.idpId&&(delete a.name,"CLIENT_SECRET"===l.client_secret&&delete l.client_secret,l.bind_password&&"BIND_PASSWORD"===l.bind_password&&delete l.bind_password),{...a,[n]:{...l}}},v=(e,t)=>{const a=null==e?void 0:e[t];if(null==a?void 0:a.length)switch(t){case"name":return a.map(((e,t)=>({id:t,openid_name:e})));case"email":return a.map(((e,t)=>({id:t,openid_email:e})));case"preferred_username":return a.map(((e,t)=>({id:t,openid_preferred_username:e})))}return[]},h=(e,t)=>{const a=e?e[t]:void 0;if(a)switch(t){case"name":return a.map(((e,t)=>({id:t,ldap_name:e})));case"email":return a.map(((e,t)=>({id:t,ldap_email:e})));case"preferred_username":return a.map(((e,t)=>({id:t,ldap_preferred_username:e})));case"id":return a.map(((e,t)=>({id:t,ldap_id:e})))}return[]},_=e=>e.teams?e.teams.map(((e,t)=>({teams:e}))):e.organizations?e.organizations.map(((e,t)=>({organizations:e}))):[],S=(e,t)=>!!e&&e.map((e=>n()(e[t]))).every((e=>e)),b=(e,t)=>{var a,l,n,r,i,s,o,u,c,d,m,p,f,E,g,v,h,_,S,b,C,y,I,A,R,T,O,P,D,L,N,w,k,F,M,x,G,U,H,V;if(!t)return{};const B={idpId:e.id,type:e.type,name:e.name,client_secret:"CLIENT_SECRET",mappingMethod:e.mapping_method,selectedIDP:e.type};switch(t){case"gitlab":return{...B,gitlab_url:null===(a=e[t])||void 0===a?void 0:a.url,client_id:null===(l=e[t])||void 0===l?void 0:l.client_id};case"open_id":return{...B,issuer:null===(n=e[t])||void 0===n?void 0:n.issuer,openid_name:null===(i=null===(r=e[t])||void 0===r?void 0:r.claims)||void 0===i?void 0:i.name,openid_email:null===(o=null===(s=e[t])||void 0===s?void 0:s.claims)||void 0===o?void 0:o.email,openid_preferred_username:null===(c=null===(u=e[t])||void 0===u?void 0:u.claims)||void 0===c?void 0:c.preferred_username,openid_extra_scopes:(null===(d=e[t])||void 0===d?void 0:d.extra_scopes)?null===(p=null===(m=e[t])||void 0===m?void 0:m.extra_scopes)||void 0===p?void 0:p.join():"",openid_ca:null===(f=e[t])||void 0===f?void 0:f.ca,client_id:null===(E=e[t])||void 0===E?void 0:E.client_id};case"google":return{...B,hosted_domain:null===(g=e[t])||void 0===g?void 0:g.hosted_domain,client_id:null===(v=e[t])||void 0===v?void 0:v.client_id};case"ldap":return{...B,ldap_id:null!==(S=null===(_=null===(h=e[t])||void 0===h?void 0:h.attributes)||void 0===_?void 0:_.id)&&void 0!==S?S:[""],ldap_preferred_username:null!==(y=null===(C=null===(b=e[t])||void 0===b?void 0:b.attributes)||void 0===C?void 0:C.preferred_username)&&void 0!==y?y:[""],ldap_name:null!==(R=null===(A=null===(I=e[t])||void 0===I?void 0:I.attributes)||void 0===A?void 0:A.name)&&void 0!==R?R:[""],ldap_email:null!==(P=null===(O=null===(T=e[t])||void 0===T?void 0:T.attributes)||void 0===O?void 0:O.email)&&void 0!==P?P:[""],ldap_url:null===(D=e[t])||void 0===D?void 0:D.url,bind_dn:null===(L=e[t])||void 0===L?void 0:L.bind_dn,bind_password:(null===(N=e[t])||void 0===N?void 0:N.bind_dn)?"BIND_PASSWORD":"",ldap_ca:null===(w=e[t])||void 0===w?void 0:w.ca,ldap_insecure:null===(k=e[t])||void 0===k?void 0:k.insecure};case"github":return{...B,hostname:null===(F=e[t])||void 0===F?void 0:F.hostname,teams:null!==(x=null===(M=e[t])||void 0===M?void 0:M.teams)&&void 0!==x?x:[""],organizations:null!==(U=null===(G=e[t])||void 0===G?void 0:G.organizations)&&void 0!==U?U:[""],github_ca:null===(H=e[t])||void 0===H?void 0:H.ca,client_id:null===(V=e[t])||void 0===V?void 0:V.client_id}}return B}},67548:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ACCEPT:()=>f,MAX_FILE_SIZE:()=>p,default:()=>E});var l=a(93345),n=a.n(l),r=a(56780),i=a(35253),s=a(53642),o=a(23285),u=a(72583),c=a(65843),d=a(74688),m=a(38715);const p=4e6,f=".pem,.crt,.ca,.cert,application/x-pem-file,application/x-x509-ca-cert,text/plain",E=({label:e,helpText:t="",isDisabled:a,input:l,isRequired:E=!1,certValue:g,maxFileSize:v=p})=>{const h="pf-v5-c-button pf-m-tertiary co-btn-file",[_,S]=n().useState(""),[b,C]=n().useState(""),[y,I]=n().useState(""),[A,R]=n().useState(!1),[T,O]=n().useState(h),[P,D]=n().useState(!1);n().useEffect((()=>{g&&""!==g&&(I(g),R(!0))}),[g]),n().useEffect((()=>{O(a?`${h} pf-m-disabled`:h)}),[a]),n().useEffect((()=>{D(!a&&""!==y&&A)}),[a,y,A]);const L=e=>R(e);return n().createElement(r.g,{className:"ca-upload",fieldId:l.name,label:e,isRequired:E,"data-testid":"ca-upload-form"},n().createElement(i.M,null,n().createElement(s.b,{isFill:!0},n().createElement(o.ks,{value:_,isRequired:E,id:l.name,name:l.name,readOnlyVariant:"default"})),n().createElement(s.b,null,n().createElement("span",{className:T},n().createElement("input",{type:"file",name:"file_input",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a)if(a.size>v)C(`Maximum file size exceeded. File size limit is ${(0,d.humanizeValueWithoutUnit)(v)}`);else{const e=new FileReader;e.onload=()=>{S(a.name),C(""),I(e.result),R(!0),l.onChange(e.result)},e.readAsText(a,"UTF-8")}e.currentTarget.value=""},disabled:a,accept:f,"data-testid":"ca-upload-input-file"}),"Browse…"),n().createElement(u.$n,{onClick:()=>{S(""),I("")}},"Clear"))),P?n().createElement(n().Fragment,null,n().createElement(u.$n,{variant:"link",onClick:()=>L(!1)},"Hide"),n().createElement(c.fs,{value:y,id:`${l.name}_text`,name:`${l.name}_text`,onChange:(e,t)=>(e=>{l.onChange(e||" "),S(""),I(e)})(t),className:"ca-textarea",readOnly:!0})):n().createElement(u.$n,{variant:"link",onClick:()=>L(!0),isDisabled:""===y||a},"Reveal"),n().createElement(m.FormGroupHelperText,{touched:!0,error:b},t))}},45455:(e,t,a)=>{"use strict";a.r(t),a.d(t,{IdentityProvidersPageFormInitialValues:()=>i,IdentityProvidersPageValidationSchema:()=>s});var l=a(12664),n=a(18105),r=a(47208);const i=e=>{const t=r.IDPformValues.GITHUB;switch(e){case"GithubIdentityProvider":return{[n.FieldId.TYPE]:e||t,[n.FieldId.MAPPING_METHOD]:"claim",[n.FieldId.CLIENT_ID]:"",[n.FieldId.CLIENT_SECRET]:"",[n.FieldId.NAME]:"",[n.FieldId.HOSTNAME]:"",[n.FieldId.GITHUB_AUTH_MODE]:"organizations",[n.FieldId.ORGANIZATIONS]:[""],[n.FieldId.TEAMS]:[""]};case"GoogleIdentityProvider":return{[n.FieldId.TYPE]:e||t,[n.FieldId.MAPPING_METHOD]:"claim",[n.FieldId.NAME]:"",[n.FieldId.CLIENT_ID]:"",[n.FieldId.CLIENT_SECRET]:"",[n.FieldId.HOSTED_DOMAIN]:""};case"OpenIDIdentityProvider":return{[n.FieldId.TYPE]:e||t,[n.FieldId.MAPPING_METHOD]:"claim",[n.FieldId.NAME]:"",[n.FieldId.CLIENT_ID]:"",[n.FieldId.CLIENT_SECRET]:"",[n.FieldId.ISSUER]:"",[n.FieldId.OPENID_CA]:"",[n.FieldId.OPENID_EMAIL]:[""],[n.FieldId.OPENID_NAME]:[""],[n.FieldId.OPENID_PREFFERED_USERNAME]:[""],[n.FieldId.OPENID_EXTRA_SCOPES]:""};case"LDAPIdentityProvider":return{[n.FieldId.TYPE]:e||t,[n.FieldId.MAPPING_METHOD]:"claim",[n.FieldId.NAME]:"",[n.FieldId.LDAP_CA]:"",[n.FieldId.LDAP_EMAIL]:[""],[n.FieldId.LDAP_ID]:[""],[n.FieldId.LDAP_INSECURE]:!1,[n.FieldId.LDAP_NAME]:[""],[n.FieldId.LDAP_PREFFERED_USERNAME]:[""],[n.FieldId.LDAP_URL]:""};case"GitlabIdentityProvider":return{[n.FieldId.TYPE]:e||t,[n.FieldId.MAPPING_METHOD]:"claim",[n.FieldId.NAME]:"",[n.FieldId.CLIENT_ID]:"",[n.FieldId.CLIENT_SECRET]:"",[n.FieldId.GITLAB_CA]:"",[n.FieldId.GITLAB_URL]:""};default:return{[n.FieldId.TYPE]:e||t,[n.FieldId.NAME]:r.IDPTypeNames[e],[n.FieldId.USERS]:[{username:"",password:"","password-confirm":""}]}}},s=e=>{switch(e){case"GithubIdentityProvider":return l.object({[n.FieldId.NAME]:l.string().required(),[n.FieldId.GITHUB_AUTH_MODE]:l.string(),[n.FieldId.ORGANIZATIONS]:l.array().of(l.string()).test("at-least-one-filled","At least one field must be filled",((e,t)=>{const{teams:a}=t.parent,l=null==e?void 0:e.some((e=>e&&""!==e.trim())),n=null==a?void 0:a.some((e=>e&&""!==e.trim()));return l||n})),[n.FieldId.TEAMS]:l.array().of(l.string()).test("at-least-one-filled","At least one field must be filled",((e,t)=>{const{organizations:a}=t.parent,l=null==e?void 0:e.some((e=>e&&""!==e.trim())),n=null==a?void 0:a.some((e=>e&&""!==e.trim()));return l||n}))});case"GoogleIdentityProvider":return l.object({[n.FieldId.NAME]:l.string().required(),[n.FieldId.CLIENT_ID]:l.string().required("Field is required"),[n.FieldId.CLIENT_SECRET]:l.string().required("Field is required"),[n.FieldId.HOSTED_DOMAIN]:l.string().required()});case"OpenIDIdentityProvider":return l.object({[n.FieldId.NAME]:l.string().required(),[n.FieldId.CLIENT_ID]:l.string().required("Field is required"),[n.FieldId.CLIENT_SECRET]:l.string().required("Field is required"),[n.FieldId.ISSUER]:l.string().required("Field is required"),[n.FieldId.OPENID_EMAIL]:l.array().of(l.string()).test("at-least-one-filled","At least one field must be filled",(e=>null==e?void 0:e.some((e=>void 0!==e&&""!==e.trim())))),[n.FieldId.OPENID_NAME]:l.array().of(l.string()).test("at-least-one-filled","At least one field must be filled",(e=>null==e?void 0:e.some((e=>void 0!==e&&""!==e.trim())))),[n.FieldId.OPENID_PREFFERED_USERNAME]:l.array().of(l.string()).test("at-least-one-filled","At least one field must be filled",(e=>null==e?void 0:e.some((e=>void 0!==e&&""!==e.trim()))))});case"LDAPIdentityProvider":return l.object({[n.FieldId.NAME]:l.string().required(),[n.FieldId.LDAP_URL]:l.string().required(),[n.FieldId.LDAP_ID]:l.array().of(l.string()).test("at-least-one-filled","At least one field must be filled",(e=>null==e?void 0:e.some((e=>void 0!==e&&""!==e.trim()))))});case"GitlabIdentityProvider":return l.object({[n.FieldId.NAME]:l.string().required(),[n.FieldId.CLIENT_ID]:l.string().required("Field is required"),[n.FieldId.CLIENT_SECRET]:l.string().required("Field is required"),[n.FieldId.GITLAB_URL]:l.string().required("Field is required")});default:return l.object({[n.FieldId.NAME]:l.string().required(),[n.FieldId.USERS]:l.array().of(l.object().shape({[n.FieldId.USERNAME]:l.string().required("Username is required"),[n.FieldId.PASSWORD]:l.string().required("Password is required"),[n.FieldId.PASSWORD_CONFIRM]:l.string().oneOf([l.ref(n.FieldId.PASSWORD),""],"Passwords must match").required("Confirm password is required")}))})}}},17719:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(88139),i=a(23215),s=a(72067),o=a(84037),u=a(38871),c=a(18105);const d=({isPending:e=!1})=>{const{getFieldProps:t,getFieldMeta:a,setFieldValue:l}=(0,s.l)();return n().createElement(n().Fragment,null,n().createElement(i.E,{span:8},n().createElement(r.Field,{id:c.FieldId.CLIENT_ID,component:u.default,name:c.FieldId.CLIENT_ID,input:{...t(c.FieldId.CLIENT_ID),onChange:(e,t)=>l(c.FieldId.CLIENT_ID,t)},meta:a(c.FieldId.CLIENT_ID),label:"Client ID",type:"text",validate:o.required,isRequired:!0,disabled:e})),n().createElement(i.E,{span:8},n().createElement(r.Field,{id:c.FieldId.CLIENT_SECRET,component:u.default,name:c.FieldId.CLIENT_SECRET,input:{...t(c.FieldId.CLIENT_SECRET),onChange:(e,t)=>l(c.FieldId.CLIENT_SECRET,t)},meta:a(c.FieldId.CLIENT_SECRET),label:"Client secret",type:"password",validate:o.required,isRequired:!0,disabled:e})))}},18105:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{FieldId:()=>l}),function(e){e.TYPE="type",e.NAME="name",e.MAPPING_METHOD="mappingMethod",e.CLIENT_ID="client_id",e.CLIENT_SECRET="client_secret",e.OPENID_CA="openid_ca",e.OPENID_EXTRA_SCOPES="openid_extra_scopes",e.OPENID_EMAIL="openid_email",e.OPENID_NAME="openid_name",e.OPENID_PREFFERED_USERNAME="openid_preferred_username",e.ISSUER="issuer",e.LDAP_CA="ldap_ca",e.LDAP_INSECURE="ldap_insecure",e.LDAP_URL="ldap_url",e.BIND_DN="bind_dn",e.BIND_PASSWORD="bind_password",e.LDAP_ID="ldap_id",e.LDAP_PREFFERED_USERNAME="ldap_preferred_username",e.LDAP_NAME="ldap_name",e.LDAP_EMAIL="ldap_email",e.USERS="users",e.USERNAME="username",e.PASSWORD="password",e.PASSWORD_CONFIRM="password-confirm",e.HOSTED_DOMAIN="hosted_domain",e.GITLAB_URL="gitlab_url",e.GITLAB_CA="gitlab_ca",e.HOSTNAME="hostname",e.GITHUB_CA="github_ca",e.GITHUB_AUTH_MODE="github_auth_mode",e.ORGANIZATIONS="organizations",e.TEAMS="teams"}(l||(l={}))},68842:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GET_CLUSTER_INSIGHTS:()=>l,GET_ORGANIZATION_INSIGHTS:()=>n,INSIGHTS_RULE_CATEGORIES:()=>r});const l="GET_CLUSTER_INSIGHTS",n="GET_ORGANIZATION_INSIGHTS",r=[{title:"Performance",tags:["performance"]},{title:"Service Availability",tags:["service_availability"]},{title:"Security",tags:["security"]},{title:"Fault Tolerance",tags:["fault_tolerance"]}]},96110:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var l=a(93345),n=a.n(l),r=a(24510);const i=({hasClusterAutoScaler:e,hasAutoscalingMachinePools:t,isEnabledOnCurrentPool:a,warningType:l})=>{let i="",s="";switch(l){case"clusterView":e&&!t&&(s="Cluster will not autoscale",i="The cluster autoscaling settings will not have any effect as no machine pools are set to autoscale.");break;case"addMachinePool":case"editMachinePool":!e||a||t||(s="Cluster will not autoscale",i="Without machine pools which are configured to autoscale, the cluster autoscaler settings will not have any effect on the cluster.")}return i?n().createElement(r.F,{"data-testid":"inconsistent-autoscaling-settings",variant:"warning",isInline:!0,title:s},i):null}},2167:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(4775),i=a(72583);const s=({isMultiZoneCluster:e,machinePool:t})=>{if(!t.autoscaling)return`${t.desired||t.replicas}`;const a=`Min: ${t.autoscaling.min_replicas}, Max: ${t.autoscaling.max_replicas}`;return e?n().createElement(r.A,{bodyContent:"Minimum and maximum node totals are calculated based on the number of zones.","aria-label":"help"},n().createElement(i.$n,{className:"nodes-count",variant:"link"},a)):a}},56723:(e,t,a)=>{"use strict";a.r(t),a.d(t,{UpdateAllMachinePools:()=>g,UpdateMachinePoolModal:()=>P,UpdatePoolButton:()=>O});var l=a(93345),n=a.n(l),r=a(71468),i=a(99589),s=a.n(i),o=a(24510),u=a(69671),c=a(30155),d=a(65702),m=a(69304),p=a(8888),f=a(81773),E=a(31639);const g=({initialErrorMessage:e,goToMachinePoolTab:t,isMachinePoolError:a,isHypershift:l,region:i})=>{var g,v;const[h,_]=n().useState(!1),[S,b]=n().useState(e?[e]:[]),C=(0,r.d4)((e=>(0,E.controlPlaneVersionSelector)(e))),y=(0,E.useHCPControlPlaneUpdating)(C,a,l),I=(0,r.d4)(E.controlPlaneIdSelector),A=(0,r.d4)((e=>{var t;return null===(t=e.machinePools)||void 0===t?void 0:t.getMachinePools}));if(y)return null;const R=(null===(g=A.data)||void 0===g?void 0:g.filter((e=>{var t;return(0,E.compareIsMachinePoolBehindControlPlane)(C,null===(t=e.version)||void 0===t?void 0:t.id)&&(0,E.isControlPlaneValidForMachinePool)(e,C)&&!(0,E.isMachinePoolScheduleError)(e)&&!(0,E.isMachinePoolUpgrading)(e)})))||[];return 0===R.length?null:n().createElement(n().Fragment,null,!h&&S.length>0?n().createElement(o.F,{title:"Some machine pools could not be updated",variant:o.w.danger,isExpandable:!0,isInline:!0,role:"alert",className:"pf-v5-u-mt-md","data-testid":"alert-danger"},S.map(((e,t)=>n().createElement("p",{key:t},e)))):null,n().createElement(o.F,{className:t?"pf-v5-u-mb-lg":"pf-v5-u-mt-lg",isExpandable:!0,isInline:!0,role:"alert",variant:o.w.warning,title:"Update available for Machine pools","data-testid":"alert-warning",actionLinks:n().createElement(n().Fragment,null,h&&!t?n().createElement(u.y,{size:"sm","aria-label":"Updating machine pools"}):null,h||t?null:n().createElement(c.v,{onClick:()=>(async()=>{_(!0);const e=await(0,E.updateAllMachinePools)(R,I,C,i);_(!1),b(e),(0,f.refetchMachineOrNodePoolsQuery)(I,l,C)})(),"data-testid":"btn-update-all"},"Update all Machine pools now"),t?n().createElement(m.Link,{to:`/details/${I}#machinePools`},"Go to Machine pools list"):null)},n().createElement("p",null,"You can update all worker nodes to the current control plane version (",null===(v=s().coerce(C))||void 0===v?void 0:v.version,"), or use the CLI to update a specific version."," ",n().createElement(p.default,{href:d.default.ROSA_UPGRADES},"Learn more about updates"))))};var v=a(72583),h=a(60502),_=a(67209),S=a(23271),b=a(28592),C=a(91089),y=a(43775),I=a(14419),A=a(55213),R=a(25514);const T=y.default.UPDATE_MACHINE_POOL_VERSION,O=({machinePool:e,isMachinePoolError:t,isHypershift:a})=>{var l,i,s;const o=(0,r.wA)(),u=(0,r.d4)((e=>(0,E.controlPlaneVersionSelector)(e))),c=(0,R.useGlobalState)((e=>e.clusterUpgrades.schedules)),d=(0,r.d4)((l=>(0,E.canMachinePoolBeUpgradedSelector)(c,u,e,t,a))),m=(0,E.useIsControlPlaneValidForMachinePool)(e),p=(0,E.isMachinePoolUpgrading)(e);if(d&&!t)return n().createElement(v.$n,{variant:v.Ak.link,isInline:!0,onClick:()=>o(C.modalActions.openModal(T,{machinePool:e}))},"Update ",n().createElement(h.OutlinedArrowAltCircleUpIcon,null));if((0,E.isMachinePoolScheduleError)(e))return n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",isError:!0,hint:null===(l=e.upgradePolicies)||void 0===l?void 0:l.errorMessage});if(!m)return n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",hint:`This machine pool cannot be updated because there isn't a migration path to version ${u}`});if(p){const t="This machine pool is scheduled to be updated",a=null===(s=null===(i=e.upgradePolicies)||void 0===i?void 0:i.items)||void 0===s?void 0:s[0];return(null==a?void 0:a.next_run)&&(null==a?void 0:a.version)?n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",hint:n().createElement(n().Fragment,null,t," at ",n().createElement(_.A,{type:"exact",date:Date.parse(a.next_run)})," ","to version ",a.version)}):n().createElement(A.default,{iconClassName:"pf-v5-u-ml-sm",hint:t})}return null},P=({region:e})=>{const[t,a]=n().useState(!1),[l,i]=n().useState(""),s=(0,r.d4)((e=>(0,S.isHypershiftCluster)(e.clusters.details.cluster))),u=(0,r.d4)(E.controlPlaneIdSelector),c=(0,r.d4)((e=>(0,E.controlPlaneVersionSelector)(e))),d=(0,r.d4)((e=>(0,I.default)(e,T))),m=(0,r.d4)((e=>e.modal.data)),{machinePool:p}=m,g=(0,r.wA)(),v=()=>{g(C.modalActions.closeModal()),i(""),a(!1)};return n().useEffect((()=>function(){v()}),[]),d?n().createElement(b.default,{variant:"small",title:"Update machine pool",onClose:()=>v(),primaryText:"Update machine pool",secondaryText:"Cancel",onPrimaryClick:async()=>{a(!0);const t=await(0,E.updateAllMachinePools)([p],u,c||"",e);a(!1),i(t[0]||""),(0,f.refetchMachineOrNodePoolsQuery)(u,s,c),t[0]||g(C.modalActions.closeModal())},onSecondaryClick:()=>v(),isPrimaryDisabled:t||!!l,isPending:t},!t&&l?n().createElement(o.F,{title:`Machine pool ${p.id} could not be updated`,variant:o.w.danger,isExpandable:!0,isInline:!0,role:"alert",className:"pf-v5-u-mt-md"},n().createElement("p",null,l)):n().createElement("p",null,"Update machine pool ",p.id," to version"," ",(0,E.displayControlPlaneVersion)(c),"?")):null}},31639:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canMachinePoolBeUpgradedSelector:()=>I,compareIsMachinePoolBehindControlPlane:()=>E,controlPlaneIdSelector:()=>u,controlPlaneVersionSelector:()=>c,displayControlPlaneVersion:()=>d,isControlPlaneValidForMachinePool:()=>S,isHCPControlPlaneUpdating:()=>m,isHCPControlPlaneUpdatingMultiRegion:()=>p,isMachinePoolBehindControlPlane:()=>g,isMachinePoolBehindControlPlaneMulti:()=>v,isMachinePoolScheduleError:()=>y,isMachinePoolUpgrading:()=>C,updateAllMachinePools:()=>_,useHCPControlPlaneUpdating:()=>f,useIsControlPlaneValidForMachinePool:()=>b,useMachinePoolBehindControlPlane:()=>h});var l=a(71468),n=a(99589),r=a.n(n),i=a(23271),s=a(16236),o=a(17629);const u=e=>e.clusters.details.cluster.id||"",c=e=>{var t,a;return(null===(a=null===(t=e.clusters.details.cluster)||void 0===t?void 0:t.version)||void 0===a?void 0:a.id)||""},d=e=>{var t;return null===(t=r().coerce(e))||void 0===t?void 0:t.version},m=e=>{var t;const a=(e=>{var t;const{schedules:a}=e.clusterUpgrades,l=a.items.find((e=>"OSD"===e.upgrade_type&&("manual"===e.schedule_type||"automatic"===e.schedule_type))),n=l&&(null===(t=null==l?void 0:l.state)||void 0===t?void 0:t.value);return n&&("started"===n||"delayed"===n)})(e),l=c(e),n=null===(t=e.machinePools)||void 0===t?void 0:t.getMachinePools;return!(0,i.isHypershiftCluster)(e.clusters.details.cluster)||!l||a||!n.data||!n.fulfilled||n.error},p=(e,t,a,l)=>{const n=(e=>{var t;const a=e.items.find((e=>"OSD"===e.upgrade_type&&("manual"===e.schedule_type||"automatic"===e.schedule_type))),l=a&&(null===(t=null==a?void 0:a.state)||void 0===t?void 0:t.value);return l&&("started"===l||"delayed"===l)})(e);return!l||!t||n||a},f=(e,t,a)=>(0,l.d4)((l=>p(l.clusterUpgrades.schedules,e,t,a))),E=(e,t)=>!(!e||!t)&&r().gt(r().coerce(e)||"",r().coerce(t)||""),g=(e,t)=>{var a;if(!t||!(null===(a=t.version)||void 0===a?void 0:a.id))return!1;const l=c(e);return E(l,t.version.id)},v=(e,t)=>{var a;return!(!t||!(null===(a=t.version)||void 0===a?void 0:a.id))&&E(e,t.version.id)},h=e=>(0,l.d4)((t=>g(t,e))),_=async(e,t,a,l)=>{const n=[];if(!a||""===a)return["Machine pools could not be updated because control plane version is unknown"];const i=e.map((e=>{var n;const i={schedule_type:o.ScheduleType.MANUAL,next_run:new Date((new Date).getTime()+36e4).toISOString(),version:null===(n=r().coerce(a))||void 0===n?void 0:n.version,node_pool_id:e.id,upgrade_type:o.UpgradeType.NODE_POOL};return l?(0,s.getClusterServiceForRegion)(l).postNodePoolUpgradeSchedule(t,e.id||"",i):s.default.postNodePoolUpgradeSchedule(t,e.id||"",i)}));return(await Promise.allSettled(i)).forEach((e=>{"rejected"===e.status&&n.push(`${e.reason.response.data.code} - ${e.reason.response.data.reason}`)})),n},S=(e,t)=>{var a;const l=null===(a=null==e?void 0:e.version)||void 0===a?void 0:a.available_upgrades;return!t||!l||l.some((e=>{var a;return r().eq((null===(a=r().coerce(t))||void 0===a?void 0:a.version)||"",e)}))},b=e=>{const t=(0,l.d4)(c);return S(e,t||"")},C=e=>{var t,a;return!!(null===(a=null===(t=e.upgradePolicies)||void 0===t?void 0:t.items)||void 0===a?void 0:a.length)},y=e=>{var t;return!!(null===(t=e.upgradePolicies)||void 0===t?void 0:t.errorMessage)},I=(e,t,a,l,n)=>!p(e,t,l,n)&&v(t,a)&&!y(a)&&S(a,t)&&!C(a)},73488:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterAutoscalerForm:()=>H});var l=a(93345),n=a.n(l),r=a(88139),i=a(11611),s=a(72230),o=a(43775),u=a(82309),c=a(16236),d=a(47385),m=a(25514),p=a(71468),f=a(22069),E=a(43238),g=a(20491),v=a(79752),h=a(30620),_=a(23215),S=a(65702),b=a(84037),C=a(25670),y=a(13605),I=a(10050),A=a(53174),R=a(36215),T=a(14115),O=a(55576),P=a(23658),D=a(72067),L=a(55816),N=a(8888),w=a(28592),k=a(91089),F=a(70312),M=a(96678),x=a(96110);const G=(e,t)=>{if("boolean"===e.type)return n().createElement(P.e,{name:`cluster_autoscaling.${e.name}`,label:e.label,isDisabled:t,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`)});const a="number"===e.type||"min-max"===e.type?"number":"text",l=(e=>{let t;switch(e.name){case"log_verbosity":t=R.Yp;break;case"pod_priority_threshold":t=R.iR;break;case"scale_down.utilization_threshold":t=R.O0}return t||("time"===e.type?t=b.clusterAutoScalingValidators.k8sTimeParameter:"number"!==e.type&&"min-max"!==e.type||(t=R.Nh),t)})(e);return n().createElement(O.TextInputField,{name:`cluster_autoscaling.${e.name}`,label:e.label,type:a,isDisabled:t,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`),validate:l})},U=({submitForm:e,isUpdateClusterAutoscalerPending:t,clusterId:a,hasClusterAutoscaler:l,isRosa:r,isOpen:s,isWizard:o,dirty:m,hasAutoscalingMachinePools:R,region:P,isClusterAutoscalerRefetching:U,maxNodesTotalDefault:H})=>{var V;const{mutate:B,isPending:q,isError:j,error:z}=((e,t)=>{const{data:a,isPending:l,isError:n,error:r,mutate:i,mutateAsync:s,isSuccess:o}=(0,u.n)({mutationKey:["clusterAutoscaler","disableClusterAutoscaler",e],mutationFn:async()=>t?(0,c.getClusterServiceForRegion)(t).disableClusterAutoscaler(e):c.default.disableClusterAutoscaler(e),onSuccess:()=>{(0,d.refetchClusterAutoscalerData)(e)}});return{data:a,isPending:l,isError:n,error:(0,M.formatErrorData)(l,n,r),mutate:i,mutateAsync:s,isSuccess:o}})(a,P),{mutate:W,isPending:$,isError:K,error:Y}=((e,t,a)=>{const{data:l,isPending:n,isSuccess:r,isError:s,error:o,mutate:m,mutateAsync:p}=(0,u.n)({mutationKey:["clusterAutoscaler","enableClusterAutoscaler",e],mutationFn:async()=>a?(0,c.getClusterServiceForRegion)(a).enableClusterAutoscaler(e,(0,i.getClusterAutoScalingSubmitSettings)((0,i.getDefaultClusterAutoScaling)(t))):c.default.enableClusterAutoscaler(e,(0,i.getClusterAutoScalingSubmitSettings)((0,i.getDefaultClusterAutoScaling)(t))),onSuccess:()=>{(0,d.refetchClusterAutoscalerData)(e)}});return{data:l,isPending:n,isSuccess:r,isError:s,error:(0,M.formatErrorData)(n,s,o),mutate:m,mutateAsync:p}})(a,H,P),Q=(0,p.wA)(),{values:{[T.FieldId.ClusterAutoscaling]:Z},errors:{[T.FieldId.ClusterAutoscaling]:X},setFieldValue:J}=(0,D.l)(),ee=q||$||t||U,te=()=>Q(k.modalActions.closeModal()),ae=Object.keys(X||{}).length>0,le=!1===(null===(V=null==Z?void 0:Z.scale_down)||void 0===V?void 0:V.enabled),ne=!l||t||U;let re={text:"Close",isClose:!0,isDisabled:ae};return t||U?re={text:"Saving...",isClose:!1,isDisabled:!0}:!m||t||U||(re={text:"Save",isClose:!1,isDisabled:ae}),n().createElement(w.default,{variant:"large",isOpen:s,title:"Edit cluster autoscaling settings","data-testid":"cluster-autoscaling-dialog",primaryText:re.text,secondaryText:"Revert all to defaults",onPrimaryClick:()=>{m?e():te()},onTertiaryClick:te,tertiaryText:"Cancel",onSecondaryClick:()=>J(T.FieldId.ClusterAutoscaling,(0,i.getDefaultClusterAutoScaling)(H),!0),isPrimaryDisabled:ae||re.isDisabled,isSecondaryDisabled:re.isDisabled,showClose:!0,showTertiary:!o,onClose:te},n().createElement(n().Fragment,null,n().createElement(f.E,{component:"p"},"The cluster autoscaler adjusts the size of a cluster to meet its current deployment needs. Learn more about"," ",n().createElement(N.default,{href:r?S.default.ROSA_CLUSTER_AUTOSCALING:S.default.OSD_CLUSTER_AUTOSCALING},"cluster autoscaling")," ","or",n().createElement(N.default,{href:S.default.APPLYING_AUTOSCALING_API_DETAIL}," APIs"),"."),!o&&n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(E.d,{className:"pf-v5-u-ml-0 pf-v5-u-mb-md",label:"Autoscale cluster",labelOff:"Autoscale cluster",isChecked:l,hasCheckIcon:!0,isDisabled:ee,onChange:()=>{l?l&&B():W()}}),j||K?n().createElement(L.default,{message:"Failed to update autoscaler",response:z.error||Y.error}):n().createElement(x.A,{hasClusterAutoScaler:l,hasAutoscalingMachinePools:R,isEnabledOnCurrentPool:!1,warningType:"clusterView"})),n().createElement(g.l,{className:"cluster-autoscaling-form"},n().createElement(v.y,{title:"General settings"},n().createElement(h.x,{hasGutter:!0},I._d.map((e=>n().createElement(_.E,{span:6,key:e.name},G(e,ne)))),n().createElement(_.E,{span:6},n().createElement(O.TextInputField,{name:"cluster_autoscaling.balancing_ignored_labels",label:"balancing-ignored-labels",type:"text",tooltip:y.rA,isDisabled:ne,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},y.nY),validate:b.validateListOfBalancingLabels})))),n().createElement(v.y,{title:"Resource limits"},n().createElement(h.x,{hasGutter:!0},I.Ax.map((e=>n().createElement(_.E,{span:6,key:e.name},G(e,ne)))),n().createElement(_.E,{span:6,key:"resource_limits.max_nodes_total"},n().createElement(O.TextInputField,{name:"cluster_autoscaling.resource_limits.max_nodes_total",label:"max-nodes-total",type:"number",isDisabled:ne,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",H),validate:(0,F.A)(H),tooltip:A.Q})),n().createElement(_.E,{span:6},n().createElement(O.TextInputField,{name:"cluster_autoscaling.resource_limits.gpus",label:"GPUs",type:"text",tooltip:C._z,isDisabled:ne,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},C.gf),validate:b.clusterAutoScalingValidators.k8sGpuParameter})))),n().createElement(v.y,{title:"Scale down configuration"},n().createElement(h.x,{hasGutter:!0},I.kD.map((e=>{const t=ne||le&&"scale_down.enabled"!==e.name;return n().createElement(_.E,{span:6,key:e.name},G(e,t))})))))))},H=({hasClusterAutoscaler:e,clusterId:t,isWizard:a,hasAutoscalingMachinePools:l,region:p,clusterAutoscalerData:f,isClusterAutoscalerRefetching:E,maxNodesTotalDefault:g})=>{const v=(0,m.useGlobalState)((e=>e.modal.modalName===o.default.EDIT_CLUSTER_AUTOSCALING_V2)),{mutate:h,isPending:_}=((e,t)=>{const{data:a,isPending:l,isSuccess:n,isError:r,error:i,mutate:s,mutateAsync:o}=(0,u.n)({mutationKey:["clusterAutoscaler","updateClusterAutoscaler",e],mutationFn:async a=>t?(0,c.getClusterServiceForRegion)(t).updateClusterAutoscaler(e,a):c.default.updateClusterAutoscaler(e,a),onSuccess:()=>{(0,d.refetchClusterAutoscalerData)(e)}});return{data:a,isPending:l,isSuccess:n,isError:r,error:i,mutate:s,mutateAsync:o}})(t,p);return n().createElement(r.Formik,{enableReinitialize:!0,validateOnMount:!0,initialValues:{[s.FieldId.ClusterAutoscaling]:e?f.data:(0,i.getDefaultClusterAutoScaling)(g)},validate:()=>{},onSubmit:e=>{h((0,i.getClusterAutoScalingSubmitSettings)(e.cluster_autoscaling))}},(({dirty:r,submitForm:i})=>n().createElement(U,{submitForm:i,isUpdateClusterAutoscalerPending:_,clusterId:t,hasClusterAutoscaler:e,isRosa:!0,isOpen:v,isWizard:a,dirty:r,hasAutoscalingMachinePools:l,isClusterAutoscalerRefetching:E,maxNodesTotalDefault:g})))}},9155:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(71468),i=a(28592),s=a(91089),o=a(25514);const u=()=>{var e;const t=(0,r.wA)(),a=(0,o.useGlobalState)((e=>e.modal.data)),l="object"==typeof(u=a)&&null!==u;var u;const{performDeleteAction:c}=a;return l?n().createElement(i.default,{title:"Permanently delete machine pool?",primaryText:"Delete",onPrimaryClick:()=>{t((0,s.closeModal)()),c()},secondaryText:"Cancel",onSecondaryClick:()=>t((0,s.closeModal)()),isOpen:!0,onClose:()=>t((0,s.closeModal)())},'"',null===(e=a.machinePool)||void 0===e?void 0:e.id,'" will be lost.'):null}},39843:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConnectedEditMachinePoolModal:()=>it,default:()=>st});var l=a(93345),n=a.n(l),r=a(88139),i=a(2404),s=a.n(i),o=a(71468),u=a(90678),c=a(73113),d=a(47144),m=a(72583),p=a(20491),f=a(19033),E=a(89217),g=a(6071),v=a(23271),h=a(31261),_=a(55816),S=a(28592),b=a(91089),C=a(43775),y=a(11243),I=a(60216),A=a(82309),R=a(48539);const T=e=>1!==e.length||e[0].key?e.reduce(((e,{key:t,value:a})=>(e[t]=a,e)),{}):{},O=e=>1!==e.length||e[0].key?e:[],P=(e,t,a)=>{if(e.autoscaling){const l=e.autoscaleMax*(t?3:1),n=e.autoscaleMin*(t?3:1);return{autoscaling:a?{max_replica:l,min_replica:n}:{max_replicas:l,min_replicas:n}}}return{replicas:e.replicas}};var D=a(976),L=a(16236);var N=a(81773),w=a(25514),k=a(57109),F=a(56780),M=a(23681),x=a(1727),G=a(75166),U=a(38715),H=a(55213),V=a(22024),B=a(15403);const q="diskSize",j=({cluster:e,isEdit:t})=>{var a,n;const i=(0,y.useFeatureGate)(D.HCP_ROOT_DISK_SIZE),s=(0,v.isHypershiftCluster)(e),o=(0,x.uP)(null===(a=e.product)||void 0===a?void 0:a.id)===G.normalizedProducts.ROSA&&(!s||i),[u,{error:c,touched:d}]=(0,r.useField)(q),m=(0,B.default)(q),p=(0,h.getWorkerNodeVolumeSizeMinGiB)(s),f=(0,h.getWorkerNodeVolumeSizeMaxGiB)((null===(n=e.version)||void 0===n?void 0:n.raw_id)||"");return o?l.createElement(F.g,{fieldId:q,label:"Root disk size",isRequired:!0,labelIcon:l.createElement(H.default,{hint:`Root disks are AWS EBS volumes attached as the primary disk for AWS EC2 instances. The root disk size for this machine pool group of nodes must be between ${p}GiB and ${f}GiB.`})},l.createElement(V.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},l.createElement(M.Q,{...u,onPlus:()=>m(u.value+1),onMinus:()=>m(u.value-1),onChange:e=>{const t=e.target.value;m(Number(t))},id:q,min:p,max:f,unit:l.createElement("span",{className:"ocm-disk-size_unit"},"GiB"),isDisabled:t})),l.createElement(U.FormGroupHelperText,{touched:d,error:c})):null};var z=a(12664),W=a(84037),$=a(70557),K=a(2479);const Y=({machinePool:e,cluster:t,machineTypes:a,machinePools:n})=>{var r,i;const s=(0,y.useFeatureGate)(D.HCP_ROOT_DISK_SIZE),u=(0,R.isMPoolAz)(t,null===(r=null==e?void 0:e.availability_zones)||void 0===r?void 0:r.length),c=(0,v.isROSA)(t),d=(0,k.getClusterMinNodes)({cluster:t,machineTypesResponse:a,machinePool:e,machinePools:n||[]}),m=l.useMemo((()=>{var t,a,l,n,r,i,o,c,m,p,f,E,g,v,h,_;let S,b,C,y,I,A="onDemand";S=(null===(t=null==e?void 0:e.autoscaling)||void 0===t?void 0:t.min_replicas)||d,b=(null===(a=null==e?void 0:e.autoscaling)||void 0===a?void 0:a.max_replicas)||d;const R=null==e?void 0:e.instance_type;var T;return"MachinePool"===(null==(T=e)?void 0:T.kind)?(C=!!(null===(l=e.aws)||void 0===l?void 0:l.spot_market_options),A=(null===(r=null===(n=e.aws)||void 0===n?void 0:n.spot_market_options)||void 0===r?void 0:r.max_price)?"maximum":"onDemand",y=null===(o=null===(i=e.aws)||void 0===i?void 0:i.spot_market_options)||void 0===o?void 0:o.max_price,I=(null===(m=null===(c=e.root_volume)||void 0===c?void 0:c.aws)||void 0===m?void 0:m.size)||(null===(f=null===(p=e.root_volume)||void 0===p?void 0:p.gcp)||void 0===f?void 0:f.size)):(e=>"NodePool"===(null==e?void 0:e.kind))(e)&&(I=s&&(null===(g=null===(E=e.aws_node_pool)||void 0===E?void 0:E.root_volume)||void 0===g?void 0:g.size)),u&&(S/=3,b/=3),{name:(null==e?void 0:e.id)||"",autoscaling:!!(null==e?void 0:e.autoscaling),autoscaleMin:S,autoscaleMax:b||1,replicas:(null==e?void 0:e.replicas)||d,labels:(null==e?void 0:e.labels)?Object.keys(e.labels).map((t=>{var a;return{key:t,value:null===(a=e.labels)||void 0===a?void 0:a[t]}})):[{key:"",value:""}],taints:(null===(v=null==e?void 0:e.taints)||void 0===v?void 0:v.map((e=>({key:e.key||"",value:e.value||"",effect:e.effect||"NoSchedule"}))))||[{key:"",value:"",effect:"NoSchedule"}],useSpotInstances:!!C,spotInstanceType:A,maxPrice:y||$._Y,diskSize:I||$.jy,instanceType:R,privateSubnetId:void 0,securityGroupIds:(null===(h=null==e?void 0:e.aws)||void 0===h?void 0:h.additional_security_group_ids)||(null===(_=null==e?void 0:e.aws_node_pool)||void 0===_?void 0:_.additional_security_group_ids)||[]}}),[e,u,d,s]),p=(0,v.isHypershiftCluster)(t),f=(0,h.getWorkerNodeVolumeSizeMinGiB)(p),E=(0,h.getWorkerNodeVolumeSizeMaxGiB)((null===(i=t.version)||void 0===i?void 0:i.raw_id)||""),g=!!e,_=(()=>{const e=(0,o.wA)();return l.useEffect((()=>{e((0,K.getOrganizationAndQuota)())}),[e]),(0,w.useGlobalState)((e=>e.userProfile.organization))})(),S=(0,y.useFeatureGate)(D.MAX_COMPUTE_NODES_500);return{initialValues:m,validationSchema:l.useMemo((()=>z.lazy((l=>{const r=u?d/3:d,i=(0,W.validateSecurityGroups)(l.securityGroupIds,p),s=(0,h.getNodeOptions)({cluster:t,machinePools:n||[],machinePool:e,machineTypes:a,quota:_.quotaList,minNodes:d,machineTypeId:l.instanceType,editMachinePoolId:l.name,allow500Nodes:S}),o=s.length?s[s.length-1]:0;return z.object({name:z.string().test("mp-name","",(e=>{const t=p?(0,W.checkNodePoolName)(e):(0,W.checkMachinePoolName)(e);return t?new z.ValidationError(t,e,"name"):!(!g&&n.some((t=>t.id===e)))||new z.ValidationError("Name has to be unique.",e,"name")})),labels:z.array().of(z.object().shape({key:z.string().test("label-key","",(function(e){if(1===l.labels.length&&(!e||0===e.length))return!0;const t=(0,W.checkLabelKey)(e);return t?new z.ValidationError(t,e,this.path):!(l.labels.filter((({key:t})=>t===e)).length>1)||new z.ValidationError("Each label must have a different key.",e,this.path)})),value:z.string().test("label-value","",(function(e){const t=(0,W.checkLabelValue)(e);if(t)return new z.ValidationError(t,e,this.path);const a=this.parent.key;return!(e&&!a)||new z.ValidationError("Label key has to be defined",e,this.path)}))})),taints:z.array().of(z.object().shape({key:z.string().test("taint-key","",(function(e){if(1===l.taints.length&&(!e||0===e.length))return!0;const t=(0,W.checkTaintKey)(e);return!t||new z.ValidationError(t,e,this.path)})),value:z.string().test("taint-value","",(function(e){const t=(0,W.checkTaintValue)(e);if(t)return new z.ValidationError(t,e,this.path);const a=this.parent.key;return!(e&&!a)||new z.ValidationError("Taint key has to be defined",e,this.path)}))})),autoscaleMin:l.autoscaling?z.number().test("whole-number","Decimals are not allowed. Enter a whole number.",Number.isInteger).min(r,`Input cannot be less than ${r}.`).max(l.autoscaleMax,"Min nodes cannot be more than max nodes."):z.number(),autoscaleMax:l.autoscaling?z.number().test("autoscale-max","",(e=>Number.isInteger?!(void 0!==e&&e<1)||new z.ValidationError("Max nodes must be greater than 0.",e,"autoscaleMax"):new z.ValidationError("Decimals are not allowed. Enter a whole number.",e,"autoscaleMax"))).min(l.autoscaleMin,"Max nodes cannot be less than min nodes.").max(u?o/3:o,`Input cannot be more than ${u?o/3:o}.`):z.number(),autoscaling:z.boolean(),diskSize:c?z.number().min(f,`Disk size must be at least ${f} GiB`).max(E,`Disk size can not be more than ${E} GiB`).test("whole-number","Decimals are not allowed. Enter a whole number.",Number.isInteger):z.number(),spotInstanceType:z.mixed(),maxPrice:"maximum"===l.spotInstanceType?z.number().min($._Y,`Price has to be at least ${$._Y}`):z.number(),instanceType:g?z.string():z.string().required("Compute node instance type is a required field."),replicas:z.number(),useSpotInstances:z.boolean(),privateSubnetId:!g&&p?z.string().required("Please select a subnet."):z.string(),securityGroupIds:p?z.mixed():z.array().of(z.string()).test("max-security-groups",i||"",(()=>void 0===i))})}))),[u,d,t,n,e,a,_.quotaList,c,f,E,g,p,S])}};var Q=a(97862),Z=a(75913),X=a(23215),J=a(20289),ee=a(13642);const te="instanceType",ae={input:{value:void 0,onChange:()=>{}}},le=({cluster:e,machineTypesResponse:t})=>{var a,n,i,s;const[o,u]=(0,r.useField)(te),c=(0,B.default)(te),d=l.useMemo((()=>({input:{value:o.value,name:o.name,onChange:c},meta:{error:u.error,touched:u.touched}})),[o.value,o.name,u.error,u.touched,c]);return l.createElement(X.E,null,l.createElement(J.A,{machineTypesResponse:t,machine_type:d,machine_type_force_choice:ae,isMultiAz:(0,R.isMultiAZ)(e),isBYOC:!!(null===(a=e.ccs)||void 0===a?void 0:a.enabled),cloudProviderID:null===(n=e.cloud_provider)||void 0===n?void 0:n.id,product:(0,x.uP)(null===(i=e.product)||void 0===i?void 0:i.id),isMachinePool:!0,billingModel:e.billing_model||(null===(s=e.subscription)||void 0===s?void 0:s.cluster_billing_model)||ee.SubscriptionCommonFields.cluster_billing_model.STANDARD,inModal:!0,menuAppendTo:document.getElementById("edit-mp-modal")}))};var ne=a(17661),re=a(22563),ie=a(81995);const se=({value:e,fieldId:t,onSelect:a,isDisabled:n,children:r})=>{const[i,s]=l.useState(!1),o=()=>{s(!i)};return l.createElement(re.l,{isOpen:i,selected:e,toggle:t=>l.createElement(ne.S,{isDisabled:n,ref:t,onClick:o,isExpanded:i,isFullWidth:!0,"aria-label":"select menu",className:"select-field-menu-toggle"},e),onSelect:(e,t)=>{a(t),s(!1)},onOpenChange:e=>s(e),id:t,isScrollable:!0},l.createElement(ie.B,null,r))};var oe=a(69671),ue=a(24510),ce=a(34108),de=a(98552);const me="privateSubnetId",pe=({cluster:e,region:t})=>{const[a,n,{setValue:i}]=(0,r.useField)(me),{clusterVpc:s,isLoading:o,hasError:u}=(0,de.useAWSVPCFromCluster)(e,t),c=l.useMemo((()=>({input:{onChange:e=>{i(e)},value:a.value,name:a.name},meta:{error:n.touched?n.error:void 0,touched:n.touched}})),[a.value,a.name,n.error,n.touched,i]);return o?l.createElement(oe.y,{size:"md"},"Loading the cluster VPC"):!s||u?l.createElement(ue.F,{variant:"danger",isInline:!0,isPlain:!0,title:"Failed to load the machine pool VPC. Please try refreshing the page.",className:"pf-v5-u-mb-sm"}):l.createElement(ce.SubnetSelectField,{name:me,privacy:"private",label:"Private subnet name",isRequired:!0,selectedVPC:s,...c})},fe=({cluster:e,isEdit:t,region:a,machinePools:n,setCurrentMPId:r,currentMPId:i,machineTypesResponse:s,machineTypesLoading:o})=>t?l.createElement(F.g,{fieldId:"machine-pool",label:"Machine pool"},l.createElement(se,{fieldId:"machine-pool",onSelect:r,value:i},n.map((e=>l.createElement(Q.O,{key:e.id,value:e.id},e.id||""))))):l.createElement(l.Fragment,null,l.createElement(Z.default,{fieldId:"name",label:"Machine pool name",isRequired:!0}),(0,v.isHypershiftCluster)(e)?l.createElement(pe,{cluster:e,region:a}):null,l.createElement(le,{cluster:e,machineTypesResponse:s}));var Ee=a(30620),ge=a(22069),ve=a(56862),he=a(23158);const _e=({input:e,index:t,onRemove:a,onPush:n})=>{const r=0===t&&!e.value[t].key&&!e.value[t].value;return l.createElement(m.$n,{icon:l.createElement(he.MinusCircleIcon,null),onClick:()=>{const l=1===e.value.length;a(t),l&&n()},variant:"link",isInline:!0,isDisabled:r})},Se=()=>{const[e]=(0,r.useField)("labels");return l.createElement(X.E,null,l.createElement(F.g,{fieldId:"labels",label:"Node labels"},l.createElement(U.FormGroupHelperText,null,l.createElement("div",{className:"uhc-labels-section__description"},"Labels help you organize and select resources. Adding labels below will let you query for objects that have similar, overlapping or dissimilar labels."))),l.createElement(r.FieldArray,{name:"labels",render:({push:t,remove:a})=>l.createElement(l.Fragment,null,l.createElement(Ee.x,{hasGutter:!0},l.createElement(X.E,{span:4},l.createElement(ge.E,{component:ge.Y.small},"Key")),l.createElement(X.E,{span:8},l.createElement(ge.E,{component:ge.Y.small},"Value"))),l.createElement(Ee.x,{hasGutter:!0},e.value.map(((n,r)=>{const i=`labels[${r}].key`,s=`labels[${r}].value`;return l.createElement(l.Fragment,{key:r},l.createElement(X.E,{span:4},l.createElement(Z.default,{fieldId:i})),l.createElement(X.E,{span:4},l.createElement(Z.default,{fieldId:s})),l.createElement(X.E,{span:4},l.createElement(_e,{input:e,index:r,onRemove:a,onPush:()=>t({key:"",value:""})})))})),l.createElement(X.E,{span:6},l.createElement(m.$n,{icon:l.createElement(ve.PlusCircleIcon,null),onClick:()=>t({key:"",value:""}),variant:"link",isInline:!0},"Add label"))))}))};var be=a(96110),Ce=a(65702),ye=a(69304),Ie=a(8888),Ae=a(52865);const Re=({autoscalingEnabled:e,cluster:t,autoScaleMaxNodesValue:a,replicasValue:n,selectedMachinePoolID:r,machinePools:i})=>{const s=(({selectedMachinePoolID:e,requestedNodes:t,cluster:a,machinePools:l})=>{const n=(0,Ae.default)(a,l),r=n.totalMaxNodesCount;let i=0;const s=l.find((t=>t.id===e));if(s&&(i=s.autoscaling?n.totalMaxNodesCount+(t-(s.autoscaling.max_replicas||0)):n.totalMaxNodesCount+(t-(s.replicas||0))),t&&r){if(r<=100&&i>100)return 100;if(r<=25&&i>25)return 25}return 0})({cluster:t,requestedNodes:e?a:n,selectedMachinePoolID:r,machinePools:i});return s?l.createElement(ue.F,{variant:"warning",isInline:!0,title:e?`Autoscaling to a maximum node count of more than ${s} nodes may trigger manual Red Hat SRE intervention`:`Scaling node count to more than ${s} nodes may trigger manual Red Hat SRE intervention`},l.createElement("p",null,"Node scaling is automatic and will be performed immediately. Scaling node count beyond Red Hat's"," ",l.createElement(Ie.default,{href:Ce.default.ROSA_AWS_LIMITS_SCALE,noIcon:!0},"documented thresholds")," ","may trigger manual Red Hat SRE intervention to vertically scale your Infrastructure and Control Plane instances."," ",a&&"Autoscaling nodes will not trigger manual intervention until the actual node count crosses the threshold. ","To request that Red Hat SRE proactively increase your Infrastructure and Control Plane instances, please open a ",l.createElement(ye.Link,{to:`/details/${t.id}#support`},"support case"),".")):null};var Te=a(73553);const Oe="autoscaleMax",Pe=({minNodes:e,cluster:t,options:a,mpAvailZones:n})=>{var i;const[s,{error:o,touched:u}]=(0,r.useField)(Oe),c=(0,B.default)(Oe),d=(0,R.isMPoolAz)(t,n),m=(0,x.uP)(null===(i=t.product)||void 0===i?void 0:i.id)===G.normalizedProducts.ROSA,p=a.length?a[a.length-1]:0,f=d?e/3:e,E=d?p/3:p;return l.createElement(F.g,{fieldId:Oe,label:"Maximum nodes count",isRequired:!0,labelIcon:l.createElement(H.default,{buttonAriaLabel:"Compute node count information",hint:l.createElement(l.Fragment,null,(0,Te.computeNodeHintText)(!1,(0,v.isHypershiftCluster)(t)),m&&l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement(Ie.default,{href:Ce.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count")))})},l.createElement(M.Q,{...s,onPlus:()=>c(s.value+1),onMinus:()=>c(s.value-1),onChange:e=>{const t=e.target.value;c(Number(t))},id:Oe,min:f||1,max:E}),l.createElement(U.FormGroupHelperText,{touched:u,error:o},d&&"x 3 zones = "+3*s.value))},De="autoscaleMin",Le=({cluster:e,minNodes:t,mpAvailZones:a,options:n})=>{const[i,{error:s,touched:o}]=(0,r.useField)(De),u=(0,B.default)(De),c=(0,R.isMPoolAz)(e,a),d=n.length?n[n.length-1]:0,m=c?t/3:t,p=c?d/3:d;return l.createElement(F.g,{fieldId:De,label:"Minimum nodes count",isRequired:!0},l.createElement(M.Q,{...i,onPlus:()=>u(i.value+1),onMinus:()=>u(i.value-1),onChange:e=>{const t=e.target.value;u(Number(t))},id:De,min:m,max:p}),l.createElement(U.FormGroupHelperText,{touched:o,error:s},c&&"x 3 zones = "+3*i.value))};var Ne=a(83873),we=a(49484),ke=a(55909);const Fe="autoscaling",Me=({cluster:e})=>{var t,a,n;const i=e,[s]=(0,r.useField)(Fe),o=(0,ke.default)(null===(t=i.product)||void 0===t?void 0:t.id,null===(a=i.subscription)||void 0===a?void 0:a.cluster_billing_model,null===(n=i.subscription)||void 0===n?void 0:n.capabilities),u=(0,v.isROSA)(e),c=u?Ce.default.ROSA_AUTOSCALING:Ce.default.APPLYING_AUTOSCALING;return o?l.createElement(F.g,{label:"Scaling"},l.createElement(Ne.S,{...s,label:l.createElement(l.Fragment,null,"Enable autoscaling"," ",l.createElement(H.default,{hint:l.createElement(l.Fragment,null,we.constants.autoscaleHint," ",l.createElement(Ie.default,{href:c},"Learn more about autoscaling",u?" with ROSA":""))})),isChecked:s.value,onChange:(e,t)=>{s.onChange(e)},id:Fe,description:"Autoscaling automatically adds and removes worker (compute) nodes from the cluster based on resource requirements."})):null};var xe=a(93413);const Ge="replicas",Ue=({minNodesRequired:e,options:t,cluster:a,mpAvailZones:n})=>{var i;const[s]=(0,r.useField)(Ge),o=(0,B.default)(Ge),u=(0,R.isMPoolAz)(a,n),c=t.includes(s.value);l.useEffect((()=>{t.length>0&&!c&&o(e)}),[c,e,o,t.length]);const m=t.length<1,p=(0,x.uP)(null===(i=a.product)||void 0===i?void 0:i.id)===G.normalizedProducts.ROSA,f=l.createElement(se,{value:`${u?s.value/3:s.value}`,fieldId:Ge,onSelect:e=>o(parseInt(e,10)),isDisabled:m},t.map((e=>l.createElement(Q.O,{key:e,value:`${e}`},`${u?e/3:e}`))));return l.createElement(F.g,{fieldId:Ge,label:u?"Compute node count (per zone)":"Compute node count",isRequired:!0,labelIcon:l.createElement(H.default,{hint:l.createElement(l.Fragment,null,we.constants.computeNodeCountHint,p&&l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement(Ie.default,{href:Ce.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count")))})},m?l.createElement(d.m,{content:xe.noQuotaTooltip,position:"right"},f):f,l.createElement(U.FormGroupHelperText,null,u&&`x 3 zones = ${s.value}`))},He=({machinePool:e,machinePools:t,cluster:a,machineTypes:n,allow500Nodes:i})=>{var s,o,u;const{values:c}=(0,r.useFormikContext)(),d=(0,w.useGlobalState)((e=>e.clusterAutoscaler.hasAutoscaler)),m=(0,w.useGlobalState)((e=>e.userProfile.organization)),p=(0,k.getClusterMinNodes)({cluster:a,machineTypesResponse:n,machinePool:e,machinePools:t}),f=l.useMemo((()=>(0,h.getNodeOptions)({cluster:a,machinePool:e,machinePools:t,machineTypeId:c.instanceType,machineTypes:n,quota:m.quotaList,minNodes:p,editMachinePoolId:null==e?void 0:e.id,allow500Nodes:i})),[a,e,t,c.instanceType,n,m.quotaList,p,i]);return l.createElement(l.Fragment,null,l.createElement(Me,{cluster:a}),m.pending?l.createElement("div",null,l.createElement(oe.y,{size:"md"})," Loading quota..."):l.createElement(l.Fragment,null,c.autoscaling?l.createElement(Ee.x,{hasGutter:!0},l.createElement(X.E,{span:5},l.createElement(Le,{minNodes:p,cluster:a,mpAvailZones:null===(s=null==e?void 0:e.availability_zones)||void 0===s?void 0:s.length,options:f})),l.createElement(X.E,{span:5},l.createElement(Pe,{mpAvailZones:null===(o=null==e?void 0:e.availability_zones)||void 0===o?void 0:o.length,minNodes:p,cluster:a,options:f}))):l.createElement(Ue,{mpAvailZones:null===(u=null==e?void 0:e.availability_zones)||void 0===u?void 0:u.length,minNodesRequired:p,cluster:a,options:f}),!(0,v.isHypershiftCluster)(a)&&l.createElement(be.A,{hasClusterAutoScaler:d,hasAutoscalingMachinePools:t.some((e=>!!e.autoscaling)),isEnabledOnCurrentPool:c.autoscaling,warningType:e?"editMachinePool":"addMachinePool"}),(null==e?void 0:e.id)&&l.createElement(Re,{autoscalingEnabled:c.autoscaling,autoScaleMaxNodesValue:c.autoscaleMax,cluster:a,machinePools:t,selectedMachinePoolID:e.id,replicasValue:c.replicas})))},Ve=({fieldId:e,isDisabled:t})=>{const[a]=(0,r.useField)(e),n=(0,B.default)(e);return l.createElement(se,{value:a.value,fieldId:e,onSelect:n,isDisabled:t},l.createElement(Q.O,{value:"NoSchedule"},"NoSchedule"),l.createElement(Q.O,{value:"NoExecute"},"NoExecute"),l.createElement(Q.O,{value:"PreferNoSchedule"},"PreferNoSchedule"))},Be=({machinePoolId:e,cluster:t,machinePools:a,machineTypes:n})=>{const[i]=(0,r.useField)("taints"),s=!!e&&(0,k.isEnforcedDefaultMachinePool)(e,a,n,t),o=!e||(0,k.isMinimumCountWithoutTaints)({currentMachinePoolId:e,machinePools:a,cluster:t});let u;return s?u="Machine pool ineligible for taints":o||(u="Taints cannot be added unless there are at least 2 nodes without taints across all machine pools."),l.createElement(X.E,null,l.createElement(F.g,{fieldId:"taints",label:"Taints"}),l.createElement(V.default,{showTooltip:!!u,content:u},l.createElement("div",null,l.createElement(r.FieldArray,{name:"taints",render:({push:e,remove:t})=>l.createElement(l.Fragment,null,l.createElement(Ee.x,{hasGutter:!0},l.createElement(X.E,{span:4},l.createElement(ge.E,{component:ge.Y.small},"Key")),l.createElement(X.E,{span:4},l.createElement(ge.E,{component:ge.Y.small},"Value")),l.createElement(X.E,{span:4},l.createElement(ge.E,{component:ge.Y.small},"Effect"))),l.createElement(Ee.x,{hasGutter:!0},i.value.map(((a,n)=>{const r=`taints[${n}].key`,s=`taints[${n}].value`,o=`taints[${n}].effect`;return l.createElement(l.Fragment,{key:n},l.createElement(X.E,{span:4},l.createElement(Z.default,{fieldId:r,isDisabled:!!u})),l.createElement(X.E,{span:4},l.createElement(Z.default,{fieldId:s,isDisabled:!!u})),l.createElement(X.E,{span:3},l.createElement(Ve,{fieldId:o,isDisabled:!!u})),l.createElement(X.E,{span:1},l.createElement(_e,{input:i,index:n,onRemove:t,onPush:()=>e({key:"",value:"",effect:"NoSchedule"})})))})),l.createElement(X.E,{span:6},l.createElement(m.$n,{icon:l.createElement(ve.PlusCircleIcon,null),onClick:()=>e({key:"",value:"",effect:"NoSchedule"}),variant:"link",isInline:!0,isDisabled:!!u},"Add taint"))))}))))};var qe=a(45436),je=a(94402),ze=a(13731),We=a(27872),$e=a(30155);const Ke=({isRosa:e})=>n().createElement(ue.F,{variant:"info",isInline:!0,title:"You cannot add or edit security groups to the machine pool nodes after they are created.",actionLinks:n().createElement(n().Fragment,null,n().createElement($e.v,{component:"a",href:e?Ce.default.ROSA_SECURITY_GROUPS:Ce.default.OSD_SECURITY_GROUPS,target:"_blank"},"View more information"),n().createElement($e.v,{component:"a",href:Ce.default.AWS_CONSOLE_SECURITY_GROUPS,target:"_blank"},"AWS security groups console"))});var Ye=a(54910),Qe=a(72067);const Ze=({cluster:e,isReadOnly:t})=>{const{values:{[Ye.FieldId.SecurityGroupIds]:a},setFieldValue:l,setFieldTouched:i}=(0,Qe.l)(),{clusterVpc:s,isLoading:o,errorReason:u}=(0,de.useAWSVPCFromCluster)(e);if(o)return n().createElement(oe.y,null,"Loading security groups");if(!s)return n().createElement(ue.F,{variant:ue.w.warning,title:"Could not load the cluster's VPC",isInline:!0},u||"Please try refreshing the machine pool details");if(0===(s.aws_security_groups||[]).length)return n().createElement(We.A,null);const c=(0,v.isHypershiftCluster)(e),d=(0,je.E)(qe.x.SECURITY_GROUPS,e.openshift_version,{day2:!0,isHypershift:c});return d?n().createElement(ue.F,{variant:ue.w.warning,title:d,isInline:!0}):n().createElement(n().Fragment,null,n().createElement(Ke,{isRosa:(0,v.isROSA)(e)}),n().createElement(r.Field,{component:ze.A,name:Ye.FieldId.SecurityGroupIds,onChange:e=>{l(Ye.FieldId.SecurityGroupIds,e,!0),i(Ye.FieldId.SecurityGroupIds,!0,!1)},validate:e=>(0,W.validateSecurityGroups)(e,c),selectedVPC:s,isReadOnly:t,selectedGroupIds:a,isHypershift:c}))},Xe=({cluster:e,isReadOnly:t})=>(0,qe.T)(qe.x.SECURITY_GROUPS,e)?n().createElement(f.Q,{toggleContent:n().createElement(V.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},n().createElement("span",null,"Security groups"))},n().createElement(Ze,{cluster:e,isReadOnly:t})):null;var Je=a(12956);const et="maxPrice",tt=({isEdit:e})=>{const[t,{error:a,touched:n}]=(0,r.useField)(et),i=(0,B.default)(et);return l.createElement(F.g,{fieldId:"maxPrice",isRequired:!0},l.createElement(M.Q,{...t,id:"maxPrice",onPlus:()=>{const e=Number((parseFloat(`${t.value}`)+.01).toFixed(2));i(e)},onMinus:()=>{const e=Number((parseFloat(`${t.value}`)-.01).toFixed(2));i(e)},onChange:e=>{const t=parseFloat(e.target.value),a=Number(t.toFixed(2));i(a)},unit:l.createElement("span",{className:"ocm-spot-instances__unit"},"$ Hourly"),widthChars:8,min:$._Y,isDisabled:e}),l.createElement(U.FormGroupHelperText,{touched:n,error:a}))},at="useSpotInstances",lt=({children:e,isDisabled:t})=>{const[a]=(0,r.useField)(at);return l.createElement(V.default,{showTooltip:t,content:"This option cannot be edited from its original setting selection."},l.createElement(u.B,{hasGutter:!0},l.createElement(c.a,null,l.createElement(Ne.S,{...a,label:"Use Amazon EC2 Spot Instance",isChecked:a.value,onChange:(e,t)=>{a.onChange(e)},id:at,body:a.value&&e,description:"You can save on costs by creating a machine pool running on AWS that deploys machines as non-guaranteed Spot Instances. This cannot be changed after machine pool is created.",isDisabled:t})),a.value&&l.createElement(c.a,null,l.createElement(ue.F,{variant:"warning",title:"Your Spot Instance may be interrupted at any time. Use Spot Instances for workloads that can tolerate interruptions.",isInline:!0},l.createElement(Ie.default,{href:Ce.default.AWS_SPOT_INSTANCES},"Learn more about Spot instances")))))},nt=({isEdit:e})=>{const[t]=(0,r.useField)({name:"spotInstanceType",value:"onDemand",type:"radio"}),[a]=(0,r.useField)({name:"spotInstanceType",value:"maximum",type:"radio"});return l.createElement(X.E,null,l.createElement(F.g,{fieldId:"spotInstances",label:"Cost saving"}),l.createElement(lt,{isDisabled:e},l.createElement(p.l,null,l.createElement(Je.s,{...t,isChecked:t.checked,id:"spotinstance-ondemand",onChange:(e,a)=>t.onChange(e),label:"Use On-Demand instance price",description:"The maximum price defaults to charge up to the On-Demand Instance price.",isDisabled:e}),l.createElement(Je.s,{...a,isChecked:a.checked,onChange:(e,t)=>a.onChange(e),id:"spotinstance-max",label:l.createElement(l.Fragment,null,"Set maximum price"," ",l.createElement(H.default,{headerContent:"Maximum hourly price for a Spot Instance",hint:"This value should be lower or equal to the On-Demand Instance price. This cannot be changed after the machine pool is created."})),description:"Specify the maximum hourly price for a Spot Instance.",isDisabled:e,body:a.checked&&l.createElement(tt,{isEdit:e})}))))},rt=({cluster:e,region:t,onClose:a,onSave:n,machinePoolId:i,isEdit:o,machinePoolsResponse:b,machineTypesResponse:C,shouldDisplayClusterName:I,isHypershift:N,machinePoolsLoading:w,machinePoolsError:F,machineTypesLoading:M,machineTypesError:x,machineTypesErrorResponse:G,machinePoolsErrorResponse:U})=>{var H;const V=l.useCallback((()=>!!o||!!i),[o,i]),B=(0,g.default)(e),[q,z]=l.useState(),[W,$]=l.useState(),[K,Q]=l.useState(V()),{initialValues:Z,validationSchema:X}=Y({machinePool:W,cluster:e,machinePools:b||[],machineTypes:C}),J=(0,y.useFeatureGate)(D.MAX_COMPUTE_NODES_500),ee=l.useCallback((e=>$(null==b?void 0:b.find((t=>t.id===e)))),[$,b]);l.useEffect((()=>{w?$(void 0):(null==b?void 0:b.length)&&(i?ee(i):K&&$(b[0]))}),[w,b,i,K,ee]),l.useEffect((()=>{Q(V())}),[V]);const te=N&&b&&(0,h.getNodeCount)(b,N,null==W?void 0:W.id,null==W?void 0:W.instance_type)===(0,h.getMaxNodesHCP)(null===(H=e.version)||void 0===H?void 0:H.raw_id,J),{mutateAsync:ae}=((e,t,a)=>{const l=(0,y.useFeatureGate)(D.HCP_ROOT_DISK_SIZE),{data:n,isPending:r,isError:i,isSuccess:s,mutate:o,mutateAsync:u}=(0,A.n)({mutationKey:["createOrEditMachineOrNodePool","clusterService"],mutationFn:async({region:n,values:r,currentMPId:i})=>{var s;const o=n?(0,L.getClusterServiceForRegion)(n):(0,L.getClusterService)(),u=(0,R.isMPoolAz)(t,null===(s=null==a?void 0:a.availability_zones)||void 0===s?void 0:s.length),c=e?((e,{isEdit:t,isMultiZoneMachinePool:a,hasHcpRootDiskSizeFeature:l})=>{const n={id:e.name,labels:T(e.labels),taints:O(e.taints),...P(e,a,!0)};return t||(n.subnet=e.privateSubnetId,n.aws_node_pool={instance_type:e.instanceType,additional_security_group_ids:e.securityGroupIds},l&&(n.aws_node_pool.root_volume={size:e.diskSize})),n})(r,{isEdit:!!i,isMultiZoneMachinePool:u,hasHcpRootDiskSizeFeature:l}):((e,{isEdit:t,isMultiZoneMachinePool:a,isROSACluster:l})=>{const n={id:e.name,labels:T(e.labels),taints:O(e.taints),...P(e,a,!1)};if(!t){const t={};n.instance_type=e.instanceType,e.useSpotInstances&&(t.spot_market_options="maximum"===e.spotInstanceType?{max_price:e.maxPrice}:{}),e.securityGroupIds.length>0&&(t.additional_security_group_ids=e.securityGroupIds),l&&(n.root_volume={aws:{size:e.diskSize}}),Object.keys(t).length>0&&(n.aws=t)}return n})(r,{isEdit:!!i,isMultiZoneMachinePool:u,isROSACluster:(0,v.isROSA)(t)});if(i){const a=e?o.patchNodePool:o.patchMachinePool;return await a(t.id||"",i,c)}const d=e?o.addNodePool:o.addMachinePool;return await d(t.id||"",c)}});return{data:n,isPending:r,isError:i,isSuccess:s,mutate:o,mutateAsync:u}})(N,e,W);return l.createElement(r.Formik,{onSubmit:async e=>{z(void 0);try{await ae({region:t,values:e,currentMPId:null==W?void 0:W.id}),null==n||n(),a()}catch(e){z(e)}},initialValues:Z,validationSchema:X,enableReinitialize:!0,validateOnMount:!0},(({isValid:n,submitForm:r,isSubmitting:i,values:o})=>{var g,v,h;return l.createElement(S.default,{id:"edit-mp-modal",title:K?"Edit machine pool":"Add machine pool",secondaryTitle:I?B:void 0,onClose:i?void 0:a,isPending:w||!F&&w||!x&&M||K&&C&&b&&!W,modalSize:"large",description:!K&&"A machine pool is a group of machines that are all clones of the same configuration, that can be used on demand by an application running on a pod.",footer:l.createElement(u.B,{hasGutter:!0},q&&l.createElement(c.a,null,l.createElement(_.default,{message:K?"Error editing machine pool":"Error adding machine pool",response:{errorDetails:null===(v=null===(g=q.response)||void 0===g?void 0:g.data)||void 0===v?void 0:v.details,errorMessage:(0,E.getErrorMessage)({payload:q}),operationID:null===(h=q.response)||void 0===h?void 0:h.data.operation_id}})),l.createElement(c.a,null,te?l.createElement(d.m,{content:"Maximum cluster node count limit reached"},l.createElement(m.$n,{isAriaDisabled:te||!n,isDisabled:i||!b||!C||s()(Z,o),onClick:r,isLoading:i,className:"pf-v5-u-mr-md","data-testid":"submit-btn"},K?"Save":"Add machine pool")):l.createElement(m.$n,{isAriaDisabled:te,isDisabled:!n||i||!b||!C||s()(Z,o),onClick:r,isLoading:i,className:"pf-v5-u-mr-md","data-testid":"submit-btn"},K?"Save":"Add machine pool"),l.createElement(m.$n,{variant:"secondary",isDisabled:i,onClick:a,"data-testid":"cancel-btn"},"Cancel")))},F||x?l.createElement(_.default,{message:"Failed to fetch resources",response:F?U:G}):l.createElement(p.l,null,l.createElement(fe,{cluster:e,machinePools:b||[],isEdit:K,region:t,currentMPId:null==W?void 0:W.id,setCurrentMPId:ee,machineTypesResponse:C,machineTypesLoading:M}),l.createElement(He,{cluster:e,machinePool:W,machinePools:b||[],machineTypes:C,allow500Nodes:J}),l.createElement(j,{cluster:e,isEdit:K}),l.createElement(f.Q,{toggleText:"Edit node labels and taints"},l.createElement(Se,null),l.createElement(Be,{cluster:e,machinePools:b||[],machinePoolId:null==W?void 0:W.id,machineTypes:C})),l.createElement(Xe,{cluster:e,isReadOnly:K}),(0,k.canUseSpotInstances)(e)&&l.createElement(nt,{isEdit:K})))}))},it=({clearMachinePools:e})=>{var t,a;const n=(0,w.useGlobalState)((e=>e.modal.data)),r=(0,o.wA)(),{cluster:i,shouldDisplayClusterName:s}=n,u=(0,v.isHypershiftCluster)(i),c=null==i?void 0:i.id,d=null===(t=null==i?void 0:i.version)||void 0===t?void 0:t.id,m=null===(a=null==i?void 0:i.subscription)||void 0===a?void 0:a.rh_region_id,{data:p,isLoading:f,isError:E,error:g}=(0,I.useFetchMachineTypes)(m),{data:h,isLoading:_,isError:S,error:C,refetch:y}=(0,N.useFetchMachineOrNodePools)(c,u,d,m),A=(0,v.isHypershiftCluster)(i);return i?l.createElement(rt,{region:m,isHypershift:A,shouldDisplayClusterName:s,cluster:i,onClose:()=>{r((0,b.closeModal)())},isEdit:!0,machineTypesResponse:p,machinePoolsResponse:h,machinePoolsLoading:_,machinePoolsError:S,machineTypesLoading:f,machineTypesError:E,machinePoolsErrorResponse:C.error,machineTypesErrorResponse:g.error,onSave:()=>{_||y()}}):null};it.modalName=C.default.EDIT_MACHINE_POOL;const st=rt},93554:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MachinePoolItemList:()=>b,default:()=>C,securityGroupsRenderer:()=>S});var l=a(93345),n=a.n(l),r=a(62193),i=a.n(r),s=a(9670),o=a(15129),u=a(30620),c=a(23215),d=a(93413),m=a(98552),p=a(48539),f=a(30666),E=a(93973);const g=({isAutoRepairEnabled:e})=>n().createElement(n().Fragment,null,n().createElement(s.h,{headingLevel:"h4",className:"pf-v5-u-mb-sm pf-v5-u-mt-lg"},"AutoRepair"),n().createElement(f.B,{hasGutter:!0},n().createElement(E.o,{className:"auto_repair"},e?"Enabled":"Disabled"))),v=(e,t)=>void 0===e?0:t?e/3:e,h=({isMultiZoneCluster:e,autoscaling:t,isMultiZoneMachinePool:a})=>n().createElement(n().Fragment,null,n().createElement(s.h,{headingLevel:"h4",className:"pf-v5-u-mb-sm pf-v5-u-mt-lg"},"Autoscaling"),n().createElement(f.B,{hasGutter:!0},n().createElement(E.o,null,n().createElement(s.h,{headingLevel:"h4",className:"autoscale__lim"},"Min nodes "+(a?"per zone":"")),v(t.min_replicas,a)),n().createElement(E.o,null,n().createElement(s.h,{headingLevel:"h4",className:"autoscale__lim"},"Max nodes "+(a?"per zone":"")),v(t.max_replicas,a))));var _=a(57109);const S=(e,t)=>e.map((e=>{var a;return(null===(a=t.find((t=>t.id===e)))||void 0===a?void 0:a.name)||e})),b=({title:e,items:t,showSmallTitle:a=!1})=>n().createElement(n().Fragment,null,!a&&n().createElement(s.h,{headingLevel:"h4"},e),a&&n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-font-weight-bold pf-v5-u-disabled-color-100"},e),t.map(((t,a)=>{const l=t.length>50,r=l?(0,d.truncateTextWithEllipsis)(t,50):t;return n().createElement(o.J,{color:"blue",key:`${e}-${a}`,className:"pf-v5-c-label--break-word pf-v5-u-m-sm pf-v5-u-ml-0",title:l?t:""},r)}))),C=({cluster:e,isMultiZoneCluster:t,machinePool:a,region:l})=>{var r,o,d,f;const{clusterVpc:E}=(0,m.useAWSVPCFromCluster)(e,l),v=null===(r=null==a?void 0:a.aws)||void 0===r?void 0:r.spot_market_options,C=(null===(o=null==a?void 0:a.aws)||void 0===o?void 0:o.additional_security_group_ids)||(null===(d=null==a?void 0:a.aws_node_pool)||void 0===d?void 0:d.additional_security_group_ids)||[],y=(0,p.isMPoolAz)(e,null===(f=a.availability_zones)||void 0===f?void 0:f.length),I=(0,p.isHypershiftCluster)(e),A=null==a?void 0:a.auto_repair;return n().createElement(u.x,{hasGutter:!0},!i()(a.labels)&&n().createElement(c.E,{md:6},n().createElement(b,{title:"Labels",items:(T=a.labels||{},Object.keys(T||{}).map((e=>{const t=T[e]||"";return`${e}${t?" = ":""}${t}`})))})),a.taints&&n().createElement(c.E,{md:6},n().createElement(b,{title:"Taints",items:(R=a.taints,(R||[]).map((e=>`${e.key} = ${e.value}:${e.effect}`)))})),C.length>0&&n().createElement(c.E,{md:6},n().createElement(b,{title:"Security groups",items:S(C,(null==E?void 0:E.aws_security_groups)||[])})),(0,_.hasSubnets)(a)&&n().createElement(c.E,{md:6},n().createElement(b,{title:"Subnets",items:(0,_.getSubnetIds)(a)})),a.autoscaling&&n().createElement(c.E,{md:6},n().createElement(h,{isMultiZoneMachinePool:y,isMultiZoneCluster:t,autoscaling:a.autoscaling})),I&&n().createElement(c.E,{md:6},n().createElement(g,{isAutoRepairEnabled:A})),v&&n().createElement(c.E,{md:6},n().createElement(s.h,{headingLevel:"h4"},"Spot instance pricing"),v.max_price?`Maximum hourly price: ${v.max_price}`:"On-Demand"));var R,T}},57109:(e,t,a)=>{"use strict";a.r(t),a.d(t,{actionResolver:()=>m,canUseSpotInstances:()=>b,getClusterMinNodes:()=>g,getMinNodesRequired:()=>u,getNodeIncrement:()=>v,getNodeIncrementHypershift:()=>h,getSubnetIds:()=>f,hasDefaultOrExplicitAutoscalingMachinePool:()=>S,hasExplicitAutoscalingMachinePool:()=>_,hasSubnets:()=>E,isEnforcedDefaultMachinePool:()=>c,isMinimumCountWithoutTaints:()=>d,normalizeNodePool:()=>p});var l=a(1727),n=a(75166),r=a(23271),i=a(93413),s=a(48539);const o=(e,t,a)=>e?t?a?3:2:a?9:4:0,u=(e,t,a)=>{return e?void 0===(l=null==t?void 0:t.numMachinePools)?1:1===l?2:l||0:o(null==a?void 0:a.isDefaultMachinePool,null==a?void 0:a.isByoc,null==a?void 0:a.isMultiAz);var l},c=(e,t,a,l)=>{var n,i,u,c,d,m,p;if((0,r.isHypershiftCluster)(l))return!1;if(!(null===(n=l.ccs)||void 0===n?void 0:n.enabled))return"worker"===e;const f=null===(u=null===(i=a.types)||void 0===i?void 0:i.aws)||void 0===u?void 0:u.find((e=>"m5.xlarge"===e.id)),E=o(!0,null===(c=null==l?void 0:l.ccs)||void 0===c?void 0:c.enabled,(0,s.isMultiAZ)(l)),g="aws"===(null===(d=l.cloud_provider)||void 0===d?void 0:d.id)?null===(m=a.types)||void 0===m?void 0:m.aws:null===(p=a.types)||void 0===p?void 0:p.gcp;return!t.filter((t=>t.id!==e)).some((e=>{var t,a,l,n,r,i,s,o,u,c,d;const m="NodePool"===e.kind?null===(t=e.aws_node_pool)||void 0===t?void 0:t.instance_type:e.instance_type,p=null==g?void 0:g.find((e=>e.id===m));return p&&!e.taints&&(e.replicas&&e.replicas>=E||(null===(a=e.autoscaling)||void 0===a?void 0:a.min_replicas)&&(null===(l=e.autoscaling)||void 0===l?void 0:l.min_replicas)>=E)&&(null!==(r=null===(n=null==p?void 0:p.cpu)||void 0===n?void 0:n.value)&&void 0!==r?r:0)>=(null!==(s=null===(i=null==f?void 0:f.cpu)||void 0===i?void 0:i.value)&&void 0!==s?s:0)&&(null!==(u=null===(o=null==p?void 0:p.memory)||void 0===o?void 0:o.value)&&void 0!==u?u:0)>=(null!==(d=null===(c=null==f?void 0:f.memory)||void 0===c?void 0:c.value)&&void 0!==d?d:0)}))},d=({currentMachinePoolId:e,machinePools:t,cluster:a})=>!(0,r.isHypershiftCluster)(a)||(null==t?void 0:t.reduce(((t,a)=>{var l,n,r,i;return a.id===e||(null===(l=a.taints)||void 0===l?void 0:l.length)?t:t+(null!==(i=null!==(r=null===(n=a.autoscaling)||void 0===n?void 0:n.min_replicas)&&void 0!==r?r:a.replicas)&&void 0!==i?i:0)}),0))>=2,m=({rowData:e,onClickEdit:t,onClickDelete:a,onClickUpdate:l,canDelete:n,cluster:r,machinePools:i,machineTypes:s})=>{if(!e.machinePool)return[];const o=((e,t,a,l)=>{const n=!e&&"You do not have permissions to delete machine pools",r=1===t.length&&"The last machine pool cannot be deleted";return n||r||a&&"Machine pool ineligible for deletion"||!l&&"There needs to be at least 2 nodes without taints across all machine pools"||void 0})(n,i,c(e.machinePool.id,i,s,r),d({currentMachinePoolId:e.machinePool.id,machinePools:i,cluster:r}));return[{title:"Edit",onClick:t,className:"hand-pointer"},{title:"Delete",onClick:a,className:"hand-pointer",isAriaDisabled:!!o,...!!o&&{tooltipProps:{content:o}}},...void 0!==l?[{title:"Update version",onClick:l,className:"hand-pointer"}]:[]]},p=e=>{var t,a,l,n,r;const i={...e,instance_type:null===(t=e.aws_node_pool)||void 0===t?void 0:t.instance_type};return e.autoscaling&&(i.autoscaling={...e.autoscaling},(null===(a=e.autoscaling)||void 0===a?void 0:a.min_replica)&&(null===(l=e.autoscaling)||void 0===l?void 0:l.min_replica)>0&&(i.autoscaling.min_replicas=e.autoscaling.min_replica,delete i.autoscaling.min_replica),(null===(n=e.autoscaling)||void 0===n?void 0:n.max_replica)&&(null===(r=e.autoscaling)||void 0===r?void 0:r.max_replica)>0&&(i.autoscaling.max_replicas=e.autoscaling.max_replica,delete i.autoscaling.max_replica)),i},f=e=>{const{subnet:t,subnets:a}=e;return(0,i.asArray)(t||a||[])},E=e=>f(e).length>0,g=({cluster:e,machineTypesResponse:t,machinePool:a,machinePools:l})=>{var n;if((0,r.isHypershiftCluster)(e))return d({currentMachinePoolId:null==a?void 0:a.id,cluster:e,machinePools:l})?1:2;const i=(0,s.isMultiAZ)(e),u=!!a&&c(a.id,l,t,e);return o(u,!!(null===(n=null==e?void 0:e.ccs)||void 0===n?void 0:n.enabled),i)},v=e=>e?3:1,h=e=>null!=e?e:1,_=(e,t)=>(e||[]).some((e=>!(!e.autoscaling||t&&t===e.id))),S=(e,t,a)=>{var l;return!!(null===(l=null==e?void 0:e.nodes)||void 0===l?void 0:l.autoscale_compute)||_(t,a)},b=e=>{var t,a,i;const s=null===(t=e.cloud_provider)||void 0===t?void 0:t.id,o=(0,l.uP)(null===(a=e.product)||void 0===a?void 0:a.id);return"aws"===s&&!(0,r.isHypershiftCluster)(e)&&(o===n.normalizedProducts.ROSA||o===n.normalizedProducts.OSD&&(null===(i=e.ccs)||void 0===i?void 0:i.enabled))}},85927:(e,t,a)=>{"use strict";a.r(t),a.d(t,{hasMachinePoolsQuotaSelector:()=>s,hasOrgLevelAutoscaleCapability:()=>o,hasOrgLevelBypassPIDsLimitCapability:()=>u});var l=a(58156),n=a.n(l),r=a(13642),i=a(98229);const s=(e,t,a)=>{var l;if(!(null==e?void 0:e.fulfilled))return!1;const s=null===(l=null==t?void 0:t.cloud_provider)||void 0===l?void 0:l.id,o=r.RelatedResource.billing_model[n()(t,"subscription.cluster_billing_model",r.SubscriptionCommonFields.cluster_billing_model.STANDARD)];return!(!s||!a)&&n()(a,s,[]).some((a=>((e,t,a,l,n)=>{var r,s,o;const u={product:null===(s=null===(r=null==t?void 0:t.subscription)||void 0===r?void 0:r.plan)||void 0===s?void 0:s.type,cloudProviderID:a,isBYOC:!!(null===(o=null==t?void 0:t.ccs)||void 0===o?void 0:o.enabled),isMultiAz:t.multi_az,resourceName:e.generic_name,billingModel:l};return(0,i.availableNodesFromQuota)(null==n?void 0:n.quotaList,u)>=1})(a,t,s,o,e)))},o=e=>{var t;const a=(null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:[]).find((e=>"capability.cluster.autoscale_clusters"===e.name));return!(!a||"true"!==a.value)},u=e=>{var t;return(null!==(t=null==e?void 0:e.capabilities)&&void 0!==t?t:[]).some((e=>"capability.organization.bypass_pids_limits"===e.name&&"true"===e.value))}},12425:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ae});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(9670),u=a(983),c=a(25514),d=a(74149),m=a(30666),p=a(93973),f=a(19202),E=a(19598),g=a(31003),v=a(99851),h=a(21888),_=a(48266),S=a(67209);const b=({icon:e,status:t,lastCheckIn:a})=>n().createElement(m.B,null,n().createElement(p.o,null,e),n().createElement(p.o,{isFilled:!0},t),n().createElement(p.o,{className:"last-checkin"},t===d.monitoringStatuses.UNKNOWN&&n().createElement(g.default,{className:"danger",size:"md"}),void 0!==a&&n().createElement(n().Fragment,null,"Last check-in: ",n().createElement(S.A,{date:a,type:"relative"})))),C=({status:e,lastCheckIn:t,discoveredIssues:a})=>{switch(e){case d.monitoringStatuses.DISCONNECTED:return n().createElement(b,{icon:n().createElement(E.Ay,null),status:n().createElement(o.h,{headingLevel:"h2"},"Disconnected cluster"),lastCheckIn:t});case d.monitoringStatuses.UPGRADING:return n().createElement(b,{icon:n().createElement(h.default,null),status:n().createElement(o.h,{headingLevel:"h2"},"Cluster is updating"),lastCheckIn:t});case d.monitoringStatuses.NO_METRICS:return n().createElement(b,{icon:n().createElement(v.default,{className:"warning"}),status:n().createElement(o.h,{headingLevel:"h2"},"Cluster has no metrics"),lastCheckIn:t});case d.monitoringStatuses.HEALTHY:return n().createElement(b,{icon:n().createElement(f.default,{className:"success"}),status:n().createElement(o.h,{headingLevel:"h2"},"No issues detected"),lastCheckIn:t});case d.monitoringStatuses.HAS_ISSUES:return n().createElement(b,{icon:n().createElement(g.default,{className:"status-icon danger"}),status:n().createElement(o.h,{headingLevel:"h2"},a," ",1===a?"issue":"issues"," detected"),lastCheckIn:t});default:return n().createElement(b,{icon:n().createElement(_.default,null),status:n().createElement(o.h,{headingLevel:"h2"},"Cluster health is unknown"),lastCheckIn:t})}},y=({status:e=d.monitoringStatuses.NO_METRICS,discoveredIssues:t=null,lastCheckIn:a})=>n().createElement(i.Z,{className:"ocm-c-monitoring-health__card"},n().createElement(s.Z,{className:"ocm-c-monitoring-health__card--header"},n().createElement(C,{lastCheckIn:a,discoveredIssues:t,status:e})));var I=a(33675),A=a(54169),R=a(86130),T=a(75279);const O=({children:e=null,hideLastCheckIn:t=!1,lastCheckIn:a,hideIcon:l=!1,title:r="Monitoring data is not available"})=>n().createElement(I.p,null,!l&&n().createElement(A.q,{icon:v.ExclamationTriangleIcon}),n().createElement(R.o,{titleText:r,headingLevel:"h5"}),n().createElement(T.h,null,e,!t&&n().createElement("p",null,"Last Check-in: ",n().createElement(S.A,{date:a,type:"relative"}))));var P=a(41259),D=a(13642),L=a(59910),N=a(36447),w=a(29962),k=a(69673),F=a(73683),M=a(15402),x=a(76792),G=a(2442),U=a(97192),H=a(11318);const V=function({alerts:e=[],clusterConsole:t}){const a=n().createElement(n().Fragment,null,n().createElement(g.ExclamationCircleIcon,{className:"status-icon danger"}),n().createElement("span",null,"Critical")),l=n().createElement(n().Fragment,null,n().createElement(v.ExclamationTriangleIcon,{className:"status-icon warning"}),n().createElement("span",null,"Warning")),r=n().createElement(n().Fragment,null,n().createElement(w.InfoCircleIcon,{className:"status-icon info"}),n().createElement("span",null,"Info")),i=e=>"Watchdog"===e||"DeadMansSwitch"===e;if(e.every((e=>i(e.name))))return n().createElement(I.p,null,n().createElement(R.o,{titleText:"No alerts firing",icon:n().createElement(A.q,{icon:f.CheckCircleIcon}),headingLevel:"h5"}));const s=e.map((e=>{if(i(e.name))return null;let s=null;e.severity===d.alertsSeverity.WARNING&&(s=l),e.severity===d.alertsSeverity.CRITICAL&&(s=a),e.severity===d.alertsSeverity.INFO&&(s=r);const o=(0,d.monitoringItemLinkProps)(t,d.monitoringItemTypes.ALERT,e.name);return{alertName:null!==o?n().createElement("a",{...o},e.name):e.name,severityIcon:s,alertKey:e.name}})).filter(Boolean);return n().createElement(k.X,{"aria-label":"alerts",variant:F.a.compact,borders:!1},n().createElement(M.d,null,n().createElement(x.Tr,null,n().createElement(G.Th,null,"Name"),n().createElement(G.Th,null,"Severity"))),n().createElement(U.N,null,s.map((e=>n().createElement(x.Tr,{key:null==e?void 0:e.alertKey},n().createElement(H.Td,null,null==e?void 0:e.alertName),n().createElement(H.Td,null,null==e?void 0:e.severityIcon))))))},B=({icon:e,status:t})=>n().createElement(n().Fragment,null,e,n().createElement("span",null,t)," "),q=({condition:e})=>{switch(e){case d.operatorsStatuses.AVAILABLE:return n().createElement(B,{icon:n().createElement(f.CheckCircleIcon,{className:"status-icon success"}),status:"Available"});case d.operatorsStatuses.FAILING:return n().createElement(B,{icon:n().createElement(g.ExclamationCircleIcon,{className:"status-icon danger"}),status:"Failing"});case d.operatorsStatuses.UPGRADING:return n().createElement(B,{icon:n().createElement(h.InProgressIcon,{className:"status-icon"}),status:"Updating"});case d.operatorsStatuses.DEGRADED:return n().createElement(B,{icon:n().createElement(v.ExclamationTriangleIcon,{className:"status-icon warning"}),status:"Degraded"});default:return n().createElement(B,{icon:n().createElement(_.UnknownIcon,{className:"status-icon"}),status:"Unknown"})}},j=({operators:e=[],clusterConsole:t})=>{const a=e.map((e=>{const a=(0,d.monitoringItemLinkProps)(t,d.monitoringItemTypes.OPERATOR,e.name);return{operatorName:null!==a?n().createElement("a",{...a},e.name):e.name,operatorCondition:n().createElement(q,{condition:e.condition}),operatorVersion:e.version,operatorKey:e.name}}));return n().createElement(k.X,{variant:F.a.compact,borders:!1,"aria-label":"operators"},n().createElement(M.d,null,n().createElement(x.Tr,null,n().createElement(G.Th,null,"Name"),n().createElement(G.Th,null,"Status"),n().createElement(G.Th,null,"Version"))),n().createElement(U.N,null,a.map((e=>n().createElement(x.Tr,{key:e.operatorKey},n().createElement(H.Td,null,e.operatorName),n().createElement(H.Td,null,e.operatorCondition),n().createElement(H.Td,null,e.operatorVersion))))))};var z=a(45608),W=a(67546),$=a(60239),K=a(83691),Y=a(43631),Q=a(56386);const Z=({title:e="",numOfIssues:t,numOfWarnings:a,toggle:l,expanded:r,hasData:i,children:s})=>{const u=e.replace(/\s+/g,"-").toLowerCase();return n().createElement(z.e,{"aria-labelledby":u,isExpanded:r.includes(u)},n().createElement(W._,null,n().createElement($.J,{onClick:()=>l(u),isExpanded:r.includes(u),id:`${u}-toggle`,"aria-controls":`${u}-toggle-expand`}),n().createElement(K.j,{dataListCells:[n().createElement(Y.Z,{key:`title-${u}`},n().createElement(o.h,{headingLevel:"h4",className:"item-title"},e)),n().createElement(Y.Z,{key:`summary-${u}`,className:"item-summary"},(()=>{switch(!0){case!i:return n().createElement(n().Fragment,null,n().createElement(v.ExclamationTriangleIcon,{className:"status-icon warning"}),n().createElement("span",null,"Metrics not available"));case t&&t>0:return n().createElement(n().Fragment,null,n().createElement(g.ExclamationCircleIcon,{className:"status-icon danger"}),n().createElement("span",null,t," discovered ",1===t?"issue":"issues"));case a&&a>0:return n().createElement(n().Fragment,null,n().createElement(v.ExclamationTriangleIcon,{className:"status-icon warning"}),n().createElement("span",null,a," ",1===a?"warning":"warnings"));default:return n().createElement(n().Fragment,null,n().createElement(f.CheckCircleIcon,{className:"status-icon success"}),n().createElement("span",null,t," discovered issues"))}})())]})),n().createElement(Q.Y,{"aria-label":"Primary Content Details",id:`${u}-expand`,isHidden:!r.includes(u)},s))},X=({nodes:e=[],clusterConsole:t})=>{const a=e.map((e=>{const a=(0,d.monitoringItemLinkProps)(t,d.monitoringItemTypes.NODE,e.hostname),l=null!==a?n().createElement("a",{...a},e.hostname):e.hostname,r=e.hostname;return{nodeName:l,nodeUpStatus:e.up?n().createElement(n().Fragment,null,n().createElement(f.CheckCircleIcon,{className:"status-icon success"}),n().createElement("span",null,"Ready")):n().createElement(n().Fragment,null,n().createElement(g.ExclamationCircleIcon,{className:"status-icon danger"}),n().createElement("span",null,"Not Ready")," "),nodeIpAddress:`Internal IP: ${e.internal_ip}`,nodeKey:r}}));return n().createElement(k.X,{variant:F.a.compact,borders:!1,"aria-label":"nodes"},n().createElement(M.d,null,n().createElement(x.Tr,null,n().createElement(G.Th,null,"Name"),n().createElement(G.Th,null,"Status"),n().createElement(G.Th,null,"Node address"))),n().createElement(U.N,null,a.map((e=>n().createElement(x.Tr,{key:e.nodeKey},n().createElement(H.Td,null,e.nodeName),n().createElement(H.Td,null,e.nodeUpStatus),n().createElement(H.Td,null,e.nodeIpAddress))))))},J=({cluster:e,alerts:t,nodes:a,operators:l,resourceUsage:r})=>{var i;const[s,o]=n().useState([]),u=e=>{const t=s.indexOf(e),a=t>=0?[...s.slice(0,t),...s.slice(t+1,s.length)]:[...s,e];o(a)},c=(0,d.hasResourceUsageMetrics)(e),m=(null===(i=e.subscription)||void 0===i?void 0:i.status)===D.SubscriptionCommonFields.status.ARCHIVED,p=e.state?e.state:L.metricsStatusMessages.default,f=m?L.metricsStatusMessages.archived:p,E=n().createElement(O,{hideLastCheckIn:!0,hideIcon:!0,title:"No data available for this metric"},n().createElement("p",null,"Please check back later"));return n().createElement(P.Tr,{"aria-label":"monitoring-table"},n().createElement(Z,{title:"Alerts firing",numOfIssues:t.numOfIssues,numOfWarnings:t.numOfWarnings,toggle:u,expanded:s,hasData:t.hasData},t.hasData?n().createElement(V,{alerts:t.data,clusterConsole:e.console}):E),a.hasData&&n().createElement(Z,{title:"Nodes",numOfIssues:a.numOfIssues,toggle:u,expanded:s,hasData:a.hasData},n().createElement(X,{nodes:a.data,clusterConsole:e.console})),n().createElement(Z,{title:"Cluster operators",numOfIssues:l.numOfIssues,numOfWarnings:l.numOfWarnings,toggle:u,expanded:s,hasData:l.hasData},l.hasData?n().createElement(j,{operators:l.data,clusterConsole:e.console}):E),n().createElement(Z,{title:"Resource usage",numOfIssues:r.numOfIssues,numOfWarnings:r.numOfWarnings,toggle:u,expanded:s,hasData:r.hasData},r.hasData?n().createElement("div",{className:"metrics-chart"},n().createElement(N.default,{cpu:{used:e.metrics.cpu.used,total:e.metrics.cpu.total,updated_timestamp:e.metrics.query_timestamp?e.metrics.query_timestamp:""},memory:{used:e.metrics.memory.used,total:e.metrics.memory.total,updated_timestamp:e.metrics.query_timestamp?e.metrics.query_timestamp:""},metricsAvailable:c,metricsStatusMessage:f,type:"threshold"})):E))};var ee=a(77944),te=a(22039);const ae=({cluster:e})=>{const t=(0,r.wA)(),a=(0,c.useGlobalState)((e=>e.monitoring)),l=(0,te.issuesAndWarningsSelector)(a,e),{issues:m,warnings:p}=l,f=l.issues.totalCount,E=(0,te.lastCheckInSelector)(e),g=(0,te.clusterHealthSelector)(e,E,f),v=m.totalCount,{alerts:h,nodes:_,operators:S,resourceUsage:b}=n().useMemo((()=>(0,te.alertsNodesOperatorsSelector)(a,m,p,e)),[e,p,m,a]);switch(n().useEffect((()=>()=>{t((0,ee.clearMonitoringState)())}),[]),g){case d.monitoringStatuses.DISCONNECTED:return n().createElement(n().Fragment,null,n().createElement(y,{lastCheckIn:E,status:g,discoveredIssues:v}),n().createElement(O,{lastCheckIn:E}));case d.monitoringStatuses.NO_METRICS:return n().createElement(O,{lastCheckIn:E},n().createElement("p",null,"Monitoring data is not available if a cluster goes more than three hours without sending metrics.",n().createElement("br",null),"Check the cluster's web console if you think that this cluster should be sending metrics."));case d.monitoringStatuses.UNKNOWN:return n().createElement(O,{hideLastCheckIn:!0},n().createElement("p",null,"Monitoring data is not available - cluster did not send any metrics.",n().createElement("br",null),"Check the cluster's web console if you think that this cluster should be sending metrics."));default:return n().createElement(n().Fragment,null,n().createElement(y,{lastCheckIn:E,status:g,discoveredIssues:v}),n().createElement(i.Z,{className:"ocm-c-monitoring-status__card"},n().createElement(s.Z,{className:"ocm-c-monitoring-status__card--header"},n().createElement(o.h,{headingLevel:"h2",className:"card-title"},"Status")),n().createElement(u.b,{className:"ocm-c-monitoring-status__card--body"},n().createElement(J,{cluster:e,alerts:h,nodes:_,operators:S,resourceUsage:b}))))}}},74149:(e,t,a)=>{"use strict";a.r(t),a.d(t,{alertsSeverity:()=>n,getIssuesAndWarnings:()=>E,hasData:()=>f,hasResourceUsageMetrics:()=>v,maxMetricsTimeDelta:()=>g,monitoringItemLinkProps:()=>S,monitoringItemTypes:()=>s,monitoringStatuses:()=>l,operatorsStatuses:()=>r,resourceUsageIssuesHelper:()=>h,thresholds:()=>i});var l,n,r,i,s,o=a(74353),u=a.n(o),c=a(13642),d=a(7028),m=a(48539);!function(e){e.HEALTHY="HEALTHY",e.HAS_ISSUES="HAS_ISSUES",e.DISCONNECTED="DISCONNECTED",e.NO_METRICS="NO_METRICS",e.UPGRADING="UPGRADING",e.UNKNOWN="UNKNOWN"}(l||(l={})),function(e){e.WARNING="warning",e.CRITICAL="critical",e.INFO="info"}(n||(n={})),function(e){e.AVAILABLE="available",e.FAILING="failing",e.UPGRADING="upgrading",e.DEGRADED="degraded",e.UNKNOWN="unknown"}(r||(r={})),function(e){e[e.WARNING=.8]="WARNING",e[e.DANGER=.95]="DANGER"}(i||(i={})),function(e){e.NODE="node",e.ALERT="alert",e.OPERATOR="operator"}(s||(s={}));const p={rel:"noopener noreferrer",target:"_blank"},f=e=>{var t,a;return(null!==(a=null===(t=e.data)||void 0===t?void 0:t.length)&&void 0!==a?a:0)>0},E=({data:e,criteria:t,issuesMatch:a,warningsMatch:l})=>{if(!e||0===e.length)return{issuesCount:null,warningsCount:null};let n=0,r=l?0:null;return e.forEach((e=>{e[t]===a&&(n+=1),null!==l&&null!==r&&e[t]===l&&(r+=1)})),{issuesCount:n,warningsCount:r}},g=3,v=e=>{var t,a,l,n,r,i;const s=u().utc(null!==(a=null===(t=e.metrics)||void 0===t?void 0:t.cpu.updated_timestamp)&&void 0!==a?a:0),o=u().utc(),p=(null===(l=e.subscription)||void 0===l?void 0:l.status)===c.SubscriptionCommonFields.status.ARCHIVED,f=(null===(n=e.subscription)||void 0===n?void 0:n.status)===c.SubscriptionCommonFields.status.DISCONNECTED,E=!!d.default.configData.showOldMetrics;return!p&&!f&&(0,m.hasCpuAndMemory)(null===(r=e.metrics)||void 0===r?void 0:r.cpu,null===(i=e.metrics)||void 0===i?void 0:i.memory)&&(E||o.diff(s,"hour")<g)},h=(e,t,a)=>{if(!(0,m.hasCpuAndMemory)(e,t))return null;let l=0;return e&&e.total.value&&e.used.value/e.total.value>a&&(l+=1),t&&t.total.value&&t.used.value/t.total.value>a&&(l+=1),l},_=e=>{if(null==e?void 0:e.url){let t=e.url;return"/"!==t.charAt(t.length-1)&&(t+="/"),t}return null};function S(e,t,a){const l=_(e);let n;if(l){switch(t){case s.ALERT:n=`${l}monitoring/alerts?orderBy=asc&sortBy=Severity&alert-name=${a}`;break;case s.NODE:n=`${l}k8s/cluster/nodes/${a}`;break;case s.OPERATOR:n=`${l}k8s/cluster/config.openshift.io~v1~ClusterOperator/${a}`;break;default:return null}return{...p,href:n}}return null}},22039:(e,t,a)=>{"use strict";a.r(t),a.d(t,{alertsNodesOperatorsSelector:()=>u,clusterHealthSelector:()=>o,issuesAndWarningsSelector:()=>c,lastCheckInSelector:()=>s});var l=a(23271),n=a(13642),r=a(7028),i=a(74149);const s=e=>{const t=e.activity_timestamp?e.activity_timestamp:"0001-01-01";return new Date(t)},o=(e,t,a)=>{var s;if(!e)return i.monitoringStatuses.NO_METRICS;const o=((new Date).getTime()-t.getTime())/1e3/60/60,u=!!r.default.configData.showOldMetrics||o<i.maxMetricsTimeDelta;switch(!0){case t.getUTCFullYear()<=1:return i.monitoringStatuses.UNKNOWN;case(null===(s=null==e?void 0:e.subscription)||void 0===s?void 0:s.status)===n.SubscriptionCommonFields.status.DISCONNECTED:return i.monitoringStatuses.DISCONNECTED;case!u:return i.monitoringStatuses.NO_METRICS;case(0,l.isClusterUpgrading)(e):return i.monitoringStatuses.UPGRADING;case a&&a>0:return i.monitoringStatuses.HAS_ISSUES;default:return i.monitoringStatuses.HEALTHY}},u=({alerts:e,nodes:t,operators:a},l,n,r)=>({alerts:{...e,numOfIssues:l.alerts,numOfWarnings:n.alerts,hasData:(0,i.hasData)(e)},nodes:{...t,numOfIssues:l.nodes,numOfWarnings:0,hasData:(0,i.hasData)(t)},operators:{...a,numOfIssues:l.operators,numOfWarnings:n.operators,hasData:(0,i.hasData)(a)},resourceUsage:{numOfIssues:l.resourceUsage,numOfWarnings:n.resourceUsage,hasData:(0,i.hasResourceUsageMetrics)(r)}}),c=({alerts:e,nodes:t,operators:a},l)=>{var n,r,s,o,u,c,d,m;const p=(0,i.getIssuesAndWarnings)({data:e.data,criteria:"severity",issuesMatch:i.alertsSeverity.CRITICAL,warningsMatch:i.alertsSeverity.WARNING}),f=(0,i.getIssuesAndWarnings)({data:t.data,criteria:"up",issuesMatch:!1}),E=(0,i.getIssuesAndWarnings)({data:a.data,criteria:"condition",issuesMatch:i.operatorsStatuses.FAILING,warningsMatch:i.operatorsStatuses.DEGRADED}),g={issuesCount:(0,i.resourceUsageIssuesHelper)(null===(n=null==l?void 0:l.metrics)||void 0===n?void 0:n.cpu,null===(r=null==l?void 0:l.metrics)||void 0===r?void 0:r.memory,i.thresholds.DANGER),warningsCount:(0,i.resourceUsageIssuesHelper)(null===(s=null==l?void 0:l.metrics)||void 0===s?void 0:s.cpu,null===(o=null==l?void 0:l.metrics)||void 0===o?void 0:o.memory,i.thresholds.WARNING)};return{issues:{alerts:p.issuesCount,nodes:f.issuesCount,operators:E.issuesCount,resourceUsage:g.issuesCount,totalCount:(null!==(u=p.issuesCount)&&void 0!==u?u:0)+(null!==(c=f.issuesCount)&&void 0!==c?c:0)+(null!==(d=E.issuesCount)&&void 0!==d?d:0)+(null!==(m=g.issuesCount)&&void 0!==m?m:0)},warnings:{alerts:p.warningsCount,operators:E.warningsCount,resourceUsage:g.warningsCount}}}},82788:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,excludedNamespacesAsString:()=>o,routeSelectorPairsAsStrings:()=>i,routeSelectorsAsString:()=>s});var l=a(93413),n=a(58826),r=a(92868);const i=(e={})=>Object.entries(e).map((e=>e.join("=")))||[],s=(e={})=>i(e).join(",")||"",o=e=>(0,l.arrayToString)(e)||"",u=e=>{const t={};return null==e||e.forEach((e=>{const a={routerID:e.id,isDefault:!!e.default,isPrivate:"internal"===e.listening,address:e.dns_name,loadBalancer:e.load_balancer_type,routeSelectors:e.route_selectors,excludedNamespaces:e.excluded_namespaces,isNamespaceOwnershipPolicyStrict:e.route_namespace_ownership_policy!==n.NamespaceOwnershipPolicy.INTER_NAMESPACE_ALLOWED,isWildcardPolicyAllowed:e.route_wildcard_policy===r.WildcardPolicy.WILDCARDS_ALLOWED,tlsSecretRef:e.cluster_routes_tls_secret_ref,hostname:e.cluster_routes_hostname};a.isDefault?t.default=a:t.additional=a})),t}},60771:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,m:()=>u});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(55213);const o="Optional list of namespaces to exclude routes from exposing. If no values are specified, all namespaces will be exposed. Format is a comma-separated list 'value1, value2...'.",u=()=>n().createElement(s.default,{title:"Excluded namespaces",maxWidth:"30rem",hint:n().createElement(r.n,null,n().createElement(i.E,null,'Supply a list of excluded namespaces that will never have routes exposed by the default ingress controller. If no values are specified, all namespaces will be exposed. Format should be a comma-separated list "value1, value2...".'))})},48897:(e,t,a)=>{"use strict";a.d(t,{O:()=>d});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(84680),o=a(78755),u=a(1319),c=a(55213);const d=()=>n().createElement(c.default,{title:"Namespace ownership policy",maxWidth:"30rem",hint:n().createElement(r.n,null,n().createElement(i.E,null,"With ",n().createElement("b",null,"inter-namespace ownership allowed"),", a single hostname can be used in routes of different namespaces. With ",n().createElement("b",null,"strict")," option selected, a hostname can be used in routes of a single namespace only."),n().createElement(i.E,null,n().createElement("b",null,"Mind following example:"),n().createElement("br",null),"hostname.dev/foo in namespace A",n().createElement("br",null),"hostname.dev/bar in namespace B",n().createElement("br",null)),n().createElement(s.B,null,n().createElement(o.X,null,"Inter-namespace ownership allowed"),n().createElement(u.d,null,"possible"),n().createElement(o.X,null,"Strict"),n().createElement(u.d,null,"forbidden")))})},60496:(e,t,a)=>{"use strict";a.d(t,{h:()=>s,i:()=>i});var l=a(93345),n=a.n(l),r=a(55213);const i="Optional list of routes to be exposed. If no selector is specified, all routes will be exposed. Format is a comma-separated list of 'key=value'.",s=()=>n().createElement(r.default,{title:"Router selector",maxWidth:"30rem",hint:n().createElement("div",null,'Exclude routes from the default ingress controller matching a key=value selector. If no selector is specified, all routes will be exposed. Format should be a comma-separated list of "key=value", where the "value" is optional.')})},83814:(e,t,a)=>{"use strict";a.d(t,{S:()=>o});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(55213);const o=()=>n().createElement(s.default,{title:"Wildcard Policy",maxWidth:"30rem",hint:n().createElement(r.n,null,n().createElement(i.E,null,"If enabled, a route can have subdomains on its route."))})},73874:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(983),u=a(20491),c=a(56780),d=a(23285),m=a(51976),p=a(22069),f=a(43238),E=a(72972),g=a(34091),v=a(23271),h=a(54910),_=a(91089),S=a(62384),b=a(17629),C=a(12200),y=a(43775),I=a(88851);const A=e=>(0,I.isMajorMinorEqualOrGreater)(e,4,13);var R=a(82788),T=a(19317),O=a(88139),P=a(16165),D=a(70886),L=a(55816),N=a(28592),w=a(14419),k=a(23196),F=a(25514);const M=({refreshCluster:e,canShowLoadBalancer:t,hasSufficientIngressEditVersion:a,canEditLoadBalancer:l,isHypershiftCluster:i,clusterRouters:s,clusterID:o,region:c})=>{var d,m,p,f,E,g,v,h,S;const{isPending:C,isError:I,error:A,mutate:T}=(0,k.useEditClusterIngressMutation)(o,c),M=(0,r.wA)();if(!(0,F.useGlobalState)((e=>(0,w.default)(e,y.default.EDIT_APPLICATION_INGRESS))))return null;const x=I?n().createElement(L.default,{message:"Error editing application ingress",response:A}):null,G=()=>{e(),M(_.modalActions.closeModal())},U=null===(d=s.default)||void 0===d?void 0:d.tlsSecretRef,H=a?{defaultRouterSelectors:(0,R.routeSelectorsAsString)(null===(m=s.default)||void 0===m?void 0:m.routeSelectors),defaultRouterExcludedNamespacesFlag:(0,R.excludedNamespacesAsString)(null===(p=s.default)||void 0===p?void 0:p.excludedNamespaces),isDefaultRouterNamespaceOwnershipPolicyStrict:null===(f=s.default)||void 0===f?void 0:f.isNamespaceOwnershipPolicyStrict,isDefaultRouterWildcardPolicyAllowed:null===(E=s.default)||void 0===E?void 0:E.isWildcardPolicyAllowed,clusterRoutesTlsSecretRef:U,clusterRoutesHostname:null===(g=s.default)||void 0===g?void 0:g.hostname}:void 0;return n().createElement(O.Formik,{initialValues:{private_default_router:null===(v=s.default)||void 0===v?void 0:v.isPrivate,is_nlb_load_balancer:(null===(h=s.default)||void 0===h?void 0:h.loadBalancer)===b.LoadBalancerFlavor.NLB,default_router_address:null===(S=s.default)||void 0===S?void 0:S.address,...H},onSubmit:e=>{const t={...s},a={...e};T({formData:a,currentData:t},{onSuccess:()=>{G()}})}},(({dirty:e,errors:r,handleSubmit:s,values:o})=>n().createElement(N.default,{variant:P.d.medium,primaryText:"Save",secondaryText:"Cancel",title:"Edit application ingress",onClose:G,onPrimaryClick:s,onSecondaryClick:G,isPending:C,isPrimaryDisabled:!r||!e},x,n().createElement(u.l,null,n().createElement(D.DefaultIngressFieldsFormik,{isDay2:!0,hasSufficientIngressEditVersion:a,canEditLoadBalancer:l,canShowLoadBalancer:t,areFieldsDisabled:i,isHypershiftCluster:i,values:o})))))};var x=a(35885),G=a(60771),U=a(48897),H=a(60496),V=a(83814);const B=({provider:e,cluster:t,clusterRoutersData:a,refreshCluster:l})=>{var I,O,P,D,L,N;const w=(0,R.default)(a),k=(0,r.wA)(),{canEdit:F}=t,B=(0,v.isHypershiftCluster)(t),q=e===h.CloudProviderType.Aws,j="read_only"===(null===(I=null==t?void 0:t.status)||void 0===I?void 0:I.configuration_mode),z=!0===(null===(P=null===(O=null==t?void 0:t.aws)||void 0===O?void 0:O.sts)||void 0===P?void 0:P.enabled),W=(0,v.isHibernating)(t),$=(null==t?void 0:t.openshift_version)||(null===(D=null==t?void 0:t.version)||void 0===D?void 0:D.raw_id)||"",K=!B&&A($),Y=((e,t)=>!t||A(e))($,z),Q=q&&!B,{routeSelectors:Z,excludedNamespaces:X,loadBalancer:J,address:ee,isPrivate:te,tlsSecretRef:ae,isWildcardPolicyAllowed:le,isNamespaceOwnershipPolicyStrict:ne,hostname:re}=w.default||{},ie=null===(L=t.subscription)||void 0===L?void 0:L.rh_region_id,se=t.id,oe=J===b.LoadBalancerFlavor.NLB,ue=(({canEdit:e,isReadOnly:t,clusterHibernating:a,hasSufficientIngressEditVersion:l,canEditLoadBalancer:n})=>(n||l?t&&"This operation is not available during maintenance":"This operation is available for clusters of version 4.13 or higher.")||a&&"This operation is not available while cluster is hibernating"||!e&&"You do not have permission to edit routers. Only cluster owners, cluster editors, and organization administrators can edit routers.")({canEdit:!!F,isReadOnly:j,clusterHibernating:W,hasSufficientIngressEditVersion:K,canEditLoadBalancer:Y});return n().createElement(i.Z,{className:"ocm-c-networking-application-ingress__card"},n().createElement(s.Z,null,"Application ingress"),n().createElement(o.b,null,n().createElement(u.l,{isHorizontal:!0},n().createElement(c.g,{fieldId:"default_router_address",label:"Default application router",isStack:!0},n().createElement(d.ks,{id:"default_router_address",value:`*.${ee}`,readOnlyVariant:"default"}),n().createElement(m.n,null,n().createElement(p.E,{component:p.Y.small},(te||(0,S.isRestrictedEnv)()?"Private":"Public")+" router"))),K&&n().createElement(n().Fragment,null,n().createElement(c.g,{fieldId:"defaultRouterSelectors",label:"Route selector",labelIcon:n().createElement(H.h,null),isStack:!0},n().createElement(d.ks,{id:"defaultRouterSelectors",value:null!==(N=(0,R.routeSelectorsAsString)(Z))&&void 0!==N?N:"",isDisabled:!0})),n().createElement(c.g,{fieldId:"defaultRouterExcludedNamespacesFlag",label:"Excluded namespaces",labelIcon:n().createElement(G.m,null),isStack:!0},n().createElement(d.ks,{id:"defaultRouterExcludedNamespacesFlag",value:(0,R.excludedNamespacesAsString)(X),isDisabled:!0})),n().createElement(c.g,{fieldId:"clusterRoutesTlsSecretRef",label:"TLS Secret name",isStack:!0},n().createElement(d.ks,{id:"clusterRoutesTlsSecretRef",value:ae,isDisabled:!0})),n().createElement(c.g,{fieldId:"clusterRoutesHostname",label:"Hostname",isStack:!0},n().createElement(d.ks,{id:"clusterRoutesHostname",value:re,isDisabled:!0})),n().createElement(c.g,{label:"Namespace ownership policy",labelIcon:n().createElement(U.O,null),isStack:!0},n().createElement(f.d,{label:"Strict",labelOff:"Inter-namespace ownership",isChecked:!!ne,isDisabled:!0})),n().createElement(c.g,{label:"Wildcard policy",labelIcon:n().createElement(V.S,null),isStack:!0},n().createElement(f.d,{label:"Allowed",labelOff:"Disallowed",isChecked:le,isDisabled:!0}))),Q&&n().createElement(c.g,{label:"Load balancer type",labelIcon:n().createElement(x.A,null)},n().createElement(f.d,{label:T.b[b.LoadBalancerFlavor.NLB],labelOff:T.b[b.LoadBalancerFlavor.CLASSIC],isChecked:oe,isDisabled:!0})),n().createElement(M,{clusterID:se,refreshCluster:l,region:ie,clusterRouters:w,canShowLoadBalancer:Q,canEditLoadBalancer:Y,isHypershiftCluster:B,hasSufficientIngressEditVersion:K}))),n().createElement(E.w,null,n().createElement(g.l,null,n().createElement(C.default,{variant:"secondary",onClick:()=>{k(_.modalActions.openModal(y.default.EDIT_APPLICATION_INGRESS))},disableReason:ue,isAriaDisabled:!!ue},"Edit application ingress"))))}},15:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var l=a(93345),n=a.n(l),r=a(88139),i=a(24510),s=a(20491),o=a(30620),u=a(23215),c=a(22069),d=a(93413),m=a(65702),p=a(84037),f=a(69122),E=a(72067),g=a(55816),v=a(8888),h=a(28592),_=a(75885),S=a(38871),b=a(67548);const C={HttpProxyURL:"http_proxy_url",HttpsProxyURL:"https_proxy_url",NoProxyDomains:"no_proxy_domains",AdditionalTrustBundle:"additional_trust_bundle"},y=({isClusterEditError:e,clusterEditError:t,isClusterEditPending:a,submitForm:l,handleClose:y})=>{const{setFieldTouched:I,setFieldValue:A,getFieldProps:R,getFieldMeta:T,values:{[C.HttpProxyURL]:O,[C.HttpsProxyURL]:P,[C.AdditionalTrustBundle]:D}}=(0,E.l)(),[L,N]=n().useState(!1);n().useEffect((()=>()=>N(!1)),[]);const w=!O&&!P,k=()=>{L||N(!0)},F=()=>{if(!O&&!P&&!D)return"Configure at least one of the cluster-wide proxy fields."},M=n().createElement(i.F,{isInline:!0,variant:"warning",title:"Complete at least 1 of the fields above."});n().useEffect((()=>{w&&A(C.NoProxyDomains,"")}),[w]);const x=e&&n().createElement(g.default,{message:"Error editing cluster-wide proxy",response:t});return n().createElement(h.default,{onClose:y,title:"Edit cluster-wide Proxy",onPrimaryClick:l,primaryText:"Save",onSecondaryClick:y,isPending:a,width:"max(30%, 600px)"},x,n().createElement(s.l,null,n().createElement(o.x,{hasGutter:!0},n().createElement(u.E,null,n().createElement(c.E,null,"Enable an HTTP or HTTPS proxy to deny direct access to the Internet from your cluster"),n().createElement(c.E,{className:"pf-v5-u-mt-sm"},n().createElement(v.default,{href:m.default.CONFIGURE_PROXY_URL},"Learn more about configuring a cluster-wide proxy"))),n().createElement(u.E,null,n().createElement(i.F,{variant:"info",isInline:!0,isPlain:!0,title:"Configure at least 1 of the following fields:"})),n().createElement(u.E,{sm:12,md:10,xl2:11},n().createElement(r.Field,{component:S.default,name:C.HttpProxyURL,label:"HTTP Proxy URL",placeholder:f.HTTP_PROXY_PLACEHOLDER,type:"text",validate:(0,p.composeValidators)((e=>(0,p.validateUrl)(e,"http")),F),helpText:"Specify a proxy URL to use for HTTP connections outside the cluster.",showHelpTextOnError:!1,meta:T(C.HttpProxyURL),input:{...R(C.HttpProxyURL),onChange:(e,t)=>{A(C.HttpProxyURL,t),setTimeout((()=>I(C.HttpProxyURL)),1)},onBlur:e=>{const{onBlur:t}=R(C.HttpProxyURL);k(),t(e)}}})),n().createElement(u.E,{sm:12,md:10,xl2:11},n().createElement(r.Field,{component:S.default,name:C.HttpsProxyURL,label:"HTTPS Proxy URL",placeholder:f.HTTPS_PROXY_PLACEHOLDER,type:"text",validate:(0,p.composeValidators)((e=>(0,p.validateUrl)(e,["http","https"])),F),helpText:"Specify a proxy URL to use for HTTPS connections outside the cluster.",showHelpTextOnError:!1,meta:T(C.HttpsProxyURL),input:{...R(C.HttpsProxyURL),onChange:(e,t)=>{A(C.HttpsProxyURL,t),setTimeout((()=>I(C.HttpsProxyURL)),1)},onBlur:e=>{const{onBlur:t}=R(C.HttpsProxyURL);k(),t(e)}}})),n().createElement(u.E,{sm:12,md:10,xl2:11},n().createElement(r.Field,{component:S.default,name:C.NoProxyDomains,label:"No Proxy domains",placeholder:w?f.DISABLED_NO_PROXY_PLACEHOLDER:f.NO_PROXY_PLACEHOLDER,type:"text",validate:p.checkNoProxyDomains,helpText:f.NO_PROXY_HELPER_TEXT,showHelpTextOnError:!1,isDisabled:w,meta:T(C.NoProxyDomains),input:{...R(C.NoProxyDomains),onChange:(e,t)=>{A(C.NoProxyDomains,(0,d.stringToArray)(t)),setTimeout((()=>I(C.NoProxyDomains)),1)},onBlur:e=>{const{onBlur:t}=R(C.NoProxyDomains);k(),t(e)}}})),n().createElement(u.E,{sm:12,md:10,xl2:11},n().createElement(r.Field,{component:_.default,name:C.AdditionalTrustBundle,label:"Additional trust bundle",placeholder:f.TRUST_BUNDLE_PLACEHOLDER,extendedHelpTitle:"Additional trust bundle",extendedHelpText:"An additional trust bundle is a PEM encoded X.509 certificate bundle that will be added to the nodes' trusted certificate store.",validate:(0,p.composeValidators)(p.validateCA,F),dropzoneProps:{accept:b.ACCEPT,maxSize:b.MAX_FILE_SIZE,onDropRejected:()=>A(C.AdditionalTrustBundle,"Invalid file")},meta:T("additional_trust_bundle"),helpText:"Upload or paste a PEM encoded X.509 certificate.",input:{...R(C.AdditionalTrustBundle),onChange:e=>{A(C.AdditionalTrustBundle,e),setTimeout((()=>I(C.AdditionalTrustBundle)),1)},onBlur:e=>{const{onBlur:t}=R(C.AdditionalTrustBundle);k(),t(e)}}})),n().createElement(u.E,{md:2,xl2:4}),n().createElement(u.E,null,L&&w&&!D&&M))))}},35885:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(93345),n=a.n(l),r=a(65702),i=a(8888),s=a(55213);const o=()=>n().createElement(s.default,{title:"Load Balancers",maxWidth:"30rem",hint:n().createElement("div",null,"Load balancers automatically distribute your incoming traffic to multiple servers. If you need features such as static IP, source IP address preservation and other features documented by AWS, we recommend using the Network Load Balancer. If you are using EC2-Classic Network, we recommend using Classic.",n().createElement("br",null),n().createElement(i.default,{href:r.default.AWS_LOAD_BALANCER_FEATURES},"Learn more about AWS load balancers."),n().createElement("br",null),n().createElement(i.default,{href:r.default.MANAGED_INGRESS_KNOWLEDGE_BASE},"Learn more about setting load balancers in OCP."))})},19317:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});var l=a(17629);const n={[l.LoadBalancerFlavor.CLASSIC]:"Classic Load Balancer",[l.LoadBalancerFlavor.NLB]:"Network Load Balancer"}},62243:(e,t,a)=>{"use strict";a.r(t),a.d(t,{OverviewBillingAccount:()=>H});var l=a(93345),n=a.n(l),r=a(95376),i=a(32034),s=a(78755),o=a(1319),u=a(96998),c=a(96553),d=a(17957),m=a(53966),p=a(11243),f=a(41955),E=a(976),g=a(12200),v=a(48539),h=a(88139),_=a(16165),S=a(72583),b=a(73113),C=a(57146),y=a(55816),I=a(35777),A=a(36817),R=a(90678),T=a(4775),O=a(7019),P=a(65702),D=a(98229),L=a(64334),N=a(36165),w=a(84037),k=a(8888),F=a(20860),M=a(52501),x=a(23734);const G=({name:e,selectedAWSBillingAccountID:t})=>{var a,l;const r=(0,N.useGlobalState)((e=>e.userProfile.organization)),{isLoading:i,data:s,isFetching:o,refetch:u}=(0,L.l)((null===(a=r.details)||void 0===a?void 0:a.id)||""),c=(0,D.getAwsBillingAccountsFromQuota)(null===(l=null==s?void 0:s.organizationQuota)||void 0===l?void 0:l.items),[d,{error:m,touched:p}]=(0,h.useField)(e),{setFieldValue:f}=(0,h.useFormikContext)(),E=n().createElement(k.default,{isButton:!1,variant:"link",className:"pf-v5-u-mt-md",href:P.default.AWS_CONSOLE_ROSA_HOME,noIcon:!0},"Connect a new AWS billing account"),g=c.find((e=>e.cloud_account_id===t)),v=g?(0,M.P)(g):null;return n().createElement(n().Fragment,null,n().createElement(h.Form,null,n().createElement(h.Field,{component:F.A,id:e,...d,input:{name:{name:e},value:d.value,onBlur:()=>{},onChange:t=>{f(e,t)}},meta:{touched:p,error:m},label:"AWS billing account",validate:w.required,required:!0,refresh:{onRefresh:u,text:"Refresh to view any new AWS billing accounts. It can take up to 5 minutes to sync new accounts."},extendedHelpText:n().createElement(n().Fragment,null,"Connect a new AWS billing account. To add a different AWS account, log in to the account, and click get started."),accounts:c,selectedAWSAccountID:d.value,isLoading:i||o,isDisabled:i||o,isBillingAccount:!0})),v?n().createElement(R.B,null,n().createElement(b.a,null,n().createElement(T.A,{bodyContent:n().createElement(x.A,{contract:v})},n().createElement(S.$n,{variant:"link",icon:n().createElement(O.OutlinedQuestionCircleIcon,null)},"Contract enabled for this billing account"))),n().createElement(b.a,null,E)):E)};function U(e){var t;const{onClose:a,billingAccount:l,isOpen:r=!0,cluster:i}=e,s=null===(t=null==i?void 0:i.subscription)||void 0===t?void 0:t.rh_region_id,{isPending:o,isError:u,error:c,mutate:d}=(0,I.useEditCluster)((null==i?void 0:i.id)||"",s),m=()=>{a()};return n().createElement(h.Formik,{initialValues:{billingAccountId:l},onSubmit:async e=>{l===e.billingAccountId&&m();const t={aws:{billing_account_id:e.billingAccountId}};d(t,{onSuccess:()=>{m(),C.q.invalidateQueries({queryKey:[A.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterService",null==i?void 0:i.id,null==i?void 0:i.subscription]})}})}},(e=>n().createElement(_.a,{id:"edit-billing-aws-account-modal",title:"Edit AWS billing account",onClose:m,variant:"small",description:"Updating the billing marketplace account changes the account that is charged for your subscription usage. There might be a delay in updating the account.",isOpen:r,actions:[n().createElement(S.$n,{"data-testid":"Update",key:"update",variant:"primary",onClick:e.submitForm,isDisabled:!e.isValid||!e.dirty||e.isSubmitting||o},"Update"),n().createElement(S.$n,{key:"cancel",variant:"secondary",onClick:m},"Cancel")]}," ",n().createElement(G,{name:"billingAccountId",selectedAWSBillingAccountID:e.values.billingAccountId}),u&&n().createElement(b.a,null,n().createElement(y.default,{message:"A problem occurred updating the billing account.",response:{errorMessage:null==c?void 0:c.errorMessage}})))))}function H(){var e,t;const[a,l]=n().useState(!1),h=(0,r.useParams)(),{cluster:_}=(0,f.useFetchClusterDetails)(h.id||""),S=(0,p.useFeatureGate)(E.EDIT_BILLING_ACCOUNT),b=(0,v.isHypershiftCluster)(_),C=(null==_?void 0:_.canEdit)&&S&&b,y=!(null==_?void 0:_.canEdit)&&"You do not have permission to change billing account.",I=(null===(e=null==_?void 0:_.aws)||void 0===e?void 0:e.billing_account_id)||(null===(t=null==_?void 0:_.subscription)||void 0===t?void 0:t.billing_marketplace_account)||"";return n().createElement(n().Fragment,null,a&&n().createElement(U,{onClose:()=>{l(!1)},billingAccount:I,cluster:_}),n().createElement(i.W,null,n().createElement(s.X,null,"Billing marketplace account"),n().createElement(o.d,null,C?n().createElement(u.s,null,n().createElement(c.Z,null,n().createElement(g.default,{"data-testid":"billingMarketplaceAccountLink",isDisabled:!(null==_?void 0:_.canEdit),variant:"link",isInline:!0,onClick:()=>l(!0),disableReason:y,isAriaDisabled:!!y},I," ",n().createElement(d.I,null,n().createElement(m.default,{color:"blue"}))))):n().createElement(u.s,null,n().createElement(c.Z,null,n().createElement("span",{"data-testid":"billingMarketplaceAccount"},I))))))}},26554:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(9670),u=a(983),c=a(23557),d=a(25514),m=a(63093),p=a(76980),f=a(29937);const E=(e=0,t="USD")=>e.toLocaleString("en",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2});var g=a(47979),v=a(46273);const h=({values:e,index:t,text:a,...l})=>n().createElement(v.j,{...l,style:[{fontWeight:600},{}],text:[e[t],a]}),_=({values:e})=>n().createElement(g._,{gutter:25,itemsPerRow:2,labelComponent:n().createElement(h,{dy:10,lineHeight:1.5,values:e}),rowGutter:20}),S="Raw cost",b="Markup",C="Usage cost",y=({report:e,height:t,width:a})=>{var l,r,i,s,o,u,c,d,m,p,g,v,h,y;const I=null===(r=null===(l=null==e?void 0:e.meta)||void 0===l?void 0:l.total)||void 0===r?void 0:r.cost,A=null!==(s=null===(i=null==I?void 0:I.markup)||void 0===i?void 0:i.units)&&void 0!==s?s:"USD",R=null!==(u=null===(o=null==I?void 0:I.raw)||void 0===o?void 0:o.units)&&void 0!==u?u:"USD",T=null!==(d=null===(c=null==I?void 0:I.usage)||void 0===c?void 0:c.units)&&void 0!==d?d:"USD",O=null!==(p=null===(m=null==I?void 0:I.markup)||void 0===m?void 0:m.value)&&void 0!==p?p:0,P=null!==(v=null===(g=null==I?void 0:I.raw)||void 0===g?void 0:g.value)&&void 0!==v?v:0,D=null!==(y=null===(h=null==I?void 0:I.usage)||void 0===h?void 0:h.value)&&void 0!==y?y:0,L=E(O,A),N=E(P,R),w=E(D,T);return n().createElement(f.P,{ariaDesc:"Cost breakdown",constrainToVisibleArea:!0,data:[{x:S,y:P,units:R},{x:b,y:O,units:A},{x:C,y:D,units:T}],height:t,labels:({datum:e})=>`${e.x}: ${E(e.y,e.units)}`,legendComponent:n().createElement(_,{values:[N,L,w]}),legendData:[{name:S},{name:b},{name:C}],legendOrientation:"vertical",legendPosition:"right",padding:{bottom:30,left:0,right:225,top:30},legendAllowWrap:!0,width:a})},I=({report:e})=>e.fulfilled?n().createElement(n().Fragment,null,n().createElement(o.h,{className:"ocm--cost-title",size:"md",headingLevel:"h2"},"Total cost",n().createElement("span",{className:"ocm--cost-total"}," ",(e=>{var t,a,l,n,r,i,s,o,u,c;const d=null!==(r=null===(n=null===(l=null===(a=null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.total)||void 0===a?void 0:a.cost)||void 0===l?void 0:l.total)||void 0===n?void 0:n.value)&&void 0!==r?r:0,m=null!==(c=null===(u=null===(o=null===(s=null===(i=null==e?void 0:e.meta)||void 0===i?void 0:i.total)||void 0===s?void 0:s.cost)||void 0===o?void 0:o.total)||void 0===u?void 0:u.units)&&void 0!==c?c:"USD";return E(d,m)})(e))),n().createElement("div",{style:{maxHeight:185,maxWidth:350}},n().createElement(y,{report:e,height:185,width:350}))):n().createElement(p.A,{size:"md"}),A=({clusterId:e})=>{var t;const a=(0,r.wA)(),{report:p,sources:f}=(0,d.useGlobalState)((e=>e.cost));(0,l.useEffect)((()=>{a((0,c.getReport)({filter:{cluster:e}})),a((0,c.getSources)({type:"OCP"}))}),[e,a]);const E=(0,l.useMemo)((()=>{var e,t;return void 0!==(null===(e=null==f?void 0:f.meta)||void 0===e?void 0:e.count)&&0!==(null===(t=null==f?void 0:f.meta)||void 0===t?void 0:t.count)}),[null===(t=null==f?void 0:f.meta)||void 0===t?void 0:t.count]);return n().createElement(i.Z,{className:"ocm--cost-breakdown-card"},n().createElement(s.Z,null,n().createElement(o.h,{size:"lg",headingLevel:"h2"},"Cost breakdown")),n().createElement(u.b,{className:"ocm--cost-breakdown-card__body"},!E&&f.fulfilled?n().createElement(m.A,null):n().createElement(I,{report:p})))}},71785:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterStatus:()=>u});var l=a(93345),n=a.n(l),r=a(96998),i=a(30535),s=a(23271);const o=e=>(null==e?void 0:e.filter((e=>{var t;const a=null===(t=e.status)||void 0===t?void 0:t.current_replicas;return void 0!==a&&(e.autoscaling?!(!e.autoscaling.min_replica||!e.autoscaling.max_replica)&&a>=e.autoscaling.min_replica&&a<=e.autoscaling.max_replica:void 0!==e.replicas&&e.replicas===a)})).length)||0,u=({cluster:e,limitedSupport:t,machinePools:a})=>{const[u,c]=(0,l.useState)(),[d,m]=(0,l.useState)();(0,l.useEffect)((()=>{c((0,s.isHypershiftCluster)(e)),m((0,s.getClusterStateAndDescription)(e))}),[e]);const p=()=>{if((null==d?void 0:d.state)===s.default.UNINSTALLING)return s.default.UNINSTALLING;if(a&&0===o(a)&&0===a.length)switch(null==d?void 0:d.state){case s.default.WAITING:return s.default.WAITING;case s.default.INSTALLING:case s.default.VALIDATING:return s.default.PENDING;default:return s.default.DEPROVISIONED}return a&&o(a)===a.length?s.default.READY:s.default.PENDING},f=n().createElement(i.default,{clusterState:null==d?void 0:d.state,limitedSupport:t,animated:!0});return u?n().createElement(n().Fragment,null,n().createElement(r.s,{alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsXs"},"data-testid":"control-plane-status"},n().createElement("span",{className:"pf-v5-u-mr-sm"},"Control plane:"),f,n().createElement("div",null,null==d?void 0:d.description)),a?n().createElement(r.s,{alignItems:{default:"alignItemsCenter"},spaceItems:{default:"spaceItemsXs"},"data-testid":"machine-pools-status"},n().createElement("span",{className:"pf-v5-u-mr-sm"},"Machine pools:"),n().createElement(i.default,{clusterState:p(),limitedSupport:t,animated:!0}),n().createElement("div",null,(0,s.getStateDescription)(p())," ",o(a)," /"," ",a.length)):null):n().createElement(n().Fragment,null,f,n().createElement("span",{className:"pf-v5-u-ml-xs"},null==d?void 0:d.description))}},58438:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a.n(l),r=a(71468),i=a(32034),s=a(78755),o=a(1319),u=a(12200),c=a(91089),d=a(43775);const m=({protectionEnabled:e,clusterID:t,canToggle:a,isUninstalling:l,pending:m,region:p})=>{const f=(0,r.wA)(),E=!a&&`You do not have permission to ${e?"disable":"enable"} Delete Protection. Only cluster owners, cluster editors, and Organization Administrators can ${e?"disable":"enable"} Delete Protection.`;return n().createElement(i.W,null,n().createElement(s.X,null,"Delete Protection: "+(e?"Enabled":"Disabled")),n().createElement(o.d,null,l?n().createElement("span",null,"N/A"):n().createElement(u.default,{variant:"link",isInline:!0,onClick:()=>f((0,c.openModal)(d.default.DELETE_PROTECTION,{clusterID:t,protectionEnabled:e,region:p})),disableReason:E,isAriaDisabled:!!E||m},e?"Disable":"Enable")))}},67148:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a.n(l),r=a(71468),i=a(76980),s=a(77475),o=a(39357),u=a(78634);var c=a(25514),d=a(10314);const m=({clusterVersion:e})=>{var t;const a=null!==(t=(0,c.useGlobalState)((e=>e.supportStatus)))&&void 0!==t?t:{},m=(0,l.useMemo)((()=>/^[4-6]\.\d{1,3}(\.\d{1,3})?$/),[]),p=(0,l.useMemo)((()=>{var t;return null===(t=a.supportStatus)||void 0===t?void 0:t[e.split(".",2).join(".")]}),[e,a.supportStatus]),f=(0,l.useMemo)((()=>!e||"N/A"===e||a.error||!p||!m.test(e)),[e,p,a.error,m]),E=(0,r.wA)();return(0,l.useEffect)((()=>{a.fulfilled||a.pending||E((0,s.action)(u.A,(0,o.A)()))}),[E,a.fulfilled,a.pending]),a.pending?n().createElement(i.A,{className:"inline-skeleton",size:"sm"}):f?n().createElement(n().Fragment,null,"N/A"):n().createElement(d.A,{status:p})}},13731:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var l=a(93345),n=a.n(l),r=a(17661),i=a(55665),s=a(23215),o=a(56780),u=a(22563),c=a(81995),d=a(97862),m=a(93413),p=a(84037),f=a(38715),E=a(8111),g=a(99904);const v=({label:e="Security groups",selectedVPC:t,selectedGroupIds:a,onChange:l,isReadOnly:v,isHypershift:h})=>{const[_,S]=n().useState(!1),b=t.aws_security_groups||[],C=!v&&a.some((e=>b.every((t=>t.id!==e)))),y=b.filter((e=>a.includes(e.id||"")));if(y.sort(E.vI),n().useEffect((()=>{C&&l([])}),[l,C]),v)return n().createElement(g.A,{securityGroups:y,emptyMessage:"This machine pool does not have additional security groups.",isReadOnly:!0});const I=e=>{const t=a.filter((t=>t!==e));l(t)},A=()=>{S(!_)},R=(0,p.validateSecurityGroups)(a,h);return n().createElement(s.E,null,n().createElement(o.g,{fieldId:"securityGroupIds",label:e,className:"pf-v5-u-mt-md"},n().createElement(n().Fragment,null,n().createElement(g.A,{securityGroups:y,isReadOnly:!1,onClickItem:I}),n().createElement(u.l,{role:"menu",isOpen:_,selected:a,toggle:e=>n().createElement(r.S,{ref:e,onClick:A,isExpanded:_,isFullWidth:!0,badge:a.length>0&&n().createElement(i.E,{screenReaderText:"some items"},a.length),"aria-label":"Options menu",className:"security-groups-menu-toggle"},"Select security groups"),onSelect:(e,t)=>{const n=t;if(a.includes(n))I(n);else{const e=a.concat(n),t=b.filter((t=>e.includes(t.id||"")));t.sort(E.vI),l(t.map((e=>e.id||"")))}},onOpenChange:e=>S(e),"data-testid":"securitygroups-id","aria-labelledby":"Select AWS security groups",maxMenuHeight:"300px"},n().createElement(c.B,null,b.map((({id:e="",name:t=""})=>{const{displayName:l,isCut:r}=(e=>{if(e){const t=50;return{displayName:(0,m.truncateTextWithEllipsis)(e,t),isCut:e.length>t}}return{displayName:"--",isCut:!1}})(t);return n().createElement(d.O,{key:e,value:e,description:e,title:r?t:"",hasCheckbox:!0,isSelected:a.includes(e)},l)})))))),n().createElement(f.FormGroupHelperText,{touched:!0,error:R}))}},47828:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(69304),i=a(93554);const s=e=>{const t=[];return e.forEach((e=>{var a,l,n;const r=(null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.additional_security_group_ids)||(null===(l=null==e?void 0:e.aws_node_pool)||void 0===l?void 0:l.additional_security_group_ids)||[];null!==(n=null==r?void 0:r.length)&&void 0!==n&&n&&t.push(...r||[])})),[...new Set(t)]},o=({securityGroups:e=[],securityGroupIdsForControl:t=[],securityGroupIdsForInfra:a=[],machinePoolData:l=[],showLinkToMachinePools:o=!1,showWorkerNodesTogether:u=!1})=>n().createElement(n().Fragment,null,t.length>0&&n().createElement("dd",{key:"sg-detail-display-controlplane-nodes"},n().createElement(i.MachinePoolItemList,{title:"Control plane nodes",items:(0,i.securityGroupsRenderer)(t,e||[]),showSmallTitle:!0})),a.length>0&&n().createElement("dd",{key:"sg-detail-display-infra-nodes"},n().createElement(i.MachinePoolItemList,{title:"Infrastructure nodes",items:(0,i.securityGroupsRenderer)(a,e||[]),showSmallTitle:!0})),!u&&l.map((t=>{var a,l;const r=(null===(a=null==t?void 0:t.aws)||void 0===a?void 0:a.additional_security_group_ids)||(null===(l=null==t?void 0:t.aws_node_pool)||void 0===l?void 0:l.additional_security_group_ids)||[];return((null==r?void 0:r.length)||0)>0&&n().createElement("dd",{key:`sg-detail-display-compute-nodes-${null==t?void 0:t.id}`},n().createElement(i.MachinePoolItemList,{title:`Compute (${null==t?void 0:t.id}) nodes `,items:(0,i.securityGroupsRenderer)(r,e||[]),showSmallTitle:!0}))})),u&&n().createElement("dd",{key:"sg-detail-display-all-compute-nodes"},n().createElement(i.MachinePoolItemList,{title:"Compute nodes ",items:(0,i.securityGroupsRenderer)(s(l)||[],e||[]),showSmallTitle:!0})),o&&s(l).length>0&&n().createElement("dt",null,"See more information in the ",n().createElement(r.Link,{to:{hash:"#machinePools"}},"machine pools tab")))},27872:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(93345),n=a.n(l),r=a(24510),i=a(65702),s=a(8888);const o=()=>n().createElement(r.F,{variant:"info",isInline:!0,title:"There are no security groups for this Virtual Private Cloud"},"To add security groups, go to the"," ",n().createElement(s.default,{href:i.default.AWS_CONSOLE_SECURITY_GROUPS},"Security groups section")," of your AWS console."," ")},99904:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(93345),n=a.n(l),r=a(70355),i=a(13135);const s=({securityGroups:e,isReadOnly:t,emptyMessage:a,onClickItem:l})=>{const s=e.length;return 0===s?a?n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-disabled-color-100"},a):null:n().createElement(r.I,{className:"pf-v5-u-mb-lg",numChips:s},e.map((e=>{const{id:a=""}=e,r=l?()=>l(a):void 0;return n().createElement(i.v,{id:a,key:a,isReadOnly:t,onClick:r,textMaxWidth:"50ch"},e.name||a)})))}},75439:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(93345),n=a.n(l),r=a(71468),i=a(20491),s=a(56780),o=a(23285),u=a(38715),c=a(14419),d=a(69236),m=a(25514),p=a(84037),f=a(28592),E=a(91089);const g=({cluster:e,isAddNotificationContactPending:t,isAddNotificationContactSuccess:a,addNotificationMutation:g,addNotificationContactError:v})=>{const h=!1,_=(0,m.useGlobalState)((e=>(0,c.default)(e,"add-notification-contact"))),[S,b]=(0,l.useState)(""),[C,y]=(0,l.useState)(h),I=(0,r.wA)(),A=(0,l.useCallback)((()=>{I((0,E.closeModal)()),b(""),y(h)}),[I,"",h]);(0,l.useEffect)((()=>{a&&((0,d.C)(),A())}),[a,A]);const R=C?(0,p.validateRHITUsername)(S):v,T=async()=>{var t;!R&&(null===(t=null==e?void 0:e.subscription)||void 0===t?void 0:t.id)&&(y(!1),g(S))};return _?n().createElement(f.default,{title:"Add notification contact",onClose:A,primaryText:"Add contact",secondaryText:"Cancel",onPrimaryClick:T,onSecondaryClick:A,isPrimaryDisabled:!!R||t||""===S,isPending:t},n().createElement("p",{className:"pf-v5-u-mb-xl"},"Identify the user to be added as notification contact. These users will be contacted in the event of notifications about this cluster."),n().createElement(i.l,{className:"control-form-cursor",onSubmit:e=>{T(),e.preventDefault()}},n().createElement(s.g,{label:"Red Hat username or email",isRequired:!0,fieldId:"username"},n().createElement(o.ks,{value:S,isRequired:!0,id:"username",type:"text",validated:R?"error":"default",onChange:(e,t)=>(e=>{b(e),y(!0)})(t),"aria-label":"user name"}),n().createElement(u.FormGroupHelperText,{touched:!0,error:R})))):null}},62622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>W});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(983),u=a(75166),c=a(91089),d=a(43775),m=a(12200);const p=({canEdit:e,openModal:t})=>n().createElement(m.default,{disableReason:e?null:"You do not have permission to add a Notification Contact. Only cluster owners, cluster editors, and Organization Administrators can add them.",onClick:()=>t(d.default.ADD_NOTIFICATION_CONTACT),variant:"secondary",className:"access-control-add"},"Add notification contact"),f=({email:e})=>e?n().createElement(n().Fragment,null,n().createElement("br",null),"The cluster owner will always receive notifications, at email address <",e,"> , in addition to this list of notification contacts."):null;var E=a(33675),g=a(73683),v=a(16623),h=a(32569),_=a(68923),S=a(3678),b=a(55816),C=a(91167),y=a(82309),I=a(96678),A=a(90020),R=a(69236),T=a(13683);const O=({subscriptionID:e,isDisabled:t,isAddNotificationContactPending:a,isAddNotificationContactSuccess:i,addNotificationStatus:s})=>{const o=(0,r.wA)(),{notificationContacts:u,refetch:c}=(0,R.Q)(e),{mutate:d,isSuccess:m,isPending:p,isError:f,error:O}=(e=>{const{mutate:t,isSuccess:a,isPending:l,isError:n,error:r}=(0,y.n)({mutationKey:["deleteNotificationContact","accountService",e],mutationFn:async t=>A.accountsService.deleteNotificationContact(e,t)});return n?{mutate:t,isSuccess:a,isPending:l,isError:n,error:(0,I.formatErrorData)(l,n,r)}:{mutate:t,isSuccess:a,isPending:l,isError:n,error:r}})(e),P=(0,C.usePreviousProps)(s),D=(0,C.usePreviousProps)(p);(0,l.useEffect)((()=>{u.subscriptionID===e&&u.pending||c()}),[u.subscriptionID,e,c]),(0,l.useEffect)((()=>{if("success"===s&&"pending"===P){const e="Notification contact added successfully";o((0,S.addNotification)({variant:"success",title:e,dismissable:!1}))}(m&&D||i&&P)&&!u.pending&&c()}),[c,s,a,m,i,o,u.pending,P,D,e]);const L=(0,l.useMemo)((()=>[{title:"Delete",onClick:(e,t,a,l)=>{o((0,T.clearDeleteNotificationContacts)()),d(a.userID),f||(o((0,S.addNotification)({variant:"success",title:"Notification contact deleted successfully",dismissable:!1})),(0,T.buildNotificationsMeta)("Notification contact deleted successfully",a.userID))},className:"hand-pointer"}]),[f,o,d]),N=(0,l.useMemo)((()=>{var e;return null===(e=u.contacts)||void 0===e?void 0:e.map((({username:e,email:t,firstName:a,lastName:l,userID:n})=>({cells:[e,t,a,l],userID:n})))}),[u.contacts]);return u.contacts&&u.contacts.length?n().createElement(n().Fragment,null,f&&n().createElement(E.p,null,n().createElement(b.default,{message:"Error deleting Notification Contact",response:O.error})),n().createElement(v.X,{"aria-label":"Notification Contacts",actions:L,variant:g.a.compact,cells:[{title:"Username"},{title:"Email"},{title:"First Name"},{title:"Last Name"}],rows:N,areActionsDisabled:()=>t},n().createElement(h.A,null),n().createElement(_.B,null))):null};var P=a(72583),D=a(75279),L=a(69673),N=a(15402),w=a(76792),k=a(2442),F=a(97192),M=a(11318),x=a(25982),G=a(36817),U=a(62384),H=a(74353),V=a.n(H);const B={OSD:"OpenShift Dedicated",ROSA:"Red Hat OpenShift Service on AWS",ARO:"OpenShift Managed (Azure)",OCP:"OpenShift Container Platform"},q=(e,t,a)=>{if((0,U.isRestrictedEnv)())return U.SUPPORT_CASE_URL;const l=e?B[e]:"";return`https://access.redhat.com/support/cases/#/case/new/open-case/describe-issue?clusterId=${a}&caseCreate=true&product=${encodeURIComponent(l)}&version=${"OCP"!==e?encodeURIComponent(l):t}`},j=e=>{const t=n().createElement("a",{href:`https://access.redhat.com/support/cases/#/case/${e.caseID}`,target:"_blank",rel:"noopener noreferrer"},e.caseID),a=V().utc(e.lastModifiedDate).format("D MMM YYYY"),l=n().createElement(n().Fragment,null,e.lastModifiedBy,n().createElement("br",null),a);return{cells:[t,e.summary,e.ownerID,l,e.severity,e.status],caseID:e.caseID}},z=({subscriptionID:e,isDisabled:t=!1,cluster:a})=>{var r,i;const s=null===(i=null===(r=null==a?void 0:a.subscription)||void 0===r?void 0:r.plan)||void 0===i?void 0:i.type,o=(0,U.isRestrictedEnv)(),{supportCases:c,isLoading:d,refetch:m}=((e,t)=>{var a,l;const{data:n,isLoading:r,isError:i,error:s,refetch:o}=(0,x.I)({queryKey:[G.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"supportCases","accountService",e],queryFn:async()=>await A.accountsService.getSupportCases(e),enabled:t}),u=(null===(l=null===(a=null==n?void 0:n.data)||void 0===a?void 0:a.response)||void 0===l?void 0:l.docs)||[];return{supportCases:{subscriptionID:e,cases:u.map((e=>({summary:e.case_summary,caseID:e.case_number,ownerID:e.case_owner,severity:e.case_severity,status:e.case_status,lastModifiedBy:e.case_lastModifiedByName,lastModifiedDate:e.case_lastModifiedDate})))},isLoading:r,isError:i,error:s,refetch:o}})(e,o);(0,l.useEffect)((()=>{(0,U.isRestrictedEnv)()||c.subscriptionID===e&&d||m()}),[e,c.subscriptionID]);const p=(0,l.useMemo)((()=>{var e;return null===(e=c.cases)||void 0===e?void 0:e.map(j)}),[c.cases]),f=(0,l.useMemo)((()=>p&&p.length>0),[p]),v=s!==u.normalizedProducts.OSDTRIAL&&!t;return n().createElement(n().Fragment,null,v&&n().createElement("a",{href:q(s,null==a?void 0:a.openshift_version,null==a?void 0:a.external_id),target:"_blank",rel:"noopener noreferrer","data-testid":"support-case-btn"},n().createElement(P.$n,{variant:"secondary"},"Open support case")),!(0,U.isRestrictedEnv)()&&n().createElement(n().Fragment,null,n().createElement(L.X,{variant:g.a.compact,"aria-label":"Support Cases","data-testid":"support-cases-table"},n().createElement(N.d,null,n().createElement(w.Tr,null,n().createElement(k.Th,null,"Case ID"),n().createElement(k.Th,null,"Issue summary"),n().createElement(k.Th,null,"Owner"),n().createElement(k.Th,null,"Modified by"),n().createElement(k.Th,null,"Severity"),n().createElement(k.Th,null,"Status"))),n().createElement(F.N,null,null==p?void 0:p.map((e=>n().createElement(w.Tr,null,n().createElement(M.Td,null,e.cells[0]),n().createElement(M.Td,null,e.cells[1]),n().createElement(M.Td,null,e.cells[2]),n().createElement(M.Td,null,e.cells[3]),n().createElement(M.Td,null,e.cells[4]),n().createElement(M.Td,null,e.cells[5])))))),!f&&n().createElement(E.p,{variant:E.s.sm},n().createElement(D.h,null,"You have no open support cases"))))},W=({isDisabled:e=!1,cluster:t,isAddNotificationContactSuccess:a,isAddNotificationContactPending:l,addNotificationStatus:d})=>{var m,E,g,v,h,_,S;const b=(0,r.wA)();return n().createElement(n().Fragment,null,n().createElement(i.Z,{className:"ocm-c-support-notification-contacts__card"},n().createElement(s.Z,{className:"ocm-c-support-notification-contacts__card--header"},"Notification contacts"),n().createElement(o.b,{className:"ocm-c-support-notification-contacts__card--body"},n().createElement("div",{className:"support-subtitle"},"Add users to be contacted in the event of notifications about this cluster.",n().createElement(f,{email:null===(E=null===(m=t.subscription)||void 0===m?void 0:m.creator)||void 0===E?void 0:E.email})),!e&&n().createElement(p,{canEdit:t.canEdit,openModal:e=>b((0,c.openModal)(e))}),(null===(g=t.subscription)||void 0===g?void 0:g.id)?n().createElement(O,{addNotificationStatus:d,isAddNotificationContactPending:a,isAddNotificationContactSuccess:l,subscriptionID:null===(v=t.subscription)||void 0===v?void 0:v.id,isDisabled:!t.canEdit||e}):null)),(null===(h=t.subscription)||void 0===h?void 0:h.id)&&(null===(S=null===(_=t.subscription)||void 0===_?void 0:_.plan)||void 0===S?void 0:S.type)!==u.normalizedProducts.RHOIC?n().createElement(i.Z,{className:"ocm-c-support-support-cases__card"},n().createElement(s.Z,{className:"ocm-c-support-support-cases__card--header"},"Support cases"),n().createElement(o.b,{className:"ocm-c-support-support-cases__card--body"},n().createElement(z,{subscriptionID:t.subscription.id,isDisabled:e,cluster:t}))):null)}},81586:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(93345),n=a.n(l),r=a(95376),i=a(81164),s=a(57823),o=a(39931),u=a(69304),c=a(69671),d=a(55665),m=a(381),p=a(31003),f=a(47349);const E=({numberOfIssues:e,isLoading:t})=>t?n().createElement(c.y,{size:"sm"}):n().createElement(d.E,{screenReaderText:"Pending Access Requests",isRead:void 0===e||0===e},e),g=({tabsInfo:e,onTabSelected:t,initTabOpen:a})=>{const l=(0,u.useNavigate)(),c=(0,r.useLocation)(),[d,g]=n().useState(),[v,h]=n().useState(),[_,S]=n().useState(),[b,C]=n().useState(),[y,I]=n().useState(!1),A=n().useCallback(((e,a,l=!0)=>{d&&(S(v),h(null==d?void 0:d.find((e=>e.key===a))),C((null==b?void 0:b.key)===a?null:b),I(l),d.forEach((e=>{e.ref&&e.ref.current&&(e.key!==a?e.ref.current.hidden=!0:(e.ref.current.hidden=!1,t(e.id)))})))}),[d,v,b,t]);return n().useEffect((()=>{const t=(e=>[{key:0,title:"Overview",contentId:"overviewTabContent",id:f.ClusterTabsId.OVERVIEW,show:!0,ref:e.overview.ref},{key:1,title:n().createElement(n().Fragment,null,n().createElement(o.V,null,"Monitoring"),e.monitoring.hasIssues?n().createElement(m.b,{id:"monitoring-issues-icon"},n().createElement(p.ExclamationCircleIcon,{className:"danger"})):null),contentId:"monitoringTabContent",id:f.ClusterTabsId.MONITORING,show:void 0===e.monitoring.show||e.monitoring.show,ref:e.monitoring.ref},{key:2,title:"Access control",id:f.ClusterTabsId.ACCESS_CONTROL,contentId:"accessControlTabContent",show:e.accessControl.show,ref:e.accessControl.ref},{key:3,title:"Add-ons",contentId:"addOnsTabContent",id:f.ClusterTabsId.ADD_ONS,show:e.addOns.show,ref:e.addOns.ref},{key:4,title:"Cluster history",contentId:"clusterHistoryTabContent",id:f.ClusterTabsId.CLUSTER_HISTORY,show:e.clusterHistory.show,ref:e.clusterHistory.ref},{key:5,title:"Networking",contentId:"networkingTabContent",id:f.ClusterTabsId.NETWORKING,show:e.networking.show,ref:e.networking.ref},{key:6,title:"Machine pools",contentId:"machinePoolsTabContent",id:f.ClusterTabsId.MACHINE_POOLS,show:e.machinePools.show,ref:e.machinePools.ref},{key:7,title:"Support",contentId:"supportTabContent",id:f.ClusterTabsId.SUPPORT,show:e.support.show,ref:e.support.ref},{key:8,title:"Settings",contentId:"upgradeSettingsTabContent",id:f.ClusterTabsId.UPDATE_SETTINGS,show:e.upgradeSettings.show,ref:e.upgradeSettings.ref},{key:9,title:"Add Hosts",contentId:"addHostsContent",id:f.ClusterTabsId.ADD_ASSISTED_HOSTS,show:e.addAssisted.show,ref:e.addAssisted.ref,isDisabled:e.addAssisted.isDisabled,tooltip:e.addAssisted.tooltip},{key:10,title:e.accessRequest.isLoading||void 0!==e.accessRequest.numberOfIssues?n().createElement(n().Fragment,null,n().createElement(m.b,{style:{paddingRight:"10px"}},n().createElement(E,{numberOfIssues:e.accessRequest.numberOfIssues,isLoading:e.accessRequest.isLoading})),n().createElement(o.V,null,"Access Requests")):n().createElement(o.V,null,"Access Requests"),contentId:"accessRequestContent",id:f.ClusterTabsId.ACCESS_REQUEST,show:e.accessRequest.show,ref:e.accessRequest.ref,isDisabled:e.accessRequest.isDisabled,tooltip:e.accessRequest.tooltip}])(e);g(t),C(((e,t)=>{var a;return null!==(a=e.find((e=>e.id===t)))&&void 0!==a?a:e[0]})(t,a))}),[a]),n().useEffect((()=>{(null==d?void 0:d.length)&&(null===b||!(null==b?void 0:b.isDisabled)&&(null==b?void 0:b.show)||(C(d[0]),A(void 0,0)))}),[d,b,A]),n().useEffect((()=>{if(null==d?void 0:d.length){const e=d.find((e=>`#${e.id}`===c.hash));(null==e?void 0:e.show)&&!e.isDisabled||(""===c.hash?l("/cluster-list",{replace:!0}):(C(d[0]),l({hash:`#${d[0].id}`},{replace:!0}))),A(void 0,(null==e?void 0:e.isDisabled)||!(null==e?void 0:e.show)?0:e.key,!1)}}),[c.hash]),n().useEffect((()=>{v&&!v.show?(A(void 0,0),e.overview.ref.current.hidden=!1):(null==b?void 0:b.show)&&!(null==b?void 0:b.isDisabled)&&A(void 0,b.key)}),[v,b,A]),n().useEffect((()=>{null===b&&y&&(null==_?void 0:_.key)!==(null==v?void 0:v.key)&&l({hash:`#${null==v?void 0:v.id}`})}),[v,b,y,_,l]),d&&v?n().createElement(i.t,{activeKey:v.key,onSelect:A},d.filter((e=>e.show)).map((e=>n().createElement(s.o,{key:e.key,eventKey:e.key,title:n().createElement(o.V,null,e.title),tabContentId:e.contentId,id:`${e.title}`,ouiaId:`${e.title}`,isAriaDisabled:!!e.isDisabled,tooltip:e.tooltip})))):null}},47349:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{ClusterTabsId:()=>l}),function(e){e.OVERVIEW="overview",e.MONITORING="monitoring",e.ACCESS_CONTROL="accessControl",e.ADD_ONS="addOns",e.CLUSTER_HISTORY="clusterHistory",e.NETWORKING="networking",e.MACHINE_POOLS="machinePools",e.SUPPORT="support",e.UPDATE_SETTINGS="updateSettings",e.ADD_ASSISTED_HOSTS="addAssistedHosts",e.ACCESS_REQUEST="accessRequest"}(l||(l={}))},62786:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var l=a(93345),n=a.n(l),r=a(71468),i=a(95376),s=a(69671),o=a(69304),u=a(99047),c=a(25982),d=a(90020),m=a(96678),p=a(9059),f=a(71299);const E=()=>{const e=(0,i.useParams)(),t=(0,i.useLocation)(),a=(0,r.wA)(),{subscriptionID:l,error:E,isError:g,isFetched:v}=(e=>{var t,a,l;const{data:n,isLoading:r,isError:i,error:s,isFetched:o}=(0,c.I)({queryKey:["accountService","getSubscription","clusterId",e],queryFn:async()=>{let t;return t=(0,u.A)(e)?await d.accountsService.fetchSubscriptionByExternalId(e):await d.accountsService.fetchSubscriptionByClusterId(e),null==t?void 0:t.data}});return{subscriptionID:null===(a=null===(t=null==n?void 0:n.items)||void 0===t?void 0:t[0])||void 0===a?void 0:a.id,isLoading:r,isError:i,isFetched:o,error:null===(l=(0,m.formatErrorData)(r,i,s))||void 0===l?void 0:l.error}})((null==e?void 0:e.id)||"");return g?n().createElement(f.default,{message:"Error retrieving cluster details",response:E}):v?l?n().createElement(o.Navigate,{replace:!0,to:`/details/s/${l}${t.hash}`}):(a((0,p.setGlobalError)(`Cluster with ID ${e.id} was not found, it might have been deleted or you don't have permission to see it.`,"clusterDetails","")),n().createElement(o.Navigate,{replace:!0,to:"/cluster-list"})):n().createElement("div",{className:"pf-v5-u-text-align-center"},n().createElement(s.y,null))}},25115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(93345),n=a.n(l),r=a(74225),i=a(71776),s=a(23874),o=a(75797),u=a(55647),c=a(17661),d=a(17957),m=a(76774),p=a(62913),f=a(69304),E=a(10135),g=a(75166);const v=e=>{const t=(0,f.useNavigate)(),[a,v]=(0,l.useState)(!1),{currentFilters:h,setFilter:_,isDisabled:S}=e,b=[{key:"plan_id",label:"Cluster type",options:g.productFilterOptions}],C=(0,l.useRef)(null),y=n().createElement(r.W,{ref:C},n().createElement(i.r,null,b.map((e=>{const a={},l=h[e.key]||[];return l.forEach((e=>{a[e]=!0})),n().createElement(s.r,{label:e.label,key:`filtergroup-${e.key}`},n().createElement(o.c,null,e.options.map((r=>n().createElement(u.D,{hasCheckbox:!0,itemId:r.key,key:r.key,isSelected:a[r.key],"data-testid":"cluster-type-".concat(r.label),onClick:()=>{var a;a={...h,[e.key]:[...l.filter((e=>e!==r.key)),...l.includes(r.key)?[]:[r.key]]},t({search:(0,E.buildFilterURLParams)(a)},{replace:!0}),_(a)}},r.label)))))})))),I=(0,l.useRef)(null),A=n().createElement(c.S,{ref:I,icon:n().createElement(d.I,null,n().createElement(p.YG,null)),onClick:()=>v(!a),isExpanded:a,isDisabled:S},"Cluster type");return n().createElement(m.$,{isOpen:a,onOpenChange:e=>v(e),onOpenChangeKeys:["Escape"],menu:y,menuRef:C,toggle:A,toggleRef:I})}},20230:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PaginationRow:()=>i});var l=a(93345),n=a.n(l),r=a(91289);const i=({currentPage:e,pageSize:t,itemCount:a,itemsStart:l,itemsEnd:i,onPageChange:s,onPerPageSelect:o,variant:u,isDisabled:c})=>n().createElement(r.d,{"data-testid":"page_drop_down",page:e,perPage:t,itemCount:a,itemsStart:l,itemsEnd:i,onPreviousClick:s,onNextClick:s,onPerPageSelect:o,onPageInput:s,variant:u,dropDirection:"bottom"===u?"up":"down",isCompact:"bottom"!==u,isDisabled:c,onFirstClick:s,onLastClick:s})},29015:(e,t,a)=>{"use strict";a.r(t),a.d(t,{RefreshButton:()=>o});var l=a(93345),n=a.n(l),r=a(47144),i=a(72583),s=a(2923);const o=({classOptions:e,refreshFunc:t,isDisabled:a})=>n().createElement(r.m,{position:r.Z.bottom,content:"Refresh"},n().createElement(i.$n,{variant:"plain","aria-label":"Refresh",className:e,onClick:t,isAriaDisabled:a},n().createElement(s.RedoIcon,null)))},76884:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ManagedServicesTable:()=>P});var l=a(93345),n=a.n(l),r=a(72583),i=a(90678),s=a(73113),o=a(69673),u=a(15402),c=a(76792),d=a(2442),m=a(97192),p=a(11318),f=a(94935),E=a(69304),g=a(87413),v=a(71902),h=a(47441),_=a(17661);const S="/create/rosa/getstarted",b=e=>n().createElement(E.Link,{...e,to:S}),C=({toggleId:e})=>{const[t,a]=n().useState(!1),i=(0,l.useRef)(null),s=n().useRef(null),o=n().createElement(g.Q,null,n().createElement(v.t,{key:"action",component:e=>n().createElement(E.Link,{...e,id:"with-cli",to:S},"With CLI")}),n().createElement(v.t,{key:"wizard",component:e=>n().createElement(E.Link,{...e,id:"with-web",to:"/create/rosa/wizard"},"With web interface")}));return n().createElement(n().Fragment,null,n().createElement(h.m,{ref:s,isOpen:t,onSelect:()=>{var e;a(!1),null===(e=s.current)||void 0===e||e.focus()},onOpenChange:e=>a(e),popperProps:{appendTo:()=>document.body},toggle:{toggleRef:i,toggleNode:n().createElement(_.S,{id:e,ref:i,onClick:()=>{var e;a(!t),null===(e=s.current)||void 0===e||e.focus()},isExpanded:t,variant:r.Ak.primary,className:"create-button","data-testid":"rosa-create-cluster-button"},"Create cluster")}},o),n().createElement("br",null),n().createElement(r.$n,{variant:"link",className:"create-button",component:b},"Prerequisites"))};var y=a(7167),I=a(8888),A=a(62384),R=a(63995),T=a(24074),O=a(54044);const P=e=>{const{hasOSDQuota:t=!1,isTrialEnabled:a=!1}=e,[g,v]=(0,l.useState)([]),h=e=>g.includes(e),_="Offerings",S="Purchased through",b="Details",P="Get started",D={key:"osdTrial",logo:n().createElement("img",{className:"partner-logo",src:T,alt:"OSD"}),offerings:n().createElement(I.default,{href:y.A.OSD_LEARN_MORE,noIcon:!0},"Red Hat OpenShift Dedicated Trial"),purchasedThrough:"Red Hat",details:"Available on AWS and GCP",action:n().createElement(r.$n,{className:"create-button",variant:r.Ak.primary,component:e=>n().createElement(E.Link,{...e,id:"create-trial-cluster",to:"/create/osdtrial?trial=osd","data-testid":"osd-create-trial-cluster",role:"button"})},"Create trial cluster"),expandedSection:null},L={key:"osd",logo:n().createElement("img",{className:"partner-logo",src:T,alt:"OSD"}),offerings:n().createElement(I.default,{href:y.A.OSD_LEARN_MORE,noIcon:!0},"Red Hat OpenShift Dedicated"),purchasedThrough:"Red Hat",details:"Available on AWS and GCP",action:t?n().createElement(r.$n,{className:"create-button",variant:r.Ak.primary,component:e=>n().createElement(E.Link,{...e,id:"create-cluster",to:"/create/osd","data-testid":"osd-create-cluster-button"})},"Create cluster"):n().createElement(I.default,{href:y.A.OSD_LEARN_MORE,isButton:!0,variant:r.Ak.secondary,className:"create-button",noIcon:!0},n().createElement("span",null,"Learn more")),expandedSection:{content:n().createElement(i.B,{hasGutter:!0},n().createElement(s.a,null,"A complete OpenShift cluster provided as a fully-managed cloud service dedicated to a single customer.",n().createElement("br",null),"Reduce operational complexity and focus on building and scaling applications that add more value to your business.",n().createElement("br",null),"Hosted on Amazon Web Services (AWS) and Google Cloud."),n().createElement(s.a,null,n().createElement(I.default,{href:y.A.OSD_LEARN_MORE},"Learn more about Red Hat OpenShift Dedicated")))}},N={key:"azure",logo:n().createElement("img",{className:"partner-logo",src:O,alt:"Microsoft"}),offerings:n().createElement(I.default,{href:y.A.AZURE,noIcon:!0},"Azure Red Hat OpenShift"),purchasedThrough:"Microsoft Azure",details:"Flexible hourly billing",action:n().createElement(I.default,{isButton:!0,noIcon:!0,variant:r.Ak.secondary,href:y.A.AZURE,className:"create-button"},"Try it on Azure"),expandedSection:{content:n().createElement(i.B,{hasGutter:!0},n().createElement(s.a,null,"A flexible, self-service deployment of OpenShift clusters provided as a fully-managed cloud service by Microsoft and Red Hat.",n().createElement("br",null),"Hosted on Microsoft Azure."),n().createElement(s.a,null,n().createElement(I.default,{href:y.A.AZURE},"Learn more about Azure Red Hat OpenShift")))}},w={key:"ibm",logo:n().createElement("img",{className:"partner-logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAALXklEQVR42u1af3CV5ZV+nvN9Nzc3NxBCyA9CCAmERhpFMRaqqa601e5SVzu7SqUzutUK2F3tVqd23dnZNtPVdq3TdrfVdixStzpMZ0Drdmf9QXdsKf7oikS7rNEAkUAgISU/biDc5N7c7z1n/7gBDRAgcJNsnDx/5E7e733P957nO+855z3vC0xhClOYwhQmAGZS17L741fu2bN4IqfBiXrxVbv3XGuwzaRBnCvcUl3dNRHz8CfMAJyLGAUgkQTCEzUPmagXO+fDlDCd2JV4zgRcsrWtrva11s+dlxUoYEoAOec0/iYz71MdO29e3tZUPa4ELN7cEQXsN+r47JKXW28/NxMAcJ4W0H1g1z/C8RdCPjuuBOy4trifirdNCZh8d+nrBwrORX8zwIzAwDk40f3vLTTj/aaAOdk5vkuANKf212ZUUxQkE/bQ6M1f3DEfIGo26okH+qgpw6bsD5y7d9x9wI5Pzn1dletMCShvv+Q3bXWjGe/1y2um2G7K519dMrdjVF+/ufnzprzGFIDhwa0VF7RMSB5w0cv78jnoN4EoIu1tf1rHpQ2XXZYaS69d19Q0zZPQu6DNAbErarb4hYULkxMSBv/3ynkxqNyXNmVeGByefeeYZ270v6mGOWY0Aneej/IZyQN2fLrkKVW+ZEo4s5KxT6A435RQw89/V1X124nPBEnzNnfc4GhL0HN425m6X/1b8+PSPtt8l0cgYtQAoVC/kd0NtbO7QZ7WIQYh/aKX8v4lq731tUmxF6h+pXNaOJX8DIA6IS6GoIyEAy0JIkkiQVgCRBzEYRHbReG7cPLOvH1z3tu0km5SboYu3Nx2BT1+GcA1pPGYsqAlSSRBJIWWVEFcaP2gxAGNC6yflDjExY2I+fQavUT8nVc/cUHfpCDggv9sr/U8PgRiGWlJkkkQ/aC9SurrBmmkL/udSmf2tNZkIhIhDhVm+eFkHlRnePSKIVoowlzA+iGI0ywuIWk9mnVkX2NNzWDGCah4IlZB0cdBNpkLHth7W1HHaAWVbdwfyY2E/pnEHUKkjJYg0WhiP8vKSj73h+WVvaORV7u9PQfJYLZ5Ugi4lE8XiC+DfogdryyeFzsXZa9ubr5QBV8jcKSocsE9m0hHACj/WeyvSPs30MD0WvxeNNs93Liy6OjZCF709KGF6tszJCqHTHwXYA+8e13JC2dyamdROOHSbW0zaTYz8E2BVMpz4fi2pXN6zlb21bt3lwVOvkXBraB5JAzAvK1VVfsJADUbLavvaO/9ELuPQO4QEX804bdmxfPXNazliMlN9TN/rDNwI4gc0gYg9mMX6nu4ecX5xedTVZCWbmvLN6ZCtFAqnpuVbPxoYfx0JNRufy8vOyL3g/a3ICKkAUSbCP5u68IFG07yAZXrjharDH7DBKtJhIaI2GXEbftuKTgp7FRt7L4c0GdJ843o9o1rm24q3DKWXrvq+d3hcCQvVIh40Det242UeS77w55bRPgDEAVDih+m2EOJeORfGy4r7T+tE5zz086PeCH/24D9BQmK2HMttxZcN4yspzqrxcevQYRJdNC4avfNs94dr3pibUODN39PrW66CXoqK1j21t52ErNBGyTxYxcKPbBtUVn3qKLAnHXdHxdPbvQNT7V8Kf9/jrUXP9kRzRFvM4UVgHWLL6uaVxa8M85FVZ7O/Je9sXeFeXYVPD627eKKloyGwYqfd30H5BdIDMDD3S1fKPivMVe43qT20wfL1AUVoFdq0Gkebbp54kg7CnEHQ2qN/3155d4xzQMq18cuVs+eBi0F2oZ9t856cCz1XvLr1tLA5yUwuUgEMwiLgIiYIOIR2SoWESAy5IRngOgj7QUKnnzjY/P2ZJyAuetjj5O2FET7QDS4sfMsQ+VoUfPi/pkw72MgyukjQlqEQDYJgyAG2iDIkJiFQauAYD4FBQBmkDaDRBTksyGHv//9FXPbMkLAvHVdixy8DSSThPt+6x0Fm8ZibV/03KHKwNMLxJBDsYjRUibYSaf7Gj9TFjvl2jfjkpdbF8HjnxL8SxJVoM0gLQnKPduXzV1/3gSUPtZ7H2k3EOjKTsz4fPNXmNlYv9G8mnBnZQArFg8REdPA95p2XjPr4GgSqqrnd4fz8sK3G+TrpJaB8EFbN7+1/Msnbq5kNE4IyjoL2GeOL2RceTNWh7uKk+ayqJIQx72FkeKtO68tbB9tNtm8YmGyoa78JwH8Zeb4kikVytV75h54cHT1gHrzq2bCay5BUHjwyHx1IMmYOPdapi2/+j+6ciWAGSShWalDTX9eet5HZTvqSg7VNDZenxWb/ijAcgB3Xfr71iNvXl7+7dNbQL1llfwgVlGanyjt7o9lV8QR8oCFUPaaQ0+25e/KdHaXSnoiLitJXzp3ZUD5Y2isqRl8q65srRmyTRGF8p8ufaX1yhEJKH64r6goO75cU96cpAbRnFzf3zsIp4p8U/YCbMmo+deb9LuoFwo79RIDyZ03FGZ+30+qqLtZVTpMIQQfr92+PXQSAXnfTSxIBfI5heU7SkRSjLXdNb0ba5kyMGyKXihbMzm3q/8EktWV1N7DTnfsKR7AGKHhqoqDEuhdpoQqP+IGilYPIyC3vq/IS7lbTC3PgX7Kc292fj33eF2ATlKq7DXHnkxObEsnLBqt0EVzi5Oo55gelb61vOyXZrLNFIDKPTCTNAGPWcijd68qZ8K8UJDQF4/cmzdMUecsTkUMcPGMzuomaCPgtixnMObpNGlQ/d7QiVTVpVvalvoAMK1t4DqIVJuzHhPd3Fc//WQnpOhVoQJ+MuOTsvE7JI8nIi/mhBODALOc4M8EaywEk9VOLWrA/sPfiDacaqBT9lC116V0cEy+zDiheUXBEShfHbKCpZJbEFxhikqqRAPn/WqkgWLSnVI5gg8BTNE8dKpcJU71OlNGTS3obwrtGHFUEDnsOU2KhlL4oYUnMwFqPJi2ACsQMS41IKrA29g08iFED3DUMZQI1JKzBpA1qS3AQU0BM6GootQco1B2nz5hoTovdSQVuGRKD/uTewmw3JQwZz1ixvdM8aY5dp5p4NHB3D4PbjAkeQHqTSYzAVDAjC1iilJTXm4mNWdOW5nIxfRE1wEMYgJvmJ0PFm/uiJrhCjNCjQ2iyo60R7TysxHQDiRQkL7iNBkJSPbJZ02Zk84G9UWfam8YeQ2Iq7DGcvBT9p/JF6SvN41f7M5wBFgDNYBs25Uq2SoW+L8cSgqiWRH32bPMXCal8lW/6LzeFJ9K32vCo1hJJ6mf4E0YdpoRqqxHvU1qDz8S5m/syVPj99OXM9EeMvxoaDdIM5X7hx581O/Sr37YlK99zEI2aE+bYkH6biPvOnbwe7woyjv1JSE+CZoD7Xr3qP/8h0H5qh9aODW95wkSq0CA5CMtt8y8+6SKkIGrTNFiSg8qG72/CVZOduUrnohVDOb2vGLGVWaEKf+9JZw/zMKHl8XvsEUU+x2JQhBG2iNuUOqxPrNFkLHGrPWd0yKB9xUTfo3EjPSXtycLU/l3nHjUf/K5wBorp+IZiF1GAkMXlx6hJ8+kfsS3/t9qXW9+SUHvJ8TjChC3kZg1pHgMsLsPrJm54ZTx7JTCvmjZCOEfSHwVtNwhIkBaO2jNAu4HLQ4BRIZLogAQPd4mUIzcLx1NZahN5AOLkpru6qerMWlZGCaLwhCoRUbOFlgVaNPfnyuSoG2g777ZtrrgwIgB/bSs3mlFcLiXtBtBLGBaMIYuThwj5dgLT2gfud+Iz2Q0Mj743mH/N1Lwq1TIe6RrbfTgGTOaszaxL9lM+IMlYFYugBxfkD3suZ8u6XnH/xxr/8CPd4JM3w3rd/zxCf18/wPlQu/9H2dwnqcD5nn9lKAvlD29rX3tGTLZKUxhClOYwvv4P3jAdNqPaWaOAAAAAElFTkSuQmCC",alt:"IBM Cloud"}),offerings:n().createElement(I.default,{href:y.A.IBM_CLOUD_LEARN_MORE,noIcon:!0},"Red Hat OpenShift on IBM Cloud"),purchasedThrough:"IBM",details:"Flexible hourly billing",action:n().createElement(I.default,{isButton:!0,noIcon:!0,href:y.A.IBM_CLOUD,variant:r.Ak.secondary,className:"create-button"},"Try it on IBM"),expandedSection:{content:n().createElement(i.B,{hasGutter:!0},n().createElement(s.a,null,"A preconfigured OpenShift environment provided as a fully-managed cloud service at enterprise scale.",n().createElement("br",null),"Hosted on IBM Cloud."),n().createElement(s.a,null,n().createElement(I.default,{href:y.A.IBM_CLOUD_LEARN_MORE},"Learn more about Red Hat OpenShift on IBM Cloud")))}},k={key:"rosa",logo:n().createElement("img",{className:"partner-logo",src:R,alt:"AWS"}),offerings:n().createElement(I.default,{noIcon:!0,href:y.A.AWS},"Red Hat OpenShift Service on AWS (ROSA)"),purchasedThrough:"Amazon Web Services",details:"Flexible hourly billing",action:n().createElement(C,{toggleId:"rosa-create-cluster-dropdown"}),expandedSection:{content:n().createElement(i.B,{hasGutter:!0},n().createElement(s.a,null,"Build, deploy, and manage Kubernetes applications with Red Hat OpenShift running natively on AWS.",n().createElement("br",null),"Hosted on AWS."),n().createElement(s.a,null,n().createElement(I.default,{href:y.A.AWS},"Learn more about Red Hat OpenShift Service on AWS")))}},F=[];return(0,A.isRestrictedEnv)()||(a&&F.push(D),F.push(L,N,w)),F.push(k),n().createElement(o.X,{"aria-label":"Managed services"},n().createElement(u.d,null,n().createElement(c.Tr,null,n().createElement(d.Th,{screenReaderText:"Row expansion"}),n().createElement(d.Th,{width:10,screenReaderText:"Logo"}),n().createElement(d.Th,{width:25},_),n().createElement(d.Th,{width:20},S),n().createElement(d.Th,{width:20,screenReaderText:b}),n().createElement(d.Th,null,P))),F.map(((e,t)=>n().createElement(m.N,{key:e.key,isExpanded:h(e.key)},n().createElement(c.Tr,{key:"content-row"},n().createElement(p.Td,{expand:e.expandedSection?{rowIndex:t,isExpanded:h(e.key),onToggle:()=>((e,t=!0)=>v((a=>{const l=a.filter((t=>t!==e));return t?[...l,e]:l})))(e.key,!h(e.key)),expandId:e.key}:void 0}),n().createElement(p.Td,{dataLabel:"Logo"},e.logo),n().createElement(p.Td,{dataLabel:_},e.offerings),n().createElement(p.Td,{dataLabel:S},e.purchasedThrough),n().createElement(p.Td,{dataLabel:b},e.details),n().createElement(p.Td,{dataLabel:P},e.action)),e.expandedSection&&n().createElement(c.Tr,{key:"expandable-row",isExpanded:h(e.key)},n().createElement(p.Td,{dataLabel:"Description",colSpan:6},n().createElement(f.g,null,e.expandedSection.content)))))))}},54830:(e,t,a)=>{"use strict";a.r(t),a.d(t,{RunItYourselfTable:()=>p});var l=a(93345),n=a.n(l),r=a(69673),i=a(15402),s=a(76792),o=a(2442),u=a(97192),c=a(11318),d=a(69304),m=a(65411);const p=()=>{const e="Cloud provider",t="Installation options",a=[{key:"alibaba",provider:n().createElement(n().Fragment,null,n().createElement(d.Link,{to:"/install/alibaba",className:"pf-v5-u-mr-xs"},"Alibaba Cloud"),n().createElement(m.A,{className:"pf-v5-u-ml-md pf-v5-u-display-inline"})),options:"Pre-existing infrastructure"},{key:"aws_x86_64",provider:n().createElement(d.Link,{to:"/install/aws"},"AWS (x86_64)"),options:"Full stack automation and pre-existing infrastructure"},{key:"aws_arm",provider:n().createElement(d.Link,{to:"/install/aws/arm"},"AWS (ARM)"),options:"Full stack automation and pre-existing infrastructure"},{key:"aws_multi",provider:n().createElement(d.Link,{to:"/install/aws/multi/installer-provisioned"},"AWS (multi-architecture)"),options:"Full stack automation"},{key:"azure_x86_64",provider:n().createElement(d.Link,{to:"/install/azure"},"Azure (x86_64)"),options:"Full stack automation and pre-existing infrastructure"},{key:"azure_arm",provider:n().createElement(d.Link,{to:"/install/azure/arm/installer-provisioned"},"Azure (ARM)"),options:"Full stack automation"},{key:"azure_multi",provider:n().createElement(d.Link,{to:"/install/azure/multi/installer-provisioned",className:"pf-v5-u-mr-xs"},"Azure (multi-architecture)"),options:"Full stack automation"},{key:"google",provider:n().createElement(d.Link,{to:"/install/gcp"},"Google Cloud"),options:"Full stack automation and pre-existing infrastructure"},{key:"ibm",provider:n().createElement(d.Link,{to:"/install/ibm-cloud"},"IBM Cloud"),options:"Full stack automation"},{key:"baremetal",provider:n().createElement(d.Link,{to:"/install/metal/multi"}," Baremetal (multi-architecture)"),options:"Pre-existing infrastructure"},{key:"ibm_powervs",provider:n().createElement(d.Link,{to:"/install/powervs/installer-provisioned"},"IBM PowerVS (ppc64le)"),options:"Full stack automation"},{key:"agnostic",provider:n().createElement(d.Link,{to:"/install/platform-agnostic"},"Platform agnostic (x86_64)"),options:"Pre-existing infrastructure"},{key:"oracle",provider:n().createElement(d.Link,{to:"/install/oracle-cloud"},"Oracle Cloud Infrastructure (virtual machines)"),options:"Pre-existing infrastructure"}];return n().createElement(r.X,{"aria-label":"Run it yourself"},n().createElement(i.d,null,n().createElement(s.Tr,null,n().createElement(o.Th,null,e),n().createElement(o.Th,null,t))),n().createElement(u.N,null,a.map((a=>n().createElement(s.Tr,{key:a.key},n().createElement(c.Td,{dataLabel:e},a.provider),n().createElement(c.Td,{dataLabel:t},a.options))))))}},62718:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(93345),n=a.n(l),r=a(71468),i=a(20491),s=a(95732),o=a(25514),u=a(55816),c=a(28592),d=a(91089),m=a(43775);const p=({onClose:e})=>{const t=(0,o.useGlobalState)((e=>e.modal.data)),a=(null==t?void 0:t.subscriptionID)||"",l=(null==t?void 0:t.name)||"",m=!!(null==t?void 0:t.shouldDisplayClusterName),p=(0,r.wA)(),f=()=>{p((0,d.closeModal)())},{isSuccess:E,error:g,isError:v,isPending:h,mutate:_,reset:S}=(0,s._)();E&&(S(),e(),f());const b=()=>{S(),f()},C=()=>_({subscriptionID:a,displayName:l});return n().createElement(c.default,{title:"Archive cluster",secondaryTitle:m?l:void 0,"data-testid":"archive-cluster-dialog",onClose:b,primaryText:"Archive cluster",onPrimaryClick:()=>{C()},isPending:h,onSecondaryClick:b},n().createElement(n().Fragment,null,v?n().createElement(u.default,{message:"Error archiving cluster",response:g||{}}):null,n().createElement(i.l,{onSubmit:()=>C()},n().createElement("p",null,"Archiving a cluster will remove it from the cluster list and remove the cluster from subscription management."),n().createElement("p",null,"This action will not delete the cluster, only remove it from OpenShift Cluster Manager. ",n().createElement("a",{href:"https://access.redhat.com/articles/4397891",target:"_blank",rel:"noreferrer noopener"},"Instructions")," for deleting a cluster may be found in the knowledge base."))))};p.modalName=m.default.ARCHIVE_CLUSTER;const f=p},2333:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(71468),i=a(23285),s=a(27241),o=a(25514);const u=({view:e,isDisabled:t})=>{const a=n().useRef(null),l=(0,r.wA)(),[u,c]=n().useState(""),[d,m]=n().useState(void 0),p=(0,o.useGlobalState)((t=>t.viewOptions[e].filter));return n().useLayoutEffect((()=>{var e;!t&&p&&(null===(e=a.current)||void 0===e||e.focus())}),[t,p]),n().useEffect((()=>{p&&c(p)}),[]),n().createElement(i.ks,{type:"text","aria-label":"Filter",className:"cluster-list-filter",ref:a,value:u,placeholder:"Filter by name or ID...","data-testid":"filterInputClusterList",onChange:(t,a)=>{return n=a.trim(),void 0!==d&&clearTimeout(d),m(setTimeout((()=>l((0,s.onListFilterSet)(n,e))),300)),void c(n);var n},isDisabled:t})}},15136:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterListFilterHook:()=>i});var l=a(93345),n=a(10135),r=a(69304);const i=e=>{const[t,a]=l.useState(),i=(0,r.useNavigate)();l.useEffect((()=>{e&&JSON.stringify(null!=e?e:{})!==JSON.stringify(null!=t?t:{})&&(i({search:(0,n.buildFilterURLParams)(e)},{replace:!0}),a(e))}),[e,t,i])}},49422:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterLocationLabel:()=>i,default:()=>s});var l=a(93345),n=a.n(l),r=a(57189);const i=({regionID:e,cloudProviderID:t})=>{var a;const{data:l}=(0,r.useFetchCloudProviders)();return n().createElement(n().Fragment,null,(null===(a=null==l?void 0:l[t])||void 0===a?void 0:a.display_name)?null==l?void 0:l[t].display_name:t.toUpperCase(),"N/A"!==e&&` (${e})`)},s=i},30535:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var l=a(93345),n=a.n(l),r=a(17957),i=a(69671),s=a(16161),o=a(83340),u=a(19202),c=a(19598),d=a(31003),m=a(73690),p=a(21888),f=a(74972),E=a(48266),g=a(48525),v=a(44027),h=a(23271);const _=({clusterState:e,animated:t=!1,limitedSupport:a})=>{const l={className:"clusterstate",size:"md"};if(a&&e!==h.default.ERROR)return n().createElement(r.I,{...l},n().createElement(d.ExclamationCircleIcon,{color:g.global_danger_color_100.value,"data-icon-type":"limited-support"}));switch(e){case h.default.WAITING:case h.default.PENDING:case h.default.INSTALLING:case h.default.VALIDATING:case h.default.UPDATING:case h.default.POWERING_DOWN:case h.default.RESUMING:return t?n().createElement(i.y,{...l,size:i.J.md}):n().createElement(r.I,{...l},n().createElement(p.InProgressIcon,{"data-icon-type":"inprogress"}));case h.default.DISCONNECTED:return n().createElement(r.I,{...l},n().createElement(c.tt,null));case h.default.READY:return n().createElement(r.I,{...l},n().createElement(u.CheckCircleIcon,{color:v.global_success_color_100.value,"data-icon-type":"check"}));case h.default.UNINSTALLING:return t?n().createElement(i.y,{...l,size:i.J.md}):n().createElement(r.I,{...l},n().createElement(p.InProgressIcon,{"data-icon-type":"inprogress"}));case h.default.ERROR:return n().createElement(r.I,{...l},n().createElement(d.ExclamationCircleIcon,{color:g.global_danger_color_100.value,"data-icon-type":"exclamation"}));case h.default.DEPROVISIONED:return n().createElement(r.I,{...l},n().createElement(o.tP,{"data-icon-type":"deprovisioned"}));case h.default.ARCHIVED:return n().createElement(r.I,{...l},n().createElement(m.uG,{"data-icon-type":"archived"}));case h.default.HIBERNATING:return n().createElement(r.I,{...l},n().createElement(s.AsleepIcon,null));case h.default.STALE:return n().createElement(r.I,{...l},n().createElement(f.gO,null));default:return n().createElement(r.I,{...l},n().createElement(E.UnknownIcon,{"data-icon-type":"unknown"}))}}},10501:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(72432);const i=({clusterStatus:e,showErrorCode:t,showDescription:a})=>{const{description:l,provision_error_code:i,provision_error_message:s}=e,o=[t&&i,s,a&&l].filter(Boolean).join(" ");return n().createElement(r.A,null,o)}},28073:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(93345),n=a.n(l),r=a(71468),i=a(96998),s=a(20491),o=a(23285),u=a(91089),c=a(82309),d=a(16236),m=a(96678),p=a(25514),f=a(55816),E=a(28592),g=a(43775);const v=({onClose:e,textContent:t,title:a})=>{const[l,g]=n().useState(""),v=(0,p.useGlobalState)((e=>e.modal.data)),{clusterID:h,clusterName:_,shouldDisplayClusterName:S,region:b}=v,C=(0,r.wA)(),y=()=>{C((0,u.closeModal)())},{isSuccess:I,error:A,isError:R,isPending:T,mutate:O,reset:P}=(()=>{const{isSuccess:e,error:t,isError:a,isPending:l,mutate:n,reset:r}=(0,c.n)({mutationKey:["clusterService","delete_cluster"],mutationFn:({clusterID:e,region:t})=>t?(0,d.getClusterServiceForRegion)(t).deleteCluster(e):d.default.deleteCluster(e)}),i=(0,m.formatErrorData)(l,a,t);return{isSuccess:e,error:null==i?void 0:i.error,isError:a,isPending:l,mutate:n,reset:r}})(),D=A;I&&(P(),e(!0),y());const L=()=>{P(),y()},N=R&&n().createElement(f.default,{message:"Error deleting cluster",response:{errorMessage:D.errorMessage}}),w=l===_,k=()=>{w&&!T&&O({clusterID:h,region:b})};return n().createElement(E.default,{title:a||"Delete cluster",secondaryTitle:S?_:void 0,onClose:L,primaryText:"Delete",onPrimaryClick:()=>{k()},onSecondaryClick:L,isPrimaryDisabled:!w||T,isPending:T,primaryVariant:"danger","data-testid":"delete-cluster-dialog"},n().createElement(i.s,{direction:{default:"column"}},N,n().createElement("p",null,t||"This action cannot be undone. It will uninstall the cluster, and all data will be deleted."),n().createElement("p",null,"Confirm deletion by typing ",n().createElement("strong",null,_)," below:"),n().createElement(s.l,{onSubmit:()=>k()},n().createElement(o.ks,{type:"text",value:l,placeholder:"Enter name",onChange:(e,t)=>g(t),"aria-label":"cluster name"}))))};v.modalName=g.default.DELETE_CLUSTER;const h=v},8099:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(93345),n=a.n(l),r=a(71468),i=a(96998),s=a(82309),o=a(16236),u=a(96678),c=a(25514),d=a(55816),m=a(28592),p=a(91089),f=a(43775);const E=({onClose:e})=>{const{mutate:t,isSuccess:a,isPending:f,error:E,isError:g}=(()=>{var e;const{data:t,isPending:a,isError:l,error:n,isSuccess:r,mutate:i,reset:c}=(0,s.n)({mutationKey:["updateDeleteProtection"],mutationFn:async({clusterID:e,region:t,isProtected:a})=>{const l=(0,o.getClusterServiceForRegion)(t);return await l.updateDeleteProtection(e,a)}});return{data:t,isPending:a,isError:l,error:l&&n?null===(e=(0,u.formatErrorData)(a,l,n))||void 0===e?void 0:e.error:null,mutate:i,isSuccess:r,reset:c}})(),v=(0,r.wA)(),h=(0,c.useGlobalState)((e=>e.modal.data)),{clusterID:_,protectionEnabled:S,region:b}=h,C=(0,l.useCallback)((()=>{v((0,p.closeModal)())}),[v]);return(0,l.useEffect)((()=>{a&&(e(),C())}),[C,a,e]),n().createElement(m.default,{title:(S?"Disable":"Enable")+" deletion protection",onClose:C,primaryText:S?"Disable":"Enable",primaryVariant:S?"danger":"primary",onPrimaryClick:()=>{t({clusterID:_,region:b,isProtected:!S})},onSecondaryClick:C,"data-testid":"delete-protection-dialog",titleIconVariant:"warning",isPending:f},n().createElement(i.s,{direction:{default:"column"}},g?n().createElement(d.default,{message:`Error ${S?"disabling":"enabling"} Delete Protection`,response:E||{}}):null,n().createElement("p",null,S?"Disabling the Deletion Protection will allow you to delete this cluster. Cluster deletion can result in data loss or service disruption.":"The cluster cannot be deleted if the Deletion Protection is enabled to safeguard from accidental deletion. You can disable the Deletion Protection at any time."),n().createElement("br",null),n().createElement("p",null,n().createElement("b",null,(S?"Disable":"Enable")+" Deletion Protection for this cluster?"))))};E.modalName=f.default.DELETE_PROTECTION;const g=E},25670:(e,t,a)=>{"use strict";a.d(t,{_z:()=>i,gf:()=>r});var l=a(93345),n=a.n(l);a(55213);const r='Format should be a comma-separated list of "<gpu_type>:<min>:<max>"',i=n().createElement(n().Fragment,null,'Minimum and maximum number of different GPUs in cluster. Cluster autoscaler will not scale the cluster beyond these numbers. Format should be a comma-separated list of "<gpu_type>:<min>:<max>".')},13605:(e,t,a)=>{"use strict";a.d(t,{nY:()=>r,rA:()=>i});var l=a(93345),n=a.n(l);a(55213);const r="Format should be a comma-separated list of labels.",i=n().createElement(n().Fragment,null,"Define a node label that should be ignored when considering node group similarity. Format should be a comma-separated list of labels.")},53174:(e,t,a)=>{"use strict";a.d(t,{Q:()=>c});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(83579),o=a(35787),u=(a(55213),a(70557));const c=n().createElement(r.n,null,n().createElement(i.E,null,"The total number of master, infrastructure, and worker nodes of a single cluster. The maximum value for max-nodes-total should be the sum of:",n().createElement(s.B8,null,n().createElement(o.c,null,n().createElement("b",null,"3 master nodes")),n().createElement(o.c,null,n().createElement("b",null,"2 (single AZ) or 3 infrastructure nodes (multiple AZ)")),n().createElement(o.c,null,n().createElement("b",null,"Maximum worker node count"),", based on the cluster version:",n().createElement(s.B8,null,n().createElement(o.c,null,n().createElement("b",null,u.SO)," for clusters below Openshift v4.14.14"),n().createElement(o.c,null,n().createElement("b",null,u.nm)," for clusters at or above Openshift v4.14.14"))))))},10050:(e,t,a)=>{"use strict";a.d(t,{Ax:()=>s,_d:()=>i,kD:()=>o});var l=a(58156),n=a.n(l);const r=(0,a(11611).getDefaultClusterAutoScaling)(),i=[{label:"log-verbosity",name:"log_verbosity",type:"number",defaultValue:r.log_verbosity},{label:"skip-nodes-with-local-storage",name:"skip_nodes_with_local_storage",type:"boolean",defaultValue:r.skip_nodes_with_local_storage},{label:"max-pod-grace-period",name:"max_pod_grace_period",type:"number",defaultValue:r.max_pod_grace_period},{label:"max-node-provision-time",name:"max_node_provision_time",type:"time",defaultValue:r.max_node_provision_time},{label:"pod-priority-threshold",name:"pod_priority_threshold",type:"number",defaultValue:r.pod_priority_threshold},{label:"ignore-daemonsets-utilization",name:"ignore_daemonsets_utilization",type:"boolean",defaultValue:r.ignore_daemonsets_utilization},{label:"balance-similar-node-groups",name:"balance_similar_node_groups",type:"boolean",defaultValue:r.balance_similar_node_groups}],s=[{label:"cores-total-min",name:"resource_limits.cores.min",type:"min-max",defaultValue:r.resource_limits.cores.min},{label:"cores-total-max",name:"resource_limits.cores.max",type:"min-max",defaultValue:r.resource_limits.cores.max},{label:"memory-total-min",name:"resource_limits.memory.min",type:"min-max",defaultValue:n()(r,"resource_limits.memory.min",0)},{label:"memory-total-max",name:"resource_limits.memory.max",type:"min-max",defaultValue:n()(r,"resource_limits.memory.max",0)}],o=[{label:"scale-down-enabled",name:"scale_down.enabled",type:"boolean",defaultValue:r.scale_down.enabled},{label:"scale-down-utilization-threshold",name:"scale_down.utilization_threshold",type:"number",defaultValue:r.scale_down.utilization_threshold},{label:"scale-down-unneeded-time",name:"scale_down.unneeded_time",type:"time",defaultValue:r.scale_down.unneeded_time},{label:"scale-down-delay-after-add",name:"scale_down.delay_after_add",type:"time",defaultValue:r.scale_down.delay_after_add},{label:"scale-down-delay-after-delete",name:"scale_down.delay_after_delete",type:"time",defaultValue:r.scale_down.delay_after_delete},{label:"scale-down-delay-after-failure",name:"scale_down.delay_after_failure",type:"time",defaultValue:r.scale_down.delay_after_failure}]},71610:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var l=a(93345),n=a.n(l),r=a(71468),i=a(20491),s=a(56780),o=a(23285),u=a(6071),c=a(38715),d=a(43775),m=a(82309),p=a(16236),f=a(65127),E=a(96678),g=a(25514),v=a(84037),h=a(55816),_=a(28592),S=a(91089);const b=({onClose:e})=>{var t,a,l;const d=(0,r.wA)(),b=()=>d((0,S.closeModal)()),{isSuccess:C,error:y,isError:I,isPending:A,mutate:R,reset:T}=(()=>{var e;const{mutate:t,isSuccess:a,rawError:l,isError:n,isPending:r,reset:i}=(0,f.h)(),{isSuccess:s,error:o,isError:u,isPending:c,mutate:d,reset:g}=(0,m.n)({mutationKey:["accountService","clusterService","edit_cluster_url"],mutationFn:({subscriptionID:e,clusterID:a,consoleUrl:l,region:n})=>{const r=(0,p.getClusterServiceForRegion)(n);let i=l;return l.endsWith("/")&&(i=l.substring(0,l.length-1)),r.editCluster(a,{console:{url:i}}).then((()=>t({subscriptionID:e,data:{console_url:i}})))}}),v=u||n,h=c||r,_=o||l;return{isSuccess:s&&a,error:v&&_?null===(e=(0,E.formatErrorData)(h,v,_))||void 0===e?void 0:e.error:null,isError:v,isPending:h,mutate:d,reset:()=>{g(),i()}}})(),O=(0,g.useGlobalState)((e=>e.modal.data)),P=null==O?void 0:O.id,D=null===(t=null==O?void 0:O.subscription)||void 0===t?void 0:t.id,L=(null==O?void 0:O.console_url)||(null===(a=null==O?void 0:O.console)||void 0===a?void 0:a.url)||"",N=(null==O?void 0:O.shouldDisplayClusterName)||!1,w=null===(l=null==O?void 0:O.subscription)||void 0===l?void 0:l.rh_region_id,k=(0,u.default)(O),[F,M]=n().useState(L);C&&(T(),b(),e());const x=()=>{T(),b()},G=(0,v.checkClusterConsoleURL)(F,!0),U=()=>{G||D&&P&&R({subscriptionID:D,clusterID:P,consoleUrl:F,region:w})},H=F!==L;return n().createElement(_.default,{"data-testid":"edit-console-url-dialog",title:L?"Edit console URL":"Add console URL",secondaryTitle:N?k:void 0,onClose:x,primaryText:L?"Save":"Add URL",secondaryText:"Cancel",onPrimaryClick:U,onSecondaryClick:x,isPrimaryDisabled:!!G||!H||A,isPending:A},n().createElement(n().Fragment,null,I?n().createElement(h.default,{message:"Error changing console URL",response:y||{}}):null,!L&&n().createElement("p",null,"Adding a cluster's web console URL will allow you to  launch the web console from the OpenShift Cluster Manager."),n().createElement(i.l,{onSubmit:e=>{U(),e.preventDefault()}},n().createElement(s.g,{label:"Web console URL",fieldId:"edit-console-url-input"},n().createElement(o.ks,{type:"text",validated:H&&G?"error":"default",value:F,placeholder:"https://console-openshift-console.apps.mycluster.example.com/",onChange:(e,t)=>M(t),"aria-label":"Web console URL",id:"edit-console-url-input"}),n().createElement(c.FormGroupHelperText,{touched:H,error:G})))))};b.modalName=d.default.EDIT_CONSOLE_URL;const C=b},52027:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var l=a(93345),n=a.n(l),r=a(58156),i=a.n(r),s=a(71468),o=a(20491),u=a(56780),c=a(23285),d=a(6071),m=a(38715),p=a(65127),f=a(25514),E=a(84037),g=a(55816),v=a(28592),h=a(91089),_=a(43775);const S=({onClose:e})=>{const t=(0,s.wA)(),a=()=>t((0,h.closeModal)()),{isSuccess:l,error:r,isError:_,isPending:S,mutate:b,reset:C}=(()=>{const{isSuccess:e,error:t,isError:a,isPending:l,mutate:n,reset:r}=(0,p.h)();return{isSuccess:e,error:t,isError:a,isPending:l,mutate:({subscriptionID:e,displayName:t})=>n({subscriptionID:e,data:{display_name:t}}),reset:r}})(),y=(0,f.useGlobalState)((e=>e.modal.data)),I=i()(y,"subscription.id")||"",A=(0,d.default)(y),R=y.shouldDisplayClusterName||!1,[T,O]=n().useState(A);l&&(C(),a(),e());const P=()=>{C(),a()},D=(0,E.checkClusterDisplayName)(T),L=()=>{D||b({subscriptionID:I,displayName:T})};return n().createElement(v.default,{title:"Edit display name",secondaryTitle:R?A:void 0,"data-testid":"edit-displayname-modal",onClose:P,primaryText:"Edit",secondaryText:"Cancel",onPrimaryClick:L,onSecondaryClick:P,isPrimaryDisabled:!!D||T===A,isPending:S},n().createElement(n().Fragment,null,_?n().createElement(g.default,{message:"Error changing display name",response:r||{}}):null,n().createElement(o.l,{onSubmit:e=>{L(),e.preventDefault()}},n().createElement(u.g,{fieldId:"edit-display-name-input"},n().createElement(c.ks,{type:"text",validated:D?"error":"default",value:T,placeholder:"Enter display name",onChange:(e,t)=>O(""===T?t.trim():t),"aria-label":"Edit display name",id:"edit-display-name-input"}),n().createElement(m.FormGroupHelperText,{touched:!0,error:D})))))};S.modalName=_.default.EDIT_DISPLAY_NAME;const b=S},35398:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var l=a(93345),n=a.n(l),r=a(71468),i=a(20491),s=a(51976),o=a(22069),u=a(6071),c=a(55816),d=a(65127),m=a(25514),p=a(11009),f=a(28592),E=a(91089),g=a(43775),v=a(2358);const h=({onClose:e})=>{const t=(0,r.wA)(),a=(0,m.useGlobalState)((e=>{var t,a,l;return null!==(l=null===(a=null===(t=null==e?void 0:e.modal)||void 0===t?void 0:t.data)||void 0===a?void 0:a.subscription)&&void 0!==l?l:{}})),[g,h]=(0,l.useState)({...a,isValid:!0}),_=(0,m.useGlobalState)((e=>{var t,a;return null===(a=null===(t=null==e?void 0:e.modal)||void 0===t?void 0:t.data)||void 0===a?void 0:a.shouldDisplayClusterName})),S=(0,m.useGlobalState)((e=>{var t;return(0,u.default)(null===(t=null==e?void 0:e.modal)||void 0===t?void 0:t.data)})),{isSuccess:b,error:C,isError:y,isPending:I,mutate:A,reset:R}=(0,d.h)(),T=n().useCallback((()=>{R(),t((0,E.closeModal)())}),[t,R]);n().useEffect((()=>{b&&(T(),e())}),[T,b,e]);const O=()=>{((e,t)=>{const a={...t};t.socket_total&&"Sockets"===t.system_units&&(a.socket_total=parseInt(`${t.socket_total}`,10),a.cpu_total=a.socket_total),t.cpu_total&&"Cores/vCPU"===t.system_units&&(a.cpu_total=parseInt(`${t.cpu_total}`,10),a.socket_total=1),A({subscriptionID:e,data:a})})(a.id,g)};return n().createElement(f.default,{title:"Subscription settings",secondaryTitle:_?S:void 0,width:810,variant:"large",onClose:T,primaryText:"Save",secondaryText:"Cancel",onPrimaryClick:O,onSecondaryClick:T,isPrimaryDisabled:I||!g.isValid,isPending:I},y?n().createElement(c.default,{message:"Error updating subscription settings",response:C||{}}):null,n().createElement(i.l,{onSubmit:e=>{O(),e.preventDefault()},className:"subscription-settings form"},n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"Edit your subscription settings to receive the correct level of cluster support.")),n().createElement(v.A,{initialSettings:a,onSettingsChange:h,canSubscribeStandardOCP:(0,p.hasCapability)(a,p.subscriptionCapabilities.SUBSCRIBED_OCP),canSubscribeMarketplaceOCP:(0,p.hasCapability)(a,p.subscriptionCapabilities.SUBSCRIBED_OCP_MARKETPLACE)})))};h.modalName=g.default.EDIT_SUBSCRIPTION_SETTINGS;const _=h},2358:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var l=a(93345),n=a.n(l),r=a(9704),i=a(56780),s=a(75166),o=a(38715),u=a(77218),c=a(13642),d=a(24510),m=a(17957),p=a(40167),f=a(65702);const E=({title:e})=>n().createElement(d.F,{id:"subscription-settings-cluster-billing-model-alert",variant:"info",isInline:!0,title:e},n().createElement("a",{href:f.default.OCM_DOCS_SUBSCRIPTIONS,target:"_blank",rel:"noreferrer noopener"},"Learn more about subscriptions"," ",n().createElement(m.I,{size:"sm"},n().createElement(p.ExternalLinkAltIcon,{color:"#0066cc"}))));var g=a(23681),v=a(55213);const h="subscription-settings-label-tooltip-icon",_="Annual: Fixed capacity subscription from Red Hat",S="On-Demand (Hourly): Flexible usage billed through Red Hat Marketplace",b=[s.subscriptionSettings.SUPPORT_LEVEL,s.subscriptionSettings.USAGE,s.subscriptionSettings.SERVICE_LEVEL,s.subscriptionSettings.SYSTEM_UNITS,s.subscriptionSettings.CLUSTER_BILLING_MODEL],C=e=>e.system_units===c.SubscriptionCommonFields.system_units.SOCKETS?"Sockets":"Cores or vCPUs",y=(e,t)=>{const a=t||(e=>e.system_units===c.SubscriptionCommonFields.system_units.SOCKETS?e.socket_total:e.cpu_total)(e),l=C(e);return/^\d+$/.test(`${a}`)?+a<1?{isValid:!1,errorMsg:`${l} value must be an integer number greater than 0.`}:{isValid:!0,errorMsg:""}:{isValid:!1,errorMsg:`${l} value can only be a positive integer number.`}},I=(e,t)=>(0,r.pick)(t,Object.keys(null!=e?e:{})),A=({minVal:e,isDisconnected:t,subscription:a,cpuSocketValue:i,cpuSocketLabel:o,isDisabled:u,handleChange:d})=>{const m=(0,l.useCallback)((e=>(t,l)=>{if(l){const t=(0,r.get)(a,l),{isValid:n}=y(a,t);d(l,n?parseInt(t+e,10):1)}}),[d,a]),p=(0,l.useCallback)((e=>{const{name:t,value:l}=e.target,n=Number(l),{isValid:r}=y(a,n);d(t,r?parseInt(`${n}`,10):l)}),[d,a]);return t?n().createElement(g.Q,{value:i,min:e,inputName:a.system_units===c.SubscriptionCommonFields.system_units.SOCKETS?s.subscriptionSettings.SOCKET_TOTAL:s.subscriptionSettings.CPU_TOTAL,isDisabled:u,onMinus:m(-1),onPlus:m(1),onChange:p,inputAriaLabel:a.system_units===c.SubscriptionCommonFields.system_units.SOCKETS?"Number of sockets (excluding control plane nodes)":"Number of compute cores (excluding control plane nodes)",minusBtnAriaLabel:"decrement the number by 1",plusBtnAriaLabel:"increment the number by 1",widthChars:5}):n().createElement(n().Fragment,null,n().createElement("span",{id:"cpu-socket-value"},`${i} ${o}`),n().createElement(v.default,{id:"cpu-socket-value-hint",hint:"This data is gathered directly from the telemetry metrics submitted by the cluster and cannot be changed.",iconClassName:h,hasAutoWidth:!0,maxWidth:"30.0rem"}))};var R=a(51976),T=a(22069);const O=()=>n().createElement(n().Fragment,null,n().createElement("span",null,"Support type"),n().createElement(v.default,{id:"subscripiton-settings-service-level-hit",headerContent:"Support type",hint:n().createElement(R.n,null,n().createElement(T.E,{component:T.Y.p},"Who you can call for primary support.")),iconClassName:h}));var P=a(8888);const D=()=>n().createElement(n().Fragment,null,n().createElement("span",null,"Service level agreement (SLA)"),n().createElement(v.default,{id:"subscripiton-settings-support-level-hint",headerContent:"Service level agreement (SLA)",hint:n().createElement(R.n,null,n().createElement(T.E,{component:T.Y.p},"How your subscription is supported, including the hours of support coverage and support ticket response times."),n().createElement(T.E,{component:T.Y.p},n().createElement(P.default,{href:"https://access.redhat.com/support/"},"Production Support Terms of Service"))),iconClassName:h,hasAutoWidth:!0,maxWidth:"30.0rem"})),L=()=>n().createElement(n().Fragment,null,n().createElement("span",null,"Subscription units"),n().createElement(v.default,{id:"subscripiton-settings-system-units-hint",headerContent:"Subscription units",hint:n().createElement(R.n,null,n().createElement(T.E,{component:T.Y.p},"How usage is measured for your subscription.")),iconClassName:h}));var N=a(47144);const w=({isShown:e,startPosition:t=0,additionalGroupSelectors:a=""})=>{const l=`${a} .pf-v5-c-form__group-control`;return e?n().createElement(n().Fragment,null,[0,1,2,3].map((e=>n().createElement(N.m,{key:e,content:n().createElement("div",null,"Red Hat Marketplace subscription settings are pre-set and cannot be altered."),position:"right",triggerRef:()=>{const a=document.querySelectorAll(l),n=t+e;return n>=0&&n<a.length?a[n]:(console.error(`Edit Subscription tooltip: error selecting ${l} (${n})`),null)}})))):null},k=()=>n().createElement(n().Fragment,null,n().createElement("span",null,"Cluster usage"),n().createElement(v.default,{id:"subscripiton-settings-usage-hint",headerContent:"Cluster usage",hint:n().createElement(R.n,null,n().createElement(T.E,{component:T.Y.p},"How you are using this cluster.")),iconClassName:h})),F=(e,t,a)=>{const l=(0,r.get)(e,t);let i=[];switch(t){case s.subscriptionSettings.SUPPORT_LEVEL:i=[{label:"Premium",value:c.SubscriptionCommonFields.support_level.PREMIUM},{label:"Standard",value:c.SubscriptionCommonFields.support_level.STANDARD},{label:"Self-Support",value:c.SubscriptionCommonFields.support_level.SELF_SUPPORT}],l!==c.SubscriptionCommonFields.support_level.EVAL&&e.id?l===c.SubscriptionCommonFields.support_level.NONE&&i.push({label:n().createElement("span",{className:"subscription-settings expired-eval-option"},"Expired evaluation"),value:c.SubscriptionCommonFields.support_level.NONE}):i.push({label:"Self-Support 60-day evaluation",value:c.SubscriptionCommonFields.support_level.EVAL});break;case s.subscriptionSettings.USAGE:i=[{label:"Production",value:c.SubscriptionCommonFields.usage.PRODUCTION,isDefault:!0},{label:"Development/Test",value:c.SubscriptionCommonFields.usage.DEVELOPMENT_TEST},{label:"Disaster Recovery",value:c.SubscriptionCommonFields.usage.DISASTER_RECOVERY}];break;case s.subscriptionSettings.SERVICE_LEVEL:i=[{label:"Red Hat support (L1-L3)",value:c.SubscriptionCommonFields.service_level.L1_L3,isDefault:!0},{label:"Partner support (L3)",value:c.SubscriptionCommonFields.service_level.L3_ONLY}];break;case s.subscriptionSettings.SYSTEM_UNITS:i=[{label:"Cores or vCPUs",value:c.SubscriptionCommonFields.system_units.CORES_V_CPU,isDefault:!0},{label:"Sockets",value:c.SubscriptionCommonFields.system_units.SOCKETS}];break;case s.subscriptionSettings.CLUSTER_BILLING_MODEL:i=[{label:_,value:c.SubscriptionCommonFields.cluster_billing_model.STANDARD},{label:S,value:c.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE}],a?i[1].isDefault=!0:i[0].isDefault=!0}const o=(0,r.findIndex)(i,{value:l});if(o>=0)i[o].isChecked=!0;else{const e=(0,r.findIndex)(i,"isDefault");e>=0&&(i[e].isChecked=!0)}return i},M=e=>b.reduce(((t,a)=>({...t,[`${a}`]:F(e,a)})),{}),x=({canSubscribeStandardOCP:e,canSubscribeMarketplaceOCP:t,initialSettings:a,onSettingsChange:d})=>{const m=["subscription-settings","radio-group"].join(" "),[p,f]=(0,l.useState)(a),[g,v]=(0,l.useState)(),h=(0,l.useMemo)((()=>!e&&!t),[t,e]),b=(0,l.useMemo)((()=>p.cluster_billing_model===c.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE),[p.cluster_billing_model]),R=(0,l.useMemo)((()=>{var e;return![c.SubscriptionCommonFields.support_level.PREMIUM,c.SubscriptionCommonFields.support_level.STANDARD,c.SubscriptionCommonFields.support_level.SELF_SUPPORT].includes(null!==(e=p.support_level)&&void 0!==e?e:c.SubscriptionCommonFields.support_level.NONE)}),[p.support_level]),T=(0,l.useMemo)((()=>p.status===c.SubscriptionCommonFields.status.DISCONNECTED||!p.id),[p.id,p.status]),P=(0,l.useMemo)((()=>e&&t&&c.SubscriptionCommonFields.cluster_billing_model.STANDARD!==a.cluster_billing_model&&c.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE!==a.cluster_billing_model),[t,e,a.cluster_billing_model]),N=(0,l.useMemo)((()=>T?y(p).errorMsg:""),[T,p]),F=(0,l.useMemo)((()=>{const e=T?p.cpu_total:a.cpu_total;return null!=e?e:0}),[a.cpu_total,T,p.cpu_total]),x=(0,l.useMemo)((()=>{const e=T?p.socket_total:a.socket_total;return null!=e?e:0}),[a.socket_total,T,p.socket_total]),G=(0,l.useMemo)((()=>p.system_units===c.SubscriptionCommonFields.system_units.SOCKETS?x:F),[F,x,p.system_units]),U=(0,l.useMemo)((()=>F||x),[F,x]),H=(0,l.useMemo)((()=>C(p)),[p]),V=(0,l.useMemo)((()=>((e,t,a,l)=>{if(!a)switch(!0){case t===c.SubscriptionCommonFields.cluster_billing_model.STANDARD:return`Cluster subscription type is ${_}`;case t===c.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE||e:return`Cluster subscription type is ${S}`;case l:return`Disconnected clusters subscription type is ${_}`;default:return`Cluster subscription type is ${_}`}return"Your subscription type can't be altered after you set it."})(t,a.cluster_billing_model,P,T)),[t,a.cluster_billing_model,P,T]),B=(0,l.useCallback)(((e,t)=>{var a;let l=!0;[c.SubscriptionCommonFields.support_level.PREMIUM,c.SubscriptionCommonFields.support_level.STANDARD,c.SubscriptionCommonFields.support_level.SELF_SUPPORT].includes(null!==(a=null==t?void 0:t.support_level)&&void 0!==a?a:c.SubscriptionCommonFields.support_level.NONE)||(l=!1),l&&T&&(l=y(t).isValid),d({...I(e,t),isValid:l})}),[T,d]),q=(0,l.useCallback)(((e,t,l)=>{if(t===s.subscriptionSettings.SUPPORT_LEVEL&&l===c.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE){const t={...a,support_level:c.SubscriptionCommonFields.support_level.PREMIUM,service_level:c.SubscriptionCommonFields.service_level.L1_L3,usage:c.SubscriptionCommonFields.usage.PRODUCTION,system_units:c.SubscriptionCommonFields.system_units.CORES_V_CPU,cluster_billing_model:c.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE};v(M(t)),B(e,t)}else f({...p,[`${t}`]:l}),B(e,{...p,[`${t}`]:l})}),[a,B,p]),j=(0,l.useCallback)((e=>{var t,l;const n=M(e);T&&(n[s.subscriptionSettings.CPU_TOTAL]=null!==(t=a.cpu_total)&&void 0!==t?t:1,n[s.subscriptionSettings.SOCKET_TOTAL]=null!==(l=a.socket_total)&&void 0!==l?l:1,f({...e,[s.subscriptionSettings.CPU_TOTAL]:n[s.subscriptionSettings.CPU_TOTAL],[s.subscriptionSettings.SOCKET_TOTAL]:n[s.subscriptionSettings.SOCKET_TOTAL]})),v(n),e.cluster_billing_model===c.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE?q(n,s.subscriptionSettings.CLUSTER_BILLING_MODEL,c.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE):B(n,e)}),[]);return(0,l.useEffect)((()=>{j(a)}),[]),(0,l.useEffect)((()=>{a===p||(0,r.isEqual)(a,p)||(f(a),j(a))}),[j]),(0,l.useEffect)((()=>{g&&Object.keys(g).length&&f(((e,t)=>{let a={...t};return Object.entries(e).forEach((([e,l])=>{if(void 0===(0,r.get)(t,e)&&"number"!=typeof l){const t=l.find((e=>e.isDefault));t&&(a={...a,[`${e}`]:t.value})}})),a})(g,p))}),[g]),g?n().createElement(n().Fragment,null,P?n().createElement(u.ReduxFormRadioGroup,{name:s.subscriptionSettings.CLUSTER_BILLING_MODEL,fieldId:s.subscriptionSettings.CLUSTER_BILLING_MODEL,isRequired:!0,label:"Subscription type",className:m,items:g[s.subscriptionSettings.CLUSTER_BILLING_MODEL],onChange:(e,t)=>q(g,e,t)}):null,h?null:n().createElement(E,{title:V}),n().createElement(u.ReduxFormRadioGroup,{name:s.subscriptionSettings.SUPPORT_LEVEL,fieldId:s.subscriptionSettings.SUPPORT_LEVEL,label:n().createElement(D,null),className:m,items:g[s.subscriptionSettings.SUPPORT_LEVEL],onChange:(e,t)=>q(g,e,t),isDisabled:h||b}),n().createElement(u.ReduxFormRadioGroup,{name:s.subscriptionSettings.SERVICE_LEVEL,fieldId:s.subscriptionSettings.SERVICE_LEVEL,label:n().createElement(O,null),className:m,items:g[s.subscriptionSettings.SERVICE_LEVEL],onChange:(e,t)=>q(g,e,t),isDisabled:h||b||R}),n().createElement(u.ReduxFormRadioGroup,{name:s.subscriptionSettings.USAGE,fieldId:s.subscriptionSettings.USAGE,label:n().createElement(k,null),className:m,items:g[s.subscriptionSettings.USAGE],onChange:(e,t)=>q(g,e,t),isDisabled:h||b||R}),n().createElement(u.ReduxFormRadioGroup,{name:s.subscriptionSettings.SYSTEM_UNITS,fieldId:s.subscriptionSettings.SYSTEM_UNITS,label:n().createElement(L,null),className:m,items:g[s.subscriptionSettings.SYSTEM_UNITS],onChange:(e,t)=>q(g,e,t),isDisabled:h||b||R,isInline:!0}),(h||b||R)&&U?null:n().createElement(i.g,{label:p.system_units===c.SubscriptionCommonFields.system_units.SOCKETS?"Number of sockets (excluding control plane nodes)":"Number of compute cores (excluding control plane nodes)",isRequired:T},n().createElement(A,{minVal:1,isDisconnected:T,subscription:p,cpuSocketValue:G,cpuSocketLabel:H,isDisabled:h||b||R,handleChange:(e,t)=>q(g,e,t)}),n().createElement(o.FormGroupHelperText,{touched:!0,error:N},T?`${p.system_units} value can be any integer larger than 1`:"")),n().createElement(w,{isShown:b,startPosition:P?1:0,additionalGroupSelectors:`.${m}`})):null}},88285:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canSubscribeOCPListFromClusters:()=>i,default:()=>s});var l=a(6924),n=a.n(l),r=a(11009);const i=(e=[])=>{const t=(0,r.haveCapabilities)(e,r.subscriptionCapabilities.SUBSCRIBED_OCP),a=(0,r.haveCapabilities)(e,r.subscriptionCapabilities.SUBSCRIBED_OCP_MARKETPLACE);return n()(t,a,((e,t)=>e||t))},s=e=>{var t,a,l;const i=null!==(l=null===(a=null===(t=null==e?void 0:e.clusters)||void 0===t?void 0:t.clusters)||void 0===a?void 0:a.clusters)&&void 0!==l?l:[],s=(0,r.haveCapabilities)(i,r.subscriptionCapabilities.SUBSCRIBED_OCP),o=(0,r.haveCapabilities)(i,r.subscriptionCapabilities.SUBSCRIBED_OCP_MARKETPLACE);return n()(s,o,((e,t)=>e||t))}},9225:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canSubscribeOCPMultiRegion:()=>i,canSubscribeOCPSelector:()=>r});var l=a(11009);const n=e=>(0,l.hasCapability)(e,l.subscriptionCapabilities.SUBSCRIBED_OCP)||(0,l.hasCapability)(e,l.subscriptionCapabilities.SUBSCRIBED_OCP_MARKETPLACE),r=e=>{var t,a,l;return n(null===(l=null===(a=null===(t=null==e?void 0:e.clusters)||void 0===t?void 0:t.details)||void 0===a?void 0:a.cluster)||void 0===l?void 0:l.subscription)},i=e=>n(null==e?void 0:e.subscription)},62779:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(47144),i=a(17957),s=a(99851),o=a(55611);const u=({item:e="clusters",errorMessage:t})=>n().createElement(r.m,{content:`An error occurred when fetching ${e}${t?`: ${t}`:"."}`,"data-testid":"error-triangle"},n().createElement(i.I,{size:"lg",className:"cluster-error-triangle","aria-label":"Warning","data-testid":"error-triangle-icon"},n().createElement(s.ExclamationTriangleIcon,{color:o.global_warning_color_100.value})))},40902:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(93345),n=a.n(l),r=a(71468),i=a(24510),s=a(69211),o=a(9059),u=a(25514);const c=()=>{const e=(0,r.wA)(),{errorMessage:t,errorTitle:a}=(0,u.useGlobalState)((e=>e.globalError));return t||a?n().createElement(i.F,{variant:"danger",isInline:!0,title:a,actionClose:n().createElement(s.X,{onClose:()=>e((0,o.clearGlobalError)())}),role:"alert"},t):null}},67864:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(83579),o=a(35787),u=a(65702),c=a(8888);const d=()=>n().createElement(c.default,{href:u.default.HIBERNATING_CLUSTER},"Learn more about cluster hibernation"),m=({clusterName:e,isHibernating:t})=>t?n().createElement(r.n,null,n().createElement(i.E,null,"Cluster ",n().createElement("strong",null,e)," will move out of Hibernating state and all cluster operations will be resumed."),n().createElement(d,null)):n().createElement(n().Fragment,null,n().createElement(s.B8,null,n().createElement(o.c,null,"Hibernating clusters is not fully supported under Red Hat Subscription Level Agreements, might not be functionally complete, and is not intended for production use."),n().createElement(o.c,null,"It's recommended to hibernate only clusters that run recoverable workloads.")),n().createElement(d,null),n().createElement(r.n,null,n().createElement(i.E,null,"Are you sure you want to hibernate ",n().createElement("strong",null,e),"?")))},26883:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var l=a(93345),n=a.n(l),r=a(71468),i=a(20491),s=a(69304),o=a(91089),u=a(82309),c=a(16236),d=a(96678),m=a(98002),p=a(25514),f=a(55816),E=a(28592),g=a(43775),v=a(23271),h=a(67864),_=a(94560);const S=({clusterName:e})=>n().createElement("p",null,"Moving ",n().createElement("b",null,e)," to Hibernating state is not possible while the cluster is upgrading.");var b=a(24510),C=a(67209);const y=({clusterName:e,nextRun:t})=>n().createElement(n().Fragment,null,n().createElement("p",null,"Moving ",n().createElement("b",null,e)," cluster to Hibernating state is not possible while there is a scheduled cluster upgrade."),n().createElement(b.F,{variant:"warning",title:n().createElement("p",null,"There is a scheduled update to ",n().createElement(C.A,{type:"exact",date:Date.parse(t)}),". The scheduled update cannot be executed if the cluster is hibernating.")}),n().createElement("p",null,"Try again after the cluster upgrade is done or cancel the upgrade.")),I=({onClose:e})=>{const t=(0,r.wA)(),a=(0,p.useGlobalState)((e=>e.modal.data)),l=a.clusterID||"",g=a.rh_region_id,b=a.clusterName||"",C=a.subscriptionID||"",I=!!a.shouldDisplayClusterName,A=(0,v.isHypershiftCluster)(a),{mutate:R,isSuccess:T,error:O,isError:P,isPending:D,reset:L}=(()=>{var e;const{isSuccess:t,error:a,isError:l,isPending:n,mutate:r,reset:i}=(0,u.n)({mutationKey:["clusterService","hibernate_cluster"],mutationFn:({clusterID:e,region:t})=>(0,c.getClusterServiceForRegion)(t).hibernateCluster(e)});return{isSuccess:t,error:l&&a?null===(e=(0,d.formatErrorData)(n,l,a))||void 0===e?void 0:e.error:null,isError:l,isPending:n,mutate:r,reset:i}})(),N=n().useCallback((()=>{L(),t((0,o.closeModal)())}),[t,L]),w=()=>{N()};n().useEffect((()=>{T&&(L(),e(),N())}),[N,T,e,L]);const k=P?n().createElement(f.default,{message:"Error hibernating cluster",response:O||{}}):null,{data:F,isLoading:M}=(0,m.useGetSchedules)(l,A,g),x=e=>{var t;return null===(t=null==F?void 0:F.items)||void 0===t?void 0:t.filter((t=>{var a;return(null===(a=t.state)||void 0===a?void 0:a.value)===e}))},G=x("scheduled"),U=x("started");let H,V,B="Close";U&&U.length>0?(V=!1,B="See version update details",H=n().createElement(S,{clusterName:b})):G&&G.length>0?(V=!1,B="Change cluster upgrade policy",H=n().createElement(y,{clusterName:b,nextRun:G[0].next_run||""})):(V=!0,H=n().createElement(h.A,{clusterName:b,isHibernating:!1}));const q=()=>{V?R({clusterID:l,region:g}):w()};return n().createElement(E.default,{"aria-label":"hibernate-cluster-modal",header:n().createElement(_.A,{title:"Hibernate cluster"}),titleIconVariant:"danger",secondaryTitle:I?b:void 0,primaryText:V?"Hibernate cluster":"Close",onPrimaryClick:q,secondaryText:B,onSecondaryClick:({location:e,navigate:t})=>{w(),V||(e.pathname.startsWith(`${s.ocmBaseName}/details/s/`)?t({hash:"#updateSettings"}):t({pathname:`/details/s/${C}`,hash:"#updateSettings"}))},onClose:w,isPending:D||M},n().createElement(i.l,{onSubmit:q},k,H))};I.modalName=g.default.HIBERNATE_CLUSTER;const A=I},94560:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var l=a(93345),n=a.n(l),r=a(96998),i=a(96553),s=a(17957),o=a(9670),u=a(29962),c=a(65411);const d=({title:e})=>n().createElement(r.s,{alignItems:{default:"alignItemsCenter"}},n().createElement(i.Z,null,n().createElement(s.I,{size:"md"},n().createElement(u.InfoCircleIcon,{className:"info"}))),n().createElement(i.Z,null,n().createElement(o.h,{headingLevel:"h2"},e)),n().createElement(i.Z,null,n().createElement(c.A,{className:"pf-v5-u-ml-0"})))},7252:(e,t,a)=>{"use strict";function l(e){var t,a,l;const n=null===(l=null===(a=null===(t=e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.operator_iam_roles)||void 0===l?void 0:l[0].role_arn;return n?n.split(":")[4]:""}function n(e){var t,a,l,n;const r=(null===(a=null===(t=e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.oidc_endpoint_url)?new URL(null===(n=null===(l=e.aws)||void 0===l?void 0:l.sts)||void 0===n?void 0:n.oidc_endpoint_url):void 0;return r?`${r.host}${r.pathname}`:""}function r(e){return`arn:aws:iam::${l(e)}:oidc-provider/${n(e)}`}a.r(t),a.d(t,{getAWSAccountID:()=>l,getOIDCEndpointNoScheme:()=>n,getOIDCProviderARN:()=>r})},34939:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var l=a(93345),n=a.n(l),r=a(3638),i=a(8371),s=a(47144),o=a(75907),u=a(25982),c=a(16236),d=a(96678),m=a(36817),p=a(89660),f=a(93413),E=a(55816),g=a(38046),v=a(98229),h=a(52774);const _=({input:e,disabled:t,currentValue:a,billingModel:l,product:_,cloudProviderID:S,isBYOC:b,isMultiAZ:C,region:y})=>{const{data:I,isError:A,error:R}=(e=>{var t;const{isPending:a,isFetched:l,isError:n,error:r,data:i}=(0,u.I)({queryKey:["ClusterService","getLoadBalancerQuotaValues",e||"global"],queryFn:async()=>{const t=(0,c.getClusterServiceForRegion)(e);return(await t.getLoadBalancerQuotaValues()).data.items},staleTime:m.K.STALE_TIME_60_SEC});return{isPending:a,isFetched:l,isError:n,error:n&&r?null===(t=(0,d.formatErrorData)(a,n,r))||void 0===t?void 0:t.error:null,data:i}})(y),{quota:T,isError:O,error:P}=(0,p.w)();if(I&&!A&&T&&!P){const o={resourceType:g.QuotaTypes.LOAD_BALANCER,billingModel:l,product:_,cloudProviderID:S,isBYOC:b,isMultiAZ:C},u=(0,v.availableQuota)(T,o),c=(0,h.K)(a,I,u),d=c.values.length<=1,m=t||d,{onChange:p,...E}=e,y=n().createElement(i.F,{className:"quota-dropdown","aria-label":"Load Balancers",isDisabled:m,onChange:(e,t)=>p(t),...E},c.values.map((e=>(e=>n().createElement(r.Q,{key:e,value:e,label:e}))(e.toString()))));return d?n().createElement(s.m,{content:f.noQuotaTooltip,position:"right"},n().createElement("div",null,y)):y}return A||O?n().createElement(E.default,{message:"Error loading load balancers list",response:R||{}}):n().createElement(n().Fragment,null,n().createElement("div",{className:"spinner-fit-container"},n().createElement(o.A,null)),n().createElement("div",{className:"spinner-loading-text"},"Loading load balancers list..."))}},82298:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MachineConfiguration:()=>x});var l=a(93345),n=a.n(l),r=a(90179),i=a.n(r),s=a(42561),o=a.n(s),u=a(90678),c=a(73113),d=a(20491),m=a(35600),p=a(72583),f=a(89217),E=a(43212);const g=()=>n().createElement(u.B,{hasGutter:!0},n().createElement(c.a,null,n().createElement(E.E,{width:"200px",fontSize:"md"})),n().createElement(c.a,null,n().createElement(E.E,{width:"100%",fontSize:"4xl"})),n().createElement(c.a,null,n().createElement(E.E,{width:"200px",fontSize:"4xl",screenreaderText:"Loading PIDs limit"})));var v=a(56780),h=a(51976),_=a(22069),S=a(23681),b=a(31003),C=a(99851),y=a(38715),I=a(55213);const A=e=>{const{value:t,isValid:a,validationMessage:r,isUnsafe:i,minValue:s,maxValue:o,onChange:u,safeMaxValue:c}=e,[d,m]=(0,l.useState)(null!=t?t:""),p=(0,l.useMemo)((()=>i?{helperText:`Setting a PIDs limit higher than ${c.toLocaleString()} on your cluster could potentially cause your workloads to fail unexpectedly.`,icon:n().createElement(C.default,null),status:"warning"}:a?{helperText:`The safe PIDs limit range is ${s.toLocaleString()} - ${c.toLocaleString()}`,icon:null,status:"default"}:{helperText:r,icon:n().createElement(b.default,null),status:"error"}),[i,a,s,c,r]),f=(e,t,a)=>void 0!==t&&void 0!==a?Math.max(Math.min(e,a),t):e<=t?t:e>=a?a:e;return(0,l.useEffect)((()=>{t&&m(t)}),[d,t]),n().createElement(v.g,{required:!0,label:"Pod process IDs limit (PIDs)",labelIcon:n().createElement(I.default,{title:"Pod process IDs limit (PIDs)",hint:n().createElement("div",null,"Process IDs (PIDs) are a fundamental resource on nodes. Openshift allows you to limit the number of processes running in a POD."),buttonAriaLabel:"More info for PIDs limit field"}),isRequired:!0,fieldId:"pids-limit"},n().createElement(h.n,{className:"pf-v5-u-mb-md"},n().createElement(_.E,{component:_.Y.p},"Adjusting the PIDs limit will result in all nodes that are not control plane nodes to reboot, potentially impacting workload downtime.")),n().createElement(S.Q,{id:"pids-limit",name:"pids-limit","aria-describedby":"pids-limit-helper-text",value:d,min:s,max:o,onMinus:()=>{const e=f(d-1,s,o);m(e),u(e)},onChange:e=>{const{value:t}=e.target,a=Number(t);m(""===t?t:a),u(a)},onBlur:e=>{const t=Number(e.target.value);t<s?(m(s),u(s)):t>o&&(m(o),u(o))},onPlus:()=>{const e=f(d+1,s,o);m(e),u(e)},widthChars:12,inputName:"pids-limit",inputAriaLabel:"PIDs limit",minusBtnAriaLabel:"minus",plusBtnAriaLabel:"plus",validated:p.status}),n().createElement(y.FormGroupHelperText,{id:"pids-limit-helper-text",variant:p.status,icon:p.icon},p.helperText))};var R=a(70557),T=a(55816);const O=e=>{var t,a;const l=o().isAxiosError(e)?null===(t=e.response)||void 0===t?void 0:t.data:void 0;return{errorDetails:null!==(a=null==l?void 0:l.details)&&void 0!==a?a:[],errorMessage:(0,f.getErrorMessage)({payload:e}),operationID:null==l?void 0:l.operation_id}},P=e=>{const{config:t,onSave:a,onCancel:r,isLoading:i,isSaving:s,canBypassPIDsLimit:o=!1,savingError:f}=e,E=R.io,v=o?R.DI:R.Sb,[h,_]=(0,l.useState)({}),[S,b]=(0,l.useState)(!1);(0,l.useEffect)((()=>{const e={pod_pids_limit:E};(t||null===t)&&(_(t?{...t}:e),S||b(!0))}),[E,t,i,S]);const C=()=>{a(h)},{isValid:y,isPIDsLimitUnsafe:I,validationMessage:P}=function(e,t,a,n){const[r,i]=(0,l.useState)(!0),s=(0,l.useCallback)((e=>Number.isInteger(e)&&e<=a&&e>=t),[a,t]),o=(0,l.useMemo)((()=>!!(n&&r&&e)&&e>R.Sb),[n,e,r]),u=(0,l.useMemo)((()=>void 0===e||s(e)?"":n&&e>a?`Please enter a value between ${t.toLocaleString()} - ${R.DI.toLocaleString()}`:`Please enter a value between ${t.toLocaleString()} - ${R.Sb.toLocaleString()}`),[a,t,n,e,s]);return(0,l.useEffect)((()=>{i(void 0===e||s(e))}),[e,s]),{isValid:r,isPIDsLimitUnsafe:o,validationMessage:u}}(null==h?void 0:h.pod_pids_limit,E,v,o),D=(0,l.useMemo)((()=>{if(S){const e=null===t?E:null==t?void 0:t.pod_pids_limit;return h.pod_pids_limit!==e}return!1}),[E,t,h.pod_pids_limit,S]),L=(0,l.useMemo)((()=>!S||i||s||!y||!D),[S,i,s,y,D]);return n().createElement(u.B,{hasGutter:!0},f?n().createElement(c.a,null,n().createElement(T.default,{message:"There was an error saving the machine configuration",response:O(f)})):null,n().createElement(c.a,null,n().createElement(d.l,{onSubmit:e=>{e.preventDefault(),L||C()}},S?n().createElement(A,{value:h.pod_pids_limit,minValue:E,maxValue:v,onChange:e=>{e!==h.pod_pids_limit&&_((t=>({...t,pod_pids_limit:e})))},isValid:y,validationMessage:P,isUnsafe:I,safeMaxValue:R.Sb}):n().createElement(g,null),n().createElement(m.K,null,n().createElement(p.$n,{variant:"primary",onClick:C,isDisabled:L,isLoading:s},"Save changes"),n().createElement(p.$n,{variant:"link",onClick:r,isDisabled:i||s},"Cancel")))))};var D=a(33675),L=a(54169),N=a(9670),w=a(75279);const k=e=>{const{onClose:t}=e;return n().createElement(D.p,null,n().createElement(L.q,{icon:b.default,color:"var(--pf-global--danger-color--100)"}),n().createElement(N.h,{headingLevel:"h4",size:"lg"},"Unable to retrieve configuration"),n().createElement(w.h,null,"There was an error trying to retrieve the existing machine configuration. Please try again later."),n().createElement(p.$n,{variant:"primary",onClick:t},"Close"))};var F=a(16165);const M=e=>{const{children:t,onClose:a}=e;return n().createElement(F.a,{title:"Edit machine configuration",description:"Make custom edits to your machine configuration",variant:F.d.medium,isOpen:!0,onClose:a},t)},x=e=>{const{clusterID:t,getMachineConfiguration:a,createMachineConfiguration:r,updateMachineConfiguration:s,canBypassPIDsLimit:o,onClose:u}=e,{getKubeletConfig:c,kubeletConfig:d,isLoading:m,error:p}=function(e){const[t,a]=(0,l.useState)(),[n,r]=(0,l.useState)(),[i,s]=(0,l.useState)(!1);return{getKubeletConfig:(0,l.useCallback)((t=>{s(!0),r(void 0),a(void 0),e(t).then((e=>a(e.data))).catch((e=>{var t;404===(null===(t=e.response)||void 0===t?void 0:t.status)?a(null):r(e)})).finally((()=>s(!1)))}),[e]),isLoading:i,kubeletConfig:t,error:n}}(a),{saveKubeletConfig:f,isSaving:E,kubeletConfig:g,error:v}=function(e,t){const[a,n]=(0,l.useState)(),[r,i]=(0,l.useState)(),[s,o]=(0,l.useState)(!1);return{saveKubeletConfig:(0,l.useCallback)(((a,l,r)=>{o(!0),i(void 0),n(void 0),("post"===r?e:t)(a,l).then((e=>n(e.data))).catch((e=>{i(e)})).finally((()=>o(!1)))}),[e,t]),isSaving:s,kubeletConfig:a,error:r}}(r,s);return(0,l.useEffect)((()=>{c(t)}),[t,c]),(0,l.useEffect)((()=>{g&&u()}),[u,g]),n().createElement(M,{onClose:u},p?n().createElement(k,{onClose:u}):n().createElement(P,{config:d,canBypassPIDsLimit:o,onCancel:u,onSave:e=>{const a=i()(e,["kind","href"]);f(t,a,null===d?"post":"patch")},isLoading:m,isSaving:E,savingError:v}))}},75499:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var l=a(93345),n=a.n(l),r=a(3638),i=a(8371),s=a(47144),o=a(75907),u=a(25982),c=a(16236),d=a(96678),m=a(36817),p=a(89660),f=a(93413),E=a(74688),g=a(55816),v=a(38046),h=a(98229),_=a(66086);const S=({input:e,disabled:t,currentValue:a,billingModel:l,product:S,cloudProviderID:b,isBYOC:C,isMultiAZ:y,region:I})=>{const{data:A,isFetched:R,isError:T,error:O}=(e=>{var t;const{isPending:a,isFetched:l,isError:n,error:r,data:i}=(0,u.I)({queryKey:["ClusterService","getStorageQuotaValues",e||"global"],queryFn:async()=>{const t=(0,c.getClusterServiceForRegion)(e);return(await t.getStorageQuotaValues()).data.items},staleTime:m.K.STALE_TIME_60_SEC});return{isPending:a,isFetched:l,isError:n,error:n&&r?null===(t=(0,d.formatErrorData)(a,n,r))||void 0===t?void 0:t.error:null,data:i}})(I),{quota:P,isError:D,error:L,isFetched:N}=(0,p.w)();if(R&&!T&&N&&!D){const o=(0,h.availableQuota)(P,{resourceType:v.QuotaTypes.STORAGE,billingModel:l,product:S,cloudProviderID:b,isBYOC:C,isMultiAZ:y,resourceName:"gp2"}),u=(0,_.Y)(a,A,o),c=u.values.length<=1,d=t||c,{onChange:m,...p}=e,g=n().createElement(i.F,{className:"quota-dropdown","aria-label":"Persistent Storage",isDisabled:d,onChange:(e,t)=>m(t),...p},u.values.map((e=>(e=>{const t=(0,E.humanizeValueWithUnitGiB)(e.value),a=e.value.toString();return n().createElement(r.Q,{key:a,value:a,label:`${t.value} ${t.unit}`})})(e))));return c?n().createElement(s.m,{content:f.noQuotaTooltip,position:"right"},n().createElement("div",null,g)):g}return T||D?n().createElement(g.default,{message:"Error loading persistent storage list",response:O||L||{}}):n().createElement(n().Fragment,null,n().createElement("div",{className:"spinner-fit-container"},n().createElement(o.A,null)),n().createElement("div",{className:"spinner-loading-text"},"Loading persistent storage list..."))}},903:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GA_DATE_STR:()=>o,PreviewLabel:()=>c,createdPostGa:()=>u});var l=a(93345),n=a.n(l),r=a(72432),i=a(41451),s=a(25514);const o="2023-12-04T00:00:00Z",u=(e,t)=>(e?new Date(e):new Date)>=(t?new Date(t):new Date),c=e=>{const{className:t,creationDateStr:a,product:l,text:c,type:d}=e,m=(0,s.useGetTechPreviewStatus)(l||"rosa",d||"hcp"),p=(0,s.useTechPreviewStatus)(l||"rosa",d||"hcp");if(n().useEffect((()=>{p||m()}),[m,p]),null==p?void 0:p.fulfilled){const e=(null==p?void 0:p.end_date)||o,l=n().createElement(r.A,null,p.additional_text||"");return u(a,e)?null:n().createElement(i.Ay,{text:c||"Technology Preview",popoverContent:l,className:t})}return null}},36447:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(93345),n=a.n(l),r=a(74688),i=a(17724),s=a(45996),o=a(9670);const u=function({title:e,used:t,total:a,unit:u,humanize:c,donutId:d,type:m}){const p=(0,l.useMemo)((()=>c?r.humanizeValueWithUnit:r.roundValueWithUnit),[c]),f=(0,l.useMemo)((()=>null!=u?u:"B"),[u]),[E,g]=(0,l.useState)(),[v,h]=(0,l.useState)(),[_,S]=(0,l.useState)(),[b,C]=(0,l.useState)(),y=(0,l.useMemo)((()=>({primary:`${b}%`,secondary:`of ${null==v?void 0:v.value} ${null==v?void 0:v.unit} used`})),[null==v?void 0:v.unit,null==v?void 0:v.value,b]);(0,l.useEffect)((()=>{t&&a&&f?(g(p(t,f)),h(p(a,f)),S(p(a-t,f)),C(Math.round(t/a*100*100)/100)):(g(p(0,f)),h(p(0,f)),S(p(0,f)),C(0))}),[t,a,p,f]);const I=(0,l.useMemo)((()=>({labels:({datum:e})=>e.x?`${e.x}`:null,constrainToVisibleArea:!0,legendData:[{name:`Used: ${null==E?void 0:E.value} ${null==E?void 0:E.unit}`},{name:`Available: ${null==_?void 0:_.value} ${null==_?void 0:_.unit}`}],legendOrientation:"vertical",padding:{bottom:20,left:20,right:195,top:20},height:205,width:410})),[null==_?void 0:_.unit,null==_?void 0:_.value,null==E?void 0:E.unit,null==E?void 0:E.value]),A=(0,l.useCallback)((e=>n().createElement(i.P,{id:d,title:y.primary,subTitle:y.secondary,data:{x:`${null==E?void 0:E.value} ${null==E?void 0:E.unit}`,y:b},thresholds:[{value:80},{value:95}],...e})),[y.primary,y.secondary,d,null==E?void 0:E.unit,null==E?void 0:E.value,b]),R=(0,l.useCallback)((()=>n().createElement("div",null,n().createElement(o.h,{className:"metrics-chart chart-title",headingLevel:"h4",size:"xl"},e),n().createElement("div",{className:"metrics-chart"},n().createElement(s.G,{ariaDesc:e,data:[{x:"",y:80},{x:"Warning at 80%",y:95},{x:"Danger at 95%",y:100}],labels:({datum:e})=>e.x||null,height:185,width:185,subTitlePosition:"bottom",padding:{bottom:24}},A({}))))),[A,e]),T=(0,l.useCallback)((()=>n().createElement("div",null,n().createElement(o.h,{className:"metrics-chart chart-title-with-legend",headingLevel:"h4",size:"xl"},e),n().createElement("div",{className:"metrics-chart chart-with-legend"},A(I)))),[A,I,e]);return"legend"===m?n().createElement(T,null):n().createElement(R,null)},c=({cpu:e,memory:t,metricsStatusMessage:a,metricsAvailable:l,type:i})=>{const s=({value:e,unit:t})=>(0,r.parseValueWithUnit)(e,t);return l?n().createElement(n().Fragment,null,n().createElement(u,{title:"vCPU",total:e.total.value,used:e.used.value,unit:"Cores",humanize:!1,donutId:"cpu_donut",type:i}),n().createElement(u,{title:"Memory",total:s(t.total),used:s(t.used),unit:"B",humanize:!0,donutId:"memory_donut",type:i})):n().createElement("p",null,a)}},73838:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(49853),i=a(74688);const s=({used:e,total:t,unit:a,humanize:s,donutId:o,usedTitle:u,availableTitle:c})=>{const d=(0,l.useMemo)((()=>s?i.humanizeValueWithUnit:i.roundValueWithUnit),[s]),m=(0,l.useMemo)((()=>null!=a?a:"B"),[a]),[p,f]=(0,l.useState)(),[E,g]=(0,l.useState)(),[v,h]=(0,l.useState)(),[_,S]=(0,l.useState)(),[b,C]=(0,l.useState)();return(0,l.useEffect)((()=>{e&&t&&m?(f(d(e,m)),g(d(t,m)),h(d(t-e,m)),S(Math.round(e/t*100*100)/100),C(Math.round((t-e)/t*100*100)/100)):(f(d(0,m)),g(d(0,m)),h(d(0,m)),S(0),C(0))}),[e,t,m,d]),n().createElement("div",null,n().createElement("div",{className:"small-donut-chart-container"},v&&p&&p?n().createElement(r.H,{name:o,labels:({datum:e})=>`${e.x}`,data:[{x:`${null==p?void 0:p.value} ${null==p?void 0:p.unit}`,y:_},{x:`${null==v?void 0:v.value} ${null==v?void 0:v.unit}`,y:b}],constrainToVisibleArea:!0,legendData:[{name:`${u}: ${null==p?void 0:p.value} ${null==p?void 0:p.unit}`},{name:`${c}: ${null==v?void 0:v.value} ${null==v?void 0:v.unit}`}],legendOrientation:"vertical",padding:{bottom:20,left:20,right:195,top:20},title:`${null==E?void 0:E.value}`,height:205,width:440}):null))}},59910:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterDetailConsts:()=>r,metricsStatusMessages:()=>n});var l=a(23271);const n={[l.default.INSTALLING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[l.default.PENDING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[l.default.VALIDATING]:"This cluster is installing so some data might not be available. This may take a few minutes.",[l.default.WAITING]:"This cluster requires user action before installation can start.",[l.default.ERROR]:"An error occured",[l.default.UNINSTALLING]:"This cluster is being deleted so some data might not be available.",[l.default.STALE]:"No metrics sent during the last 24 hours.",[l.default.UNKNOWN]:"The cluster currently does not have any metrics data. Try again later.",archived:"The cluster has been archived and does not have any metrics data.",default:"The cluster currently does not have any metrics data. Try again later."},r={metricsStatusMessages:n}},88485:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(93345),n=a.n(l),r=a(71468),i=a(20491),s=a(91089),o=a(82309),u=a(16236),c=a(96678),d=a(25514),m=a(55816),p=a(28592),f=a(43775),E=a(67864),g=a(94560);const v=({onClose:e})=>{const t=(0,r.wA)(),a=(0,d.useGlobalState)((e=>e.modal.data)),l=a.clusterID||"",f=a.clusterName||"",v=!!a.shouldDisplayClusterName,h=a.rh_region_id,{mutate:_,isSuccess:S,error:b,isError:C,isPending:y,reset:I}=(()=>{var e;const{isSuccess:t,error:a,isError:l,isPending:n,mutate:r,reset:i}=(0,o.n)({mutationKey:["clusterService","resume_from_hibernate_cluster"],mutationFn:({clusterID:e,region:t})=>(0,u.getClusterServiceForRegion)(t).resumeCluster(e)});return{isSuccess:t,error:l&&a?null===(e=(0,c.formatErrorData)(n,l,a))||void 0===e?void 0:e.error:null,isError:l,isPending:n,mutate:r,reset:i}})(),A=n().useCallback((()=>{t((0,s.closeModal)())}),[t]);return n().useEffect((()=>{S&&(I(),e(),A())}),[A,e,I,S]),n().createElement(p.default,{"data-testid":"resume-cluster-modal",header:n().createElement(g.A,{title:"Resume from hibernation"}),secondaryTitle:v?f:void 0,onClose:A,primaryText:"Resume cluster",secondaryText:"Close",onPrimaryClick:()=>_({clusterID:l,region:h}),isPending:y,onSecondaryClick:A,"aria-label":"Resume from hibernation"},n().createElement(i.l,{onSubmit:()=>_({clusterID:l,region:h})},C?n().createElement(m.default,{message:"Error hibernating cluster",response:b||{}}):null,n().createElement(E.A,{clusterName:f,isHibernating:!0})))};v.modalName=f.default.RESUME_CLUSTER;const h=v},18934:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var l=a(93345),n=a.n(l),r=a(88139),i=a(58156),s=a.n(i),o=a(71468),u=a(6071),c=a(35777),d=a(36291),m=a(25514),p=a(55816),f=a(28592),E=a(91089),g=a(43775),v=a(9704),h=a(24510),_=a(20491),S=a(30620),b=a(23215),C=a(56780),y=a(92148),I=a(22629),A=a(30704);const R=({submitForm:e,pending:t})=>{var a,l,i,s;const o=(0,m.useGlobalState)((e=>e.modal.data)),u=(0,v.get)(o,"console.url",null),c=(0,v.get)(o,"rh_region_id",void 0),d=null===(a=o.ccs)||void 0===a?void 0:a.enabled,p=(o.shouldDisplayClusterName,(0,v.get)(o,"cloud_provider.id","")),f=null===(l=o.subscription)||void 0===l?void 0:l.cluster_billing_model,E=null===(s=null===(i=o.subscription)||void 0===i?void 0:i.plan)||void 0===s?void 0:s.type,g=o.multi_az,{setFieldValue:R,getFieldProps:T,getFieldMeta:O,values:P,initialValues:D}=(0,r.useFormikContext)(),L=(0,m.useGlobalState)((e=>(0,A.FI)(e,P.load_balancers))),N=(0,m.useGlobalState)((e=>(0,A.wm)(e,P.persistent_storage))),w=u?n().createElement("a",{href:`${u}/k8s/ns/default/resourcequotas`,target:"_blank",rel:"noopener noreferrer"},"Check your usage"):"Check your usage",k=n().createElement(h.F,{variant:"warning",isInline:!0,title:"Scaling below the current limit can cause problems in your environment"},n().createElement("div",null,n().createElement("p",null,w," before proceeding to be sure you are not scaling below what is currently being used.")));return n().createElement(_.l,{onSubmit:e},n().createElement(S.x,{hasGutter:!0},!d&&n().createElement(n().Fragment,null,n().createElement(b.E,{span:8},n().createElement(C.g,{fieldId:"load_balancers",label:"Load balancers"},n().createElement(r.Field,{label:"Load balancers",name:"load_balancers",component:y.A,input:{...T("load_balancers"),onChange:e=>{R("load_balancers",e)}},meta:O("load_balancers"),currentValue:D.load_balancers,disabled:t,cloudProviderID:p,billingModel:f,product:E,isBYOC:d,isMultiAZ:g,region:c}))),n().createElement(b.E,{span:4}),L&&k,n().createElement(b.E,{span:8},n().createElement(C.g,{fieldId:"persistent_storage",label:"Persistent storage"},n().createElement(r.Field,{label:"Persistent storage",name:"persistent_storage",component:I.A,input:{...T("persistent_storage"),onChange:e=>{R("persistent_storage",e)}},meta:O("persistent_storage"),disabled:t,currentValue:D.persistent_storage,cloudProviderID:p,billingModel:f,product:E,isBYOC:d,isMultiAZ:g,region:c}))),n().createElement(b.E,{span:4}),N&&k)))},T=({handleSubmit:e,initialValues:t,pristine:a})=>{var l;const i=(0,o.wA)(),g=(0,m.useGlobalState)((e=>e.modal.data)),v=s()(g,"rh_region_id",void 0),h=null===(l=g.ccs)||void 0===l?void 0:l.enabled,_=(0,u.default)(g),S=g.shouldDisplayClusterName||!1,b=g.id||"",{isPending:C,isError:y,error:I,mutate:A}=(0,c.useEditCluster)(b,v),T=()=>{i((0,E.closeModal)())},O=y?n().createElement(p.default,{message:"Error editing cluster",response:I}):null,P=C,D=h?"edit-cluster-modal":"edit-cluster-modal edit-cluster-modal-rhinfra";return n().createElement(r.Formik,{initialValues:{id:g.id,nodes_compute:g.nodes?g.nodes.compute:null,load_balancers:g.load_balancer_quota?g.load_balancer_quota:0,persistent_storage:g.storage_quota?g.storage_quota.value:107374182400},onSubmit:e=>(e=>{const t={};h||(t.load_balancer_quota=e.load_balancers?parseInt(e.load_balancers,10):null,t.storage_quota=e.persistent_storage?{unit:"B",value:parseFloat(e.persistent_storage)}:null),A(t,{onSuccess:()=>{i((0,E.closeModal)()),(0,d.refreshQueries)()}})})(e)},(({submitForm:e,dirty:t})=>n().createElement(f.default,{className:D,title:"Edit load balancers and persistent storage",secondaryTitle:S?_:void 0,onClose:T,primaryText:"Apply",onPrimaryClick:e,onSecondaryClick:T,isPrimaryDisabled:P||!t,isPending:P,isSmall:!0},n().createElement(n().Fragment,null,O,n().createElement(R,{submitForm:e,pending:P})))))};T.modalName=g.default.SCALE_CLUSTER;const O=T},27164:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TreeViewSelect:()=>A,TreeViewSelectMenuItem:()=>I});var l=a(93345),n=a.n(l),r=a(25929),i=a(30666),s=a(93973),o=a(90678),u=a(73113),c=a(51976),d=a(22069),m=a(4775),p=a(49650),f=a(5924),E=a(99755),g=a(43238),v=a(28377),h=a(17661),_=a(88301),S=a(45330),b=a(30144),C=a(61302),y=a(76774);function I(e){const{name:t,description:a,popoverText:l,icon:r}=e,p=n().createElement(i.B,{hasGutter:!0},n().createElement(s.o,null,n().createElement(o.B,null,n().createElement(u.a,null,t),n().createElement(u.a,null,n().createElement(c.n,null,n().createElement(d.E,{component:"small"},a))))),n().createElement(s.o,{isFilled:!0}),r&&n().createElement(s.o,null,r),n().createElement(s.o,null));return l?n().createElement(m.A,{triggerAction:"hover",position:"right",bodyContent:n().createElement("div",null,l)},p):p}function A(e){const{helperText:t,includeFilterSwitch:a,setSelected:i,selected:s,selectionPlaceholderText:o,menuToggleBadge:u,treeViewSelectionMap:c,treeViewSwitchActive:d,setTreeViewSwitchActive:m,placeholder:I,searchPlaceholder:A,switchLabelOnText:R,switchLabelOffText:T,ariaLabel:O,allExpanded:P=!1}=e,[D,L]=(0,l.useState)(!1),[N,w]=(0,l.useState)(c),[k,F]=(0,l.useState)(""),M=n().useRef(null),x=n().useRef(null),[G,U]=n().useState([]);(0,l.useEffect)((()=>{s&&U([s])}),[s]);const H=(0,l.useCallback)((()=>{if(""===k)w(c);else{const e=c.map((e=>{if(e.children){let t=1;const a=new r.A(e.children,{keys:["id","category","descriptionLabel","nameLabel"],shouldSort:!0,threshold:.3,includeScore:!0,ignoreLocation:!0,minMatchCharLength:1}).search(k.trim()).map((({item:e,score:a})=>(a&&a<t&&(t=a),e)));if(a.length>0)return{...e,children:a,sortingScore:t}}})).filter(Boolean);e.sort(((e,t)=>(e.sortingScore||1/0)-(t.sortingScore||1/0))),w(e)}}),[k,c]);(0,l.useEffect)((()=>{H()}),[c,H]);const V=n().createElement(p.M,{className:"tree-view-select-toolbar"},n().createElement(f.P,null,a&&n().createElement(E.T,{widths:{default:"100%"},className:"pf-u-pt-xs pf-u-pb-sm pf-u-pl-md pf-u-pr-sm"},n().createElement(g.d,{"data-testid":"display-switch",label:R,labelOff:T,isChecked:d,onChange:()=>{m(!d)}})),n().createElement(E.T,{widths:{default:"100%"}},n().createElement(v.I,{autoComplete:"off",className:"pf-u-pt-sm pf-u-pb-sm pf-u-pl-sm pf-u-pr-sm pf-u-w-inherit",placeholder:A,onSearch:e=>{F(e.target.value),H()},"aria-label":O&&`${O} search field`})))),B=n().createElement(h.S,{ref:M,"aria-label":O&&`${O} toggle`,className:"tree-view-select-menu-toggle",onClick:e=>{D||(w(c),F("")),L(!D)},isExpanded:D,badge:u},o||s||I),q=n().createElement(_.Z,{ref:x,isScrollable:!0,variant:"raised",className:"tree-view-select-panel"},n().createElement(S.s,null,n().createElement("section",null,n().createElement(b.y,null,n().createElement(C.G,{className:"tree-view-custom-class",onSelect:(e,t)=>{t.id&&!(null==t?void 0:t.children)&&(i(e,t),L(!1))},toolbar:V,hasSelectableNodes:!1,allExpanded:P||""!==k,data:N,useMemo:!0,activeItems:G})))));return n().createElement(n().Fragment,null,n().createElement(y.$,{isOpen:D,onOpenChange:e=>{F(""),L(e)},onOpenChangeKeys:["Escape"],menu:q,menuRef:x,toggle:B,toggleRef:M}),t)}},34108:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SubnetSelectField:()=>d});var l=a(93345),n=a.n(l),r=a(56780),i=a(96998),s=a(96553),o=a(32358),u=a(38715),c=a(57983);const d=({name:e,label:t,input:a,meta:d,isRequired:m,className:p,privacy:f,withAutoSelect:E=!0,selectedVPC:g,allowedAZs:v})=>{const[h,_]=(0,l.useState)(!1),S=a.value,b=d.touched&&(d.error||m&&!S),{subnetsByAZ:C,subnetList:y,hasOptions:I}=(0,l.useMemo)((()=>{var e;const t=[],a={};null===(e=g.aws_subnets)||void 0===e||e.forEach((e=>{const l=e.availability_zone||"";if((0,o.isSubnetMatchingPrivacy)(e,f)&&(void 0===v||v.includes(l))){const n=e.subnet_id,r={groupId:l,entryId:n,label:e.name||n};a[l]?a[l].push(r):a[l]=[r],t.push(e)}}));const l=t.length>0;return{subnetsByAZ:a,subnetList:t,hasOptions:l}}),[g,v,f]);(0,l.useEffect)((()=>{const e=y.some((e=>e.subnet_id===S));let t=null;E?!e&&I&&(t=y[0].subnet_id):e||(t=""),null!==t&&t!==S&&a.onChange(t)}),[E,I,y,S]);const A=(0,l.useCallback)(((e,t)=>{a.onChange(t),_(!1)}),[a]);let R=`Select ${f} subnet`;return(null==g?void 0:g.id)&&!I&&(void 0===v||v.length>0)&&(R=`No ${f} subnets found.`),n().createElement(r.g,{fieldId:e||a.name,label:t,isRequired:m,className:p},n().createElement(i.s,null,n().createElement(s.Z,{grow:{default:"grow"}},n().createElement(c.FuzzySelect,{"aria-label":t,isOpen:h,onOpenChange:e=>_(e),onSelect:A,selectedEntryId:S,selectionData:C,isDisabled:!(null==g?void 0:g.id)||!I,placeholderText:R,truncation:40,inlineFilterPlaceholderText:"Filter by subnet ID / name",validated:b?"danger":void 0,isPopover:!0,toggleId:e||a.name}))),n().createElement(u.FormGroupHelperText,{touched:d.touched,error:b}))}},74450:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var l=a(93345),n=a.n(l),r=a(71468),i=a(51976),s=a(22069),o=a(12921),u=a(90118),c=a(70763),d=a(6071),m=a(69304),p=a(91822),f=a(25514),E=a(13642),g=a(55816),v=a(8888),h=a(28592),_=a(91089),S=a(43775);const b=({onClose:e})=>{const t=(0,r.wA)(),a=(0,f.useGlobalState)((e=>e.modal.data)),{isPending:S,isError:b,error:C,mutate:y,isSuccess:I}=(0,p.useToggleSubscriptionReleased)(),A=(0,l.useMemo)((()=>{const e={subscription:a.subscription};return(0,d.default)(e)}),[a]),R=(0,l.useMemo)((()=>a.subscription),[a]),T=(0,l.useMemo)((()=>{var e;return null!==(e=a.shouldDisplayClusterName)&&void 0!==e&&e}),[a]),O=(0,l.useCallback)((()=>{t((0,_.closeModal)())}),[t]);return(0,l.useEffect)((()=>{I&&(O(),e())}),[O,e,I]),n().createElement(h.default,{title:"Transfer cluster ownership",secondaryTitle:T?A:void 0,width:600,variant:"large",onClose:O,primaryText:"Initiate transfer",secondaryText:"Cancel",onPrimaryClick:()=>{var e;if(null==R?void 0:R.id){const a=null!==(e=null==R?void 0:R.released)&&void 0!==e&&e;y({subscriptionID:R.id,released:!a},{onSuccess:()=>{a&&t((0,c.addNotification)({variant:"success",title:"Cluster ownership transfer canceled",dismissable:!1}))}})}},onSecondaryClick:O,isPrimaryDisabled:S},b?n().createElement(g.default,{message:"Error initiating transfer",response:null==C?void 0:C.error}):null,n().createElement(i.n,null,n().createElement(s.E,{component:s.Y.p},"Transferring cluster ownership will allow another individual to manage this cluster. The steps for transferring cluster ownership are:"),(null==R?void 0:R.status)===E.SubscriptionCommonFields.status.DISCONNECTED?n().createElement(o.K,{component:o.C.ol},n().createElement(u.L,null,"Initiate transfer"),n().createElement(u.L,null,n().createElement(v.default,{href:`${m.ocmBaseName}/register`},"Register the cluster")," ","within 5 days")):n().createElement(n().Fragment,null,n().createElement(o.K,{component:o.C.ol},n().createElement(u.L,null,"Initiate transfer"),n().createElement(u.L,null,n().createElement(v.default,{href:"https://access.redhat.com/solutions/4902871"},"Change the cluster's pull secret")," ","within 5 days")),n().createElement(s.E,{component:s.Y.p},"The transfer is complete when OpenShift Cluster Manager receives telemetry data from the cluster with the new pull secret.")),n().createElement(s.E,{component:s.Y.h4},"If the transfer is not completed within 5 days, the procedure must be restarted.")))};b.modalName=S.default.TRANSFER_CLUSTER_OWNERSHIP;const C=b},56480:(e,t,a)=>{"use strict";a.d(t,{B:()=>l,p:()=>n});const l="TOGGLE_SUBSCRIPTION_RELEASED",n="CLEAR_TOGGLE_SUBSCRIPTION_RELEASED_RESPONSE"},38544:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canTransferClusterOwnershipListFromClusters:()=>s,canTransferClusterOwnershipListSelector:()=>i,canTransferClusterOwnershipMultiRegion:()=>r,canTransferClusterOwnershipSelector:()=>n});var l=a(11009);const n=e=>{var t,a,n;return(0,l.hasCapability)(null===(n=null===(a=null===(t=e.clusters)||void 0===t?void 0:t.details)||void 0===a?void 0:a.cluster)||void 0===n?void 0:n.subscription,l.subscriptionCapabilities.RELEASE_OCP_CLUSTERS)},r=e=>(0,l.hasCapability)(null==e?void 0:e.subscription,l.subscriptionCapabilities.RELEASE_OCP_CLUSTERS),i=e=>{var t,a,n;return(null!==(n=null===(a=null===(t=null==e?void 0:e.clusters)||void 0===t?void 0:t.clusters)||void 0===a?void 0:a.clusters)&&void 0!==n?n:[]).reduce(((e,t)=>({...e,[`${t.id}`]:(0,l.hasCapability)(t.subscription,l.subscriptionCapabilities.RELEASE_OCP_CLUSTERS)})),{})},s=(e=[])=>e.reduce(((e,t)=>({...e,[`${t.id}`]:(0,l.hasCapability)(t.subscription,l.subscriptionCapabilities.RELEASE_OCP_CLUSTERS)})),{})},62306:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var l=a(93345),n=a.n(l),r=a(71468),i=a(20491),s=a(3678),o=a(82309),u=a(16236),c=a(96678),d=a(95732),m=a(25514),p=a(55816),f=a(28592),E=a(91089),g=a(43775);const v=({onClose:e})=>{const t=(0,m.useGlobalState)((e=>e.modal.data)),a=(null==t?void 0:t.subscriptionID)||"",l=(null==t?void 0:t.name)||"",g=!!(null==t?void 0:t.shouldDisplayClusterName),v=(0,r.wA)(),h=()=>{v((0,E.closeModal)())},{isSuccess:_,error:S,isError:b,isPending:C,mutate:y,reset:I}=(()=>{var e;const t=(0,r.wA)(),{isSuccess:a,error:l,isError:n,isPending:i,mutate:m,reset:p}=(0,o.n)({mutationKey:["clusterService","unarchiveCluster"],mutationFn:({subscriptionID:e,displayName:a,region:l})=>(0,u.getClusterServiceForRegion)(l).unarchiveCluster(e).then((e=>(t((0,s.addNotification)((0,d.n)(a,!1))),e)))});return{isSuccess:a,error:n&&l?null===(e=(0,c.formatErrorData)(i,n,l))||void 0===e?void 0:e.error:null,isError:n,isPending:i,mutate:m,reset:p}})();_&&(I(),e(),h());const A=()=>{I(),h()},R=()=>y({subscriptionID:a,displayName:l});return n().createElement(f.default,{title:"Unarchive cluster",secondaryTitle:g?l:void 0,"data-testid":"unarchive-cluster-dialog",onClose:A,primaryText:"Unarchive cluster",onPrimaryClick:()=>R(),isPending:C,onSecondaryClick:A},n().createElement(n().Fragment,null,b?n().createElement(p.default,{message:"Error un-archiving cluster",response:S||{}}):null,n().createElement(i.l,{onSubmit:()=>R()},n().createElement("p",null,"Un-archiving a cluster will make it visible in the active (default) cluster list. You may need to manage subscriptions if the cluster is active."))))};v.modalName=g.default.UNARCHIVE_CLUSTER;const h=v},686:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(93345),n=a.n(l),r=a(17661),i=a(56780),s=a(22563),o=a(81995),u=a(97862);const c=e=>{const[t,a]=(0,l.useState)(!1),{input:{value:c,onChange:d},isDisabled:m}=e,p={15:"15 minutes",30:"30 minutes",60:"1 hour",120:"2 hours",240:"4 hours",480:"8 hours"};return n().createElement(i.g,{label:"Grace period",className:"ocm-c-upgrades-pdb-select"},n().createElement(s.l,{id:"single-select",isOpen:t,selected:c,onSelect:(e,t)=>{t&&(a(!1),d(Number(t)))},onOpenChange:e=>{a(e)},toggle:e=>n().createElement(r.S,{ref:e,onClick:()=>a(!t),isExpanded:t,isDisabled:m,className:"ocm-c-upgrades-pdb-select__toggle","data-testid":"grace-period-select"},p[c]),shouldFocusToggleOnSelect:!0,popperProps:{direction:"up"}},n().createElement(o.B,null,Object.keys(p).map((e=>n().createElement(u.O,{value:Number(e)},p[e]))))))}},99908:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_DELETE_UPGRADE_SCHEDULE:()=>u,CLEAR_GET_UPGRADE_SCHEDULE:()=>c,CLEAR_POST_UPGRADE_SCHEDULE:()=>i,DELETE_UPGRADE_SCHEDULE:()=>o,GET_UPGRADE_SCHEDULES:()=>s,POST_UPGRADE_SCHEDULE:()=>r,SET_CLUSTER_UPGRADE_POLICY:()=>d,clearDeleteScheduleResponse:()=>R,clearPostedUpgradeScheduleResponse:()=>T,clearSchedulesResponse:()=>O,deleteSchedule:()=>A,editSchedule:()=>I,getSchedules:()=>b,postSchedule:()=>C,replaceSchedule:()=>y,setAutomaticUpgradePolicy:()=>P});var l=a(77475),n=a(16236);const r="POST_UPGRADE_SCHEDULE",i="CLEAR_UPGRADE_SCHEDULE",s="GET_UPGRADE_SCHEDULES",o="DELETE_UPGRADE_SCHEDULE",u="CLEAR_DELETE_UPGRADE_SCHEDULE",c="CLEAR_GET_UPGRADE_SCHEDULE",d="SET_CLUSTER_UPGRADE_POLICY",{patchUpgradeSchedule:m,patchControlPlaneUpgradeSchedule:p,getUpgradeScheduleState:f,getControlPlaneUpgradeSchedules:E,getUpgradeSchedules:g,postControlPlaneUpgradeSchedule:v,postUpgradeSchedule:h,deleteControlPlaneUpgradeSchedule:_,deleteUpgradeSchedule:S}=n.default,b=(e,t)=>(0,l.action)(s,t?E(e):g(e).then((e=>{const t=e.data.items||[],a=[];return t.forEach((e=>{e.cluster_id&&e.id&&a.push(f(e.cluster_id,e.id).then((t=>{e.state=t.data})))})),Promise.all(a).then((()=>(e.data.items=t,e)))}))),C=(e,t,a)=>l=>{l({type:r,payload:(a?v:h)(e,t).then((t=>(l(b(e,a)),t)))})},y=(e,t,a,l)=>n=>{const i=l?v:h;n({type:r,payload:(l?_:S)(e,t).then((()=>i(e,a))).then((t=>(n(b(e,l)),t)))})},I=(e,t,a,l)=>n=>{n({type:r,payload:(l?p:m)(e,t,a).then((t=>(n(b(e,l)),t)))})},A=(e,t,a)=>l=>{l({type:o,payload:(a?_:S)(e,t).then((t=>(l(b(e,a)),t)))})},R=()=>e=>e({type:u}),T=()=>e=>e({type:i}),O=()=>e=>e({type:c}),P=e=>({type:d,payload:e})},66282:(e,t,a)=>{"use strict";a.d(t,{F:()=>r});var l=a(73424),n=a(13642);const r=e=>{switch(!0){case null==e?void 0:e.toLowerCase().startsWith("marketplace"):return n.RelatedResource.billing_model.MARKETPLACE;case e===n.SubscriptionCommonFields.cluster_billing_model.STANDARD:return n.RelatedResource.billing_model.STANDARD;case e===l.x4:return n.RelatedResource.billing_model.ANY;default:return}}},11611:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAX_NODES_DEFAULT:()=>l.nm,getClusterAutoScalingSubmitSettings:()=>s,getCompleteFormClusterAutoscaling:()=>o,getDefaultClusterAutoScaling:()=>i});var l=a(70557);const n=64*l.nm,r=64*l.nm*20,i=(e=l.nm)=>({balance_similar_node_groups:!1,balancing_ignored_labels:"",skip_nodes_with_local_storage:!0,log_verbosity:1,ignore_daemonsets_utilization:!1,max_node_provision_time:"15m",max_pod_grace_period:600,pod_priority_threshold:-10,resource_limits:{max_nodes_total:e,cores:{min:0,max:n},memory:{min:0,max:r},gpus:""},scale_down:{enabled:!0,delay_after_add:"10m",delay_after_delete:"0s",delay_after_failure:"3m",utilization_threshold:"0.5",unneeded_time:"10m"}}),s=e=>{var t;let a;(null===(t=e.scale_down)||void 0===t?void 0:t.enabled)?(a={...e.scale_down},a.utilization_threshold=`${a.utilization_threshold}`):a={enabled:!1};let l=[];e.resource_limits.gpus&&(l=(e.resource_limits.gpus||"").split(",").map((e=>{const t=e.split(":");return{type:t[0],range:{min:Number(t[1]),max:Number(t[2])}}})));const n=(e.balancing_ignored_labels||"").split(",").filter(Boolean),r={...e,scale_down:a,balancing_ignored_labels:n,resource_limits:{...e.resource_limits,gpus:l}};return delete r.isSelected,r},o=e=>{var t;const a={...e},l=i();a.scale_down||(a.scale_down=l.scale_down),a.scale_down.delay_after_add||(a.scale_down.delay_after_add=l.scale_down.delay_after_add),a.scale_down.delay_after_delete||(a.scale_down.delay_after_delete=l.scale_down.delay_after_delete),a.scale_down.delay_after_failure||(a.scale_down.delay_after_failure=l.scale_down.delay_after_failure),a.scale_down.unneeded_time||(a.scale_down.unneeded_time=l.scale_down.unneeded_time),a.scale_down.utilization_threshold||(a.scale_down.utilization_threshold=l.scale_down.utilization_threshold);const n=(null===(t=a.resource_limits)||void 0===t?void 0:t.gpus)||[];a.resource_limits.gpus=n.map((e=>{var t,a;return`${e.type}:${(null===(t=e.range)||void 0===t?void 0:t.min)||0}:${(null===(a=e.range)||void 0===a?void 0:a.max)||0}`})).join(",");const r=a.balancing_ignored_labels||[];return a.balancing_ignored_labels=r.join(","),a}},23271:(e,t,a)=>{"use strict";a.r(t),a.d(t,{canViewMachinePoolTab:()=>D,default:()=>N,getClusterAIPermissions:()=>P,getClusterStateAndDescription:()=>d,getInflightChecks:()=>m,getStateDescription:()=>o,hasInflightEgressErrors:()=>f,isAWS:()=>b,isAWSPrivateCluster:()=>L,isCCS:()=>S,isClusterUpgradeCompleted:()=>c,isClusterUpgrading:()=>u,isErrorSharedGCPVPCValues:()=>h,isGCP:()=>C,isHibernating:()=>p,isHypershiftCluster:()=>I,isOSD:()=>E,isOSDGCPPendingOnHostProject:()=>v,isOSDGCPWaitingForRolesOnHostProject:()=>g,isOffline:()=>O,isROSA:()=>_,isROSAManualMode:()=>y,isWaitingForOIDCProviderOrOperatorRolesMode:()=>A,isWaitingHypershiftCluster:()=>R,isWaitingROSAManualMode:()=>T});var l,n=a(75166),r=a(13642),i=a(17629);!function(e){e.UPDATING="updating",e.DISCONNECTED="disconnected",e.DEPROVISIONED="deprovisioned",e.ARCHIVED="archived",e.STALE="stale"}(l||(l={}));const s={...i.ClusterState,...l},o=e=>e===s.DEPROVISIONED?"Deleted":e?(e.charAt(0).toUpperCase()+e.slice(1)).replace(/_/g," "):"",u=e=>"running"===(null==e?void 0:e.metrics.upgrade.state),c=e=>"completed"===(null==e?void 0:e.metrics.upgrade.state),d=e=>{var t,a,l,n,c;let d;return(null===(t=e.subscription)||void 0===t?void 0:t.status)===r.SubscriptionCommonFields.status.DISCONNECTED?d=s.DISCONNECTED:(null===(a=e.subscription)||void 0===a?void 0:a.status)===r.SubscriptionCommonFields.status.DEPROVISIONED?d=s.DEPROVISIONED:(null===(l=e.subscription)||void 0===l?void 0:l.status)===r.SubscriptionCommonFields.status.ARCHIVED?d=s.ARCHIVED:e.state===i.ClusterState.INSTALLING||e.state===i.ClusterState.VALIDATING||e.state===i.ClusterState.PENDING?d=s.INSTALLING:e.state===i.ClusterState.WAITING?d=s.WAITING:e.state===i.ClusterState.UNINSTALLING?d=s.UNINSTALLING:e.state===i.ClusterState.ERROR?d=s.ERROR:e.state===i.ClusterState.HIBERNATING?d=s.HIBERNATING:e.state===i.ClusterState.POWERING_DOWN?d=s.POWERING_DOWN:e.state===i.ClusterState.RESUMING?d=s.RESUMING:(null===(n=e.subscription)||void 0===n?void 0:n.status)===r.SubscriptionCommonFields.status.STALE?d=s.STALE:u(e)?d=s.UPDATING:(null===(c=e.subscription)||void 0===c?void 0:c.status)!==r.SubscriptionCommonFields.status.ACTIVE&&e.state!==i.ClusterState.READY||(d=s.READY),{state:d,description:o(d)}},m=e=>e&&Array.isArray(e.inflight_checks)?e.inflight_checks:[],p=e=>e.state===i.ClusterState.HIBERNATING||e.state===i.ClusterState.POWERING_DOWN||e.state===i.ClusterState.RESUMING,f=e=>m(e).some((e=>{if(e.state!==i.InflightCheckState.PASSED){const{details:t={}}=e;return Object.keys(t).some((e=>e.startsWith("subnet")&&Object.keys(t[e]).some((e=>e.startsWith("egress_url_errors")))))}return!1})),E=e=>{var t;return[n.normalizedProducts.OSD,n.normalizedProducts.OSDTRIAL].includes(null===(t=e.product)||void 0===t?void 0:t.id)},g=e=>{var t,a,l;const n=null===(t=null==e?void 0:e.gcp_network)||void 0===t?void 0:t.vpc_project_id,r=null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.description;return E(e)&&void 0!==n&&void 0!==r&&(null===(l=null==e?void 0:e.status)||void 0===l?void 0:l.state)===i.ClusterState.WAITING&&r.indexOf(n)>-1},v=e=>{var t,a;return E(e)&&["validating","pending"].includes(null===(t=null==e?void 0:e.status)||void 0===t?void 0:t.state)&&!!(null===(a=null==e?void 0:e.gcp_network)||void 0===a?void 0:a.vpc_project_id)},h=e=>{var t,a;return E(e)&&e.state===i.ClusterState.WAITING&&!!(null===(t=null==e?void 0:e.gcp_network)||void 0===t?void 0:t.vpc_project_id)&&!!(null===(a=null==e?void 0:e.status)||void 0===a?void 0:a.description)&&e.status.description.includes(e.gcp_network.vpc_project_id)&&e.status.description.includes("Could not validate the shared subnets")},_=e=>{var t;return(null===(t=null==e?void 0:e.product)||void 0===t?void 0:t.id)===n.normalizedProducts.ROSA},S=e=>{var t,a;return null!==(a=null===(t=e.ccs)||void 0===t?void 0:t.enabled)&&void 0!==a&&a},b=e=>{var t;return"aws"===(null===(t=e.subscription)||void 0===t?void 0:t.cloud_provider_id)},C=e=>{var t;return"gcp"===(null===(t=e.cloud_provider)||void 0===t?void 0:t.id)},y=e=>{var t,a,l,n,r;return _(e)&&!(null===(a=null===(t=null==e?void 0:e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.auto_mode)&&!(null===(r=null===(n=null===(l=null==e?void 0:e.aws)||void 0===l?void 0:l.sts)||void 0===n?void 0:n.oidc_config)||void 0===r?void 0:r.id)},I=e=>{var t,a;return(null===(t=null==e?void 0:e.hypershift)||void 0===t?void 0:t.enabled)||void 0!==(null==e?void 0:e.subscription)&&"plan"in e.subscription&&(null===(a=e.subscription.plan)||void 0===a?void 0:a.id)===n.normalizedProducts.ROSA_HyperShift},A=e=>{var t,a,l;return _(e)&&e.state===i.ClusterState.WAITING&&void 0!==(null===(l=null===(a=null===(t=null==e?void 0:e.aws)||void 0===t?void 0:t.sts)||void 0===a?void 0:a.oidc_config)||void 0===l?void 0:l.id)},R=e=>e.state===i.ClusterState.WAITING&&I(e),T=e=>e.state===i.ClusterState.WAITING&&y(e)&&!I(e),O=e=>p(e)||e.state===i.ClusterState.UNINSTALLING,P=e=>({canEdit:e.canEdit}),D=e=>{var t,a,l;const n=(null===(t=null==e?void 0:e.subscription)||void 0===t?void 0:t.status)===r.SubscriptionCommonFields.status.ARCHIVED||(null===(a=null==e?void 0:e.subscription)||void 0===a?void 0:a.status)===r.SubscriptionCommonFields.status.DEPROVISIONED;return null!==(l=null==e?void 0:e.managed)&&void 0!==l&&l&&((null==e?void 0:e.state)===s.READY||p(e))&&!n},L=e=>{var t,a,l;return null!==(l=(null==e?void 0:e.aws)&&(null===(t=null==e?void 0:e.ccs)||void 0===t?void 0:t.enabled)&&(null===(a=null==e?void 0:e.aws)||void 0===a?void 0:a.private_link))&&void 0!==l&&l},N=s},50927:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterType:()=>i});var l=a(58156),n=a.n(l),r=a(75166);const i=e=>{const t={[r.normalizedProducts.OCP]:{name:"OCP",tooltip:"Self-managed OpenShift Container Platform (OCP) cluster"},[r.normalizedProducts.OCP_ASSISTED_INSTALL]:{name:"OCP",tooltip:"Self-managed OpenShift Container Platform (OCP) cluster"},[r.normalizedProducts.OSD]:{name:"OSD",tooltip:"OpenShift Dedicated (OSD) cluster managed by Red Hat"},[r.normalizedProducts.OSDTRIAL]:{name:"OSD Trial",tooltip:"OpenShift Dedicated (OSD) cluster trial managed by Red Hat"},[r.normalizedProducts.RHMI]:{name:"RHMI",tooltip:"Red Hat Managed Integration"},[r.normalizedProducts.ROSA]:{name:"ROSA",tooltip:"Red Hat OpenShift Service on AWS"},[r.normalizedProducts.ROSA_HyperShift]:{name:"ROSA",tooltip:"Red Hat OpenShift Service on AWS"},[r.normalizedProducts.ARO]:{name:"ARO",tooltip:"Red Hat OpenShift Service on Azure"},[r.normalizedProducts.RHOIC]:{name:"RHOIC",tooltip:"Red Hat OpenShift Service on IBM Cloud"},[r.normalizedProducts.UNKNOWN]:{name:"N/A",tooltip:"Not Available"}};return t[n()(e,"subscription.plan.id",r.normalizedProducts.UNKNOWN)]||t[r.normalizedProducts.UNKNOWN]}},26765:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(13642),n=a(75166);const r=e=>{var t,a,r,i,s;const o="Standard";switch(null===(a=null===(t=e.subscription)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type){case n.normalizedProducts.OSDTRIAL:return"Free trial, upgradeable";case n.normalizedProducts.OSD:switch(null===(r=e.subscription)||void 0===r?void 0:r.cluster_billing_model){case l.SubscriptionCommonFields.cluster_billing_model.STANDARD:return"Annual Red Hat subscriptions";case l.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE:case l.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_AWS:switch(null===(i=e.ccs)||void 0===i?void 0:i.enabled){case!0:return"On-demand via Red Hat Marketplace";case!1:return o;default:return"N/A"}case l.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP:switch(null===(s=e.ccs)||void 0===s?void 0:s.enabled){case!0:return"On-demand via Google Cloud Marketplace";case!1:return o;default:return"N/A"}default:return o}default:return o}}},81621:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var l=a(23271);const n=e=>{var t,a,n;return((0,l.isClusterUpgrading)(e)||(0,l.isClusterUpgradeCompleted)(e)&&(null===(t=e.version)||void 0===t?void 0:t.raw_id)!==e.openshift_version?null===(a=e.version)||void 0===a?void 0:a.raw_id:e.openshift_version)||(null===(n=e.version)||void 0===n?void 0:n.raw_id)||e.metrics.openshift_version||"N/A"}},70557:(e,t,a)=>{"use strict";a.d(t,{DI:()=>d,JT:()=>r,Nt:()=>s,SO:()=>n,Sb:()=>c,_Y:()=>o,gw:()=>m,hM:()=>p,io:()=>u,jy:()=>f,mN:()=>i,nm:()=>l});const l=249,n=180,r=250,i=90,s=500,o=.01,u=4096,c=16384,d=3694303,m=128,p=75,f=300},31261:(e,t,a)=>{"use strict";a.r(t),a.d(t,{buildOptions:()=>E,getAvailableQuota:()=>g,getIncludedNodes:()=>f,getMaxNodesHCP:()=>p,getMaxNodesTotalDefaultAutoscaler:()=>m,getMaxWorkerNodes:()=>d,getNodeCount:()=>v,getNodeOptions:()=>h,getWorkerNodeVolumeSizeMaxGiB:()=>S,getWorkerNodeVolumeSizeMinGiB:()=>_});var l=a(23181),n=a.n(l),r=a(88851),i=a(48539),s=a(23271),o=a(98229),u=a(66282),c=a(70557);const d=e=>{if(e){const t=parseFloat(e),a=Number(e.split(".")[2]);if(t>4.14||4.14===t&&a>=14)return c.nm}return c.SO},m=(e,t)=>{const a=t?3:2;return d(e)+3+a},p=(e,t)=>e&&!(e=>{const t=parseFloat(e),a=Number(e.split(".")[2]);return t>=4.16||!(t<=4.13)&&(4.14===t?a>=28:4.15!==t||a>=15)})(e)?c.mN:t?c.Nt:c.JT,f=({isMultiAz:e,isHypershift:t})=>t?e?9:4:0,E=({included:e,available:t,isEditingCluster:a,currentNodeCount:l,minNodes:r,increment:i,isHypershift:s,clusterVersion:o,allow500Nodes:u,isMultiAz:c})=>{const m=p(o,u),f=t>0||a;let E=a?t+l:t+e;const g=s?m:d(o);return E>g&&(E=g),s&&a&&E>m-l&&(E=m-l),f?n()(r,E+1,i):[r]},g=({quota:e,isByoc:t,isMultiAz:a,machineTypeId:l,machineTypes:n,cloudProviderID:r,product:i,billingModel:s})=>{var c;if(!l)return 0;const d=null===(c=n.typesByID)||void 0===c?void 0:c[l];if(!d)return 0;const m={product:i,cloudProviderID:r,isBYOC:t,isMultiAz:a,resourceName:d.generic_name,billingModel:(0,u.F)(s)};return(0,o.availableNodesFromQuota)(e,m)},v=(e,t,a,l)=>e.reduce(((e,n)=>{const r=(n.autoscaling?n.autoscaling.max_replicas:n.replicas)||0;return t&&n.id!==a||!t&&n.instance_type===l?e+r:e}),0),h=({cluster:e,quota:t,machineTypes:a,machineTypeId:l,machinePools:n,machinePool:r,minNodes:o,editMachinePoolId:u,allow500Nodes:c})=>{var d,m,p,h,_,S,b;const C=(0,i.isMultiAZ)(e),y=(0,i.isMPoolAz)(e,null===(d=null==r?void 0:r.availability_zones)||void 0===d?void 0:d.length),I=g({quota:t,machineTypes:a,machineTypeId:l,isMultiAz:C,isByoc:!!(null===(m=e.ccs)||void 0===m?void 0:m.enabled),cloudProviderID:null===(p=e.cloud_provider)||void 0===p?void 0:p.id,billingModel:null!==(h=e.billing_model)&&void 0!==h?h:null===(_=e.subscription)||void 0===_?void 0:_.cluster_billing_model,product:null===(S=e.product)||void 0===S?void 0:S.id}),A=(0,s.isHypershiftCluster)(e),R=f({isHypershift:A,isMultiAz:C}),T=v(n,A,u,l);return E({available:I,isEditingCluster:!0,included:R,currentNodeCount:T,minNodes:o,increment:y?3:1,isHypershift:(0,s.isHypershiftCluster)(e),clusterVersion:null===(b=e.version)||void 0===b?void 0:b.raw_id,allow500Nodes:c,isMultiAz:C})},_=e=>e?c.hM:c.gw,S=e=>{const[t,a]=(0,r.splitVersion)(e);return 1024*(t>4||4===t&&a>=14?16:1)}},38046:(e,t,a)=>{"use strict";a.r(t),a.d(t,{QuotaTypes:()=>r,defaultQuotaQuery:()=>i});var l=a(73424),n=a(13642);const r={ADD_ON:"add-on",CLUSTER:"cluster",NODE:"compute.node",LOAD_BALANCER:"network.loadbalancer",STORAGE:"pv.storage"},i={resource_type:l.x4,availability_zone_type:l.x4,billing_model:n.RelatedResource.billing_model.ANY,byoc:l.x4,cloud_provider:l.x4,product:l.x4}},98229:(e,t,a)=>{"use strict";a.r(t),a.d(t,{addOnBillingQuota:()=>g,availableClustersFromQuota:()=>_,availableFromQuotaCostItem:()=>p,availableNodesFromQuota:()=>C,availableQuota:()=>E,getAwsBillingAccountsFromQuota:()=>y,getBillingQuotaModel:()=>d,hasHostedQuotaSelector:()=>b,hasManagedQuotaSelector:()=>S,hasPotentialQuota:()=>v,queryFromCluster:()=>h});var l=a(58156),n=a.n(l),r=a(73424),i=a(13642),s=a(17629),o=a(75166),u=a(66282),c=a(38046);const d=e=>e===s.BillingModel.MARKETPLACE_AWS?i.RelatedResource.billing_model.MARKETPLACE:e,m=(e,t)=>(0,r.YW)(e.resource_type,t.resource_type||r.x4)&&(0,r.ai)(e.product,t.product||o.normalizedProducts.ANY)&&(0,r.YW)(e.billing_model,d(t.billing_model||r.x4))&&(0,r.YW)(e.cloud_provider,t.cloud_provider||r.x4)&&(0,r.YW)(e.byoc,t.byoc||r.x4)&&(0,r.ai)(e.availability_zone_type,t.availability_zone_type||r.x4)&&(0,r.YW)(e.resource_name,t.resource_name||r.x4),p=(e,t)=>{var a,l;const n=null!==(l=null===(a=e.related_resources)||void 0===a?void 0:a.filter((e=>m(e,t))).map((e=>e.cost)))&&void 0!==l?l:[];if(0===n.length)return 0;const r=Math.min(...n);if(0===r)return 1/0;const i=Math.floor((e.allowed-e.consumed)/r);return i>0?i:0},f=e=>{var t;return{...c.defaultQuotaQuery,resource_type:e.resourceType||r.x4,product:e.product||o.normalizedProducts.ANY,billing_model:(null===(t=e.billingModel)||void 0===t?void 0:t.toString())===o.STANDARD_TRIAL_BILLING_MODEL_TYPE?i.RelatedResource.billing_model.STANDARD:e.billingModel||i.RelatedResource.billing_model.ANY,cloud_provider:e.cloudProviderID||r.x4,byoc:{true:"byoc",false:"rhinfra",undefined:r.x4}[`${e.isBYOC}`],availability_zone_type:{true:"multi",false:"single",undefined:r.x4}[`${e.isMultiAz}`],resource_name:e.resourceName||r.x4}},E=(e,t)=>{if(!e)return 0;const a={...t,billingModel:t.billingModel&&t.billingModel.startsWith(i.RelatedResource.billing_model.MARKETPLACE)?i.RelatedResource.billing_model.MARKETPLACE:t.billingModel},l=f(a);return((null==e?void 0:e.items)||[]).reduce(((e,t)=>e+p(t,l)),0)},g=(e,t)=>{var a;const l={},n={...c.defaultQuotaQuery,resource_name:t.resourceName,resource_type:t.resourceType||r.x4};return null===(a=e.items)||void 0===a||a.forEach((e=>{var t;null===(t=e.related_resources)||void 0===t||t.forEach((t=>{var a,s,o,u,c,d;m(t,n)&&([r.x4,i.SubscriptionCommonFields.cluster_billing_model.STANDARD].includes(t.billing_model)?l.standard||(l.standard={cost:t.cost,allowed:e.allowed,consumed:e.consumed}):t.billing_model!==i.RelatedResource.billing_model.MARKETPLACE||l.marketplace||(l.marketplace={cost:t.cost,cloudAccounts:{rhm:null!==(s=null===(a=e.cloud_accounts)||void 0===a?void 0:a.filter((e=>"rhm"===e.cloud_provider_id)))&&void 0!==s?s:[],aws:null!==(u=null===(o=e.cloud_accounts)||void 0===o?void 0:o.filter((e=>"aws"===e.cloud_provider_id)))&&void 0!==u?u:[],azure:null!==(d=null===(c=e.cloud_accounts)||void 0===c?void 0:c.filter((e=>"azure"===e.cloud_provider_id)))&&void 0!==d?d:[]},allowed:e.allowed,consumed:e.consumed}))}))})),l},v=(e,t)=>{var a;return(null!==(a=e.items)&&void 0!==a?a:[]).some((e=>{var a;return null===(a=e.related_resources)||void 0===a?void 0:a.some((a=>m(a,f(t))&&(0===a.cost||e.allowed>0)))}))},h=e=>{var t,a,l,s,o,c,d;return{product:null===(a=null===(t=e.subscription)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type,billingModel:null!==(s=(0,u.F)(null===(l=e.subscription)||void 0===l?void 0:l.cluster_billing_model))&&void 0!==s?s:i.RelatedResource.billing_model.STANDARD,cloudProviderID:null!==(c=null===(o=e.cloud_provider)||void 0===o?void 0:o.id)&&void 0!==c?c:r.x4,isBYOC:!0===(null===(d=e.ccs)||void 0===d?void 0:d.enabled),isMultiAz:n()(e,"multi_az",!1)}},_=(e,t)=>E(e,{...t,resourceType:c.QuotaTypes.CLUSTER}),S=(e,t)=>_(e,{product:t})>=1,b=e=>_(e,{product:o.normalizedProducts.ROSA,billingModel:i.RelatedResource.billing_model.MARKETPLACE})>=1,C=(e,t)=>E(e,{...t,resourceType:c.QuotaTypes.NODE}),y=e=>{var t,a;return(null===(a=null===(t=null==e?void 0:e.find((e=>"cluster|byoc|moa|marketplace"===e.quota_id)))||void 0===t?void 0:t.cloud_accounts)||void 0===a?void 0:a.filter((e=>"aws"===e.cloud_provider_id)))||[]}},52865:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var l=a(23271);const n=(e,t)=>{var a,n;const r=(0,l.isHypershiftCluster)(e);let i=0,s=!1,o=0,u=0;const c=r&&(null==t?void 0:t.length)?t.map((e=>{var t,a;return null!==(a=null===(t=e.status)||void 0===t?void 0:t.current_replicas)&&void 0!==a?a:0})).reduce(((e,t)=>e+t),0):null!==(n=null===(a=e.metrics)||void 0===a?void 0:a.nodes.compute)&&void 0!==n&&n;return t&&t.forEach((e=>{var t,a,l,n,c,d,m,p,f,E,g;e.autoscaling?(s=!0,r?(o+=null!==(a=null===(t=e.autoscaling)||void 0===t?void 0:t.min_replica)&&void 0!==a?a:NaN,u+=null!==(n=null===(l=e.autoscaling)||void 0===l?void 0:l.max_replica)&&void 0!==n?n:NaN):(o+=null!==(d=null===(c=e.autoscaling)||void 0===c?void 0:c.min_replicas)&&void 0!==d?d:NaN,u+=null!==(p=null===(m=e.autoscaling)||void 0===m?void 0:m.max_replicas)&&void 0!==p?p:NaN)):(i+=null!==(f=e.replicas)&&void 0!==f?f:NaN,o+=null!==(E=e.replicas)&&void 0!==E?E:NaN,u+=null!==(g=e.replicas)&&void 0!==g?g:NaN)})),{totalDesiredComputeNodes:i,hasMachinePoolWithAutoscaling:s,totalMinNodesCount:o,totalMaxNodesCount:u,totalActualNodes:c}}},98552:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAWSVPCFromCluster:()=>u});var l=a(93345),n=a.n(l),r=a(23271),i=a(8111),s=a(16236);const o=e=>{var t;const a=(null===(t=e.data)||void 0===t?void 0:t.items)||[];if(1===a.length)return a[0]},u=(e,t)=>{var a,l,u,c;const[d,m]=n().useState(),[p,f]=n().useState(!!e.id),[E,g]=n().useState(!1),[v,h]=n().useState(),_=(0,r.isHypershiftCluster)(e),S=e.id||"",b=(null===(a=e.aws)||void 0===a?void 0:a.subnet_ids)||[],C=b.length>0,y=async e=>{g(!1),f(!0);try{const t=await e;t&&m((e=>{const t=(e.aws_security_groups||[]).filter((e=>!e.red_hat_managed));return t.sort(i.vI),{...e,aws_security_groups:t}})(t))}catch(e){g(!0),m(void 0);const t=e.response;h(t.data.reason)}finally{f(!1)}};n().useEffect((()=>{S&&!_&&C&&(async()=>{y((async(e,t)=>{var a,l;if(t){const l=(0,s.getClusterServiceForRegion)(t);let n;const r=await l.getAWSVPCDetails(e,{includeSecurityGroups:!0});return(null===(a=r.data)||void 0===a?void 0:a.id)&&(n=r.data),n}let n;const r=await s.default.getAWSVPCDetails(e,{includeSecurityGroups:!0});return(null===(l=r.data)||void 0===l?void 0:l.id)&&(n=r.data),n})(S,t))})()}),[S,_,C,t]);const I=b.length>0?b[0]:void 0,A=null===(u=null===(l=e.aws)||void 0===l?void 0:l.sts)||void 0===u?void 0:u.role_arn,R=(null===(c=e.region)||void 0===c?void 0:c.id)||"";return n().useEffect((()=>{_&&A&&I&&R&&(async()=>{y((async(e,t)=>{if(t){const a=(0,s.getClusterServiceForRegion)(t),l=await a.listAWSVPCs(e.awsCredentials,e.region,e.subnet,e.options);return o(l)}const a=await s.default.listAWSVPCs(e.awsCredentials,e.region,e.subnet,e.options);return o(a)})({awsCredentials:{sts:{role_arn:A}},region:R,subnet:I,options:{includeSecurityGroups:_}},t))})()}),[_,I,A,R,t]),{clusterVpc:d,isLoading:p,hasError:E,errorReason:v}}},76601:(e,t,a)=>{"use strict";a.r(t),a.d(t,{vpcInquiryRequestSelector:()=>s,vpcsSelector:()=>i});var l=a(53207),n=a(25508);const r=(0,l.A)("CreateCluster"),i=e=>e.ccsInquiries.vpcs,s=(0,n.Mz)([e=>r(e,"cloud_provider"),e=>r(e,"region"),e=>({account_id:r(e,"associated_aws_id"),sts:{role_arn:r(e,"installer_role_arn")}})],((e,t,a)=>({cloudProviderID:e,region:t,credentials:a})))},37245:(e,t,a)=>{"use strict";a.r(t),a.d(t,{InstructionsChooser:()=>S});var l=a(93345),n=a.n(l),r=a(15129),i=a(3995),s=a(60915),o=a(6229),u=a(9670),c=a(96998),d=a(983),m=a(83579),p=a(35787),f=a(17957),E=a(72972),g=a(59779),v=a(69304),h=a(8888);const _=({id:e,href:t,title:a,labels:l,body:r,featureListItems:i,footerLinkHref:_,footerLinkText:S})=>{const b=(0,v.useNavigate)();return n().createElement(s.Z,{id:e,className:"infra-card",isSelectableRaised:!0,role:"link","aria-labelledby":`${e}-title`,"aria-describedby":`${e}-description`,onClick:()=>{b(t)},onKeyUp:e=>{"Enter"===e.key&&b(t)}},n().createElement(o.Z,{id:`${e}-title`},n().createElement(u.h,{headingLevel:"h2"},a),n().createElement(c.s,{spaceItems:{default:"spaceItemsSm"}},l)),n().createElement(d.b,{id:`${e}-description`},r,n().createElement(m.B8,{isPlain:!0,className:"pf-v5-u-mt-lg pf-v5-u-ml-0 pf-v5-u-pl-0"},i.map(((e,t)=>n().createElement(p.c,{key:t,icon:n().createElement(f.I,{size:"md"},n().createElement(g.Ay,{color:"var(--pf-v5-global--palette--green-400)"}))},e))))),_&&n().createElement(E.w,null,n().createElement(h.default,{href:_,stopClickPropagation:!0},S)))},S=({aiPageLink:e,aiLearnMoreLink:t,agentBasedPageLink:a,agentBasedLearnMoreLink:l,hideIPI:s=!1,ipiPageLink:o,ipiLearnMoreLink:u,hideUPI:c=!1,recommend:d="ai",upiPageLink:m,upiLearnMoreLink:p,providerSpecificFeatures:f={},name:E})=>n().createElement("div",{className:"pf-v5-c-content ocm-page instructions-chooser","data-ouia-component-id":`${E}-instructions-chooser`},e&&n().createElement(_,{id:"select-interactive",href:e,title:"Interactive",labels:n().createElement(n().Fragment,null,"ai"===d&&n().createElement(r.J,{color:"blue",icon:n().createElement(i.default,null)},"Recommended"),n().createElement(r.J,{color:"purple"},"Web-based")),body:"Runs Assisted Installer with standard configuration settings to create your cluster.",featureListItems:["Preflight validations","Smart defaults","For connected networks",...f.ai||[]],footerLinkHref:t,footerLinkText:"Learn more about interactive"}),a&&n().createElement(_,{id:"select-agent-based",href:a,title:"Local Agent-based",labels:n().createElement(r.J,{color:"purple"},"CLI-based"),body:"Runs Assisted Installer securely and locally to create your cluster.",featureListItems:["Ibmz"===E?"Installable PXE artifacts":"Installable ISO","Preflight validations",...f.abi||[]],footerLinkHref:l,footerLinkText:"Learn more about local agent-based"}),!s&&o&&n().createElement(_,{id:"select-automated",href:o,title:"Automated",labels:n().createElement(n().Fragment,null,"ipi"===d&&n().createElement(r.J,{color:"blue",icon:n().createElement(i.default,null)},"Recommended"),n().createElement(r.J,{color:"purple"},"CLI-based")),body:"Auto-provision your infrastructure with minimal configuration to create your cluster.",featureListItems:["Installer Provisioned Infrastructure",...f.ipi||[]],footerLinkHref:u,footerLinkText:"Learn more about automated"}),!c&&m&&n().createElement(_,{id:"select-full-control",href:m,title:"Full control",labels:n().createElement(r.J,{color:"purple"},"CLI-based"),body:"Make all of the decisions when you create your cluster.",featureListItems:["User Provisioned Infrastructure","Highly customizable",...f.upi||[]],footerLinkHref:p,footerLinkText:"Learn more about full control"}))},3874:(e,t,a)=>{"use strict";a.r(t),a.d(t,{InstructionsChooserPageTitle:()=>o});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(65824);const o=({cloudName:e,breadcrumbs:t})=>n().createElement(s.default,{title:`Create an OpenShift Cluster: ${e}`,breadcrumbs:t},n().createElement(r.n,{className:"pf-v5-u-mt-sm"},n().createElement(i.E,{component:"p"},"Select the installation type that best fits your needs.")))},16977:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(93345),n=a.n(l),r=a(72583),i=a(9296),s=a(94538),o=a(65702);const u={[o.tools.CRC]:"Download OpenShift Local",[o.tools.OC]:"Download command-line tools",[o.tools.X86INSTALLER]:"Download installer",[o.tools.IBMZINSTALLER]:"Download installer",[o.tools.PPCINSTALLER]:"Download installer",[o.tools.ARMINSTALLER]:"Download installer",[o.tools.MULTIINSTALLER]:"Download installer",[o.tools.OCM]:"Download ocm CLI",[o.tools.ROSA]:"Download the ROSA CLI"},c=({url:e,disabled:t=!1,download:a=!0,tool:l=o.tools.X86INSTALLER,pendoID:c,text:d="",name:m=""})=>{const p=(0,s.default)();return n().createElement(r.$n,{component:"a",href:e,variant:"secondary",className:`download-button tool-${l.toLowerCase()}`,onClick:()=>{m?p(m,c):i.trackEvents[l]&&p(i.trackEvents[l],{url:e,path:c})},disabled:!e||!0===t,"data-testid":`download-btn-${l}`,...!0===a?{download:!0}:{rel:"noreferrer noopener",target:"_blank"}},d||u[l])}},26750:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(65702),i=a(83579),s=a(35787),o=a(22069),u=a(17957),c=a(40167);const d={aws:{cloudProvider:"AWS",publicCloud:!0,customizations:r.default.INSTALL_AWS_CUSTOMIZATIONS,x86:{ipi:{title:"Install OpenShift on AWS with installer-provisioned infrastructure",docURL:r.default.INSTALL_AWSIPI_DOCS_LANDING,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},upi:{title:"Install OpenShift on AWS with user-provisioned infrastructure",docURL:r.default.INSTALL_AWSUPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}},multi:{ipi:{title:"Install OpenShift on AWS with multi-architecture compute machines",installer:r.tools.MULTIINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AWS_MULTI_ARCH,preReleasePageLink:"/install/multi/pre-release"}},arm:{ipi:{title:"Install OpenShift on AWS with installer-provisioned ARM infrastructure",docURL:r.default.INSTALL_AWSIPI_DOCS_LANDING,installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,preReleasePageLink:"/install/arm/pre-release"},upi:{title:"Install OpenShift on AWS with user-provisioned ARM infrastructure",docURL:r.default.INSTALL_AWSUPI_GETTING_STARTED,installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,preReleasePageLink:"/install/arm/pre-release"}},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through AWS but it will take some time for the DNS to propagate)."},gcp:{cloudProvider:"GCP",publicCloud:!0,customizations:r.default.INSTALL_GCP_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on GCP with installer-provisioned infrastructure",docURL:r.default.INSTALL_GCPIPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},upi:{title:"Install OpenShift on GCP with user-provisioned infrastructure",docURL:r.default.INSTALL_GCPUPI_GETTING_STARTED,rhcos:{learnMoreURL:r.default.INSTALL_GCPUPI_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS tar",name:"OCP-Download-RHCOS-tar",url:r.default.RHCOS_GCPUPI_TAR_X86}]},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through GCP but it will take some time for the DNS to propagate)."},azure:{cloudProvider:"Azure",publicCloud:!0,customizations:r.default.INSTALL_AZURE_CUSTOMIZATIONS,x86:{ipi:{title:"Install OpenShift on Azure with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZUREIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Azure with user-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZUREUPI_GETTING_STARTED}},arm:{ipi:{title:"Install OpenShift on Azure with installer-provisioned ARM infrastructure",installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZUREIPI_GETTING_STARTED,preReleasePageLink:"/install/arm/pre-release"}},multi:{ipi:{title:"Install OpenShift on Azure with multi-architecture compute machines",installer:r.tools.MULTIINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AZURE_MULTI_ARCH,preReleasePageLink:"/install/multi/pre-release"}},getStartedAdditional:"The installer will ask you for the domain or subdomain you wish to use (this can be purchased through Azure but it will take some time for the DNS to propagate)."},ibmCloud:{cloudProvider:"IBM Cloud",publicCloud:!0,title:"Install OpenShift on IBM Cloud with installer-provisioned infrastructure",docURL:r.default.INSTALL_IBM_CLOUD_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,powervs:{ipi:{title:"Install OpenShift on IBM Power Systems Virtual Server with installer-provisioned infrastructure",installer:r.tools.PPCINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_IBMPOWERVS_GETTING_STARTED,prerequisites:r.default.INSTALL_IBMPOWERVS_PREREQUISITES,preReleasePageLink:"/install/power/pre-release"}}},ash:{cloudProvider:"Azure Stack Hub",customizations:r.default.INSTALL_ASH_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on Azure Stack Hub with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_ASHIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Azure Stack Hub with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_ASHUPI_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS VHD",name:"OCP-Download-RHCOS-VHD",url:r.default.RHCOS_ASHUPI_VHD_X86}]},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_ASHUPI_GETTING_STARTED}},baremetal:{cloudProvider:"Bare Metal",customizations:r.default.INSTALL_BAREMETAL_CUSTOMIZATIONS,multi:{upi:{title:"Install OpenShift on bare metal with multi-architecture compute machines",installer:r.tools.MULTIINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_MULTI_ARCH,preReleasePageLink:"/install/multi/pre-release"}},x86:{abi:{title:"Install OpenShift on Bare Metal locally with Agent",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},ipi:{title:"Install OpenShift on Bare Metal with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_IPI_GETTING_STARTED},upi:{title:"Install OpenShift on Bare Metal with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_BAREMETAL_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_GENERIC_ISO_X86},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_GENERIC_KERNEL_X86},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_GENERIC_INITRAMFS_X86},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_GENERIC_ROOTFS_X86}],additionalInstructions:"Download the installer ISO image, or the kernel, initramfs, and rootfs."},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED}},arm:{abi:{title:"Install OpenShift on ARM Bare Metal locally with Agent",installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},ipi:{title:"Install OpenShift on ARM Bare Metal with installer-provisioned infrastructure",installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_IPI_GETTING_STARTED,preReleasePageLink:"/install/arm/pre-release"},upi:{title:"Install OpenShift on ARM Bare Metal with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_BAREMETAL_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_ARM_ISO},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_ARM_KERNEL},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_ARM_INITRAMFS},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_ARM_ROOTFS}],additionalInstructions:"Download the installer ISO image, or the kernel, initramfs, and rootfs."},installer:r.tools.ARMINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_BAREMETAL_UPI_GETTING_STARTED,preReleasePageLink:"/install/arm/pre-release"}},ppc:{abi:{title:"Install OpenShift on IBM Power (ppc64le) locally with Agent",installer:r.tools.PPCINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},upi:{title:"Install OpenShift on IBM Power (ppc64le) with user-provisioned infrastructure",installer:r.tools.PPCINSTALLER,channel:r.channels.STABLE,rhcos:{learnMoreURL:r.default.INSTALL_POWER_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_POWER_ISO},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_POWER_INITRAMFS},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_POWER_KERNEL},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_POWER_ROOTFS}],additionalInstructions:"Download either the installer ISO image or for PXE booting the initramfs, the kernel, and the rootfs files."},preReleasePageLink:"/install/power/pre-release",docURL:r.default.INSTALL_POWER_GETTING_STARTED}},s390x:{customizations:r.default.INSTALL_IBMZ_AGENTS_GETTING_STARTED,abi:{title:"Install OpenShift on IBM Z (s390x) locally with Agent",installer:r.tools.IBMZINSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},upi:{title:"Install OpenShift on IBM Z (s390x) with user-provisioned infrastructure",rhcos:{additionalInstructions:n().createElement((()=>n().createElement(i.B8,null,n().createElement(s.c,null,"If you plan your installation with z/VM, download the initramfs, the kernel, and the rootfs files."," ",n().createElement(o.E,{component:"a",href:r.default.INSTALL_IBMZ_LEARN_MORE_ZVM,target:"_blank",rel:"noreferrer noopener","data-testid":"install-ibmz-zvm-link"},"Learn more"," ",n().createElement(u.I,{size:"sm"},n().createElement(c.ExternalLinkAltIcon,null)),".")),n().createElement(s.c,null,"If you plan your installation with RHEL KVM, depending on the installation type you plan to perform, download the QCOW2 file or the initramfs, the kernel, and the rootfs files."," ",n().createElement(o.E,{component:"a",href:r.default.INSTALL_IBMZ_RHCOS_LEARN_MORE_RHEL_KVM,target:"_blank",rel:"noreferrer noopener","data-testid":"install-ibmz-rhcos-link"},"Learn more"," ",n().createElement(u.I,{size:"sm"},n().createElement(c.ExternalLinkAltIcon,null)),"."," ")))),null),downloads:[{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_IBMZ_INITRAMFS},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_IBMZ_KERNEL},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_IBMZ_ROOTFS},{buttonText:"Download QCOW2 image",name:"OCP-Download-RHCOS-qcow2",url:r.default.RHCOS_IBMZ_QCOW}]},docURL:r.default.INSTALL_IBMZ_GETTING_STARTED,preReleasePageLink:"/install/ibmz/pre-release",installer:r.tools.IBMZINSTALLER,channel:r.channels.STABLE}}},generic:{cloudProvider:"Platform Agnostic",abi:{title:"Install OpenShift on any x86_64 platform locally with Agent",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},upi:{title:"Install OpenShift on any x86_64 platform with user-provisioned infrastructure",rhcos:{learnMoreURL:r.default.INSTALL_GENERIC_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS ISO",name:"OCP-Download-RHCOS-ISO",url:r.default.RHCOS_GENERIC_ISO_X86},{buttonText:"Download RHCOS kernel",name:"OCP-Download-RHCOS-kernel",url:r.default.RHCOS_GENERIC_KERNEL_X86},{buttonText:"Download RHCOS initramfs",name:"OCP-Download-RHCOS-initramfs",url:r.default.RHCOS_GENERIC_INITRAMFS_X86},{buttonText:"Download RHCOS rootfs",name:"OCP-Download-RHCOS-rootfs",url:r.default.RHCOS_GENERIC_ROOTFS_X86}],additionalInstructions:"Download the installer ISO image, or the kernel, initramfs, and rootfs."},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_GENERIC_GETTING_STARTED}},nutanix:{cloudProvider:"Nutanix AOS",ipi:{title:"Install OpenShift on Nutanix AOS with installer-provisioned infrastructure",docURL:r.default.INSTALL_NUTANIXIPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}},vsphere:{cloudProvider:"VMware vSphere",customizations:r.default.INSTALL_VSPHERE_CUSTOMIZATIONS,abi:{title:"Install OpenShift on vSphere locally with Agent",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_AGENT_LEARN_MORE},upi:{title:"Install OpenShift on vSphere with user-provisioned infrastructure",docURL:r.default.INSTALL_VSPHEREUPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,rhcos:{downloads:[{buttonText:"Download RHCOS OVA",name:"OCP-Download-RHCOS-OVA",url:r.default.RHCOS_VSPHERE_OVA_X86}],learnMoreURL:r.default.INSTALL_VSPHERE_RHCOS_LEARN_MORE}},ipi:{title:"Install OpenShift on vSphere with installer-provisioned infrastructure",docURL:r.default.INSTALL_VSPHEREIPI_GETTING_STARTED,installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}},openstack:{cloudProvider:"Red Hat OpenStack Platform",customizations:r.default.INSTALL_OSP_CUSTOMIZATIONS,ipi:{title:"Install OpenShift on Red Hat OpenStack Platform with installer-provisioned infrastructure",installer:r.tools.X86INSTALLER,channel:r.channels.STABLE,docURL:r.default.INSTALL_OSPIPI_GETTING_STARTED},upi:{title:"Install OpenShift on Red Hat OpenStack Platform with user-provisioned infrastructure",docURL:r.default.INSTALL_OSPUPI_GETTING_STARTED,rhcos:{learnMoreURL:r.default.INSTALL_OSPUPI_RHCOS_LEARN_MORE,downloads:[{buttonText:"Download RHCOS QCOW",name:"OCP-Download-RHCOS-QCOW",url:r.default.RHCOS_OSPUPI_QCOW_X86}]},installer:r.tools.X86INSTALLER,channel:r.channels.STABLE}}}},57847:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ClusterRequestTranslatorFactory:()=>s});var l=a(75166);class n{toYaml(e){throw new Error("Method not implemented.")}fromYaml(e){throw new Error("Method not implemented.")}}var r=a(20382);class i{toYaml(e){return(0,r.Bh)(e)}fromYaml(e){return(0,r.Hh)(e)}}class s{static createClusterRequestTranslator(e){return e===l.normalizedProducts.ROSA?new i:new n}}},29814:(e,t,a)=>{"use strict";a.d(t,{c:()=>_});var l=a(93345),n=a.n(l),r=a(30620),i=a(23215),s=a(56780),o=a(30666),u=a(93973),c=a(65702),d=a(49484),m=a(14115),p=a(5330),f=a(72067),E=a(2786),g=a(8888),v=a(55213),h=a(62384);function _({isRosa:e}){const{values:{[m.FieldId.FipsCryptography]:t},getFieldProps:a,setFieldValue:l}=(0,f.l)();return n().createElement(r.x,{hasGutter:!0},n().createElement(i.E,null,n().createElement(s.g,{label:"FIPS cryptography"},n().createElement(p.CheckboxField,{name:m.FieldId.FipsCryptography,label:"Enable FIPS cryptography",isDisabled:(0,h.isRestrictedEnv)(),input:{...a(m.FieldId.FipsCryptography),onChange:async(e,t)=>{l(m.FieldId.FipsCryptography,t,!1),t&&l(m.FieldId.EtcdEncryption,!0,!1)}}}),n().createElement(E.CheckboxDescription,null,"Install a cluster that uses FIPS Validated / Modules in Process cryptographic libraries on the x86_64 architecture."))),n().createElement(i.E,null,n().createElement(s.g,{label:"etcd encryption"},n().createElement(o.B,{hasGutter:!0},n().createElement(u.o,null,n().createElement(p.CheckboxField,{name:m.FieldId.EtcdEncryption,label:"Enable additional etcd encryption",isDisabled:t})),n().createElement(u.o,null,n().createElement(v.default,{hint:n().createElement(n().Fragment,null,d.constants.enableAdditionalEtcdHint," ",n().createElement(g.default,{href:e?c.default.ROSA_SERVICE_ETCD_ENCRYPTION:c.default.OSD_ETCD_ENCRYPTION},"Learn more about etcd encryption"))}))),t&&n().createElement(E.CheckboxDescription,null,"Required when FIPS cryptography is enabled."),n().createElement(E.CheckboxDescription,null,"Add more encryption for OpenShift and Kubernetes API resources."))))}},28053:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var l=a(71468),n=a(93345),r=a.n(n),i=a(8371),s=a(3638),o=a(75907),u=a(72067),c=a(55816),d=a(57860);const m=(0,l.Ng)(((e,t)=>{var a,l;const{cloudProviders:n}=e,r=(null===(l=null===(a=n.providers)||void 0===a?void 0:a[t.cloudProviderID])||void 0===l?void 0:l.regions)||{};return{cloudProviders:n,regions:Object.values(r).map((e=>(0,d.v)(e,t)))}}))((({field:e,cloudProviderID:t,cloudProviders:a,regions:l,isDisabled:n,handleCloudRegionChange:m})=>{const{setFieldValue:p}=(0,u.l)();return r().useEffect((()=>{const a=l.find((t=>t.id===e.value));if(!a||a.disableReason){const a=(0,d.p)(l,t);a&&(p(e.name,a),null==m||m())}}),[l,t,e.value,e.name,p,m]),a.fulfilled?r().createElement(i.F,{name:e.name,className:"cloud-region-combo-box","aria-label":"Region",isDisabled:n,value:e.value,onChange:(t,a)=>{p(e.name,a),null==m||m()}},l.filter((t=>!t.hide||t.id===e.value)).map((e=>r().createElement(s.Q,{key:e.id,value:e.id,label:`${e.id}, ${e.display_name}`,isDisabled:!!e.disableReason})))):a.error?r().createElement(c.default,{message:"Error loading region list",response:a}):r().createElement(r().Fragment,null,r().createElement("div",{className:"spinner-fit-container"},r().createElement(o.A,null)),r().createElement("div",{className:"spinner-loading-text"},"Loading region list..."))}))},57860:(e,t,a)=>{"use strict";a.d(t,{p:()=>r,v:()=>n});var l=a(14115);const n=(e,t)=>e.enabled?!t.isBYOC&&e.ccs_only?{...e,hide:!0,disableReason:"This region only supported on Customer cloud subscription, not Red Hat account"}:t.isMultiAz&&!e.supports_multi_az?{...e,hide:!1,disableReason:"This region only supported for Single-zone, not Multi-zone"}:t.isHypershiftSelected&&!e.supports_hypershift?{...e,hide:!0,disableReason:"This region is not supported with Hosted Control Plane, only Standalone"}:{...e,hide:!1,disableReason:void 0}:{...e,hide:!0,disableReason:"This region is not supported"},r=(e,t)=>{var a;const n="aws"===t?l.AWS_DEFAULT_REGION:l.GCP_DEFAULT_REGION,r=e.find((e=>e.id===n));return r&&!r.disableReason?r.id:null===(a=e.find((e=>!e.disableReason)))||void 0===a?void 0:a.id}},5537:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AutoScale:()=>Y});var l=a(93345),n=a.n(l),r=a(71468),i=a(23215),s=a(56780),o=a(72583),u=a(65702),c=a(75166),d=a(11611),m=a(49484),p=a(31261),f=a(5330),E=a(72067),g=a(16829),v=a(8888),h=a(91089),_=a(43775),S=a(55213),b=a(88139),C=a(96998),y=a(84037),I=a(57109),A=a(73553),R=a(38715),T=a(11243),O=a(976),P=a(23681);const D=({min:e,max:t,input:a,meta:{error:l},displayError:r,hideError:i,limit:s,ariaLabel:o})=>{n().useEffect((()=>{l?r(s,l):i(s)}),[l,s,r,i]);const u=l=>()=>Number.isNaN(parseInt(a.value,10))||parseInt(a.value,10)<e?a.onChange(e):parseInt(a.value,10)>t?a.onChange(t):l?a.onChange(parseInt(a.value,10)+1):a.onChange(parseInt(a.value,10)-1);return n().createElement(P.Q,{value:parseInt(a.value,10),min:e,max:t,onMinus:u(!1),onChange:e=>a.onChange(Number(e.target.value)),onPlus:u(!0),inputAriaLabel:o,minusBtnAriaLabel:`${o} minus`,plusBtnAriaLabel:`${o} plus`,widthChars:4,inputProps:{onBlur:e=>{e.target.value=Number(e.target.value).toString(),a.onBlur(e)}}})},L=()=>{const{setFieldValue:e,setFieldTouched:t,getFieldProps:a,getFieldMeta:r,values:{[g.FieldId.Hypershift]:i,[g.FieldId.AutoscalingEnabled]:o,[g.FieldId.MachinePoolsSubnets]:d,[g.FieldId.MultiAz]:f,[g.FieldId.MinReplicas]:h,[g.FieldId.MaxReplicas]:_,[g.FieldId.Product]:P,[g.FieldId.Byoc]:L,[g.FieldId.ClusterVersion]:N}}=(0,E.l)(),w=(0,T.useFeatureGate)(O.MAX_COMPUTE_NODES_500),k=(0,l.useMemo)((()=>{var e;return null!==(e=null==d?void 0:d.length)&&void 0!==e?e:1}),[null==d?void 0:d.length]),[F,M]=(0,l.useState)(),[x,G]=(0,l.useState)(),U="true"===f,H="true"===i,V="true"===L,B=P===c.normalizedProducts.ROSA,q=(0,l.useMemo)((()=>H?"Minimum nodes per machine pool":U?"Minimum nodes per zone":"Minimum node count"),[H,U]),j=(0,l.useMemo)((()=>H?"Maximum nodes per machine pool":U?"Maximum nodes per zone":"Maximum node count"),[H,U]),z=(0,l.useMemo)((()=>(0,I.getMinNodesRequired)(H,{numMachinePools:k},{isDefaultMachinePool:!H,isByoc:V,isMultiAz:U})),[k,H,V,U]),W=(0,l.useMemo)((()=>H?k>1?1:2:z),[H,z,k]),$=(e,t="default")=>n().createElement(R.FormGroupHelperText,{touched:!0,variant:t,hasIcon:"error"===t},e),K=(0,l.useCallback)(((e="0")=>H?$(`x ${k} machine pools = ${parseInt(e,10)*k}`):U?$("x 3 zones = "+3*parseInt(e,10)):null),[H,U,k]),Y=(0,l.useMemo)((()=>{const e=(0,A.default)({isDefaultMachinePool:!H,product:P,isBYOC:V,isMultiAz:U,autoScaleMinNodesValue:void 0,defaultMinAllowed:W,isHypershiftWizard:H});if(e)return e/(U&&!H?3:1)}),[P,V,U,W,H]),Q=(0,l.useMemo)((()=>{const e=(0,p.getMaxWorkerNodes)(N.raw_id);return H?Math.floor((0,p.getMaxNodesHCP)(null==N?void 0:N.raw_id,w)/k):U?e/3:e}),[U,H,k,w,null==N?void 0:N.raw_id]);(0,l.useEffect)((()=>{if(o&&Y){const t=h?parseInt(h,10):0,a=t<Y?Y:t;a&&e(g.FieldId.MinReplicas,a),_||e(g.FieldId.MaxReplicas,a)}}),[o,U,Y,e]),(0,l.useEffect)((()=>{_&&e(g.FieldId.MaxReplicas,_,!0)}),[h]);const Z=e=>{const t=null==e?void 0:e.toString(),a=(0,y.required)(t),l=(0,y.validateNumericInput)(t,{min:Y,allowZero:!0}),n=(0,y.validateNumericInput)(t,{max:Q,allowZero:!0});return a||l||n||void 0};return n().createElement(C.s,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsMd"},className:"pf-v5-u-mt-md"},n().createElement(s.g,{label:q,isRequired:!0,fieldId:"nodes_min",className:"autoscaling__nodes-formGroup"},n().createElement(b.Field,{component:D,name:g.FieldId.MinReplicas,type:"text",ariaLabel:"Minimum nodes",validate:e=>Z(e),displayError:(e,t)=>M(t),hideError:()=>M(void 0),limit:"min",min:Y,max:Q,input:{...a(g.FieldId.MinReplicas),onChange:a=>{e(g.FieldId.MinReplicas,a,!0),t(g.FieldId.MinReplicas,!0,!1)}},meta:r(g.FieldId.MinReplicas)}),F?$(F,"error"):K(h)),n().createElement(s.g,{label:j,isRequired:!0,fieldId:"nodes_max",className:"autoscaling__nodes-formGroup",labelIcon:n().createElement(S.default,{hint:n().createElement(n().Fragment,null,H?m.constants.hcpComputeNodeCountHintWizard:m.constants.computeNodeCountHint,n().createElement("br",null),B?n().createElement(n().Fragment,null,n().createElement(v.default,{href:u.default.ROSA_WORKER_NODE_COUNT},"Learn more about worker/compute node count"),n().createElement("br",null)):null)})},n().createElement(b.Field,{component:D,name:g.FieldId.MaxReplicas,type:"text",ariaLabel:"Maximum nodes",validate:e=>(e=>Z(e)||(h&&e<h?"Max nodes cannot be less than min nodes.":void 0))(e),displayError:(e,t)=>G(t),hideError:()=>G(void 0),limit:"max",min:Y,max:Q,input:{...a(g.FieldId.MaxReplicas),onChange:a=>{e(g.FieldId.MaxReplicas,a,!0),t(g.FieldId.MaxReplicas,!0,!1)}},meta:r(g.FieldId.MaxReplicas)}),x?$(x,"error"):K(_)))};var N=a(22069),w=a(20491),k=a(79752),F=a(30620),M=a(25670),x=a(13605),G=a(10050),U=a(53174),H=a(14115),V=a(23658),B=a(47006),q=a(28592),j=a(70312),z=a(25514),W=a(36215);const $=(e,t)=>{if("boolean"===e.type)return n().createElement(V.e,{name:`cluster_autoscaling.${e.name}`,label:e.label,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`)});const a="number"===e.type||"min-max"===e.type?"number":"text",l=(e=>{let t;switch(e.name){case"log_verbosity":t=W.Yp;break;case"pod_priority_threshold":t=W.iR;break;case"scale_down.utilization_threshold":t=W.O0}return t||("time"===e.type?t=y.clusterAutoScalingValidators.k8sTimeParameter:"number"!==e.type&&"min-max"!==e.type||(t=W.Nh),t)})(e),r=(e=>{let t;return"resource_limits.max_nodes_total"===e.name&&(t=U.Q),t})(e);return n().createElement(B.A,{name:`cluster_autoscaling.${e.name}`,label:e.label,type:a,isDisabled:t,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",`${e.defaultValue}`),validate:l,tooltip:r})},K=({isWizard:e,isRosa:t,maxNodesTotalDefault:a})=>{var l;const s=(0,r.wA)(),o=(0,z.useGlobalState)((e=>e.modal.modalName===_.default.EDIT_CLUSTER_AUTOSCALING_V2)),{values:{[H.FieldId.ClusterAutoscaling]:c},errors:{[H.FieldId.ClusterAutoscaling]:m},setFieldValue:p}=(0,E.l)(),f=t=>{e&&s((0,h.closeModal)()),t&&t.preventDefault()},g=Object.keys(m||{}).length>0,S=!1===(null===(l=null==c?void 0:c.scale_down)||void 0===l?void 0:l.enabled);return n().createElement(q.default,{variant:"large",isOpen:o,title:"Edit cluster autoscaling settings","data-testid":"cluster-autoscaling-dialog",primaryText:"Close",secondaryText:"Revert all to defaults",onPrimaryClick:f,onSecondaryClick:()=>{p(H.FieldId.ClusterAutoscaling,(0,d.getDefaultClusterAutoScaling)(a),!0)},isPrimaryDisabled:g,showClose:!1},n().createElement(n().Fragment,null,n().createElement(N.E,{component:"p"},"The cluster autoscaler adjusts the size of a cluster to meet its current deployment needs. Learn more about"," ",n().createElement(v.default,{href:t?u.default.ROSA_CLUSTER_AUTOSCALING:u.default.OSD_CLUSTER_AUTOSCALING},"cluster autoscaling")," ","or",n().createElement(v.default,{href:u.default.APPLYING_AUTOSCALING_API_DETAIL}," APIs"),"."),n().createElement(w.l,{onSubmit:f,className:"cluster-autoscaling-form"},n().createElement(k.y,{title:"General settings"},n().createElement(F.x,{hasGutter:!0},G._d.map((e=>n().createElement(i.E,{span:6,key:e.name},$(e)))),n().createElement(i.E,{span:6},n().createElement(B.A,{name:"cluster_autoscaling.balancing_ignored_labels",label:"balancing-ignored-labels",type:"text",tooltip:x.rA,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},x.nY),validate:y.validateListOfBalancingLabels})))),n().createElement(k.y,{title:"Resource limits"},n().createElement(F.x,{hasGutter:!0},G.Ax.map((e=>n().createElement(i.E,{span:6,key:e.name},$(e)))),n().createElement(i.E,{span:6,key:"resource_limits.max_nodes_total"},n().createElement(B.A,{name:"cluster_autoscaling.resource_limits.max_nodes_total",label:"max-nodes-total",type:"number",showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},"Default value: ",a),validate:(0,j.A)(a),tooltip:U.Q})),n().createElement(i.E,{span:6},n().createElement(B.A,{name:"cluster_autoscaling.resource_limits.gpus",label:"GPUs",type:"text",tooltip:M._z,showHelpTextOnError:!0,helperText:n().createElement("span",{className:"custom-help-text"},M.gf),validate:y.clusterAutoScalingValidators.k8sGpuParameter})))),n().createElement(k.y,{title:"Scale down configuration"},n().createElement(F.x,{hasGutter:!0},G.kD.map((e=>{const t=S&&"scale_down.enabled"!==e.name;return n().createElement(i.E,{span:6,key:e.name},$(e,t))})))))))},Y=()=>{const{values:{[g.FieldId.Hypershift]:e,[g.FieldId.Byoc]:t,[g.FieldId.AutoscalingEnabled]:a,[g.FieldId.Product]:b,[g.FieldId.MultiAz]:C,[g.FieldId.ClusterVersion]:y},setFieldValue:I}=(0,E.l)(),A=(0,r.wA)(),R=b===c.normalizedProducts.ROSA,T=R?u.default.ROSA_AUTOSCALING:u.default.APPLYING_AUTOSCALING,O=!("true"===e)&&"true"===t,P=(0,l.useMemo)((()=>(0,p.getMaxNodesTotalDefaultAutoscaler)(null==y?void 0:y.raw_id,"true"===C)),[null==y?void 0:y.raw_id,C]),D=(0,l.useMemo)((()=>(0,d.getDefaultClusterAutoScaling)(P)),[P]);return(0,l.useEffect)((()=>{a||I(g.FieldId.ClusterAutoscaling,D)}),[I,D,a]),n().createElement(i.E,{id:"autoscaling"},n().createElement(s.g,{fieldId:"autoscaling",label:"Autoscaling",labelIcon:n().createElement(S.default,{hint:n().createElement(n().Fragment,null,m.constants.autoscaleHint," ",n().createElement(v.default,{href:T},"Learn more about autoscaling",R?" with ROSA":""))})}),n().createElement(f.CheckboxField,{name:g.FieldId.AutoscalingEnabled,label:"Enable autoscaling",helperText:O?"The cluster autoscaler uses declarative, Kubernetes-style arguments to adjust the size of the cluster to meet its deployment needs.":"Autoscaling automatically adds and removes compute nodes from the cluster based on resource requirements."}),O?n().createElement(i.E,{md:3},n().createElement(o.$n,{"data-testid":"set-cluster-autoscaling-btn",variant:"secondary",className:"pf-v5-u-mt-md",onClick:()=>A((0,h.openModal)(_.default.EDIT_CLUSTER_AUTOSCALING_V2)),isDisabled:!a},"Edit cluster autoscaling settings")):null,n().createElement(K,{isWizard:!0,isRosa:R,maxNodesTotalDefault:P}),a?n().createElement(L,null):null)}},36215:(e,t,a)=>{"use strict";a.d(t,{Nh:()=>n,O0:()=>i,Yp:()=>r,iR:()=>l});const l=e=>{const t=Number(e);if(Number.isNaN(t))return"Value must be a number."},n=e=>l(e)||(Number(e)<0?"Value cannot be a negative number.":void 0),r=e=>{const t=l(e);if(t)return t;const a=Number(e);return a<1||a>6?"Value must be between 1 and 6.":void 0},i=e=>n(e)||(+e<0||+e>1?"Value must be between 0 and 1.":void 0)},71931:(e,t,a)=>{"use strict";a.d(t,{h:()=>i});var l=a(93345),n=a.n(l),r=a(24510);const i=()=>n().createElement(r.F,{variant:r.w.info,isInline:!0,title:"In order to use the IMDS settings, a cluster version of at least 4.11 must be selected in the previous step.",className:"pf-v5-u-mb-sm"})},48394:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var l=a(93345),n=a.n(l),r=a(22069),i=a(65702),s=a(8888),o=a(55213);const u=()=>n().createElement(o.default,{minWidth:"30rem",title:"Amazon EC2 Instance Metadata Service (IMDS)",bodyContent:n().createElement(n().Fragment,null,n().createElement(r.E,{component:r.Y.p},"Instance metadata is data that is related to an Amazon Elastic Compute Cloud (Amazon EC2) instance that applications can use to configure or manage the running instance."),n().createElement(r.E,{component:r.Y.p},n().createElement(s.default,{href:i.default.AWS_IMDS},"Learn more about IMDS")))})},66822:(e,t,a)=>{"use strict";a.d(t,{U:()=>n});var l=a(14115);const n=[{value:l.IMDSType.V1AndV2,ariaLabel:"Both IMDSv1 and IMDSv2",label:"Use both IMDSv1 and IMDSv2",description:"Allows use of both IMDS versions for backward compatibility"},{value:l.IMDSType.V2Only,ariaLabel:"IMDSv2 only",label:"Use IMDSv2 only",description:"A session-oriented method with enhanced security"}]},79082:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DebugClusterRequest:()=>u});var l=a(93345),n=a.n(l),r=a(23215),i=a(38328),s=a(19033),o=a(41685);const u=({cloudProvider:e,product:t,formValues:a})=>{let l,u;try{l=(0,o.createClusterRequest)({product:t,cloudProviderID:e},a)}catch(e){l=`error computing cluster request: ${e}`}try{u=(0,o.upgradeScheduleRequest)(a),u||(u="Manual upgrade strategy, no request to be made.")}catch(e){u=`error computing upgrade request: ${e}`}return n().createElement(r.E,null,n().createElement(i.l,{variant:"blue"},n().createElement(s.Q,{toggleText:"Debug: cluster request to be sent"},n().createElement("pre",null,JSON.stringify(l,null,2))),n().createElement(s.Q,{toggleText:"Debug: upgrade schedule request to be sent"},n().createElement("pre",null,JSON.stringify(u,null,2)))))}},17611:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var l=a(93345),n=a.n(l),r=a(19033),i=a(84037),s=a(14115),o=a(5330);const u=({initiallyExpanded:e=!1,children:t,acknowledgementRequired:a=!1,toggleText:u="Prerequisites",fieldName:c="acknowledge_prerequisites",...d})=>{const[m,p]=(0,l.useState)(e);return(0,l.useEffect)((()=>{p(e)}),[e]),n().createElement(n().Fragment,null,n().createElement(r.Q,{className:"prerequisites-expandable-section",toggleText:u,isExpanded:m,onToggle:()=>{p(!m)},...d},n().createElement("div",{className:"prerequisites-section"},t)),a&&n().createElement(o.CheckboxField,{name:s.FieldId.AcknowledgePrereq,label:"I've read and completed all the prerequisites and am ready to continue creating my cluster.",validate:i.acknowledgePrerequisites}))}},1477:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(30620),i=a(23215);const s=(e,t)=>{var a;const l=null===(a=e.aws_subnets)||void 0===a?void 0:a.find((e=>e.subnet_id===t));return(null==l?void 0:l.name)||t},o=({vpc:e,machinePoolsSubnets:t,hasPublicSubnets:a})=>{const l=a?2:3,o=a?5:9;return n().createElement(r.x,null,n().createElement(i.E,{md:l},n().createElement("strong",null,"Availability zone")),n().createElement(i.E,{md:o},n().createElement("strong",null,"Private subnet")),a&&n().createElement(i.E,{md:o},n().createElement("strong",null,"Public subnet")),t.map((t=>n().createElement(n().Fragment,{key:t.privateSubnetId},n().createElement(i.E,{md:l},t.availabilityZone),n().createElement(i.E,{md:o},s(e,t.privateSubnetId)),a&&n().createElement(i.E,{md:o},s(e,t.publicSubnetId))))))}},38307:(e,t,a)=>{"use strict";a.r(t),a.d(t,{buildSecurityGroups:()=>o,default:()=>c});var l=a(93345),n=a.n(l),r=a(96998),i=a(96553),s=a(99904);const o=(e,t)=>t.map((t=>{const a=e.find((e=>e.id===t))||{name:t};return{id:t,name:a.name}})),u=({vpcGroups:e,selectedGroupIds:t,nodeType:a})=>n().createElement(r.s,{direction:{default:"column"}},n().createElement(i.Z,null,n().createElement("strong",null,a," nodes")),n().createElement(i.Z,{wrap:"wrap"},n().createElement(s.A,{securityGroups:o(e,t),isReadOnly:!0}))),c=({vpcGroups:e,formGroups:t})=>n().createElement(n().Fragment,null,t.controlPlane.length>0&&n().createElement(u,{nodeType:t.applyControlPlaneToAll?"All":"Control plane",vpcGroups:e,selectedGroupIds:t.controlPlane}),!t.applyControlPlaneToAll&&n().createElement(n().Fragment,null,t.infra.length>0&&n().createElement(u,{nodeType:"Infrastructure",vpcGroups:e,selectedGroupIds:t.infra}),t.worker.length>0&&n().createElement(u,{nodeType:"Worker",vpcGroups:e,selectedGroupIds:t.worker})))},57596:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(93345),n=a.n(l),r=a(71468),i=a(56780),s=a(96998),o=a(96553),u=a(47144),c=a(72583),d=a(32358),m=a(69202),p=a(55816),f=a(57983),E=a(52202);const g=(e,t)=>e.disabled&&!t.disabled?1:t.disabled&&!e.disabled?-1:e.label.localeCompare(t.label),v=({selectedVPC:e,input:{name:t,onBlur:a,...l},meta:{error:v,touched:h},showRefresh:_=!1,isHypershift:S=!1,isOSD:b=!1,isRosaV1:C=!0,usePrivateLink:y})=>{var I;const A=(0,r.wA)(),[R,T]=n().useState(!1),{vpcs:O,requestParams:P}=(0,m.v3)(b,C),D=n().useMemo((()=>{var e;return(0,d.filterOutRedHatManagedVPCs)((null===(e=O.data)||void 0===e?void 0:e.items)||[])}),[null===(I=O.data)||void 0===I?void 0:I.items]),L=n().useMemo((()=>{let e="Select a VPC";return O.pending?e="Loading...":0===D.length&&(e="No VPCs found"),{placeholder:e,options:D.map((e=>{const t=!(0,d.vpcHasRequiredSubnets)(e,y),a=e.id;return{entryId:a,label:e.name||a,description:t?"This VPC does not have all necessary subnets":"",disabled:t}}))}}),[O.pending,D,y]);return n().useEffect((()=>{if(!e)return;const t=D.some((t=>(null==t?void 0:t.id)===e.id));D.length>0&&e.id&&!t&&l.onChange({id:"",name:""})}),[e,D]),n().createElement(i.g,{label:`Select a VPC to install your ${S?"machine pools":"cluster"} into your selected region: ${P.region||""}`,isRequired:!0},n().createElement(s.s,null,n().createElement(o.Z,{flex:{default:"flex_1"},style:{minWidth:0}},n().createElement(f.FuzzySelect,{"aria-label":"select VPC",isOpen:R,onOpenChange:e=>{T(e)},onSelect:(e,t)=>{const a=D.find((e=>e.id===t));a&&(l.onChange(a),T(!1))},sortFn:g,selectedEntryId:null==e?void 0:e.id,selectionData:L.options,isDisabled:O.pending||0===L.options.length,placeholderText:L.placeholder,inlineFilterPlaceholderText:"Filter by VPC ID / name",validated:h&&v?"danger":void 0,toggleId:t,isScrollable:!0})),_&&n().createElement(o.Z,null,n().createElement(u.m,{content:n().createElement("p",null,"Refresh")},n().createElement(c.$n,{"data-testid":"refresh-vpcs",isLoading:O.pending,isDisabled:O.pending,isInline:!0,size:"sm",variant:"secondary",onClick:()=>{"aws"===P.cloudProviderID&&(l.onChange({id:"",name:""}),A((0,E.getAWSCloudProviderVPCs)({region:P.region,awsCredentials:P.credentials,options:S?void 0:{includeSecurityGroups:!0}})))}},"Refresh")))),O.error&&n().createElement(s.s,null,n().createElement(o.Z,{flex:{default:"flex_1"},style:{minWidth:0,marginTop:10}},n().createElement(p.default,{message:"Error retrieving VPCs",response:O}))))}},98094:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ValuesCodeEditor:()=>i});var l=a(93345),n=a.n(l),r=a(94359);const i=({code:e})=>n().createElement(r.B,{isLineNumbersVisible:!1,isReadOnly:!0,code:e,language:r.T.json,onEditorDidMount:e=>{e.layout(),e.focus()},height:"400px"})},14115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AWS_DEFAULT_REGION:()=>u,CloudProviderType:()=>i,FieldId:()=>l,GCP_DEFAULT_REGION:()=>c,IMDSType:()=>o,UpgradePolicyType:()=>s,canConfigureDayOneManagedIngress:()=>p,canConfigureDayOnePrivateServiceConnect:()=>f,canSelectImds:()=>m,emptyAWSSubnet:()=>d,initialValues:()=>r});var l,n=a(88851);!function(e){e.AccessKeyId="access_key_id",e.AccountId="account_id",e.AcknowledgePrereq="acknowledge_prerequisites",e.AdditionalTrustBundle="additional_trust_bundle",e.ApplicationIngress="applicationIngress",e.AutomaticUpgradeSchedule="automatic_upgrade_schedule",e.AutoscalingEnabled="autoscalingEnabled",e.BillingModel="billing_model",e.Byoc="byoc",e.ByoOidcConfigId="byo_oidc_config_id",e.ByoOidcConfigIdManaged="byo_oidc_config_id_managed",e.CidrDefaultValuesEnabled="cidr_default_values_enabled",e.CidrDefaultValuesToggle="cidr_default_values_toggle",e.CloudProvider="cloud_provider",e.ClusterAutoscaling="cluster_autoscaling",e.ClusterName="name",e.ClusterVersion="cluster_version",e.ComputeSubnet="compute_subnet",e.ConfigureProxy="configure_proxy",e.PrivateServiceConnect="private_service_connect",e.PSCSubnet="psc_subnet",e.ControlPlaneSubnet="control_plane_subnet",e.CustomerManagedKey="customer_managed_key",e.CustomOperatorRolesPrefix="custom_operator_roles_prefix",e.DefaultRouterExcludedNamespacesFlag="defaultRouterExcludedNamespacesFlag",e.DefaultRouterSelectors="defaultRouterSelectors",e.DetectedOcmRole="detected_ocm_role",e.DisableScpChecks="disable_scp_checks",e.DomainPrefix="domain_prefix",e.EnableUserWorkloadMonitoring="enable_user_workload_monitoring",e.EtcdEncryption="etcd_encryption",e.FipsCryptography="fips",e.GcpServiceAccount="gcp_service_account",e.HasDomainPrefix="has_domain_prefix",e.HttpProxyUrl="http_proxy_url",e.HttpsProxyUrl="https_proxy_url",e.IMDS="imds",e.InstallerRoleArn="installer_role_arn",e.InstallToVpc="install_to_vpc",e.IsDefaultRouterNamespaceOwnershipPolicyStrict="isDefaultRouterNamespaceOwnershipPolicyStrict",e.IsDefaultRouterWildcardPolicyAllowed="isDefaultRouterWildcardPolicyAllowed",e.KmsKeyArn="kms_key_arn",e.MachinePoolsSubnets="machinePoolsSubnets",e.MachineType="machine_type",e.MachineTypeForceChoice="machine_type_force_choice",e.MaxReplicas="max_replicas",e.MinReplicas="min_replicas",e.MultiAz="multi_az",e.NetworkHostPrefix="network_host_prefix",e.NetworkMachineCidr="network_machine_cidr",e.NetworkPodCidr="network_pod_cidr",e.NetworkServiceCidr="network_service_cidr",e.NodeDrainGracePeriod="node_drain_grace_period",e.NodeLabels="node_labels",e.NodesCompute="nodes_compute",e.NoProxyDomains="no_proxy_domains",e.Product="product",e.Region="region",e.RegionalInstance="regional_instance",e.RosaCreatorArn="rosa_creator_arn",e.RosaRolesProviderCreationMode="rosa_roles_provider_creation_mode",e.SecretAccessKey="secret_access_key",e.SecurityGroupIds="securityGroupIds",e.SecurityGroups="securityGroups",e.SelectedVpc="selected_vpc",e.UpgradePolicy="upgrade_policy",e.UsePrivateLink="use_privatelink",e.VpcName="vpc_name",e.EnableExteranlAuthentication="enable_external_authentication",e.GcpAuthType="gcp_auth_type",e.GcpWifConfig="gcp_wif_config"}(l||(l={}));const r={[l.AutomaticUpgradeSchedule]:"0 0 * * 0"};var i,s,o;!function(e){e.Aws="aws",e.Gcp="gcp"}(i||(i={})),function(e){e.Automatic="automatic",e.Manual="manual"}(s||(s={})),function(e){e.V1AndV2="optional",e.V2Only="required"}(o||(o={}));const u="us-east-1",c="us-east1",d=()=>({availabilityZone:"",privateSubnetId:"",publicSubnetId:""}),m=e=>{const[t,a]=(0,n.splitVersion)(e);return t>4||4===t&&a>=11},p=e=>(0,n.isMajorMinorEqualOrGreater)(e,4,14),f=e=>(0,n.isMajorMinorEqualOrGreater)(e,4,17)},54910:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AWS_DEFAULT_REGION:()=>l.AWS_DEFAULT_REGION,CloudProviderType:()=>l.CloudProviderType,ClusterSettingsMachinePool:()=>te,ClusterUpdates:()=>ie,FieldId:()=>l.FieldId,GCP_DEFAULT_REGION:()=>l.GCP_DEFAULT_REGION,IMDSType:()=>l.IMDSType,Prerequisites:()=>n.A,UpgradePolicyType:()=>l.UpgradePolicyType,ValidationIconButton:()=>m,ValidationItem:()=>f,canConfigureDayOneManagedIngress:()=>l.canConfigureDayOneManagedIngress,canConfigureDayOnePrivateServiceConnect:()=>l.canConfigureDayOnePrivateServiceConnect,canSelectImds:()=>l.canSelectImds,emptyAWSSubnet:()=>l.emptyAWSSubnet,initialValues:()=>l.initialValues});var l=a(14115),n=a(17611),r=a(93345),i=a.n(r),s=a(72583),o=a(19202),u=a(31003),c=a(29962),d=a(50171);const m=({isValid:e,hasFailures:t,isValidating:a,touched:l,onClick:n})=>{let r=i().createElement(c.InfoCircleIcon,{className:"validation-icon_info"}),m="Validation rules",p="validation-icon-button_info";return l&&(a?(r=i().createElement(d.Nl,{className:"validation-icon_info"}),m="Validation in progress"):e?(r=i().createElement(o.CheckCircleIcon,{className:"validation-icon_success"}),m="All validation rules met",p="validation-icon-button_valid"):t&&(r=i().createElement(u.ExclamationCircleIcon,{className:"validation-icon_danger"}),m="Not all validation rules met",p="validation-icon-button_not-valid")),i().createElement(s.$n,{variant:"control","aria-label":m,tabIndex:-1,className:`${p} validation-icon-button`,onClick:n},r)};var p=a(49318);const f=({text:e,touched:t,isValid:a,isValidating:l,isInitialized:n})=>{if(!e)return null;let r="default",s="";return t&&(!n||l?(r="indeterminate",s="Pending: "):(r=a?"success":"error",s=a?"Satisfied: ":"Not met: ")),i().createElement(p.j,{variant:r,hasIcon:!0,isDynamic:!0,component:"li",key:e},i().createElement("span",{className:"pf-v5-u-screen-reader"},s),e)};var E=a(88139),g=a(71468),v=a(19033),h=a(9670),_=a(23215),S=a(20491),b=a(22069),C=a(30620),y=a(65702),I=a(75166),A=a(84037),R=a(57109),T=a(49484),O=a(60979),P=a(73553),D=a(63201),L=a(72067),N=a(8888),w=a(55909),k=a(11912),F=a(93809),M=a(5537),x=a(56780),G=a(33076),U=a(66822),H=a(71931),V=a(48394);const B=()=>{const{values:{[l.FieldId.ClusterVersion]:e,[l.FieldId.IMDS]:t},getFieldProps:a,setFieldValue:n}=(0,L.l)(),r=!(0,l.canSelectImds)(e.raw_id),s=e=>{n(l.FieldId.IMDS,e)};return i().useEffect((()=>{r&&t!==l.IMDSType.V1AndV2&&s(l.IMDSType.V1AndV2)}),[r,t]),i().createElement(x.g,{label:"Instance Metadata Service",fieldId:"imds",labelIcon:i().createElement(V.A,null)},r?i().createElement(H.h,null):i().createElement(E.Field,{component:G.default,name:"imds",id:"imds",ariaLabel:"Instance Metadata Service",isDisabled:r,className:"pf-v5-u-mb-md",input:{...a(l.FieldId.IMDS),onChange:s},options:U.U,disableDefaultValueHandling:!0}))};var q=a(46942),j=a.n(q),z=a(90678),W=a(73113),$=a(30666),K=a(93973),Y=a(23158),Q=a(56862),Z=a(93413),X=a(47006),J=a(12200);const ee=()=>{const{values:e}=(0,L.l)(),t=e[l.FieldId.NodeLabels],a=e=>a=>t.length>1&&t.reduce(((t,a,l)=>(a.key&&e!==l&&t.push(a.key),t)),[]).includes(a)?"Each label must have a different key.":a.length>0?(0,A.checkLabelKey)(a):void 0,n=e=>{if(e.length>0)return(0,A.checkLabelValue)(e)};return i().createElement(z.B,{hasGutter:!0,className:"label-split-layout"},i().createElement(E.FieldArray,{name:l.FieldId.NodeLabels,validateOnChange:!0,render:({push:e,remove:r})=>i().createElement(i().Fragment,null,null==t?void 0:t.map(((e,o)=>{const u=0===o&&1===t.length,c=`${l.FieldId.NodeLabels}.${o}`,d=`${c}.key`,m=`${c}.value`;return i().createElement(W.a,null,i().createElement($.B,{hasGutter:!0,className:"node-label-split-layout"},i().createElement(K.o,{className:"node-label-split-item"},i().createElement(X.A,{name:d,validate:a(o),label:0===o?"Key":void 0,formGroup:{isRequired:!1}})),i().createElement(K.o,{className:"node-label-split-item"},i().createElement(X.A,{name:m,validate:n,label:0===o?"Value":void 0,formGroup:{isRequired:!1}})),i().createElement(K.o,null,i().createElement(s.$n,{onClick:()=>r(o),icon:i().createElement(Y.MinusCircleIcon,null),variant:"link",isInline:!0,isDisabled:u,className:`${j()(u&&"pf-v5-u-disabled-color-200")} ${j()(0===o?"label-button-padding-lg":"label-button-padding-sm")}`}))))})),i().createElement(W.a,null,i().createElement(J.default,{onClick:()=>e({key:"",value:""}),icon:i().createElement(Q.PlusCircleIcon,null),variant:"link",isInline:!0,disableReason:t.some((e=>!e.key))&&Z.nodeKeyValueTooltipText},"Add additional label")))}))},te=()=>{const e=(0,g.wA)(),{values:{[l.FieldId.BillingModel]:t,[l.FieldId.Product]:a,[l.FieldId.CloudProvider]:n,[l.FieldId.MachineType]:r,[l.FieldId.AutoscalingEnabled]:s,[l.FieldId.MultiAz]:o,[l.FieldId.Byoc]:u,[l.FieldId.NodesCompute]:c,[l.FieldId.NodeLabels]:d,[l.FieldId.Region]:m,[l.FieldId.ClusterVersion]:p},values:f,errors:x,getFieldProps:G,setFieldValue:U,getFieldMeta:H,setFieldTouched:V}=(0,L.l)(),q="true"===o,j="true"===u,z=a===I.normalizedProducts.ROSA,W=n===l.CloudProviderType.Aws,$=(0,w.default)(a,t),[K,Y]=i().useState(!1),Q=i().useMemo((()=>(0,F.D2)(f)),[f]),[Z,X]=i().useState(!1),J=(0,g.d4)((e=>e.machineTypesByRegion));i().useEffect((()=>{J.region&&(j&&W&&n!==l.CloudProviderType.Gcp&&!z||e((0,k.clearMachineTypesByRegion)()))}),[n,z,J.region,j,W,e,m,U]),i().useEffect((()=>{var e;W&&j&&(J.region&&(null===(e=J.region)||void 0===e?void 0:e.id)===m||(X(!0),U(l.FieldId.MachineTypeForceChoice,!1)))}),[J.region,W,j,m,U]),i().useEffect((()=>{c||U(l.FieldId.NodesCompute,(0,P.getNodesCount)(j,q))}),[j,q,c,U]),i().useEffect((()=>{!K&&x[l.FieldId.NodeLabels]&&Y(!0)}),[x[l.FieldId.NodeLabels],K]),i().useEffect((()=>{var e;(null===(e=d[0])||void 0===e?void 0:e.key)&&V(l.FieldId.NodeLabels,!0,!0)}),[]),i().useEffect((()=>{e((0,k.getMachineTypes)())}),[e]),i().useEffect((()=>{var e;(null===(e=d[0])||void 0===e?void 0:e.key)&&Y(!0)}),[d]),i().useEffect((()=>{Z&&(null==Q?void 0:Q.access_key_id)&&(null==Q?void 0:Q.account_id)&&(null==Q?void 0:Q.secret_access_key)&&m&&(e((0,k.getMachineTypesByRegion)(null==Q?void 0:Q.access_key_id,null==Q?void 0:Q.account_id,null==Q?void 0:Q.secret_access_key,m)),X(!1))}),[e,Z,null==Q?void 0:Q.access_key_id,null==Q?void 0:Q.account_id,null==Q?void 0:Q.secret_access_key,m]);const te=i().createElement(v.Q,{toggleText:"Add node labels",className:"pf-v5-u-mt-md",onToggle:(e,t)=>Y(t),isExpanded:K,"data-testid":"node-labels-toggle"},i().createElement(h.h,{headingLevel:"h3"},"Node labels (optional)"),i().createElement("p",{className:"pf-v5-u-mb-md"},"Configure labels that will apply to all nodes in this machine pool."),i().createElement(ee,null)),ae=W&&j&&i().createElement(i().Fragment,null,i().createElement(_.E,{md:8},i().createElement(B,null)),i().createElement(_.E,{md:4}));return i().createElement(S.l,null,i().createElement(_.E,null,i().createElement(h.h,{headingLevel:"h3"},"Default machine pool"),i().createElement(b.E,{component:"p",className:"pf-v5-u-mt-sm"},"Select a compute node instance type and count for your default machine pool. After cluster creation, your selected default machine pool instance type is permanent.")),i().createElement(C.x,{hasGutter:!0},i().createElement(_.E,{md:6},i().createElement(E.Field,{component:D.default,name:l.FieldId.MachineType,validate:A.required,isMultiAz:q,isBYOC:j,cloudProviderID:n,product:a,isMachinePool:!1,billingModel:t,inModal:!1,machine_type:{input:{...G(l.FieldId.MachineType),onChange:e=>U(l.FieldId.MachineType,e)},meta:H(l.FieldId.MachineType)},machine_type_force_choice:{input:{...G(l.FieldId.MachineTypeForceChoice),onChange:e=>U(l.FieldId.MachineTypeForceChoice,e)}}})),i().createElement(_.E,{md:6}),$&&i().createElement(i().Fragment,null,i().createElement(_.E,null,i().createElement(M.AutoScale,null)),s&&ae,s&&te),!s&&i().createElement(i().Fragment,null,i().createElement(_.E,{md:6},i().createElement(E.Field,{component:O.default,name:l.FieldId.NodesCompute,label:q?"Compute node count (per zone)":"Compute node count",isMultiAz:q,isByoc:j,machineType:r,extendedHelpText:i().createElement(i().Fragment,null,T.constants.computeNodeCountHint," ",i().createElement(N.default,{href:z?y.default.ROSA_SERVICE_DEFINITION_COMPUTE:y.default.OSD_SERVICE_DEFINITION_COMPUTE},"Learn more about compute node count")),cloudProviderID:n,product:a,isMachinePool:!1,billingModel:t,input:{...G(l.FieldId.NodesCompute),onChange:e=>U(l.FieldId.NodesCompute,e)},minNodes:(0,R.getMinNodesRequired)(!1,{},{isDefaultMachinePool:!0,isByoc:j,isMultiAz:q}),clusterVersion:p.raw_id})),ae,te,i().createElement(_.E,{md:6}))))};var ae=a(96998),le=a(686),ne=a(58350),re=a(82194);const ie=()=>{const{values:{[l.FieldId.UpgradePolicy]:e},setFieldValue:t,getFieldProps:a}=(0,L.l)(),n=[{value:l.UpgradePolicyType.Manual,label:"Individual updates",description:r.createElement(r.Fragment,null,"Schedule each update individually. Take into consideration end of life dates from the"," ",r.createElement(N.default,{href:y.default.OSD_LIFE_CYCLE},"lifecycle policy")," when planning updates.")},{value:l.UpgradePolicyType.Automatic,label:"Recurring updates",description:r.createElement(r.Fragment,null,"The cluster will be automatically updated based on your preferred day and start time when new patch updates (",r.createElement(N.default,{href:y.default.OSD_Z_STREAM},"z-stream"),") are available. When a new minor version is available, you'll be notified and must manually allow the cluster to update to the next minor version.")}];return r.createElement(S.l,null,r.createElement(_.E,null,r.createElement(h.h,{headingLevel:"h3"},"Cluster update strategy"),r.createElement(b.E,{component:b.Y.p,className:"pf-v5-u-mt-sm"},"In the event of"," ",r.createElement(N.default,{href:"https://access.redhat.com/security/updates/classification/#critical"},"Critical security concerns")," ","(CVEs) that significantly impact the security or stability of the cluster, updates may be automatically scheduled by Red Hat SRE to the latest z-stream version not impacted by the CVE within 2 business days after customer notifications.")),r.createElement(C.x,{hasGutter:!0,md:6},r.createElement(ae.s,{direction:{default:"column"},spaceItems:{default:"spaceItemsLg"}},r.createElement(_.E,null,r.createElement(re.n,{name:l.FieldId.UpgradePolicy,options:n,onChange:(e,a)=>{a===l.UpgradePolicyType.Manual&&t(l.FieldId.AutomaticUpgradeSchedule,l.initialValues[l.FieldId.AutomaticUpgradeSchedule])}}),e===l.UpgradePolicyType.Automatic&&r.createElement(E.Field,{component:ne.default,name:l.FieldId.AutomaticUpgradeSchedule,input:{...a(l.FieldId.AutomaticUpgradeSchedule),onChange:e=>t(l.FieldId.AutomaticUpgradeSchedule,e)},className:"pf-v5-u-mt-md"})))),r.createElement(_.E,null,r.createElement(h.h,{headingLevel:"h4",className:"ocm-c-upgrade-node-draining-title"},"Node draining"),r.createElement(b.E,{component:b.Y.p},"Note: You cannot change the node drain grace period after you start the upgrade process."),r.createElement(b.E,{component:b.Y.p},"You may set a grace period for how long pod disruption budget-protected workloads will be respected during updates. After this grace period, any workloads protected by pod disruption budgets that have not been successfully drained from a node will be forcibly evicted."),r.createElement(E.Field,{name:l.FieldId.NodeDrainGracePeriod,component:le.default,input:{...a(l.FieldId.NodeDrainGracePeriod),onChange:e=>t(l.FieldId.NodeDrainGracePeriod,e)}})))}},42772:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MESSAGES:()=>l});const l={INITIATE_CREATE_CLUSTER_REQUEST:"Creating your cluster. Do not refresh this page. This may take a few moments..."}},93809:(e,t,a)=>{"use strict";a.d(t,{BH:()=>m,D2:()=>u,GO:()=>c,eC:()=>d});var l=a(2404),n=a.n(l),r=a(75166),i=a(14115),s=a(81437),o=a(52202);const u=e=>{const{[i.FieldId.Product]:t,[i.FieldId.AccountId]:a,[i.FieldId.AccessKeyId]:l,[i.FieldId.SecretAccessKey]:n,[i.FieldId.InstallerRoleArn]:s}=e;return t===r.normalizedProducts.ROSA?{account_id:a,sts:{role_arn:s}}:{account_id:a,access_key_id:l,secret_access_key:n}},c=e=>{const{[i.FieldId.GcpAuthType]:t,[i.FieldId.GcpServiceAccount]:a,[i.FieldId.GcpWifConfig]:l}=e;return t===s.GCPAuthType.ServiceAccounts?a:l.id},d=(e,t)=>{if(e[i.FieldId.CloudProvider]===i.CloudProviderType.Gcp){const a=e[i.FieldId.GcpAuthType];return t((0,o.getGCPCloudProviderVPCs)(o.VALIDATE_CLOUD_PROVIDER_CREDENTIALS,a,c(e),i.GCP_DEFAULT_REGION))}return t((0,o.getAWSCloudProviderRegions)(o.VALIDATE_CLOUD_PROVIDER_CREDENTIALS,u(e)))},m=(e,t)=>{const a=e[i.FieldId.CloudProvider]===i.CloudProviderType.Aws||e[i.FieldId.CloudProvider]===i.CloudProviderType.Gcp&&e[i.FieldId.GcpAuthType]===s.GCPAuthType.ServiceAccounts,l=t.fulfilled&&t.cloudProvider===e[i.FieldId.CloudProvider]&&n()(t.credentials,e[i.FieldId.CloudProvider]===i.CloudProviderType.Aws?u(e):c(e));return"true"===e[i.FieldId.Byoc]&&a&&!l}},23658:(e,t,a)=>{"use strict";a.d(t,{e:()=>g});var l=a(93345),n=a.n(l),r=a(88139),i=a(17661),s=a(56780),o=a(22563),u=a(81995),c=a(97862),d=a(38715);const m=e=>"true"===(null==e?void 0:e.toString()),p={toString:()=>"true",compareTo:m},f={toString:()=>"false",compareTo:e=>"false"===(null==e?void 0:e.toString())},E=[p,f],g=({name:e,label:t,helperText:a,isDisabled:l})=>{const[g,{touched:v,error:h}]=(0,r.useField)(e),{setFieldValue:_,setFieldTouched:S}=(0,r.useFormikContext)(),[b,C]=n().useState(!1),y=()=>{C(!b)};return n().createElement(s.g,{role:"group",fieldId:e,label:t},n().createElement(o.l,{isOpen:b,toggle:e=>{var t,a;return n().createElement(i.S,{ref:e,onClick:y,isExpanded:b,isDisabled:l,isFullWidth:!0,className:"boolean-dropdown-menu-toggle"},null!==(a=null===(t=g.value)||void 0===t?void 0:t.toString())&&void 0!==a?a:f.toString())},onSelect:(t,a)=>{C(!1),_(e,m(a)),S(e)},onOpenChange:C,selected:g.value?p:f},n().createElement(u.B,null,E.map((e=>n().createElement(c.O,{value:e,key:e.toString()},e.toString()))))),n().createElement(d.FormGroupHelperText,{touched:v,error:h},a))}},5330:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CheckboxField:()=>d});var l=a(93345),n=a.n(l),r=a(88139),i=a(56780),s=a(96998),o=a(83873),u=a(38715),c=a(55213);const d=({name:e,label:t,validate:a,isDisabled:l,tooltip:d,field:m,formGroup:p,input:f,helperText:E})=>n().createElement(r.Field,{name:e,validate:a,...m},(({field:r,form:m,meta:g})=>n().createElement(i.g,{fieldId:r.name,...a&&{isRequired:!0},...p},n().createElement(s.s,{flexWrap:{default:"nowrap"}},n().createElement(o.S,{id:r.name,label:d?n().createElement(s.s,{flexWrap:{default:"nowrap"}},t,n().createElement("div",{className:"pf-v5-u-ml-md"},d&&n().createElement(c.default,{hint:d}))):t,isChecked:r.value,isDisabled:l,onBlur:()=>m.setFieldTouched(e,!0,!0),onChange:t=>{r.onChange(t),setTimeout((()=>m.setFieldTouched(e,!0,!0)))},value:r.value||!1,...!(null==p?void 0:p.label)&&a&&{isRequired:!0},...f})),n().createElement(u.FormGroupHelperText,{touched:g.touched,error:g.error},E))))},82194:(e,t,a)=>{"use strict";a.d(t,{n:()=>g});var l=a(93345),n=a.n(l),r=a(46942),i=a.n(r),s=a(56780),o=a(96998),u=a(47144),c=a(72067),d=a(55213),m=a(88139),p=a(12956);const f=({name:e,label:t,value:a,onChange:l,shouldCheck:r,...i})=>{const[s,{touched:o,error:u}]=(0,m.useField)(e),{setFieldValue:c,setFieldTouched:d}=(0,m.useFormikContext)(),f=`form-radiobutton-${null==(E=`${e}-${a}`)?void 0:E.replace(/\./g,"-")}-field`;var E;const g=!(o&&u);return n().createElement(p.s,{...s,...i,id:f,value:a,label:t,isChecked:r?r(s.value,a):s.value===a,isValid:g,isDisabled:i.isDisabled,"aria-label":`${f}-${t}`,onChange:()=>{l?l(a):c(e,a),d(e,!0)}})};var E;!function(e){e.Row="row",e.Column="column"}(E||(E={}));const g=({name:e,label:t,options:a,onChange:l,isRequired:r,direction:m=E.Column})=>{const{setFieldValue:p}=(0,c.l)();return n().createElement(s.g,{label:t,fieldId:e,isRequired:r},n().createElement(o.s,{direction:{default:m},spaceItems:{default:"spaceItems"+(m===E.Column?"Md":"Lg")}},a.map((t=>{const a=n().createElement(f,{name:e,label:t.label,value:t.value,isDisabled:t.disabled,description:t.description,className:i()("pf-v5-u-mb-md",{"pf-v5-u-mr-sm":!!t.popoverHint}),onChange:t=>{p(e,t),null==l||l(null,null==t?void 0:t.toString())},shouldCheck:t.shouldCheck});return n().createElement(o.s,{alignItems:{default:"alignItemsFlexStart"},key:t.value,className:"pf-m-nowrap"},t.tooltip?n().createElement(u.m,{content:t.tooltip,position:"right"},a):a,t.popoverHint&&n().createElement(d.default,{hint:t.popoverHint}))}))))}},47006:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l=a(93345),n=a.n(l),r=a(88139),i=a(56780),s=a(23285),o=a(38715),u=a(55213);const c=({name:e,textInputClassName:t,formGroupClassName:a,label:l,validate:c,isDisabled:d,helperText:m,placeHolderText:p,tooltip:f,tooltipWidth:E="",field:g,formGroup:v,input:h,type:_,validateOnSubmit:S,onChange:b})=>n().createElement(r.Field,{name:e,validate:c,...g},(({field:r,form:g,meta:C})=>n().createElement(i.g,{fieldId:r.name,label:l,className:a,...f&&{labelIcon:n().createElement(u.default,{maxWidth:E,hint:f})},...c&&{isRequired:!0},...v},n().createElement(s.ks,{id:r.name,className:t,isDisabled:d,placeholder:p,validated:C.touched&&C.error||S&&C.error?"error":"default",onBlur:()=>g.setFieldTouched(e,!0),onChange:(e,t)=>{b&&b(e),r.onChange(e)},value:r.value||("number"===_?0:""),type:_,...h}),n().createElement(o.FormGroupHelperText,{touched:C.touched,error:C.error,validateOnSubmit:S},m))))},55576:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CheckboxField:()=>n.CheckboxField,FileUploadField:()=>p,RadioGroupField:()=>y.n,RichInputField:()=>C,TextInputField:()=>l.A});var l=a(47006),n=a(5330),r=a(93345),i=a.n(r),s=a(88139),o=a(56780),u=a(71837),c=a(72067),d=a(38715),m=a(55213);const p=({name:e,label:t,validate:a,isDisabled:l,helperText:n,tooltip:r,field:p,formGroup:f,input:E})=>{const{setFieldValue:g}=(0,c.l)(),[v,h]=i().useState(""),_=(t,a)=>g(e,a),S=(t,a)=>{if(void 0!==t.target.files&&t.target.files){const[a]=t.target.files,l=new FileReader;l.onload=()=>{h(a.name),g(e,l.result)},l.readAsText(a,"UTF-8")}else g(e,a)},b=()=>{h(""),g(e,"")};return i().createElement(s.Field,{name:e,validate:a,...p},(({field:e,meta:s})=>{const c=s.touched&&s.error;return i().createElement(o.g,{fieldId:e.name,label:t,...r&&{labelIcon:i().createElement(m.default,{hint:r})},...a&&{isRequired:!0},...f},i().createElement(u.e,{allowEditingUploadedText:!0,isDisabled:l,id:e.name,name:e.name,type:"text",value:e.value,filename:v,onDataChange:_,onTextChange:S,onClearClick:b,onTextAreaBlur:t=>e.onBlur(t),onFileInputChange:(e,t)=>h(t.name),validated:c?"error":"default",...E}),i().createElement(d.FormGroupHelperText,{touched:s.touched,error:s.error},n))}))};var f=a(4775),E=a(59257),g=a(35253),v=a(53642),h=a(23285),_=a(54910);const S={syncValidation:[],asyncValidation:[]},b=(e=S,t)=>{switch(t.type){case"set-sync-validation":return{...e,syncValidation:t.payload};case"set-async-validation":return{...e,asyncValidation:t.payload};case"set-async-validating":return{...e,asyncValidation:e.asyncValidation.map((e=>({...e,validating:!!t.value})))};default:throw new Error}},C=({label:e,extendedHelpText:t,isRequired:a,input:l,disabled:n,formGroupClass:s,type:u="text",validation:p=()=>[],asyncValidation:C=()=>[],helpTitle:y,helpExample:I="",helpText:A="",name:R,value:T="",onChange:O=()=>{}})=>{const P=l?l.value:T,D=String(l?l.name:R),L=l?l.onChange:O,N=(0,r.createRef)(),{validateField:w,setFieldTouched:k,setFieldError:F,setFieldValue:M,isValidating:x,errors:{[D]:G}}=(0,c.l)(),[U,H]=(0,r.useState)(!1),[V,B]=(0,r.useState)(!1),[q,j]=(0,r.useState)(!1),[z,W]=(0,r.useReducer)(b,S),$=[...z.syncValidation,...z.asyncValidation],K=!U||$.every((e=>!!e.validated)),Y=U&&z.asyncValidation.some((e=>e.validating)),Q=U&&$.some((e=>!1===e.validated));let Z="rich-input-field_info";return U&&!Y&&(K?Z="rich-input-field_valid":Q&&(Z="rich-input-field_not-valid")),(0,r.useEffect)((()=>{var e;!1===x&&P&&(e=G,W({type:"set-async-validation",payload:z.asyncValidation.map((t=>({...t,validated:t.text!==e})))}))}),[G,x]),(0,r.useEffect)((()=>{W({type:"set-async-validating",value:!!x})}),[x]),(0,r.useEffect)((()=>{(null==P?void 0:P.length)&&H(!0)}),[]),(0,r.useEffect)((()=>{Q&&j(!0)}),[Q]),(0,r.useEffect)((()=>{(e=>{const t=p(e);W({type:"set-sync-validation",payload:t})})(P),(e=>{const t=C(e);W({type:"set-async-validation",payload:t})})(P)}),[P]),(0,r.useEffect)((()=>{const e=setTimeout((()=>w(D)),0);return()=>clearTimeout(e)}),[]),i().createElement(o.g,{fieldId:D,label:e,isRequired:a,labelIcon:t?i().createElement(m.default,{hint:t}):void 0,className:`${s||""}`},i().createElement(f.A,{"aria-label":y,headerContent:y,isVisible:q,position:"top-end",withFocusTrap:!1,shouldClose:()=>{V?B(!1):j(!1)},bodyContent:i().createElement(E.E,{component:"ul",id:`rich-input-popover-${D}`},$.map((e=>i().createElement(_.ValidationItem,{key:e.text,touched:U,text:e.text,isValid:!!e.validated,isValidating:!!e.validating,isInitialized:void 0!==e.validated})))),footerContent:I},i().createElement(g.M,null,i().createElement(v.b,{isFill:!0},i().createElement(h.ks,{value:P,isRequired:a,id:D,name:D,isDisabled:n,type:u,autoComplete:"off",onBlur:()=>{B(!1),j(!1),w(D),H(!0)},onClick:()=>{B(!0),j(!0)},onFocus:()=>{B(!0),j(!0)},onChange:async(e,t)=>{!U&&(null==t?void 0:t.length)&&(k(D,!0,!1),F(D,""),H(!0)),await M(D,t,!1),L(t)},ref:N,"aria-describedby":`rich-input-popover-${D}`,className:`${Z} rich-input-field`})),i().createElement(v.b,null,i().createElement(_.ValidationIconButton,{touched:U,isValid:K,hasFailures:Q,isValidating:Y,onClick:e=>{var t;e.stopPropagation(),j(!0),null===(t=N.current)||void 0===t||t.focus()}})))),i().createElement(d.FormGroupHelperText,{touched:U,error:G},A))};var y=a(82194)},12024:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getScrollErrorIds:()=>l});const l=(e,t)=>Object.entries(e).reduce(((e,[a,l])=>(Array.isArray(l)?l.forEach(((l,n)=>{Object.keys(l||{}).forEach((l=>{t?e.push(`${a}[${n}].${l}`):e.push(`${a}.${n}.${l}`)}))})):e.push(a),e)),[])},82693:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFormState:()=>l.l});var l=a(72067)},72067:(e,t,a)=>{"use strict";a.d(t,{l:()=>l});const l=a(88139).useFormikContext},81437:(e,t,a)=>{"use strict";var l,n;a.r(t),a.d(t,{CloudProviderType:()=>l,GCPAuthType:()=>n}),function(e){e.Aws="aws",e.Gcp="gcp"}(l||(l={})),function(e){e.WorkloadIdentityFederation="workloadIdentityFederation",e.ServiceAccounts="serviceAccounts"}(n||(n={}))},95343:(e,t,a)=>{"use strict";var l,n;a.r(t),a.d(t,{ApplicationIngressType:()=>n,ClusterPrivacyType:()=>l}),function(e){e.Internal="internal",e.External="external"}(l||(l={})),function(e){e.Default="default",e.Custom="custom"}(n||(n={}))},72230:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FieldId:()=>m,MIN_SECURE_BOOT_VERSION:()=>C,OsdFieldId:()=>l,StepId:()=>f,StepName:()=>p,UrlPath:()=>E,ariaLabel:()=>b,breadcrumbs:()=>g,clusterNameHint:()=>_,documentTitle:()=>S,initialTouched:()=>h,initialValues:()=>v});var l,n=a(94675),r=a(75166),i=a(11611),s=a(69122),o=a(14115),u=a(81437),c=a(13642),d=a(95343);!function(e){e.PersistentStorage="persistent_storage",e.LoadBalancers="load_balancers",e.SecureBoot="secure_boot",e.ClusterPrivacy="cluster_privacy",e.InstallToSharedVpc="install_to_shared_vpc",e.SharedHostProjectID="shared_host_project_id",e.KeyLocation="key_location",e.KeyRing="key_ring",e.KeyName="key_name",e.KmsServiceAccount="kms_service_account",e.DisableScpChecks="disable_scp_checks",e.NetworkMachineCidr="network_machine_cidr",e.NetworkServiceCidr="network_service_cidr",e.NetworkPodCidr="network_pod_cidr",e.NetworkHostPrefix="network_host_prefix",e.NetworkMachineCidrSingleAz="network_machine_cidr_single_az",e.NetworkMachineCidrMultiAz="network_machine_cidr_multi_az",e.MarketplaceSelection="marketplace_selection"}(l||(l={}));const m={...o.FieldId,...l};var p,f,E;!function(e){e.BillingModel="Billing model",e.ClusterSettings="Cluster settings",e.CloudProvider="Cloud provider",e.Details="Details",e.MachinePool="Machine pool",e.Networking="Networking",e.Configuration="Configuration",e.VpcSettings="VPC settings",e.ClusterProxy="Cluster-wide proxy",e.CidrRanges="CIDR ranges",e.ClusterUpdates="Cluster updates",e.Review="Review and create"}(p||(p={})),function(e){e.BillingModel="billing-model",e.ClusterSettings="cluster-settings",e.ClusterSettingsCloudProvider="cluster-settings-cloud-provider",e.ClusterSettingsDetails="cluster-settings-details",e.ClusterSettingsMachinePool="cluster-settings-machine-pool",e.Networking="networking",e.NetworkingConfiguration="networking-config",e.NetworkingVpcSettings="networking-vpc-settings",e.NetworkingClusterProxy="networking-cluster-proxy",e.NetworkingCidrRanges="networking-cidr-ranges",e.ClusterUpdates="cluster-updates",e.Review="review"}(f||(f={})),function(e){e.Create="/create",e.CreateOsd="/create/osd",e.CreateCloud="/create/cloud"}(E||(E={}));const g=[{label:"Cluster List"},{label:"Cluster Type",path:E.Create},{label:"OpenShift Dedicated",path:E.CreateOsd}],v={[m.Product]:r.normalizedProducts.OSD,[m.Byoc]:"true",[m.CloudProvider]:o.CloudProviderType.Aws,[m.AcknowledgePrereq]:!1,[m.BillingModel]:c.SubscriptionCommonFields.cluster_billing_model.STANDARD,[m.MultiAz]:"false",[m.SelectedVpc]:{id:"",name:""},[m.MachinePoolsSubnets]:[(0,o.emptyAWSSubnet)()],[m.SecurityGroups]:(0,n.getDefaultSecurityGroupsSettings)(),[m.InstallToSharedVpc]:!1,[m.SecureBoot]:!1,[m.EnableUserWorkloadMonitoring]:!0,[m.NodeLabels]:[{key:"",value:""}],[m.ClusterPrivacy]:d.ClusterPrivacyType.External,[m.CidrDefaultValuesEnabled]:!0,[m.NetworkMachineCidr]:s.MACHINE_CIDR_DEFAULT,[m.NetworkServiceCidr]:s.SERVICE_CIDR_DEFAULT,[m.NetworkHostPrefix]:s.HOST_PREFIX_DEFAULT,[m.UpgradePolicy]:o.UpgradePolicyType.Manual,[m.AutomaticUpgradeSchedule]:"0 0 * * 0",[m.NodeDrainGracePeriod]:60,[m.PersistentStorage]:"107374182400",[m.LoadBalancers]:0,[m.DisableScpChecks]:!1,[m.CustomerManagedKey]:"false",[m.IMDS]:o.IMDSType.V1AndV2,[m.ApplicationIngress]:d.ApplicationIngressType.Default,[m.DefaultRouterExcludedNamespacesFlag]:"",[m.IsDefaultRouterNamespaceOwnershipPolicyStrict]:!0,[m.IsDefaultRouterWildcardPolicyAllowed]:!1,[m.ClusterAutoscaling]:(0,i.getDefaultClusterAutoScaling)(),[m.DomainPrefix]:"",[m.HasDomainPrefix]:!1,[m.GcpAuthType]:u.GCPAuthType.ServiceAccounts,[m.GcpWifConfig]:"",[m.PrivateServiceConnect]:!1,[m.PSCSubnet]:""},h={[m.AcknowledgePrereq]:!0},_="This name identifies your cluster in OpenShift Cluster Manager and forms part of the cluster console subdomain.",S="Create an OpenShift Dedicated cluster | Red Hat OpenShift Cluster Manager",b="Create OpenShift Dedicated cluster wizard",C="4.13.0"},20860:(e,t,a)=>{"use strict";a.d(t,{A:()=>C});var l=a(93345),n=a.n(l),r=a(33675),i=a(86130),s=a(75279),o=a(72583),u=a(56780),c=a(96998),d=a(96553),m=a(47144),p=a(65702),f=a(51513),E=a(38715),g=a(57983),v=a(55213),h=a(94296),_=a(52501);function S(){return n().createElement(r.p,{"data-testid":"no_associated_accounts",className:"no-associated-aws-accounts_empty-state"},n().createElement(i.o,{titleText:"No associated accounts were found.",headingLevel:"h6"}),n().createElement(s.h,null,"Associate an AWS account to your Red Hat account."))}function b(e,t){return t.label.length-e.label.length||t.label.localeCompare(e.label)}const C=function({input:{name:e,onBlur:t,...a},meta:{error:r,touched:i},isDisabled:s,isLoading:C,label:y,extendedHelpText:I,selectedAWSAccountID:A,accounts:R,isBillingAccount:T=!1,refresh:O,clearGetAWSAccountIDsResponse:P,required:D=!0}){const[L,N]=(0,l.useState)(!1),w=(0,l.createRef)(),k=(null==R?void 0:R.length)>0,{onRefresh:F,text:M}=O,{onChange:x}=a,{openDrawer:G}=(0,h.F)();(0,l.useEffect)((()=>{var e;!0!==L||k||null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[L,k]);const U=(0,l.useCallback)((e=>{N(e)}),[N]),H=(0,l.useCallback)(((e,t)=>{N(!1),x(t),localStorage.setItem(f.AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY,t)}),[N,x]),V=(0,l.useMemo)((()=>R.map((e=>{const t=e.cloud_account_id;return{entryId:t,label:t,description:T&&(0,_.P)(e)?"Contract enabled":""}}))),[R]),B=(0,l.useCallback)((()=>{N(!1),G({onClose:P})}),[G,N]),q=(0,l.useMemo)((()=>{const e=T?{component:"a",href:p.default.AWS_CONSOLE_ROSA_HOME,target:"_blank"}:{onClick:B};return n().createElement(n().Fragment,null,!k&&n().createElement(S,null),n().createElement(o.$n,{ref:w,variant:"secondary",...e},T?"Connect ROSA to a new AWS billing account":"How to associate a new AWS account"))}),[k,T,w]);return n().createElement(u.g,{label:y,labelIcon:I?n().createElement(v.default,{hint:I}):void 0,className:"aws-account-selection",isRequired:!0},n().createElement(c.s,null,n().createElement(d.Z,{grow:{default:"grow"}},n().createElement(g.FuzzySelect,{isOpen:L,selectedEntryId:k?A:"",selectionData:V,onOpenChange:U,onSelect:H,sortFn:b,isDisabled:s,placeholderText:"Select an account",inlineFilterPlaceholderText:"Filter by account ID",filterValidate:{pattern:/^\d*$/,message:"Please enter numeric digits only."},validated:i&&r?"danger":void 0,footer:q,"aria-describedby":"aws-infra-accounts",toggleId:e,popperProps:{appendTo:document.body}})),F&&n().createElement(d.Z,null,n().createElement(m.m,{content:n().createElement("p",null,M)},n().createElement(o.$n,{"data-testid":"refresh-aws-accounts",isLoading:C,isDisabled:s,isInline:!0,size:"sm",variant:"secondary",onClick:()=>{F()}},"Refresh")))),n().createElement(E.FormGroupHelperText,{touched:i,error:r}))}},23734:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var l=a(93345),n=a.n(l),r=a(84680),i=a(32034),s=a(78755),o=a(1319),u=a(67209),c=a(52501);const d=({contract:e})=>n().createElement(r.B,{id:"contract-info",isHorizontal:!0},n().createElement(i.W,null,n().createElement(s.X,null,"Start date:"),n().createElement(o.d,null,e.start_date?n().createElement(u.A,{type:"onlyDate",date:new Date(e.start_date)}):"N/A")),n().createElement(i.W,null,n().createElement(s.X,null,"End date:"),n().createElement(o.d,null,e.end_date?n().createElement(u.A,{type:"onlyDate",date:new Date(e.end_date)}):"N/A")),n().createElement(i.W,null,n().createElement(s.X,null,"Number of vCPUs"),n().createElement(o.d,null,(0,c.U)(e.dimensions,"four_vcpu_hour"))),n().createElement(i.W,null,n().createElement(s.X,null,"Number of clusters"),n().createElement(o.d,null,(0,c.U)(e.dimensions,"control_plane"))))},52501:(e,t,a)=>{"use strict";a.d(t,{P:()=>n,U:()=>r});const l=["control_plane","four_vcpu_hour"],n=e=>{const{contracts:t}=e;if(!t||0===t.length)return null;const a=t[0];return(a.dimensions||[]).some((e=>l.includes(e.name||"")&&Number(e.value||0)>0))?a:null},r=(e,t)=>{var a;return(null===(a=e.find((e=>(null==e?void 0:e.name)===t)))||void 0===a?void 0:a.value)||0}},34706:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var l=a(93345),n=a.n(l),r=a(24510),i=a(66152),s=a(55816),o=a(10046),u=a(85105),c=a(90132);const d=function({getAWSAccountRolesARNsResponse:e,isHypershiftSelected:t,isMissingOCMRole:a}){if(e.error){const t="CLUSTERS-MGMT-400"===e.internalErrorCode,l=t?"Cannot detect an OCM role":"Error getting AWS account ARNs";return t||a?n().createElement(u.I,{title:l,targetRole:"ocm"}):n().createElement(s.default,{message:l,response:e})}return t?n().createElement(r.F,{isInline:!0,variant:"danger",title:"Some account roles ARNs were not detected."},n().createElement("br",null),"Create the account roles using the following command in the ROSA CLI",n().createElement(o.default,{textAriaLabel:"Copyable ROSA login command"},c.RosaCliCommand.CreateAccountRolesHCP),n().createElement("br",null),"After running the command, you may need to refresh using the ",n().createElement("strong",null,"Refresh ARNs")," ","button below to populate the ARN fields.",n().createElement("p",null,"You must use ROSA CLI version ",i.ROSA_HOSTED_CLI_MIN_VERSION," or above.")):n().createElement(u.I,{title:"Some account roles ARNs were not detected",targetRole:"account"})}},34876:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>W,getUserRoleForSelectedAWSAccount:()=>z,isUserRoleForSelectedAWSAccount:()=>j});var l=a(93345),n=a.n(l),r=a(88139),i=a(58156),s=a.n(i),o=a(71468),u=a(20491),c=a(30620),d=a(23215),m=a(51976),p=a(22069),f=a(72583),E=a(9296),g=a(51513),v=a(84037),h=a(72067),_=a(5198),S=a(80591),b=a(55816),C=a(94538),y=a(11912),I=a(16829),A=a(1341),R=a(94296),T=a(9670),O=a(90678),P=a(73113),D=a(4775),L=a(24510),N=a(7019),w=a(93413),k=a(65702),F=a(98229),M=a(36165),x=a(42045),G=a(8888),U=a(20860),H=a(52501),V=a(23734);const B=({selectedAWSBillingAccountID:e,selectedAWSAccountID:t})=>{const{setFieldValue:a,getFieldProps:i,getFieldMeta:s,setFieldTouched:u}=(0,h.l)(),c=(0,o.wA)(),m=(0,M.useGlobalState)((e=>e.userProfile.organization)),E=(0,M.useGlobalState)((e=>e.rosaReducer.getAWSBillingAccountsResponse)),[g,_]=(0,l.useState)([]),S=(0,l.useCallback)((()=>{var e;c((0,x.getAWSBillingAccountIDs)(null===(e=m.details)||void 0===e?void 0:e.id))}),[c]);(0,l.useEffect)((()=>{var e;(0,w.shouldRefetchQuota)(m)?S():_((0,F.getAwsBillingAccountsFromQuota)(null===(e=m.quotaList)||void 0===e?void 0:e.items))}),[]),(0,l.useEffect)((()=>{E.fulfilled&&(_(E.data),e&&!E.data.some((t=>t.cloud_account_id===e))&&(a(I.FieldId.BillingAccountId,""),u(I.FieldId.BillingAccountId)))}),[E]),(0,l.useEffect)((()=>{1!==(null==g?void 0:g.length)||e||a(I.FieldId.BillingAccountId,g[0].cloud_account_id||"")}),[g,e]);const C=n().createElement(G.default,{isButton:!0,variant:"secondary",className:"pf-v5-u-mt-md",href:k.default.AWS_CONSOLE_ROSA_HOME,noIcon:!0},"Connect ROSA to a new AWS billing account"),y=g.find((t=>t.cloud_account_id===e)),A=y?(0,H.P)(y):null;return n().createElement(n().Fragment,null,n().createElement(d.E,{span:8},n().createElement(T.h,{headingLevel:"h3"},"AWS billing account"),n().createElement(p.E,{component:p.Y.p},"This account will be charged for your subscription usage. You can select an already connected AWS account or sign in to a different AWS account that you want to connect to ROSA.")),n().createElement(d.E,{span:4}),n().createElement(d.E,{sm:12,md:7},(m.error||E.error)&&n().createElement(b.default,{message:"Error getting associated AWS billing account id(s)",response:m.error?m:E}),n().createElement(r.Field,{component:U.A,name:I.FieldId.BillingAccountId,input:{...i(I.FieldId.BillingAccountId),onChange:e=>a(I.FieldId.BillingAccountId,e)},meta:s(I.FieldId.BillingAccountId),label:"AWS billing account",validate:v.required,required:!0,refresh:{onRefresh:S,text:"Refresh to view any new AWS billing accounts. It can take up to 5 minutes to sync new accounts."},extendedHelpText:n().createElement(n().Fragment,null,"Connect ROSA to a new billing account. To add a different AWS account, log in to the account, and click get started."),accounts:g,selectedAWSAccountID:e,isLoading:m.pending||E.pending,isDisabled:m.pending||E.pending,isBillingAccount:!0}),A?n().createElement(O.B,null,n().createElement(P.a,null,n().createElement(D.A,{bodyContent:n().createElement(V.A,{contract:A})},n().createElement(f.$n,{variant:"link",icon:n().createElement(N.OutlinedQuestionCircleIcon,null)},"Contract enabled for this billing account"))),n().createElement(P.a,null,C)):C),n().createElement(d.E,{span:7}),n().createElement(d.E,{sm:12,md:12},e!==t&&e&&t?n().createElement(L.F,{isInline:!0,variant:L.w.info,component:"p",role:"alert",title:"The selected AWS billing account is a different account than your AWS infrastructure account.\n            The AWS billing account will be charged for subscription usage.  The AWS infrastructure account will be used for managing the cluster."}):null))};var q=a(85105);const j=(e,t)=>null==e?void 0:e.some((e=>e.aws_id===t)),z=(e,t)=>e.find((e=>e.aws_id===t)),W=function({organizationID:e,getAWSAccountIDs:t,getAWSAccountIDsResponse:a,getAWSAccountRolesARNs:i,getAWSAccountRolesARNsResponse:T,getUserRoleResponse:O,clearGetAWSAccountRolesARNsResponse:P,clearGetAWSAccountIDsResponse:D,clearGetUserRoleResponse:L,isHypershiftEnabled:N,isHypershiftSelected:w}){const{setFieldValue:k,getFieldProps:F,getFieldMeta:M,values:{[I.FieldId.AssociatedAwsId]:x,[I.FieldId.BillingAccountId]:G,[I.FieldId.InstallerRoleArn]:H,[I.FieldId.RosaMaxOsVersion]:V}}=(0,h.l)(),[z,W]=(0,l.useState)([]),[$,K]=(0,l.useState)(!1),[Y,Q]=(0,l.useState)(!1),[Z,X]=(0,l.useState)(!1),J=(0,l.useMemo)((()=>a.pending||T.pending),[a.pending,T.pending]),ee=(0,l.useRef)(null),te=z.length>0,ae=(0,C.default)(),{openDrawer:le}=(0,R.F)(w),ne=(0,o.d4)((e=>e.machineTypesByRegion)),re=(0,o.wA)();n().useEffect((()=>{ne.region&&re((0,y.clearMachineTypesByRegion)())}));const ie=()=>{D(),P(),L()};(0,l.useEffect)((()=>{ie()}),[]),(0,l.useEffect)((()=>{if(O.fulfilled&&x){const e=j(O.data,x);Q(!e),L()}}),[O.fulfilled,x]),(0,l.useEffect)((()=>{if(te&&!x){let e=localStorage.getItem(g.AWS_ACCOUNT_ROSA_LOCALSTORAGE_KEY);e&&z.includes(e)||([e]=z),k(I.FieldId.AssociatedAwsId,e)}}),[te,x]),(0,l.useEffect)((()=>{if(a.pending)K(!1);else if(a.fulfilled){const e=s()(a,"data",[]);W(e),x&&!e.includes(x)&&k(I.FieldId.AssociatedAwsId,""),K(!0)}else a.error?K(!0):t(e)}),[a]),(0,l.useEffect)((()=>{((null==O?void 0:O.error)||Y)&&ae(E.trackEvents.MissingUserRole)}),[null==O?void 0:O.error,Y]);const se=(0,l.useCallback)((e=>{le({focusOnClose:e.target,onClose:D})}),[D,le]);return n().createElement(u.l,{onSubmit:()=>!1},n().createElement(c.x,{hasGutter:!0,className:"pf-v5-u-mt-md"},!N&&n().createElement(n().Fragment,null,n().createElement(d.E,{span:12},n().createElement(S.G,null)),n().createElement(d.E,{span:12},n().createElement(_.R,{showRosaCliRequirement:!1}))),n().createElement(d.E,{span:8},n().createElement(m.n,null,n().createElement(p.E,{component:p.Y.h3},"AWS infrastructure account"),n().createElement(p.E,{component:p.Y.p},"Select an AWS account that is associated with your Red Hat account or associate a new account. This account will contain the ROSA infrastructure."))),n().createElement(d.E,{span:4}),n().createElement(d.E,{sm:12,md:7},a.error?n().createElement(b.default,{message:"Error getting associated AWS account id(s)",response:a}):null,n().createElement(r.Field,{component:U.A,name:I.FieldId.AssociatedAwsId,input:{...F(I.FieldId.AssociatedAwsId),onChange:e=>k(I.FieldId.AssociatedAwsId,e)},meta:M(I.FieldId.AssociatedAwsId),label:"Associated AWS infrastructure account",refresh:{onRefresh:()=>{X(!0),ie()},text:"Refresh to view newly associated AWS accounts and account-roles."},validate:$?v.required:void 0,extendedHelpText:n().createElement(n().Fragment,null,"A list of associated AWS infrastructure accounts. You must associate at least one account to proceed."),accounts:z.map((e=>({cloud_account_id:e}))),selectedAWSAccountID:x,isLoading:Z&&J,isDisabled:J,clearGetAWSAccountIDsResponse:D}),n().createElement(f.$n,{variant:"secondary",className:"pf-v5-u-mt-md","data-testid":"launch-associate-account-btn",ref:ee,onClick:se},"How to associate a new AWS account")),n().createElement(d.E,{span:7}),w&&n().createElement(B,{selectedAWSBillingAccountID:G||"",selectedAWSAccountID:x||""}),x&&te&&n().createElement(A.Ay,{selectedAWSAccountID:x,selectedInstallerRoleARN:H,rosaMaxOSVersion:V,getAWSAccountRolesARNs:i,getAWSAccountRolesARNsResponse:T,clearGetAWSAccountRolesARNsResponse:P,isHypershiftSelected:w,onAccountChanged:()=>{Q(!1),L()}}),((null==O?void 0:O.error)||Y)&&n().createElement(d.E,{span:8,className:"pf-v5-u-mt-sm"},n().createElement(q.I,{title:"A user-role could not be detected",targetRole:"user"}))))}},94296:(e,t,a)=>{"use strict";a.d(t,{F:()=>H});var l=a(93345),n=a.n(l),r=a(96193),i=a(8295),s=a(9670),o=a(17801),u=a(16253),c=a(7303),d=a(63802),m=a(90678),p=a(73113),f=a(22069),E=a(72583),g=a(9296),v=a(83689),h=a(66152),_=a(94538),S=a(24510),b=a(65702),C=a(72067),y=a(16829),I=a(8888),A=a(10046),R=a(90132),T=a(19033);const O=({title:e,headingLevel:t,children:a,expandable:l,initiallyExpanded:r})=>{const[i,o]=n().useState(r),u=t||"h3";return l?n().createElement(T.Q,{onToggle:(e,t)=>((e,t)=>{o(t)})(0,t),isExpanded:i,isActive:i,toggleContent:n().createElement(s.h,{headingLevel:u,size:"md"},e)},a):n().createElement(n().Fragment,null,a)},P=e=>{const{values:{[y.FieldId.Hypershift]:t}}=(0,C.l)(),a="true"===t?R.RosaCliCommand.CreateAccountRolesHCP:R.RosaCliCommand.CreateAccountRoles;return n().createElement(O,{...e},n().createElement(f.E,{component:f.Y.p,className:"pf-v5-u-mb-lg"},"To create the necessary account-wide roles and policies quickly, use the default auto method that's provided by the ROSA CLI."),n().createElement(A.default,{"data-testId":"copy-rosa-create-account-role",trackEvent:g.trackEvents.CopyCreateAccountRoles,textAriaLabel:`Copyable ROSA ${a} command`,className:"pf-v5-u-mb-lg"},a),n().createElement(S.F,{variant:S.w.info,isInline:!0,isPlain:!0,className:"pf-v5-u-mb-lg",title:n().createElement(n().Fragment,null,"If you would prefer to manually create the required roles and policies within your AWS account, then follow"," ",n().createElement(I.default,{href:b.default.AWS_CLI_GETTING_STARTED_MANUAL,noIcon:!0},"these instructions"),".")}))};var D=a(75759),L=a(81164),N=a(57823),w=a(39931),k=a(69303);const F=({tabs:e})=>{const[t,a]=n().useState(0);return n().createElement(L.t,{activeKey:t,onSelect:(e,t)=>a(t),isBox:!0,className:"pf-v5-u-mt-lg associate-roles-drawer__tabs pf-v5-u-mb-sm"},e.map(((e,t)=>n().createElement(N.o,{eventKey:t,title:n().createElement(w.V,null,e.title),"data-testid":e["data-testid"]},n().createElement(k.b,{className:"ocm-instruction-block"},e.body)))))},M=e=>{const{expandable:t}=e;return n().createElement(O,{...e},n().createElement(s.h,{headingLevel:"h4",className:"pf-v5-u-mb-md",size:"md"},"First, check if a role exists and is linked with:"),n().createElement(A.default,{"data-testid":"copy-rosa-list-ocm-role",textAriaLabel:`Copyable ROSA ${R.RosaCliCommand.ListOcmRole} command`,className:"pf-v5-u-mb-lg"},R.RosaCliCommand.ListOcmRole),n().createElement(S.F,{variant:S.w.info,isInline:!0,isPlain:!0,title:`If there is an existing role and it's already linked to your Red Hat account, ${t?"you can continue to step 2":"no further action is needed"}.`,className:"pf-v5-u-mb-lg"}),n().createElement(s.h,{headingLevel:"h3",size:"md"},"Next, is there an existing role that isn't linked?"),n().createElement(D.default,{title:"Why do I need to link my account?",bodyContent:n().createElement(n().Fragment,null,"The link creates a trust policy between the role and the link cluster installer."," ",n().createElement(I.default,{href:b.default.ROSA_AWS_ACCOUNT_ASSOCIATION,noIcon:!0},"Review the AWS policy permissions for the basic and admin OCM roles."))}),n().createElement(F,{tabs:[{"data-testid":"copy-ocm-role-tab-no",title:"No, create new role",body:n().createElement(n().Fragment,null,n().createElement("strong",null,"Basic OCM role"),n().createElement(A.default,{"data-testid":"copy-rosa-create-ocm-role",textAriaLabel:"Copyable ROSA create ocm-role",trackEvent:g.trackEvents.CopyOCMRoleCreateBasic},R.RosaCliCommand.OcmRole),n().createElement("div",{className:"pf-v5-u-mt-md pf-v5-u-mb-md"},"OR"),n().createElement("strong",null,"Admin OCM role"),n().createElement(A.default,{"data-testid":"copy-rosa-create-ocm-admin-role",textAriaLabel:"Copyable ROSA create ocm-role --admin",trackEvent:g.trackEvents.CopyOCMRoleCreateAdmin},R.RosaCliCommand.AdminOcmRole),n().createElement(D.default,{title:"Help me decide",bodyContent:n().createElement(n().Fragment,null,n().createElement(f.E,{component:f.Y.p,className:"pf-v5-u-mb-md"},"The ",n().createElement("strong",null,"basic role")," enables OpenShift Cluster Manager to detect the AWS IAM roles and policies required by ROSA."),n().createElement(f.E,{component:f.Y.p},"The ",n().createElement("strong",null,"admin role")," also enables the detection of the roles and policies. In addition, the admin role enables automatic deployment of the cluster-specific Operator roles and OpenID Connect (OIDC) provider by using OpenShift Cluster Manager."))}))},{"data-testid":"copy-ocm-role-tab-yes",title:"Yes, link existing role",body:n().createElement(n().Fragment,null,n().createElement("strong",null," If a role exists but is not linked, link it with:"),n().createElement(A.default,{"data-testid":"copy-rosa-link-ocm-role",textAriaLabel:`Copyable ${R.RosaCliCommand.LinkOcmRole} command`,trackEvent:g.trackEvents.CopyOCMRoleLink},R.RosaCliCommand.LinkOcmRole),n().createElement(S.F,{variant:S.w.info,isInline:!0,isPlain:!0,className:"ocm-instruction-block_alert pf-v5-u-mt-lg",title:"You must have organization administrator privileges in your Red Hat account to run this command. After you link the OCM role with your Red Hat organization, it is visible for all users in the organization."}))}]}))};var x=a(55213);const G=e=>{const{expandable:t}=e;return n().createElement(O,{...e},n().createElement(s.h,{headingLevel:"h3",className:"pf-v5-u-mb-md",size:"md"},"First, check if a role exists and is linked with:"),n().createElement(A.default,{"data-testId":"copy-rosa-list-user-role",textAriaLabel:`Copyable ROSA ${R.RosaCliCommand.ListUserRole} command`,className:"pf-v5-u-mb-lg"},R.RosaCliCommand.ListUserRole),n().createElement(S.F,{variant:S.w.info,isInline:!0,isPlain:!0,title:`If there is an existing role and it's already linked to your Red Hat account, ${t?"you can continue to step 3":"no further action is needed"}.`,className:"pf-v5-u-mb-lg"}),n().createElement(s.h,{headingLevel:"h3",size:"md",className:"pf-v5-u-mb-lg"},"Next, is there an existing role that isn't linked?"),n().createElement(F,{tabs:[{"data-testid":"copy-user-role-tab-no",title:"No, create new role",body:n().createElement(n().Fragment,null,n().createElement("strong",null,"User role "),n().createElement(x.default,{bodyContent:"The user role is necessary to validate that your Red Hat user account has permissions to install a cluster in the AWS account."}),n().createElement(A.default,{"data-testid":"copy-rosa-create-user-role",textAriaLabel:"Copyable ROSA create user-role",trackEvent:g.trackEvents.CopyUserRoleCreate},R.RosaCliCommand.UserRole))},{"data-testid":"copy-user-role-tab-yes",title:"Yes, link existing role",body:n().createElement(A.default,{"data-testid":"copy-rosa-link-user-role",textAriaLabel:"Copyable ROSA link user-role --arn",trackEvent:g.trackEvents.CopyUserRoleLink},R.RosaCliCommand.LinkUserRole)}]}))},U=(0,l.forwardRef)((({targetRole:e,showRosaCliRequirement:t},a)=>{const{closeDrawer:g}=(0,l.useContext)(v.AppDrawerContext);let _,S;switch(e){case"ocm":_="Create OCM role",S=n().createElement(n().Fragment,null,"After you've created the role, close this guide and click the"," ",n().createElement("strong",null,"Refresh")," button.");break;case"user":_="Create user role",S="After you've created the role, close this guide and try again.";break;case"account":_="Create account roles",S=n().createElement(n().Fragment,null,"After running the command, close this guide and click the ",n().createElement("strong",null,"Refresh ARNs")," ","button to populate the ARN fields.");break;default:_="How to associate a new AWS account",S="After you've completed all the steps, close this guide and choose your account."}const b=!e,C=(0,l.useCallback)((()=>{g()}),[g]);return n().createElement(r.X,{isResizable:!0},n().createElement(i.y,null,n().createElement(s.h,{headingLevel:"h2",size:"2xl"},n().createElement("span",{tabIndex:0,ref:a},_)),n().createElement(o.j,null,n().createElement(u.s,{onClick:C}))),n().createElement(c.k,{hasNoPadding:!0},n().createElement(d.d8,{variant:"light"},n().createElement(m.B,{hasGutter:!0},n().createElement(p.a,null,n().createElement(f.E,{component:f.Y.p},"ROSA cluster deployments use the AWS Security Token Service for added security. Run the following required steps from a CLI authenticated with both AWS and ROSA."),t&&n().createElement(f.E,{component:f.Y.p},"You must use ROSA CLI version ",h.ROSA_HOSTED_CLI_MIN_VERSION," or above.")),(b||"ocm"===e)&&n().createElement(p.a,null,n().createElement(M,{title:"Step 1: OCM role",expandable:b,initiallyExpanded:!0})),(b||"user"===e)&&n().createElement(p.a,null,n().createElement(G,{title:"Step 2: User role",expandable:b})),(b||"account"===e)&&n().createElement(p.a,null,n().createElement(P,{title:"Step 3: Account roles",expandable:b})),n().createElement(p.a,null,n().createElement(f.E,{component:f.Y.p,className:"pf-v5-u-mr-md"},S)),n().createElement(p.a,null,n().createElement(E.$n,{variant:E.Ak.secondary,"data-testid":"close-associate-account-btn",onClick:C},"Close"))))))})),H=(e=!1)=>{const{openDrawer:t}=(0,l.useContext)(v.AppDrawerContext),a=(0,_.default)(),r=(0,l.useRef)(null),i=(0,l.useCallback)((()=>{r.current&&r.current.focus()}),[r]);return{openDrawer:(0,l.useCallback)(((l={})=>{const{focusOnClose:s,onClose:o,targetRole:u}=l;a(g.trackEvents.AssociateAWS),t({drawerProps:{onExpand:i},drawerPanelContent:n().createElement(U,{ref:r,targetRole:u,showRosaCliRequirement:e}),onClose:o,focusOnClose:s})}),[i,t,a,e])}}},85105:(e,t,a)=>{"use strict";a.d(t,{I:()=>c});var l=a(93345),n=a.n(l),r=a(24510),i=a(51976),s=a(22069),o=a(72583),u=a(94296);const c=({title:e,targetRole:t})=>{const{openDrawer:a}=(0,u.F)(),c=(0,l.useCallback)((e=>{a({focusOnClose:e.target,targetRole:t})}),[a,t]);return n().createElement(r.F,{variant:"danger",isInline:!0,title:e},n().createElement(i.n,{className:"pf-v5-u-font-size-sm"},n().createElement(s.E,{component:s.Y.p},"To continue,"," ",n().createElement(o.$n,{variant:"link",isInline:!0,onClick:c},"create the required role")," ","with the ROSA CLI.")))}},90132:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{RosaCliCommand:()=>l}),function(e){e.UserRole="rosa create user-role",e.LinkUserRole="rosa link user-role <arn>",e.OcmRole="rosa create ocm-role",e.AdminOcmRole="rosa create ocm-role --admin",e.ListOcmRole="rosa list ocm-role",e.LinkOcmRole="rosa link ocm-role <arn>",e.ListUserRole="rosa list user-role",e.VerifyQuota="rosa verify quota",e.WhoAmI="rosa whoami",e.CreateAccountRoles="rosa create account-roles --mode auto",e.CreateAccountRolesHCP="rosa create account-roles --hosted-cp --mode auto",e.CreateCluster="rosa create cluster",e.CreateNetwork="rosa create network"}(l||(l={}))},72115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createOperatorRolesHash:()=>i,createOperatorRolesPrefix:()=>s,getOperatorRolesCommand:()=>r});var l=a(93413),n=a(84037);const r=({isHypershift:e,byoOidcConfigID:t,customOperatorRolesPrefix:a,installerRoleArn:l,sharedVpcRoleArn:r})=>{if(!t||!a||(0,n.checkCustomOperatorRolesPrefix)(a))return"";const i=`rosa create operator-roles --prefix "${a}" --oidc-config-id "${t}"`,s=l?`--installer-role-arn ${l}`:"";return e?`${i} --hosted-cp ${s}`:`${i} ${s}`},i=()=>{const e=Array.from(crypto.getRandomValues(new Uint8Array(4))).map((e=>(e%36).toString(36))),t="abcdefghijklmnopqrstuvwxyz"[(0,l.secureRandomValueInRange)(0,25)];return e[0]=t,e.join("")},s=e=>{const t=n.MAX_CUSTOM_OPERATOR_ROLES_PREFIX_LENGTH-5;return`${e.slice(0,t)}-${i()}`}},14466:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>De});var l=a(93345),n=a.n(l),r=a(88139),i=a(71468),s=a(23215),o=a(56780),u=a(20491),c=a(30620),d=a(9670),m=a(30666),p=a(93973),f=a(24510),E=a(19033),g=a(37979),v=a(45436),h=a(93413),_=a(65702),S=a(94675),b=a(75166),C=a(84037),y=a(94402),I=a(49484),A=a(38046),R=a(98229),T=a(73553),O=a(54910),P=a(29814),D=a(28053),L=a(14115),N=a(55576),w=a(5330),k=a(72067),F=a(72115),M=a(8888);const x=()=>{const{values:{[L.FieldId.Region]:e,[L.FieldId.CustomerManagedKey]:t,[L.FieldId.KmsKeyArn]:a},setFieldTouched:l}=(0,k.l)(),r="true"===t;return n().useEffect((()=>{r&&a&&l(L.FieldId.KmsKeyArn,!0,!0)}),[]),n().createElement(c.x,{hasGutter:!0},n().createElement(s.E,null,n().createElement(o.g,{fieldId:L.FieldId.CustomerManagedKey,id:"customerManagedKey",label:"Encryption Keys"},n().createElement("div",{className:"pf-v5-u-font-size-sm pf-v5-u-pb-md"},"The cloud storage for your cluster is encrypted at rest."," ",n().createElement(M.default,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/data-protection.html"},"Learn more")),n().createElement(N.RadioGroupField,{name:L.FieldId.CustomerManagedKey,options:[{value:"false",label:"Use default KMS Keys"},{value:"true",label:"Use custom KMS keys",popoverHint:"Use a custom AWS KMS key for AWS EBS volume encryption instead of your default AWS KMS key."}],direction:"row",isRequired:!0}))),r&&n().createElement(s.E,null,n().createElement(N.TextInputField,{name:L.FieldId.KmsKeyArn,label:"Key ARN",validate:t=>(0,C.validateAWSKMSKeyARN)(t,e),helperText:a?"":"Provide a custom key ARN",tooltip:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-sm"},I.constants.awsKeyARN),n().createElement(M.default,{href:_.default.AWS_FINDING_KEY_ARN},"Finding the key ID and ARN"))}),n().createElement(s.E,{md:6},n().createElement(f.F,{className:"pf-v5-u-mt-sm",isInline:!0,isLiveRegion:!0,variant:"info",title:"If you delete the ARN key, the cluster will no longer be available."}))))};var G=a(16829),U=a(55213);function H(){const{values:{[G.FieldId.EtcdEncryption]:e,[G.FieldId.EtcdKeyArn]:t,[G.FieldId.Region]:a},setFieldValue:l}=(0,k.l)();return n().useEffect((()=>{!e&&t&&l(G.FieldId.EtcdKeyArn,"")}),[e,t,l]),n().createElement(n().Fragment,null,n().createElement(s.E,null,n().createElement(o.g,{label:"etcd encryption"},n().createElement(m.B,{hasGutter:!0},n().createElement(p.o,null,n().createElement(w.CheckboxField,{name:G.FieldId.EtcdEncryption,label:"Encrypt etcd with a custom KMS key"})),n().createElement(p.o,null,n().createElement(U.default,{hint:n().createElement(n().Fragment,null,I.constants.enableAdditionalEtcdHypershiftHint," ",n().createElement(M.default,{href:_.default.ROSA_SERVICE_ETCD_ENCRYPTION},"Learn more about etcd encryption"))}))),n().createElement("div",{className:"ocm-c--reduxcheckbox-description"},"Etcd is always encrypted, but you can specify a custom KMS key if desired."))),e?n().createElement(n().Fragment,null,n().createElement(s.E,null,n().createElement(N.TextInputField,{name:G.FieldId.EtcdKeyArn,label:"Key ARN",validate:e=>(0,C.validateAWSKMSKeyARN)(e,a),helperText:t?"":"Provide a custom key ARN",tooltip:n().createElement(n().Fragment,null,n().createElement("p",{className:"pf-v5-u-mb-sm"},I.constants.awsKeyARN),n().createElement(M.default,{href:_.default.AWS_FINDING_KEY_ARN},"Finding the key ID and ARN"))})),n().createElement(s.E,null,n().createElement(f.F,{className:"pf-v5-u-mt-sm",isInline:!0,isLiveRegion:!0,variant:"info",title:"If you delete the ARN key, the cluster will no longer be available."}))):null)}var V=a(17661),B=a(97862),q=a(22563),j=a(43238),z=a(4775),W=a(72583),$=a(9132),K=a(81995),Y=a(7019),Q=a(75907),Z=a(66152),X=a(55816),J=a(38715),ee=a(62077),te=a(56349),ae=a(25514),le=a(12921),ne=a(90118),re=a(22069),ie=a(90132),se=a(10046);const oe=({isHypershiftSelected:e})=>n().createElement(f.F,{className:"pf-v5-u-ml-lg",variant:"danger",isInline:!0,role:"alert",title:"There is no version compatible with the selected ARNs in previous step"},n().createElement(le.K,{component:le.C.ol,className:"ocm-c-wizard-alert-steps"},n().createElement(ne.L,{className:"pf-v5-u-mb-sm"},n().createElement(re.E,{component:re.Y.p,className:"pf-v5-u-mb-sm"},"Please select different ARNs or create new account roles using the following command in the ROSA CLI")),n().createElement(ne.L,{className:"pf-v5-u-mb-sm"},n().createElement("div",{className:"pf-v5-u-mb-sm"},n().createElement(se.default,{textAriaLabel:"Copyable ROSA create account-roles command"},e?ie.RosaCliCommand.CreateAccountRolesHCP:ie.RosaCliCommand.CreateAccountRoles))))),ue=function({label:e,onChange:t,isOpen:a=!1}){var s,u;const[c,{touched:d,error:m},{setValue:p}]=(0,r.useField)(G.FieldId.ClusterVersion),{values:{[G.FieldId.ClusterVersion]:f,[G.FieldId.Hypershift]:E,[G.FieldId.RosaMaxOsVersion]:g,[G.FieldId.InstallerRoleArn]:v,[G.FieldId.SupportRoleArn]:_,[G.FieldId.WorkerRoleArn]:S}}=(0,k.l)(),b="true"===E,C=(0,i.wA)(),y=(0,ae.useGlobalState)((e=>e.clusters.clusterVersions)),I=e=>C(te.clustersActions.getInstallableVersions({isRosa:!0,isHCP:e})),A=(0,ae.useGlobalState)((e=>e.rosaReducer.getAWSAccountRolesARNsResponse)),R=((null==A?void 0:A.data)||[]).some((e=>(e.managedPolicies||e.hcpManagedPolicies)&&(e.Installer===v||e.Support===_||e.Worker===S))),[T,O]=(0,l.useState)(a),[P,D]=(0,l.useState)([]),[L,N]=(0,l.useState)(!1),[w,F]=(0,l.useState)(!0),[M]=(0,ee.useOCPLifeCycleStatusData)(),x=(null===(s=null==M?void 0:M[0])||void 0===s?void 0:s.versions)||[],U=Object.fromEntries(x.map((e=>[e.name,e.type]))),H=n().useCallback((e=>(0,h.isSupportedMinorVersion)((null==e?void 0:e.raw_id)||"",g)&&e.rosa_enabled),[g]),le=n().useCallback((e=>(0,h.isSupportedMinorVersion)((null==e?void 0:e.raw_id)||"",g)&&e.hosted_control_plane_enabled),[g]),ne=e=>parseFloat(e.raw_id||""),re=n().useCallback((e=>b&&!e.hosted_control_plane_enabled),[b]),ie=n().useCallback((e=>{if(!(null==e?void 0:e.raw_id))return;if(re(e))return"This version is not compatible with a Hosted control plane";const t=parseFloat(Z.MIN_MANAGED_POLICY_VERSION),a=Number(e.raw_id.split(".")[2]),l=Number(Z.MIN_MANAGED_POLICY_VERSION.split(".")[2]),n=R&&(ne(e)<t||ne(e)===t&&a<l);return!H(e)||n?"This version is not compatible with the selected ARNs in previous step":void 0}),[R,re,H]);(0,l.useEffect)((()=>{var e;const t="hcp"===(null===(e=y.params)||void 0===e?void 0:e.product);(!y.fulfilled||y.error||t&&!b||!t&&b)&&I(b)}),[]),(0,l.useEffect)((()=>{var e;if(y.fulfilled){const a=null!==(e=null==y?void 0:y.versions)&&void 0!==e?e:[],l=a.find((e=>e.raw_id===(null==f?void 0:f.raw_id)));!(null==f?void 0:f.raw_id)||l&&!ie(l)||(p(void 0),t(void 0)),D(a)}else y.error&&O(!1)}),[y]),(0,l.useEffect)((()=>{if(P.length&&!(null==f?void 0:f.raw_id)){const e=P.find((e=>!0===e.default)),a=P.find((e=>H(e))),l=b&&P.find((e=>le(e)));if(!a||b&&!l)return void N(!0);const n=l||a||e||P[0];p(n),t(n)}}),[P,null==f?void 0:f.raw_id,g,p,t,b,H,le]);const se=e=>{O(!T),!T&&y.error&&I(b)},ue=()=>{const e=P.find((e=>{var t;return(null===(t=c.value)||void 0===t?void 0:t.raw_id)===e.raw_id}));return e?e.raw_id:""},ce=n().useMemo((()=>{const e=[],t=[];let a=!1;return P.forEach((l=>{const r=ie(l);if(a||(a=!!r),r&&w)return;const i=n().createElement(B.O,{value:l.raw_id,key:l.id,isDisabled:!!r,description:r||""},`${l.raw_id}`);"Full Support"===(null==U?void 0:U[ne(l)])?e.push(i):t.push(i)})),{fullSupport:e,maintenanceSupport:t,hasIncompatibleVersions:a}}),[ie,U,P,w]);return n().createElement(o.g,{...c,label:e,isRequired:!0},y.error&&n().createElement(X.default,{message:"Error getting cluster versions",response:y}),L?n().createElement(oe,{isHypershiftSelected:b}):null,y.pending&&n().createElement("div",{className:"spinner-fit-container"},n().createElement(Q.A,null)),y.fulfilled&&!L&&n().createElement(q.l,{isOpen:T,selected:(null==f?void 0:f.raw_id)||ue(),toggle:e=>n().createElement(V.S,{ref:e,onClick:se,isExpanded:T,style:{width:"100%",minWidth:"100%"},id:G.FieldId.ClusterVersion},(null==f?void 0:f.raw_id)||ue()),onOpenChange:O,onSelect:(e,a)=>{O(!1);const l=P.find((e=>e.raw_id===a));p(l),t(l)},maxMenuHeight:"20em",isScrollable:!0},ce.hasIncompatibleVersions?n().createElement(j.d,{className:"pf-v5-u-mx-md pf-v5-u-mt-md pf-v5-u-font-size-sm",id:"view-only-compatible-versions","aria-label":"View only compatible versions",key:`compatible-switch-${w}`,label:n().createElement(n().Fragment,null,n().createElement("span",null,"View only compatible versions"),n().createElement(z.A,{bodyContent:b?"View only versions that are compatible with a Hosted control plane":"View only versions that are compatible with the selected ARNs in previous step",enableFlip:!1},n().createElement(W.$n,{variant:"plain",className:"pf-v5-u-p-0 pf-v5-u-ml-md"},n().createElement(Y.OutlinedQuestionCircleIcon,null)))),hasCheckIcon:!0,isChecked:w,onChange:(e,t)=>{e.preventDefault(),e.stopPropagation(),F(t)}}):null,n().createElement($.s,{label:"Full support",id:"full-support"},n().createElement(K.B,{"aria-labelledby":"full-support"},ce.fullSupport)),(null===(u=ce.maintenanceSupport)||void 0===u?void 0:u.length)>0?n().createElement($.s,{label:"Maintenance support",id:"maintenance-support"},n().createElement(K.B,{"aria-labelledby":"maintenance-support"},ce.maintenanceSupport)):null),n().createElement(J.FormGroupHelperText,{touched:d,error:m}))};var ce=a(11243),de=a(96678),me=a(11353),pe=a(25982),fe=a(10135),Ee=a(57146),ge=a(16236),ve=a(90020),he=a(36817),_e=a(11912),Se=a(976),be=a(8371),Ce=a(3638);const ye=(e,t)=>({id:e.id,display_name:e.display_name,enabled:e.enabled,supports_multi_az:e.supports_multi_az,kms_location_id:e.kms_location_id,ccs_only:e.ccs_only,supports_hypershift:e.supports_hypershift,is_regionalized:t});let Ie=!1;const Ae=()=>{const{data:e,error:t,isError:a,isPending:l,isFetching:n,isSuccess:r}=(0,pe.I)({queryKey:[he.K.FETCH_MULTI_REGION_AVAILABLE_REGIONS],queryFn:async()=>(async()=>{const e=[],t=await(async()=>{var e;const t=[];return null===(e=(await ge.default.getCloudProviders()).data.items)||void 0===e||e.forEach((e=>{"aws"===e.id&&void 0!==e.regions&&e.regions.forEach((e=>{if(e.id&&e.supports_hypershift){const a=ye(e,!1);t.push(a)}}))})),t})(),a=await(async()=>{var e,t,a,l;const n=[],r=(0,de.currentEnvironment)(),i="production"===r,s=await ve.accountsService.getRegionalInstances();if(200===s.status){const o=null===(e=null==s?void 0:s.data)||void 0===e?void 0:e.items,u=i?(0,de.getProdRegionalInstances)(o):null==o?void 0:o.filter((e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.includes(r))&&"aws"===(null==e?void 0:e.cloud_provider_id)}));if((null==u?void 0:u.length)>0)for(const e of u){const r=i?null===(t=null==e?void 0:e.id)||void 0===t?void 0:t.substring(4):null===(a=null==e?void 0:e.id)||void 0===a?void 0:a.match(/\.(.*)\./),s=i?r:r[1],o=(0,ge.getClusterServiceForRegion)(e.id);try{const e=await o.getCloudProviders(),t=null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.items;null==t||t.forEach((e=>{if("aws"===e.id&&void 0!==e.regions){const t=e.regions.find((e=>e.id===s));if(t&&t.supports_hypershift){const e=ye(t,!0);n.push(e)}}}))}catch(e){return Ie=!0,n}}}return n})();return a.length>0&&e.push(...a),t.length>0&&t.forEach((t=>{(null==a?void 0:a.some((e=>e.id===t.id)))||e.push(t)})),e})(),retry:!1}),i=(e,t)=>e?{pending:l,error:e,fulfilled:!1,errorCode:null==t?void 0:t.code,errorMessage:null==t?void 0:t.message,operationID:null==t?void 0:t.operation_id}:null,s=i(a,t);return{data:e,error:(null==s?void 0:s.error)?i(a,t):null,isError:a,isFetching:n,isSuccess:r,isPending:l,isFailedRegionalizedRegions:Ie}};var Re=a(57860);const Te=({field:e,cloudProviderID:t,isDisabled:a,handleCloudRegionChange:l})=>{const{setFieldValue:r}=(0,k.l)(),[i,s]=n().useState([]),{data:o,isFetching:u,isError:c,error:d,isSuccess:m,isFailedRegionalizedRegions:p}=Ae();return n().useEffect((()=>{s(o)}),[o]),n().useEffect((()=>{if(i){const a=i.find((t=>t.id===e.value));if(!a||a.disableReason){const a=(0,Re.p)(i,t);a&&(r(e.name,a),null==l||l())}}}),[i,t,e.value,e.name,r,l]),m&&!u&&i?n().createElement(n().Fragment,null,n().createElement(be.F,{name:e.name,className:"cloud-region-combo-box","aria-label":"Region",isDisabled:a,value:e.value,onChange:(t,a)=>{r(e.name,a),null==l||l()}},i.filter((t=>!t.hide||t.id===e.value)).map((e=>n().createElement(Ce.Q,{key:e.id,value:e.id,label:`${e.id}, ${e.display_name}`,isDisabled:!!e.disableReason})))),p?n().createElement(f.F,{title:"Some regions failed to load",variant:"warning",isInline:!0,className:"pf-u-pt-sm"}):null):c?n().createElement(X.default,{message:"Error loading region list",response:d}):n().createElement(n().Fragment,null,n().createElement("div",{className:"spinner-fit-container"},n().createElement(Q.A,null)),n().createElement("div",{className:"spinner-loading-text"},"Loading region list..."))};var Oe=a(2786);const Pe=()=>n().createElement(s.E,{md:6},n().createElement(N.CheckboxField,{name:L.FieldId.EnableExteranlAuthentication,label:"External authentication",tooltip:n().createElement(M.default,{href:_.default.ROSA_HCP_EXT_AUTH},"Learn more about external authentication"),formGroup:{label:"Enable external authentication"}}),n().createElement(Oe.CheckboxDescription,null,"Allow authentication to be handled by an external provider.")),De=function(){const{values:{[G.FieldId.Hypershift]:e,[G.FieldId.MultiAz]:t,[G.FieldId.BillingModel]:a,[G.FieldId.Region]:V,[G.FieldId.RegionalInstance]:B,[G.FieldId.MachinePoolsSubnets]:q,[G.FieldId.ClusterPrivacy]:j,[G.FieldId.InstallerRoleArn]:z,[G.FieldId.HasDomainPrefix]:W,[G.FieldId.ClusterName]:$,[G.FieldId.DomainPrefix]:K},errors:Y,getFieldProps:Q,setFieldValue:Z,setFieldTouched:X,validateForm:J}=(0,k.l)(),ee=(0,i.d4)((e=>e.machineTypesByRegion)),te=(0,i.wA)();n().useEffect((()=>{V&&(!ee.region||ee.region&&ee.region.id!==V)&&te((0,_e.getMachineTypesByRegionARN)(z,V))}),[V,z,ee.region,te]);const le="true"===e,ne="true"===t,re=(0,ce.useFeatureGate)(Se.MULTIREGION_PREVIEW_ENABLED)&&le,[ie,se]=(0,l.useState)(!1),[oe,be]=(0,l.useState)(!1),{data:Ce,isFetching:ye,isError:Ie}=(0,me.useFetchGetAvailableRegionalInstances)(re);n().useEffect((()=>{re&&Ce&&!ye&&!Ie&&Z(G.FieldId.RegionalInstance,(0,de.findRegionalInstance)(V,Ce))}),[re,V,Ce,ye,Z,Ie]);const Ae=null==B?void 0:B.id,{data:Re,isFetching:Oe}=((e,t,a)=>{const{data:l,isError:n,error:r,isFetching:i}=(0,pe.I)({queryKey:[he.K.FETCH_SEARCH_CLUSTER_NAME],queryFn:async()=>{var a,l,n,r;if(t){const n=(0,ge.getClusterServiceForRegion)(t),r=`name = ${(0,fe.sqlString)(e)}`,i=await n.searchClusters(r,1);return!!(null===(l=null===(a=null==i?void 0:i.data)||void 0===a?void 0:a.items)||void 0===l?void 0:l.length)}const i=`name = ${(0,fe.sqlString)(e)}`,s=await ve.clusterService.searchClusters(i,1);return!!(null===(r=null===(n=null==s?void 0:s.data)||void 0===n?void 0:n.items)||void 0===r?void 0:r.length)},retry:!1,enabled:a});return{data:l,isError:n,error:r,isFetching:i}})($,Ae,re),{data:De,isFetching:Le}=((e,t,a)=>{const{data:l,isError:n,error:r,isFetching:i}=(0,pe.I)({queryKey:[he.K.FETCH_SEARCH_DOMAIN_PREFIX],queryFn:async()=>{var a,l,n,r;if(t){const n=(0,ge.getClusterServiceForRegion)(t),r=`domain_prefix = ${(0,fe.sqlString)(e)}`,i=await n.searchClusters(r,1);return!!(null===(l=null===(a=null==i?void 0:i.data)||void 0===a?void 0:a.items)||void 0===l?void 0:l.length)}const i=`domain_prefix = ${(0,fe.sqlString)(e)}`,s=await ve.clusterService.searchClusters(i,1);return!!(null===(r=null===(n=null==s?void 0:s.data)||void 0===n?void 0:n.items)||void 0===r?void 0:r.length)},retry:!1,enabled:a});return{data:l,isError:n,error:r,isFetching:i}})(K,Ae,re);n().useEffect((()=>{Ee.q.invalidateQueries({queryKey:[he.K.FETCH_SEARCH_CLUSTER_NAME],exact:!0})}),[$,B]),n().useEffect((()=>{Ee.q.invalidateQueries({queryKey:[he.K.FETCH_SEARCH_DOMAIN_PREFIX],exact:!0})}),[K,B]),n().useEffect((()=>{re&&(X(G.FieldId.ClusterName),X(G.FieldId.DomainPrefix))}),[re,Re,De,X]),n().useEffect((()=>{J()}),[V,Re,De,J]),n().useEffect((()=>{Y[G.FieldId.KmsKeyArn]&&(se(!0),X(G.FieldId.KmsKeyArn)),Y[G.FieldId.EtcdKeyArn]&&(se(!0),X(G.FieldId.EtcdKeyArn))}),[Y,X]);const{organization:{quotaList:Ne,details:we}}=(0,ae.useGlobalState)((e=>e.userProfile)),ke=()=>{const e=new Array(ne?3:1).fill((0,L.emptyAWSSubnet)());Z(G.FieldId.MachinePoolsSubnets,e),Z(G.FieldId.SelectedVpc,{id:"",name:""}),"external"===j&&Z(G.FieldId.ClusterPrivacyPublicSubnetId,"")},Fe=e=>{const t={product:b.normalizedProducts.ROSA,cloudProviderID:O.CloudProviderType.Aws,isBYOC:!0,billingModel:a,isMultiAz:e};return(0,R.availableQuota)(Ne,{...t,resourceType:A.QuotaTypes.CLUSTER})>=1},Me=e=>e?{disabled:!1}:{disabled:!0,tooltip:h.noQuotaTooltip},xe=[{value:"false",label:"Single zone",popoverHint:I.constants.availabilityHintSingleZone,...Me(Fe(!1))},{value:"true",label:"Multi-zone",popoverHint:I.constants.availabilityHintMultiZone,...Me(Fe(!0))}],Ge=n().createElement(n().Fragment,null,n().createElement(s.E,{md:6},n().createElement(o.g,{label:"Region",isRequired:!0,fieldId:G.FieldId.Region,labelIcon:n().createElement(U.default,{hint:I.constants.regionHint})},re?n().createElement(r.Field,{component:Te,name:G.FieldId.Region,cloudProviderID:O.CloudProviderType.Aws,handleCloudRegionChange:ke}):n().createElement(r.Field,{component:D.A,name:G.FieldId.Region,cloudProviderID:O.CloudProviderType.Aws,isBYOC:!0,isMultiAz:ne,isHypershiftSelected:le,handleCloudRegionChange:ke}))),n().createElement(s.E,{md:6}));return n().createElement(u.l,{onSubmit:e=>(e.preventDefault(),!1)},n().createElement(c.x,{hasGutter:!0},n().createElement(s.E,null,n().createElement(d.h,{headingLevel:"h3"},"Cluster details")),re?Ge:null,n().createElement(s.E,{md:6},n().createElement(r.Field,{component:N.RichInputField,name:G.FieldId.ClusterName,label:"Cluster name",type:"text",validate:async e=>{const t=(0,C.createPessimisticValidator)(C.clusterNameValidation)(e,54);if(t)return t;return await(0,C.asyncValidateClusterName)(e,re,Re)||!(!re||!Oe&&V)||void 0},validation:e=>(0,C.clusterNameValidation)(e,54),asyncValidation:e=>(0,C.clusterNameAsyncValidation)(e,re,Re),isRequired:!0,extendedHelpText:I.constants.clusterNameHint,input:{...Q(G.FieldId.ClusterName),onChange:async e=>{Z(G.FieldId.CustomOperatorRolesPrefix,(0,F.createOperatorRolesPrefix)(e),!1)}}})),n().createElement(s.E,{md:6}),n().createElement(s.E,null,n().createElement(m.B,{hasGutter:!0,className:"pf-u-mb-0"},n().createElement(p.o,null,n().createElement(w.CheckboxField,{name:G.FieldId.HasDomainPrefix,label:"Create custom domain prefix"})),n().createElement(p.o,null,n().createElement(U.default,{hint:I.constants.domainPrefixHint})))),W&&n().createElement(n().Fragment,null,n().createElement(s.E,{md:6},n().createElement(r.Field,{component:N.RichInputField,name:G.FieldId.DomainPrefix,label:"Domain prefix",type:"text",validate:async e=>{const t=(0,C.createPessimisticValidator)(C.domainPrefixValidation)(e);if(t)return t;return await(0,C.asyncValidateDomainPrefix)(e,re,void 0,De)||!(!re||!Le&&V)||void 0},validation:C.domainPrefixValidation,asyncValidation:e=>(0,C.domainPrefixAsyncValidation)(e,re,void 0,De),isRequired:!0,input:Q(G.FieldId.DomainPrefix)})),n().createElement(s.E,{md:6})),n().createElement(s.E,{md:6},n().createElement(ue,{label:"Version",onChange:e=>{e&&(!(0,y.E)(v.x.SECURITY_GROUPS,e.raw_id,{day1:!0})||Z(G.FieldId.SecurityGroups,(0,S.getDefaultSecurityGroupsSettings)()))}})),n().createElement(s.E,{md:6}),re?null:Ge,le?n().createElement(f.F,{isInline:!0,variant:"info",title:"The hosted control plane uses multiple availability zones."}):n().createElement(n().Fragment,null,n().createElement(s.E,{md:6},n().createElement(N.RadioGroupField,{label:"Availability",name:G.FieldId.MultiAz,options:xe,onChange:(e,t)=>{const a="true"===t;Z(G.FieldId.NodesCompute,(0,T.getNodesCount)(!0,a,!0));const l=(0,T.getMinReplicasCount)(!0,a,!0,le);Z(G.FieldId.MinReplicas,l),Z(G.FieldId.MaxReplicas,l);const n=[(null==q?void 0:q[0])||(0,L.emptyAWSSubnet)()];a&&(n.push((0,L.emptyAWSSubnet)()),n.push((0,L.emptyAWSSubnet)())),Z(G.FieldId.MachinePoolsSubnets,n)},direction:"row",isRequired:!0})),n().createElement(s.E,{md:6})),!le&&n().createElement(n().Fragment,null,n().createElement(s.E,null,n().createElement(d.h,{headingLevel:"h4"},"Monitoring")),n().createElement(s.E,null,n().createElement(m.B,{hasGutter:!0,className:"pf-v5-u-mb-0"},n().createElement(p.o,null,n().createElement(w.CheckboxField,{name:G.FieldId.EnableUserWorkloadMonitoring,label:"Enable user workload monitoring"})),n().createElement(p.o,null,n().createElement(U.default,{hint:n().createElement(n().Fragment,null,I.constants.enableUserWorkloadMonitoringHelp,n().createElement(M.default,{href:_.default.ROSA_MONITORING},"Learn more"))}))),n().createElement("div",{className:"ocm-c--reduxcheckbox-description"},I.constants.enableUserWorkloadMonitoringHint))),n().createElement(E.Q,{toggleText:"Advanced Encryption",onToggle:()=>{se(!ie)},isExpanded:ie},n().createElement(c.x,{hasGutter:!0},n().createElement(x,null),le?n().createElement(H,null):n().createElement(P.c,{isRosa:!0}))),le&&(0,g.hasExternalAuthenticationCapability)(null==we?void 0:we.capabilities)?n().createElement(E.Q,{toggleText:"External Authentication",onToggle:()=>{be(!oe)},isExpanded:oe},n().createElement(Pe,null)):null))}},81257:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var l=a(71468),n=a(98229),r=a(93345),i=a.n(r),s=a(88139),o=a(30620),u=a(23215),c=a(20491),d=a(9670),m=a(22069),p=a(65702),f=a(14115),E=a(72067),g=a(5198),v=a(80591),h=a(8888),_=a(11243),S=a(976),b=a(63995);const C=a.p+"images/Logo-Red_Hat-B-Standard-RGB.5bd5efa3348769a0..png";var y=a(1341),I=a(16829),A=a(3516),R=a(15129),T=a(24510),O=a(83579),P=a(3995),D=a(35787),L=a(59779);const N="pf-v5-u-mb-md",w=({children:e})=>i().createElement(D.c,{icon:i().createElement(L.Sr,{className:"pf-v5-u-active-color-100"})},e),k=({handleChange:e,isHostedDisabled:t,isSelected:a})=>i().createElement(A.F,{title:"Hosted",isDisplayLarge:!0,isStacked:!0,onClick:()=>!t&&e("true"),isDisabled:t,isSelected:a,className:"controlPlaneScreenTile","data-testid":"hosted-control-planes"},i().createElement(R.J,{variant:"filled",color:"blue",icon:i().createElement(P.StarIcon,{"data-icon":"star"}),className:"pf-v5-u-mb-md pf-v5-u-mt-md"},"Recommended"),t&&i().createElement(T.F,{variant:"info",title:i().createElement(i().Fragment,null,"To create hosted control plane clusters, you'll need to"," ",i().createElement(h.default,{href:p.default.AWS_CONSOLE_ROSA_HOME_GET_STARTED},"enable ROSA hosted control plane")),className:N}),i().createElement(m.E,{component:m.Y.p,className:N},"Run an OpenShift cluster with a decoupled control plane as a multi-tenant workload and a data plane on a separate network for segmented management and workload traffic."),i().createElement(O.B8,{isPlain:!0,className:N},i().createElement(w,null,"Control plane resources are hosted in a Red Hat-owned AWS account"),i().createElement(w,null,"Better resource utilization with faster cluster creation"),i().createElement(w,null,"Lower AWS infrastructure costs"),i().createElement(w,null,"Full compliance certifications"),i().createElement(w,null,"Red Hat SRE managed")),i().createElement(T.F,{variant:"warning",isInline:!0,isPlain:!0,title:"A Virtual Private Cloud is required for ROSA clusters hosted by Red Hat",className:N},i().createElement(m.E,{component:m.Y.p},i().createElement(h.default,{href:p.default.VIRTUAL_PRIVATE_CLOUD_URL},"Learn more about Virtual Private Cloud")))),F=({handleChange:e,isSelected:t})=>i().createElement(A.F,{title:"Classic",isDisplayLarge:!0,isStacked:!0,isSelected:t,onClick:()=>e("false"),className:"controlPlaneScreenTile","data-testid":"standalone-control-planes"},i().createElement(m.E,{component:m.Y.p,className:N},"Run an OpenShift cluster with a coupled control and data plane, hosted on dedicated nodes with a shared network"),i().createElement(O.B8,{isPlain:!0,className:N},i().createElement(w,null,"Control plane resources are hosted in your own AWS account"),i().createElement(w,null,"Full compliance certifications"),i().createElement(w,null,"Red Hat SRE managed"))),M=({input:{value:e,onChange:t},hasHostedProductQuota:a})=>{const{values:l,setValues:n,setFieldValue:r}=(0,E.l)(),s=!a,c=(0,_.useFeatureGate)(S.MULTIREGION_PREVIEW_ENABLED);i().useEffect((()=>{s&&t("false")}),[]),i().useEffect((()=>{"true"===e&&c&&r(I.FieldId.Region,void 0)}),[]);const d=e=>{t(e),n({...l,...(0,I.initialValuesHypershift)("true"===e,c),[I.FieldId.Hypershift]:e,[I.FieldId.InstallToVpc]:!1,[I.FieldId.SharedVpc]:{is_allowed:"false"===e,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""},[I.FieldId.ConfigureProxy]:!1,[I.FieldId.MachinePoolsSubnets]:[(0,f.emptyAWSSubnet)()],[I.FieldId.FipsCryptography]:!1,[I.FieldId.InstallerRoleArn]:y.cw,[I.FieldId.SupportRoleArn]:y.cw,[I.FieldId.WorkerRoleArn]:y.cw,..."false"===e?{[I.FieldId.ControlPlaneRoleArn]:y.cw}:{}})};return i().createElement(o.x,{hasGutter:!0},i().createElement(u.E,{span:6},i().createElement(k,{handleChange:d,isHostedDisabled:s,isSelected:"true"===e})),i().createElement(u.E,{span:6},i().createElement(F,{handleChange:d,isSelected:"false"===e})))},x=(0,l.Ng)((e=>{const{quotaList:t}=e.userProfile.organization;return{hasHostedProductQuota:(0,n.hasHostedQuotaSelector)(t)}}))((({hasHostedProductQuota:e})=>{const{setFieldValue:t,getFieldProps:a,setFieldTouched:l}=(0,E.l)();return i().createElement(c.l,{onSubmit:e=>(e.preventDefault(),!1)},i().createElement("div",{className:"ocm-c-wizard-intro-image-container"},i().createElement("img",{src:C,className:"ocm-c-wizard-intro-image-top","aria-hidden":"true",alt:""}),i().createElement("img",{src:b,className:"ocm-c-wizard-intro-image-bottom","aria-hidden":"true",alt:""})),i().createElement(o.x,{hasGutter:!0,className:"pf-v5-u-mt-md"},i().createElement(u.E,{span:10},i().createElement(v.G,null)),i().createElement(u.E,{span:10},i().createElement(g.R,null)),i().createElement(u.E,{span:10},i().createElement(d.h,{headingLevel:"h3",className:"pf-v5-u-mb-sm"},"Select an AWS control plane type"),i().createElement(m.E,{component:m.Y.p},"Not sure what to choose?"," ",i().createElement(h.default,{href:p.default.AWS_CONTROL_PLANE_URL},"Learn more about AWS control plane types")))),i().createElement(s.Field,{name:I.FieldId.Hypershift,component:M,validate:e=>e?void 0:"Control plane is required.",input:{...a(I.FieldId.Hypershift),onChange:e=>{l(I.FieldId.Hypershift),t(I.FieldId.Hypershift,e,!1)}},hasHostedProductQuota:e}))}))},48861:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(71468),i=a(91497),s=a(80883);const o=()=>{const e=(0,r.wA)(),t=(0,r.d4)((e=>e.clusters.createdCluster)),{error:a}=t;return a?n().createElement(i.default,{title:"Error creating cluster",errorResponse:t,resetResponse:()=>e((0,s.resetCreatedClusterResponse)())}):null}},17161:(e,t,a)=>{"use strict";a.d(t,{A:()=>me,t:()=>ue});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069),s=a(24510),o=a(63802),u=a(90678),c=a(73113),d=a(60915),m=a(6229),p=a(9670),f=a(983),E=a(30620),g=a(23215),v=a(12921),h=a(90118),_=a(72583),S=a(30666),b=a(93973),C=a(66312),y=a(65702),I=a(98515),A=a(7691),R=a(8888),T=a(11777),O=a(94974),P=a(65824),D=a(15129),L=a(83579),N=a(35787),w=a(99851),k=a(55611),F=a(9296),M=a(10046),x=a(90132);const G=()=>n().createElement(n().Fragment,null,n().createElement(S.B,{hasGutter:!0},n().createElement(b.o,null,n().createElement(p.h,{headingLevel:"h3","data-testid":"create-vpc-networking-title"},"Create a Virtual Private Network (VPC) and necessary networking components.")),n().createElement(b.o,null,n().createElement(D.J,{"data-testid":"create-vpc-networking-hcp-label",variant:"outline",color:"red",icon:n().createElement(w.default,{color:k.global_warning_color_100.value})},"Only for ROSA HCP clusters"))),n().createElement(L.B8,{component:L.sB.ol,type:L.ZN.number,"data-testid":"create-vpc-networking-definition"},n().createElement(N.c,{"data-testid":"create-vpc-networking-definition-item1"},"To create a Virtual Private Network (VPC) and all the neccesary components, run this command:",n().createElement(M.default,{trackEvent:F.trackEvents.CopyCreateAccountRoles,textAriaLabel:"Copyable ROSA create account-roles command",className:"pf-v5-u-mt-md"},x.RosaCliCommand.CreateNetwork))),"Learn more about the"," ",n().createElement(R.default,{href:y.default.ROSA_CREATE_NETWORK},"create network command")," and other ways to ",n().createElement(R.default,{href:y.default.CREATE_VPC_WAYS},"create a VPC"));var U=a(71468),H=a(42045),V=a(20881),B=a(87960),q=a(75070),j=a(71870),z=a(35198),W=a(11243),$=a(976),K=a(62384),Y=a(43212),Q=a(58994);const Z=({restrictTokens:e,error:t,isLoading:a,token:l,defaultToOfflineTokens:r})=>{const i=(0,V.A)(),o=(0,K.isRestrictedEnv)(),u=`rosa login${o?" --govcloud":""}${"int"===i.getEnvironment()?" --env=integration":""} --token="${l}"`,c=n().createElement(Q.A,{token:l,command:u,textAriaLabel:"Copyable ROSA login command",trackEvent:F.trackEvents.ROSALogin,"data-testid":"token-box"});return o?c:a?n().createElement(Y.E,{fontSize:"3xl","data-testid":"loading"}):t&&!r?n().createElement(s.F,{variant:"danger",isInline:!0,title:"Error retrieving user account"},n().createElement("p",null,t.reason),n().createElement("p",null,`Operation ID: ${t.operation_id||"N/A"}`)):e?n().createElement(M.default,{className:"ocm-c-api-token-limit-width",outerClassName:"pf-v5-u-mt-md"},"rosa login --use-auth-code"):c},X=(0,U.Ng)((e=>{const{offlineToken:t}=e.rosaReducer;return{offlineToken:t}}),(e=>({setOfflineToken:t=>e((0,H.setOfflineToken)(t))})))((({offlineToken:e,setOfflineToken:t})=>{const a=(0,V.A)(),l=(0,K.isRestrictedEnv)(),{organization:r,isLoading:i,error:o}=(0,j.default)(),[u,c]=n().useState(""),[d,m]=n().useState(void 0),f=o,E=(0,W.useFeatureGate)($.CLI_SSO_AUTHORIZATION)&&!d;return n().useEffect((()=>{l?(0,K.getRefreshToken)(a).then((e=>c(e))):e&&c(e)}),[a,l,e]),n().useEffect((()=>{l||void 0===d||d||e||(0,q.z)(((e,a)=>{t(a||e)}),window.location.origin,a)}),[d]),n().useEffect((()=>{l||i||o||!(null==r?void 0:r.capabilities)||((0,B.X)(r.capabilities)?m(!0):m(!1))}),[r,i,o,l]),n().createElement(n().Fragment,null,n().createElement(p.h,{headingLevel:"h3","data-testid":"rosa-cli-header"},"Log in to the ROSA CLI with your Red Hat account token and create AWS account roles and policies"),!l&&E?n().createElement(z.A,null):null,n().createElement(L.B8,{component:L.sB.ol,type:L.ZN.number,"data-testid":"rosa-cli-definition"},n().createElement(N.c,{className:"pf-v5-u-mb-lg","data-testid":"rosa-cli-sub-definition-1"},"To authenticate, run this command:",n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(Z,{restrictTokens:d,isLoading:i,error:f,token:u,defaultToOfflineTokens:B.g}))),n().createElement(N.c,{"data-testid":"rosa-cli-sub-definition-2"},"To create the necessary account-wide roles and policies quickly, use the default auto method that's provided in the ROSA CLI:",n().createElement(M.default,{trackEvent:F.trackEvents.CopyCreateAccountRoles,textAriaLabel:"Copyable ROSA create account-roles command",className:"pf-v5-u-mt-md"},x.RosaCliCommand.CreateAccountRoles),n().createElement(s.F,{variant:"info",isInline:!0,isPlain:!0,title:n().createElement(n().Fragment,null,"If you would prefer to manually create the required roles and policies within your AWS account, follow"," ",n().createElement(R.default,{href:y.default.AWS_CLI_GETTING_STARTED_MANUAL,noIcon:!0},"these instructions"),".")}))))}));var J=a(41612);const ee=()=>n().createElement(r.n,{"data-testid":"step1-rosa-prerequisites"},n().createElement(i.E,{component:"h3"},"Download and install the ROSA and AWS command line tools (CLI) and add it to your"," ",n().createElement("code",null,"PATH"),"."),n().createElement(v.K,{component:"ol","data-testid":"substep1-rosa-prerequisites"},n().createElement(h.L,{className:"pf-v5-u-mb-lg"},n().createElement(i.E,{component:i.Y.p,"data-testid":"substep1_1-rosa-prerequisites"},"Download the latest version of the ROSA CLI"),n().createElement("div",{className:"pf-v5-u-mt-md"},n().createElement(J.default,{tool:y.tools.ROSA,channel:y.channels.STABLE})),n().createElement(i.E,{component:"p"},n().createElement(R.default,{href:y.default.ROSA_CLI_DOCS},"Help with ROSA CLI setup"))),n().createElement(h.L,null,n().createElement(i.E,{component:i.Y.p,"data-testid":"substep1_2-rosa-prerequisites"},"Download, setup and configure the AWS CLI version 2"),n().createElement(i.E,{component:i.Y.p,className:"pf-v5-u-mt-md"},"Learn more about ",n().createElement(R.default,{href:y.default.AWS_CLI},"installing")," and"," ",n().createElement(R.default,{href:y.default.AWS_CLI_CONFIGURATION_INSTRUCTIONS},"configuring")," ","the AWS CLI."))));var te=a(72972),ae=a(61860);const le=()=>n().createElement(d.Z,{isFlat:!0,isFullHeight:!0,"data-testid":"deploy-with-cli-card"},n().createElement(m.Z,null,n().createElement(p.h,{headingLevel:"h3",size:"lg"},n().createElement(ae.CodeIcon,{className:"ocm-c-wizard-get-started--card-icon"}),"Deploy with CLI")),n().createElement(f.b,null,n().createElement(i.E,{component:i.Y.p,className:"pf-v5-u-mb-sm"},"Run the create command in your terminal to begin setup in interactive mode."),n().createElement(M.default,{textAriaLabel:"Copyable ROSA create cluster command",trackEvent:F.trackEvents.CopyRosaCreateCluster},x.RosaCliCommand.CreateCluster)),n().createElement(te.w,null,"Learn how to"," ",n().createElement(R.default,{href:y.default.ROSA_HCP_CLI_URL},"deploy ROSA clusters with the ROSA CLI")));function ne(e){return n().createElement("svg",{width:"1.75em",height:"1.5em",viewBox:"20, 15, 50, 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#000000",strokeWidth:"0.00064",...e},n().createElement("g",{id:"SVGRepo_iconCarrier"},n().createElement("path",{d:"M38.06 26.151v11.473L48 31.891V20.406l-9.94 5.745z",fill:"#0066cc"}),n().createElement("path",{d:"m27.03 20.406 9.94 5.745v11.473l-9.94-5.74V20.407zM16 14v11.479l9.94 5.74v-11.48L16 14zm11.03 30.624 9.94 5.74v-11.48l-9.94-5.739v11.48z",fill:"#0066cc"})))}const re=()=>n().createElement(d.Z,{isFlat:!0,isFullHeight:!0,"data-testid":"deploy-with-terraform-card"},n().createElement(m.Z,null,n().createElement(p.h,{headingLevel:"h3",size:"lg"},n().createElement(ne,{className:"ocm-c-wizard-get-started-terraform--card-icon "}),"Deploy with Terraform")),n().createElement(f.b,null,n().createElement(i.E,{component:i.Y.p,className:"pf-v5-u-mb-sm"},"Create a ROSA HCP cluster using Terraform"),n().createElement(i.E,{component:i.Y.p,className:"pf-v5-u-mb-sm"},"Learn how to"," ",n().createElement(R.default,{href:y.default.TERRAFORM_ROSA_HCP_URL},"deploy a ROSA HCP cluster"),"or"," ",n().createElement(R.default,{href:y.default.TERRAFORM_REGISTRY_ROSA_HCP},"visit the Terraform registry"))));var ie=a(84531),se=a(69304);const oe=()=>{const e=(0,l.useCallback)((e=>n().createElement(se.Link,{...e,to:"/create/rosa/wizard"})),[]);return n().createElement(d.Z,{isFlat:!0,isFullHeight:!0,"data-testid":"deploy-with-webinterface-card"},n().createElement(m.Z,null,n().createElement(p.h,{headingLevel:"h3",size:"lg"},n().createElement(ie.eZ,{className:"ocm-c-wizard-get-started--card-icon"}),"Deploy with web interface")),n().createElement(f.b,null,n().createElement(i.E,{component:i.Y.p,className:"pf-v5-u-mb-sm"},"You can deploy your cluster with the web interface."),n().createElement(s.F,{variant:"info",isInline:!0,isPlain:!0,title:"Your AWS account will need to be associated with your Red Hat account."})),n().createElement(te.w,null,n().createElement(_.$n,{variant:_.Ak.secondary,component:e},n().createElement(ie.eZ,null)," Create with web interface")))},ue="Red Hat OpenShift Service on AWS",ce=(e="")=>`Set up ${e} (ROSA)`,de=n().createElement(A.default,{path:[{label:"Cluster List"},{label:"Cluster Type",path:"/create"},{label:"Set up ROSA"}]}),me=()=>n().createElement(I.AppPage,null,n().createElement(P.default,{breadcrumbs:de,title:ce(ue)},n().createElement(r.n,{className:"pf-v5-u-mt-md pf-v5-u-mb-md"},n().createElement(i.E,{component:i.Y.p},"Deploy fully operational and managed Red Hat OpenShift clusters while leveraging the full breadth and depth of AWS using ROSA."),n().createElement(i.E,{component:i.Y.p},"Learn more about ",n().createElement(R.default,{href:y.default.WHAT_IS_ROSA},"ROSA")," or"," ",n().createElement(R.default,{href:y.default.ROSA_COMMUNITY_SLACK},"Slack us"))),n().createElement(s.F,{variant:s.w.info,isInline:!0,id:"env-override-message",component:"h2",title:n().createElement(n().Fragment,null,"ROSA in AWS GovCloud (US) with FedRAMP")},n().createElement(R.default,{"data-testid":"rosa-aws-fedramp",href:y.default.ROSA_AWS_FEDRAMP},"Learn more about ROSA in AWS GovCloud (US) with FedRAMP"),"or start the onboarding process with the",n().createElement(R.default,{"data-testid":"fedramp-access-request-form",href:y.default.FEDRAMP_ACCESS_REQUEST_FORM},"FedRAMP access request form"))),n().createElement(o.d8,null,n().createElement(u.B,{hasGutter:!0},n().createElement(c.a,null,n().createElement(d.Z,null,n().createElement(m.Z,null,n().createElement(p.h,{headingLevel:"h2"},"Complete AWS prerequisites")),n().createElement(f.b,null,n().createElement(r.n,null,n().createElement(p.h,{headingLevel:"h3"},"Have you prepared your AWS account?"),n().createElement(i.E,{component:i.Y.p},"Make sure your AWS account is set up for ROSA deployment. If you've already set it up, you can continue to the ROSA prerequisites."),n().createElement(E.x,{hasGutter:!0,span:10},n().createElement(g.E,{span:4},n().createElement(v.K,null,n().createElement(h.L,null,"Enable AWS"),n().createElement(h.L,null,"Configure Elastic Load Balancer (ELB)"))),n().createElement(g.E,{span:6},n().createElement(v.K,null,n().createElement(h.L,null,"Set up a VPC for ROSA HCP clusters (optional for ROSA classic clusters)"),n().createElement(h.L,null,"Verify your quotas on AWS console")))),n().createElement(R.default,{className:"pf-v5-u-mt-md",href:y.default.AWS_CONSOLE_ROSA_HOME_GET_STARTED,isButton:!0,variant:_.Ak.secondary},"Open AWS Console"))))),n().createElement(c.a,null,n().createElement(d.Z,null,n().createElement(f.b,null,n().createElement(S.B,{className:"pf-v5-u-mb-lg"},n().createElement(b.o,{isFilled:!0},n().createElement(p.h,{headingLevel:"h2"},"Complete ROSA prerequisites")),n().createElement(b.o,null,n().createElement(R.default,{href:y.default.AWS_ROSA_GET_STARTED},"More information on ROSA setup"))),n().createElement(O.default,{wide:!0},n().createElement(T.default,{simple:!0},n().createElement(ee,null)),n().createElement(T.default,{simple:!0},n().createElement(X,null)),n().createElement(T.default,{simple:!0},n().createElement(G,null)))))),n().createElement(c.a,null,n().createElement(d.Z,null,n().createElement(C.a,{className:"rosa-get-started"},n().createElement(m.Z,null,n().createElement(p.h,{headingLevel:"h2",size:"xl"},"Deploy the cluster and set up access"),n().createElement(i.E,{component:i.Y.p,className:"pf-v5-u-font-weight-normal"},"Select a deployment method"))),n().createElement(f.b,null,n().createElement(E.x,{hasGutter:!0},n().createElement(g.E,{span:4},n().createElement(le,null)),n().createElement(g.E,{span:4},n().createElement(oe,null)),n().createElement(g.E,{span:4},n().createElement(re,null)))))))))},11954:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var l=a(93345),n=a.n(l),r=a(20491),i=a(30620),s=a(72067),o=a(16829),u=a(85186),c=a(23215),d=a(9670),m=a(22069);const p=()=>n().createElement(i.x,null,n().createElement(c.E,null,n().createElement(d.h,{headingLevel:"h3"},"Machine pools")),n().createElement(c.E,null,n().createElement(m.E,{component:"p"},"Create machine pools and specify the private subnet for each machine pool. To make your cluster highly available, add machine pools on different availability zones. Additional machine pools can be created after cluster creation."))),f=()=>n().createElement(i.x,null,n().createElement(c.E,null,n().createElement(d.h,{headingLevel:"h3"},"Default machine pool")),n().createElement(c.E,null,n().createElement(m.E,{component:"p"},"Select a compute node instance type and count for your default machine pool."),n().createElement(m.E,{component:"p"},"After cluster creation, your selected default machine pool instance type is permanent."))),E=({isHypershiftSelected:e})=>e?n().createElement(p,null):n().createElement(f,null);var g=a(88139),v=a(24510),h=a(72583),_=a(23158),S=a(56862),b=a(93413),C=a(84037),y=a(34108),I=a(14115),A=a(12024);const R=({selectedVPC:e,warning:t})=>{const{values:{[I.FieldId.MachinePoolsSubnets]:a},values:r,getFieldProps:o,setFieldValue:u,setFieldTouched:d,getFieldMeta:m,validateForm:p,setTouched:f}=(0,s.l)();return(0,l.useEffect)((()=>{(null==a?void 0:a.length)&&(async()=>{const e=await p(r);Object.keys(e||{}).length>0&&(f((0,g.setNestedObjectValues)(e,!0)),(0,b.scrollToFirstField)((0,A.getScrollErrorIds)(e)))})()}),[a,f,p]),(0,l.useEffect)((()=>{void 0===a&&u(I.FieldId.MachinePoolsSubnets,[(0,I.emptyAWSSubnet)()])}),[a,u]),n().createElement(i.x,{hasGutter:!0},t&&n().createElement(c.E,null,n().createElement(v.F,{variant:"warning",isPlain:!0,isInline:!0,title:t})),n().createElement(c.E,{span:2,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Machine pool"),n().createElement(c.E,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Private subnet name"),n().createElement(c.E,{span:6}),null==a?void 0:a.map(((t,l)=>{const r=1===a.length,i=`${I.FieldId.MachinePoolsSubnets}[${l}].privateSubnetId`;return e?n().createElement(n().Fragment,{key:`${a.indexOf(l).privateSubnetId}_${l}`},n().createElement(c.E,{span:2},"Machine pool ",l+1),n().createElement(c.E,{span:4},n().createElement(g.Field,{component:y.SubnetSelectField,name:i,validate:e=>(0,C.validateMultipleMachinePoolsSubnets)(e,{machinePoolsSubnets:a}),isRequired:!0,privacy:"private",selectedVPC:e,withAutoSelect:!1,isNewCluster:!0,input:{...o(i),onChange:e=>{u(i,e,!1)}},meta:m(i)})),n().createElement(c.E,{span:1},n().createElement(h.$n,{onClick:()=>(e=>{u(I.FieldId.MachinePoolsSubnets,a.filter(((t,a)=>a!==e)));const t=`${I.FieldId.MachinePoolsSubnets}[${e}].privateSubnetId`;d(t,!1,!1)})(l),icon:n().createElement(_.MinusCircleIcon,null),variant:"link",isDisabled:r,className:r?"machinePoolSubnetsForm-removeBtn-disabled":"machinePoolSubnetsForm-removeBtn","aria-label":"Remove machine pool","data-testid":`remove-machine-pool-${l}`})),n().createElement(c.E,{span:5})):null})),n().createElement(c.E,null,n().createElement(h.$n,{onClick:()=>{return e=(0,I.emptyAWSSubnet)(),u(I.FieldId.MachinePoolsSubnets,[...a,e],!1);var e},icon:n().createElement(S.PlusCircleIcon,null),variant:"link",isInline:!0,className:"machinePoolSubnetsForm-addBtn",isDisabled:!(null==e?void 0:e.id)},"Add machine pool")))};var T=a(57596);const O=()=>{const{values:{[o.FieldId.SelectedVpc]:e,[o.FieldId.MachinePoolsSubnets]:t},getFieldProps:a,setFieldValue:r,getFieldMeta:u}=(0,s.l)(),d=(0,l.useMemo)((()=>{if(t){const a=t.map((e=>e.privateSubnetId)).filter((e=>!!e)),l=((null==e?void 0:e.aws_subnets)||[]).filter((e=>e.subnet_id&&a.includes(e.subnet_id))).map((e=>e.availability_zone));return new Set(a).size>1&&1===new Set(l).size?`Your cluster will not be highly available because all the subnets are in the same availability zone (${l[0]}). To improve security and uptime, it's recommended to select subnets from different availability zones`:void 0}}),[t,e]),m=(0,l.useCallback)((t=>n().createElement(R,{selectedVPC:e,...t,warning:d})),[e,d]);return n().createElement(i.x,{hasGutter:!0},n().createElement(c.E,{span:6},n().createElement(g.Field,{component:T.default,name:o.FieldId.SelectedVpc,validate:e=>(null==e?void 0:e.id)?void 0:"error",selectedVPC:e,showRefresh:!0,isHypershift:!0,isRosaV1:!1,input:{...a(o.FieldId.SelectedVpc),onChange:e=>r(o.FieldId.SelectedVpc,e)},meta:u(o.FieldId.SelectedVpc)})),((null==e?void 0:e.id)||(null==e?void 0:e.name))&&n().createElement(g.FieldArray,{component:m,name:o.FieldId.MachinePoolsSubnets}))},P=()=>{const{values:{[o.FieldId.Hypershift]:e}}=(0,s.l)(),t="true"===e;return n().createElement(r.l,{onSubmit:e=>(e.preventDefault(),!1)},n().createElement(i.x,{hasGutter:!0},n().createElement(E,{isHypershiftSelected:t}),t?n().createElement(O,null):null,n().createElement(u.A,null)))}},12569:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(93345),n=a.n(l),r=a(88139),i=a(56780),s=a(54910),o=a(66822),u=a(71931),c=a(48394),d=a(72067),m=a(16829),p=a(33076);const f=({isDisabled:e,onChangeImds:t,imds:a})=>{const{setFieldValue:l,getFieldProps:f,getFieldMeta:E}=(0,d.l)();return n().useEffect((()=>{e&&a!==s.IMDSType.V1AndV2&&t(s.IMDSType.V1AndV2)}),[e,a]),n().createElement(i.g,{label:"Instance Metadata Service",fieldId:"imds",labelIcon:n().createElement(c.A,null)},e?n().createElement(u.h,null):n().createElement(r.Field,{component:p.default,name:m.FieldId.IMDS,ariaLabel:"Instance Metadata Service",props:{value:a,onChange:t},isDisabled:e,className:"pf-v5-u-mb-md",options:o.U,disableDefaultValueHandling:!0,input:{...f(m.FieldId.IMDS),onChange:e=>l(m.FieldId.IMDS,e,!1)},meta:E(m.FieldId.IMDS)}))}},2906:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var l=a(93345),n=a.n(l),r=a(88139),i=a(56780),s=a(84037),o=a(70557),u=a(72067),c=a(16829),d=a(90678),m=a(73113),p=a(23681);const f=({meta:e,input:t,...a})=>{const l=e=>{let l=t.value;const{min:n,max:r}=a;e?l<n?l=n:l+=1:l>r?l=r:l-=1,t.onChange(l)};return n().createElement(d.B,null,n().createElement(m.a,null,n().createElement(p.Q,{...a,validated:e.error?"error":"default",value:t.value,onChange:e=>{t.onChange(e.currentTarget.value)},onPlus:()=>l(!0),onMinus:()=>l(!1)})),e.error&&n().createElement(m.a,{className:"pf-v5-u-danger-color-100 pf-v5-u-font-size-sm"},e.error))};var E=a(55213);const g=({minWorkerVolumeSizeGiB:e,maxWorkerVolumeSizeGiB:t})=>{const{values:{[c.FieldId.WorkerVolumeSizeGib]:a},setFieldValue:d,setFieldTouched:m,getFieldProps:p,getFieldMeta:g}=(0,u.l)();return(0,l.useEffect)((()=>{void 0===a&&d(c.FieldId.WorkerVolumeSizeGib,o.jy,!0)}),[d,a]),n().createElement(i.g,{className:"worker-node-volume-size-section",label:"Root disk size",isRequired:!0,fieldId:c.FieldId.WorkerVolumeSizeGib,labelIcon:n().createElement(E.default,{hint:`Root disks are AWS EBS volumes attached as the primary disk for AWS EC2 instances. The root disk size for this machine pool group of nodes must be between ${e}GiB and ${t}GiB.`})},n().createElement(r.Field,{component:f,name:c.FieldId.WorkerVolumeSizeGib,inputName:c.FieldId.WorkerVolumeSizeGib,inputAriaLabel:"Worker root disk size",validate:a=>(0,s.validateWorkerVolumeSize)(a,{},{minWorkerVolumeSizeGiB:e,maxWorkerVolumeSizeGiB:t}),min:e,max:t,widthChars:5,unit:"GiB",input:{...p(c.FieldId.WorkerVolumeSizeGib),value:a,onChange:e=>{d(c.FieldId.WorkerVolumeSizeGib,parseFloat(e),!0),setTimeout((()=>m(c.FieldId.WorkerVolumeSizeGib,!1)),1)}},meta:g(c.FieldId.WorkerVolumeSizeGib)}))}},70886:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DefaultIngressFieldsFormik:()=>_});var l=a(93345),n=a.n(l),r=a(46942),i=a.n(r),s=a(88139),o=a(56780),u=a(84037),c=a(60771),d=a(48897),m=a(60496),p=a(83814),f=a(19317),E=a(35885),g=a(72067),v=a(77218),h=a(17629);const _=({className:e,areFieldsDisabled:t,isDay2:a,hasSufficientIngressEditVersion:l,canEditLoadBalancer:r,canShowLoadBalancer:_,isHypershiftCluster:S,values:b})=>{const{getFieldProps:C,getFieldMeta:y}=(0,g.l)();return n().createElement(n().Fragment,null,a&&n().createElement(o.g,{fieldId:"default_router_address",label:"Default application router",isStack:!0,isRequired:!0},n().createElement(s.Field,{component:v.ReduxVerticalFormGroup,name:"default_router_address",type:"text",disabled:!0,helpText:"Address of application routes.",input:C("default_router_address"),meta:y("default_router_address")}),n().createElement(s.Field,{component:v.ReduxCheckbox,name:"private_default_router",label:"Make router private",input:C("private_default_router"),meta:y("private_default_router")})),l&&!S&&n().createElement(o.g,{className:e,label:"Route selector",labelIcon:n().createElement(m.h,null)},n().createElement(s.Field,{component:v.ReduxVerticalFormGroup,name:"defaultRouterSelectors",type:"text",validate:u.checkRouteSelectors,disabled:t,helpText:m.i,showHelpTextOnError:!1,input:C("defaultRouterSelectors"),meta:y("defaultRouterSelectors")})),l&&!S&&n().createElement(o.g,{className:e,label:"Excluded namespaces",labelIcon:n().createElement(c.m,null)},n().createElement(s.Field,{component:v.ReduxVerticalFormGroup,name:"defaultRouterExcludedNamespacesFlag",type:"text",validate:u.validateNamespacesList,disabled:t,helpText:c.$,showHelpTextOnError:!1,input:C("defaultRouterExcludedNamespacesFlag"),meta:y("defaultRouterExcludedNamespacesFlag")})),a&&l&&!S&&n().createElement(n().Fragment,null,n().createElement(o.g,{className:e,label:"TLS Secret name"},n().createElement(s.Field,{component:v.ReduxVerticalFormGroup,name:"clusterRoutesTlsSecretRef",type:"text",validate:e=>(0,u.validateTlsSecretName)(e,b),disabled:t,helpText:"The name of a secret holding custom TLS certificate, in the openshift-config namespace. Optional.",showHelpTextOnError:!1,input:C("clusterRoutesTlsSecretRef"),meta:y("clusterRoutesTlsSecretRef")})),n().createElement(o.g,{className:e,label:"Hostname"},n().createElement(s.Field,{component:v.ReduxVerticalFormGroup,name:"clusterRoutesHostname",type:"text",validate:e=>(0,u.validateTlsHostname)(e,b),disabled:t,helpText:"The cluster routes hostname the TLS certificate is issued for.",showHelpTextOnError:!1,input:C("clusterRoutesHostname"),meta:y("clusterRoutesHostname")}))),l&&!S&&n().createElement(o.g,{className:e,fieldId:"isDefaultRouterNamespaceOwnershipPolicyStrict",label:"Namespace ownership policy",labelIcon:n().createElement(d.O,null)},n().createElement(s.Field,{id:"isDefaultRouterNamespaceOwnershipPolicyStrict",component:v.ReduxCheckbox,name:"isDefaultRouterNamespaceOwnershipPolicyStrict",disabled:t,label:"Strict",labelOff:"Inter-namespace ownership allowed",isSwitch:!0,input:C("isDefaultRouterNamespaceOwnershipPolicyStrict"),meta:y("isDefaultRouterNamespaceOwnershipPolicyStrict")})),l&&!S&&n().createElement(o.g,{className:e,fieldId:"isDefaultRouterWildcardPolicyAllowed",label:"Wildcard policy",labelIcon:n().createElement(p.S,null)},n().createElement(s.Field,{id:"isDefaultRouterWildcardPolicyAllowed",component:v.ReduxCheckbox,name:"isDefaultRouterWildcardPolicyAllowed",disabled:t,label:"Allowed",labelOff:"Disallowed",isSwitch:!0,input:C("isDefaultRouterWildcardPolicyAllowed"),meta:y("isDefaultRouterWildcardPolicyAllowed")})),_&&!S&&n().createElement(o.g,{fieldId:"load_balancer_group",label:"Load balancer type",className:i()("pf-v5-u-pb-md",e),labelIcon:n().createElement(E.A,null)},n().createElement(s.Field,{id:"load_balancer_group",component:v.ReduxCheckbox,name:"is_nlb_load_balancer",disabled:!r,label:f.b[h.LoadBalancerFlavor.NLB],labelOff:f.b[h.LoadBalancerFlavor.CLASSIC],isSwitch:!0,input:C("is_nlb_load_balancer"),meta:y("is_nlb_load_balancer")})))}},22014:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>$});var l=a(93345),n=a.n(l),r=a(88139),i=a(9670),s=a(22069),o=a(24510),u=a(45436),c=a(65702),d=a(94402),m=a(72067),p=a(8888),f=a(77218),E=a(51976),g=a(30620),v=a(23215),h=a(84037),_=a(11777),S=a(94974),b=a(16829),C=a(59399),y=a.n(C),I=a(71468),A=a(56780),R=a(96998),T=a(96553),O=a(72583),P=a(47144),D=a(4068),L=a(37653),N=a(55816),w=a(38715),k=a(57983),F=a(77475),M=a(22916),x=a(90020);const G=()=>(0,F.action)(M.dnsDomainsConstants.GET_DNS_DOMAINS,x.clusterService.getDnsDomains({userDefined:!0,hasCluster:!1})),U=()=>(0,F.action)(M.dnsDomainsConstants.CREATE_DNS_DOMAIN,x.clusterService.createNewDnsDomain()),H=e=>(0,F.action)(M.dnsDomainsConstants.DELETE_DNS_DOMAIN,x.clusterService.deleteDnsDomain(e),{deletedDnsId:e}),V=()=>(0,F.action)(M.dnsDomainsConstants.CLEAR_CREATED_DNS_DOMAIN);var B=a(25514);const q="Reserving new base DNS domain...",j=({label:e,input:t,meta:a})=>{var l;const[r,i]=n().useState(!1),[s,o]=n().useState(""),u=(0,I.wA)();n().useEffect((()=>{u(G()),u(V())}),[u]);const c=(0,B.useGlobalState)((e=>e.dnsDomains)),{pending:d,isUpdatingDomains:m,createdDnsId:p,deletedDnsId:f,items:E=[]}=c,g=d||m;n().useEffect((()=>{!m&&p&&t.value!==p&&(t.onChange(p),u(V()))}),[m,p,t.value,u]),n().useEffect((()=>{t.value===f&&t.onChange("")}),[f]);const v=m?s:"Select base DNS domain";return n().createElement(A.g,{label:e,isRequired:!0,className:"shared-vpc-domain-select"},n().createElement(R.s,null,n().createElement(T.Z,{flex:{default:"flex_1"},className:"pf-v5-u-m-0"},n().createElement(k.FuzzySelect,{selectionData:null!==(l=E.map((e=>({entryId:e.id,label:e.id}))))&&void 0!==l?l:[],fuzziness:0,onSelect:(e,a)=>{g||(i(!1),t.onChange(a))},selectedEntryId:t.value,placeholderText:v,onOpenChange:e=>{g||i(e)},isDisabled:g,isOpen:r,validated:t.value?"success":void 0,footer:n().createElement(O.$n,{isInline:!0,variant:"link",className:"pf-v5-u-py-sm",onClick:()=>{t.onChange(""),i(!1),o(q),u(U())},isDisabled:g},"Reserve new base DNS domain"),inlineFilterPlaceholderText:"Filter by domain name",isScrollable:!0,popperProps:{appendTo:()=>document.body}})),n().createElement(T.Z,{grow:{default:void 0},className:"dns-domain-action-icon"},n().createElement(y(),{text:t.value||""},n().createElement(O.$n,{variant:"control",type:"button","aria-label":"Copy DNS domain to clipboard",tabIndex:0,isAriaDisabled:!t.value,icon:n().createElement(D.Td,null)})),n().createElement(P.m,{content:"Clicking the icon will permanently delete the selected Base DNS domain"},n().createElement(O.$n,{variant:"tertiary",type:"button",tabIndex:0,isAriaDisabled:!t.value,onClick:()=>{const e=t.value;o("Deleting a base DNS domain..."),u(H(e))},icon:n().createElement(L.uc,null)},"Delete")))),!m&&!p&&c.error&&n().createElement(N.default,{message:`Error ${s===q?"creating":"deleting"} the DNS domain`,response:c,showCloseBtn:!0,onCloseAlert:()=>{u(V())}}),n().createElement(w.FormGroupHelperText,{touched:a.touched,error:a.error}))};function z({domainName:e}){return n().createElement(E.n,null,n().createElement(s.E,{component:s.Y.small,className:"pf-v5-u-color-100"},"Enter the private hosted zone ID that's linked to the AWS owner account you want to use. The private hosted zone must have been created with",n().createElement("strong",{className:"pf-v5-u-font-size-md"}," ",e," "),"as the domain name.",n().createElement(p.default,{href:c.default.AWS_CONSOLE_HOSTED_ZONES}," AWS console")))}const W=({hostedZoneDomainName:e})=>{const{setFieldValue:t,setFieldTouched:a,getFieldProps:l,getFieldMeta:i}=(0,m.l)(),o=`${b.FieldId.SharedVpc}.base_dns_domain`,u=`${b.FieldId.SharedVpc}.hosted_zone_id`,c=`${b.FieldId.SharedVpc}.hosted_zone_role_arn`;return n().createElement(g.x,null,n().createElement(v.E,{span:10},n().createElement(S.default,{wide:!0},n().createElement(_.default,{simple:!0},n().createElement(E.n,{className:"pf-v5-u-pb-md"},n().createElement(s.E,{component:s.Y.p},"Select an existing base DNS domain or reserve a new base DNS domain.")),n().createElement(r.Field,{label:"Base DNS domain",name:o,validate:h.required,component:j,isRequired:!0,input:{...l(o),onChange:e=>t(o,e)},meta:i(o)})),n().createElement(_.default,{simple:!0},n().createElement(E.n,{className:"pf-v5-u-pb-md"},n().createElement(s.E,{component:s.Y.p},"Associate your DNS domain with a private hosted zone.")),n().createElement(r.Field,{label:"Private hosted zone ID",name:u,component:f.ReduxVerticalFormGroup,validate:h.validatePrivateHostedZoneId,showHelpTextOnError:!1,helpText:n().createElement(z,{domainName:e}),isRequired:!0,input:{...l(u),onChange:(e,l)=>{a(u),t(u,l)}},meta:i(u)})),n().createElement(_.default,{simple:!0},n().createElement(E.n,{className:"pf-v5-u-pb-md"},n().createElement(s.E,{component:s.Y.p},"Provide the role ARN for the existing VPC.")),n().createElement(r.Field,{label:"Shared VPC role",name:c,component:f.ReduxVerticalFormGroup,validate:h.validateRoleARN,isRequired:!0,input:{...l(c),onChange:(e,l)=>{a(c),t(c,l)}},meta:i(c)})))))},$=({hostedZoneDomainName:e,isSelected:t,openshiftVersion:a,isHypershiftSelected:l})=>{const{getFieldProps:E,getFieldMeta:g}=(0,m.l)(),v=(0,d.E)(u.x.AWS_SHARED_VPC,a,{day1:!0,isHypershift:l});return v?n().createElement(n().Fragment,null,n().createElement(i.h,{headingLevel:"h3",className:"pf-v5-u-mt-lg"},"AWS shared VPC"),n().createElement(s.E,null,v)):n().createElement(n().Fragment,null,n().createElement(i.h,{headingLevel:"h3"},"AWS shared VPC"),n().createElement(r.Field,{component:f.ReduxCheckbox,name:"shared_vpc.is_selected",label:"Install into AWS shared VPC",extendedHelpText:n().createElement(n().Fragment,null,"Install into a non-default subnet shared by another account in your AWS organization.",n().createElement("br",null),n().createElement(p.default,{href:c.default.AWS_SHARED_VPC},"Learn more about AWS shared VPC")),input:E("shared_vpc.is_selected"),meta:g("shared_vpc.is_selected")}),t&&n().createElement("section",{className:"shared-vpc-instructions"},n().createElement(o.F,{className:"pf-v5-u-mb-md",variant:"info",isInline:!0,title:n().createElement(n().Fragment,null,"NOTE: To continue, you'll need to fill out all of the information. Some of the information, such as Private Hosted Zone ID and Shared VPC Role ARN, must be provided by the VPC owner of the AWS account you want to use. If you aren't the VPC owner, reach out to them now.")},n().createElement(p.default,{href:c.default.ROSA_SHARED_VPC},"View instructions on configuring shared VPC for ROSA clusters")),n().createElement(W,{hostedZoneDomainName:e})))}},271:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var l=a(93345),n=a.n(l),r=a(88139),i=a(19033),s=a(24510),o=a(30155),u=a(45436),c=a(65702),d=a(84037),m=a(94402),p=a(13731),f=a(27872),E=a(72067),g=a(15771),v=a(16829);const h=({input:{onChange:e,value:t},label:a,selectedVPC:l,isHypershift:r})=>n().createElement(p.A,{label:a,selectedVPC:l,selectedGroupIds:t,isReadOnly:!1,onChange:e,isHypershift:r}),_=({openshiftVersion:e,selectedVPC:t,isHypershiftSelected:a})=>{const{setFieldValue:p,getFieldProps:_,getFieldMeta:S,values:{[v.FieldId.SecurityGroups]:b}}=(0,E.l)(),C=`${v.FieldId.SecurityGroups}.applyControlPlaneToAll`,y=`${v.FieldId.SecurityGroups}.controlPlane`,I=`${v.FieldId.SecurityGroups}.infra`,A=`${v.FieldId.SecurityGroups}.worker`,R=b.applyControlPlaneToAll?b.controlPlane:b.controlPlane.concat(b.infra).concat(b.worker),[T,O]=(0,l.useState)(R.length>0);if(!t.id)return null;const P=(0,m.E)(u.x.SECURITY_GROUPS,e,{day1:!0,isHypershift:a}),D=!P&&0===(t.aws_security_groups||[]).length;return n().createElement(i.Q,{toggleText:"Additional security groups",isExpanded:T,onToggle:()=>{O(!T)}},P&&n().createElement("div",null,P),D&&n().createElement(f.A,null),!P&&!D&&n().createElement(n().Fragment,null,n().createElement(s.F,{variant:"info",isInline:!0,title:"You cannot add or edit security groups associated with the control plane nodes, infrastructure nodes, or machine pools that were created by default during cluster creation.",actionLinks:n().createElement(n().Fragment,null,n().createElement(o.v,{component:"a",href:c.default.ROSA_SECURITY_GROUPS,target:"_blank"},"View more information"),n().createElement(o.v,{component:"a",href:c.default.AWS_CONSOLE_SECURITY_GROUPS,target:"_blank"},"AWS security groups console"))}),n().createElement("br",null),n().createElement(r.Field,{component:g.default,name:C,label:"Apply the same security groups to all node types (control plane, infrastructure, worker)",input:{..._(C),onChange:(e,t)=>p(C,t)},meta:S(C)}),n().createElement(r.Field,{component:h,name:y,label:b.applyControlPlaneToAll?"":"Control plane nodes",selectedVPC:t,validate:e=>(0,d.validateSecurityGroups)(e,a),input:{..._(y),onChange:e=>p(y,e)},meta:S(y),isHypershift:a}),!b.applyControlPlaneToAll&&n().createElement(n().Fragment,null,n().createElement(r.Field,{component:h,name:I,label:"Infrastructure nodes",selectedVPC:t,validate:e=>(0,d.validateSecurityGroups)(e,a),input:{..._(I),onChange:e=>p(I,e)},meta:S(I),isHypershift:a}),n().createElement(r.Field,{component:h,name:A,label:"Worker nodes",selectedVPC:t,validate:e=>(0,d.validateSecurityGroups)(e,a),input:{..._(A),onChange:e=>p(A,e)},meta:S(A),isHypershift:a}))))}},5198:(e,t,a)=>{"use strict";a.d(t,{R:()=>d});var l=a(93345),n=a.n(l),r=a(54801),i=a(18679),s=a(83709),o=a(69304),u=a(17161),c=a(66152);const d=e=>{const{showRosaCliRequirement:t=!0}=e;return n().createElement(r.C,null,n().createElement(i.Y,null,n().createElement("strong",null,"Did you complete your prerequisites?")),n().createElement(s.I,null,n().createElement("p",null,"To create a ",u.t," (ROSA) cluster via the web interface, you must complete the prerequisite steps on the ",n().createElement(o.Link,{to:"/create/rosa/getstarted"},"Set up ROSA page"),"."),t&&n().createElement("p",null,"Make sure you are using ROSA CLI version ",c.ROSA_HOSTED_CLI_MIN_VERSION,' or above for "Hosted" control plane.')))}},80591:(e,t,a)=>{"use strict";a.d(t,{G:()=>s});var l=a(93345),n=a.n(l),r=a(51976),i=a(22069);const s=()=>n().createElement(r.n,null,n().createElement(i.E,{component:i.Y.h2},"Welcome to Red Hat OpenShift Service on AWS (ROSA)"),n().createElement(i.E,{component:i.Y.p},"Create a managed OpenShift cluster on an existing Amazon Web Services (AWS) account."))},16829:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FieldId:()=>p,RosaFieldId:()=>l,StepId:()=>E,StepName:()=>f,initialTouched:()=>_,initialValues:()=>v,initialValuesHypershift:()=>g,initialValuesRestrictedEnv:()=>h});var l,n=a(93413),r=a(94675),i=a(75166),s=a(11611),o=a(70557),u=a(69122),c=a(14115),d=a(95343),m=a(13642);!function(e){e.AssociatedAwsId="associated_aws_id",e.BillingAccountId="billing_account_id",e.CloudProviderId="cloud_provider",e.ClusterPrivacy="cluster_privacy",e.ClusterPrivacyPublicSubnetId="cluster_privacy_public_subnet_id",e.ControlPlaneRoleArn="control_plane_role_arn",e.DetectedOcmAndUserRoles="detected_ocm_and_user_roles",e.EtcdKeyArn="etcd_key_arn",e.Hypershift="hypershift",e.RosaMaxOsVersion="rosa_max_os_version",e.SharedVpc="shared_vpc",e.SupportRoleArn="support_role_arn",e.WorkerRoleArn="worker_role_arn",e.WorkerVolumeSizeGib="worker_volume_size_gib"}(l||(l={}));const p={...c.FieldId,...l};var f,E;!function(e){e.AccountsAndRoles="Accounts and roles",e.ClusterSettings="Cluster settings",e.Details="Details",e.MachinePool="Machine pool",e.Networking="Networking",e.Configuration="Configuration",e.VpcSettings="VPC settings",e.ClusterProxy="Cluster-wide proxy",e.CidrRanges="CIDR ranges",e.ClusterRolesAndPolicies="Cluster roles and policies",e.ClusterUpdates="Cluster updates",e.Review="Review and create"}(f||(f={})),function(e){e.AccountsAndRoles="accounts-and-roles",e.ClusterSettings="cluster-settings",e.ClusterSettingsDetails="cluster-settings-details",e.ClusterSettingsMachinePool="cluster-settings-machine-pool",e.Networking="networking",e.NetworkingConfiguration="networking-config",e.NetworkingVpcSettings="networking-vpc-settings",e.NetworkingClusterProxy="networking-cluster-proxy",e.NetworkingCidrRanges="networking-cidr-ranges",e.ClusterRolesAndPolicies="cluster-roles-and-policies",e.ClusterUpdates="cluster-updates",e.Review="review"}(E||(E={}));const g=(e,t)=>e?{[p.BillingModel]:m.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_AWS,[p.ClusterAutoscaling]:null,[p.ClusterPrivacyPublicSubnetId]:"",[p.InstallToVpc]:!0,[p.NodeLabels]:[{id:(0,n.getRandomID)()}],[p.SharedVpc]:{is_allowed:!1},[p.UpgradePolicy]:"automatic",[p.Region]:t?void 0:c.AWS_DEFAULT_REGION}:{[p.BillingModel]:m.SubscriptionCommonFields.cluster_billing_model.STANDARD,[p.ClusterAutoscaling]:(0,s.getDefaultClusterAutoScaling)(),[p.ClusterPrivacyPublicSubnetId]:"",[p.EnableUserWorkloadMonitoring]:!0,[p.InstallToVpc]:!1,[p.SecurityGroups]:(0,r.getDefaultSecurityGroupsSettings)(),[p.SharedVpc]:{is_allowed:!0,is_selected:!1,base_dns_domain:"",hosted_zone_id:"",hosted_zone_role_arn:""},[p.UpgradePolicy]:"manual"},v=(e=!0)=>({[p.Byoc]:"true",[p.CloudProvider]:c.CloudProviderType.Aws,[p.Product]:i.normalizedProducts.ROSA,[p.ApplicationIngress]:d.ApplicationIngressType.Default,[p.AutomaticUpgradeSchedule]:"0 0 * * 0",[p.CidrDefaultValuesToggle]:!0,[p.ClusterName]:"",[p.ClusterPrivacy]:d.ClusterPrivacyType.External,[p.ConfigureProxy]:!1,[p.CustomerManagedKey]:"false",[p.DefaultRouterExcludedNamespacesFlag]:"",[p.DefaultRouterSelectors]:"",[p.DisableScpChecks]:!1,[p.EtcdEncryption]:!1,[p.EtcdKeyArn]:"",[p.FipsCryptography]:!1,[p.Hypershift]:"true",[p.IMDS]:c.IMDSType.V1AndV2,[p.IsDefaultRouterNamespaceOwnershipPolicyStrict]:!0,[p.IsDefaultRouterWildcardPolicyAllowed]:!1,[p.KmsKeyArn]:"",[p.MachinePoolsSubnets]:[(0,c.emptyAWSSubnet)()],[p.MultiAz]:"false",[p.NetworkHostPrefix]:u.HOST_PREFIX_DEFAULT,[p.NetworkMachineCidr]:u.MACHINE_CIDR_DEFAULT,[p.NetworkPodCidr]:u.POD_CIDR_DEFAULT,[p.NetworkServiceCidr]:u.SERVICE_CIDR_DEFAULT,[p.NodeDrainGracePeriod]:60,[p.NodeLabels]:[{id:(0,n.getRandomID)()}],[p.NodesCompute]:2,[p.Region]:c.AWS_DEFAULT_REGION,[p.SelectedVpc]:{id:"",name:""},[p.UsePrivateLink]:!1,[p.EnableExteranlAuthentication]:!1,[p.RegionalInstance]:{},[p.WorkerVolumeSizeGib]:o.jy,...g(e)}),h={...v(!1),[p.Hypershift]:"false",[p.ClusterPrivacy]:d.ClusterPrivacyType.Internal,[p.EtcdEncryption]:!0,[p.FipsCryptography]:!0},_={[p.Hypershift]:!0}},72147:(e,t,a)=>{"use strict";a.r(t),a.d(t,{rosaWizardFormValidator:()=>r});var l=a(16829);const n=(e,t,a)=>{t.min>t.max&&(e[a]={min:"The minimum cannot be above the maximum value.",max:"The minimum cannot be above the maximum value."})},r=e=>{const t=e[l.FieldId.ClusterAutoscaling];if(!t)return{};const{cores:a,memory:r}=t.resource_limits,i={};return n(i,a,"cores"),n(i,r,"memory"),0===Object.keys(i).length?{}:{cluster_autoscaling:{resource_limits:i}}}},66152:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE:()=>s,CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE:()=>o,CLEAR_GET_OCM_ROLE_RESPONSE:()=>u,CLEAR_GET_USER_ROLE_RESPONSE:()=>c,GET_AWS_ACCOUNT_ROLES_ARNS:()=>n,GET_AWS_BILLING_ACCOUNTS:()=>f,GET_OCM_ROLE:()=>r,GET_USER_ROLE:()=>i,LIST_ASSOCIATED_AWS_IDS:()=>l,LIST_USER_OIDC_CONFIGURATIONS:()=>m,MIN_MANAGED_POLICY_VERSION:()=>p,ROSA_HOSTED_CLI_MIN_VERSION:()=>E,SET_OFFLINE_TOKEN:()=>d});const l="LIST_ASSOCIATED_AWS_IDS",n="GET_AWS_ACCOUNT_ROLES_ARNS",r="GET_OCM_ROLE",i="GET_USER_ROLE",s="CLEAR_GET_AWS_ACCOUNT_IDS_RESPONSE",o="CLEAR_GET_AWS_ACCOUNT_ROLES_ARNS_RESPONSE",u="CLEAR_GET_OCM_ROLE_RESPONSE",c="CLEAR_GET_USER_ROLE_RESPONSE",d="SET_OFFLINE_TOKEN",m="LIST_USER_OIDC_CONFIGURATIONS",p="4.11.4",f="GET_AWS_BILLING_ACCOUNTS",E="1.2.31"},9435:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(43212),i=a(9694);const s=({status:e,className:t})=>{const a={status:null!=e?e:"",className:null!=t?t:""};return n().createElement(i.ScalprumComponent,{...a,scope:"assistedInstallerApp",module:"./ClusterStatus",fallback:n().createElement(r.E,{fontSize:"sm",width:"5em"})})}},7691:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(92697),i=a(86726),s=a(69304);const o=({path:e})=>n().createElement(r.Q,null,e.map(((t,a)=>{const l=t.label;if(a<e.length-1){let e=t.path;return"Cluster List"!==l||e||(e="/cluster-list"),n().createElement(i.J,{key:l,render:({className:t,ariaCurrent:a})=>n().createElement(s.Link,{to:`${e||"/overview"}`,className:t,"aria-current":a},l)})}return n().createElement(i.J,{key:l,isActive:!0},l)})))},12200:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(47144),i=a(72583);const s=({disableReason:e,isAriaDisabled:t,tooltipProps:a={},...l})=>e?n().createElement(r.m,{...a,content:e},n().createElement(i.$n,{isAriaDisabled:!0,...l})):n().createElement(i.$n,{isAriaDisabled:t,...l})},2786:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CheckboxDescription:()=>r});var l=a(93345),n=a.n(l);function r({children:e}){return n().createElement("div",{className:"ocm-c--reduxcheckbox-description"},e)}},97932:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(59399),i=a.n(r),s=a(47144),o=a(72583);const u=({text:e,className:t,children:a,isDisabled:l})=>{const[r,u]=n().useState(!1),c=n().useRef(),d=n().useCallback((()=>{c.current&&window.clearTimeout(c.current),u(!0),c.current=window.setTimeout((()=>{u(!1),c.current=void 0}),2500)}),[]);return n().createElement(s.m,{trigger:"mouseenter focus click",entryDelay:100,exitDelay:500,content:n().createElement("div",null,r?"Successfuly copied to clipboard!":"Copy to clipboard")},n().createElement(i(),{text:e,onCopy:d},n().createElement(o.$n,{className:t,variant:"link",isAriaDisabled:l},a)))}},55816:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(69211),i=a(24510),s=a(19033),o=a(76871);const u=({message:e,variant:t="danger",response:a,children:l,isExpandable:u,showCloseBtn:c=!1,onCloseAlert:d,hideOperationID:m,forceAsAlert:p})=>{const f={actionClose:n().createElement(r.X,{onClose:d})};return n().createElement(i.F,{variant:t,isInline:!0,title:e,role:"danger"===t||p?"alert":void 0,className:"error-box","data-testid":"alert-error",...c&&f},l&&n().createElement(n().Fragment,null,l,n().createElement("br",null)),u||l?n().createElement(s.Q,{toggleText:l?"More details":"Error details"},n().createElement(o.A,{response:a,hideOperationID:m})):n().createElement(o.A,{response:a}))}},76871:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(93345),n=a.n(l),r=a(89217),i=a(72432);const s=({response:e,itemWrapper:t="p",showErrorCode:a,renderLinks:l,hideOperationID:s})=>{const{errorMessage:o}=e,u=(0,r.formatErrorDetails)(e.errorDetails);return n().createElement(n().Fragment,null,a&&n().createElement(t,null,`Error code: ${e.errorCode}`),o&&(l?n().createElement(i.A,null,o):n().createElement(t,null,o)),null==u?void 0:u.map((e=>Array.isArray(e)?n().createElement("ul",{key:`${e}`},e.map((t=>n().createElement("li",{key:`${e}-${t}`},l?n().createElement(i.A,null,t):t)))):l?n().createElement(i.A,{key:`${e}`},e):n().createElement("pre",{key:`${e}`},e))),s?null:n().createElement(t,null,`Operation ID: ${e.operationID||"N/A"}`))}},91497:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(71468),n=a(91089),r=a(93345),i=a.n(r),s=a(9670),o=a(31003),u=a(48525),c=a(76871),d=a(28592);const m=(0,l.Ng)(null,(e=>({closeModal:()=>{e((0,n.closeModal)())}})))((({title:e,errorResponse:t,resetResponse:a,closeModal:l,children:n})=>{const r=i().useCallback((()=>{a(),l()}),[a,l]);return i().createElement(d.default,{header:i().createElement(s.h,{headingLevel:"h2",size:"2xl"},i().createElement(o.ExclamationCircleIcon,{color:u.global_danger_color_100.value})," ",e),primaryText:"Close",onPrimaryClick:r,onClose:r,showClose:!1,showSecondary:!1,"aria-label":e},i().createElement(c.A,{response:t,renderLinks:!0}),n)}))},8888:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(93345),n=a.n(l),r=a(72583),i=a(17957),s=a(40167),o=a(9296),u=a(94538);const c=({href:e,children:t,noIcon:a,noTarget:l,className:c,stopClickPropagation:d,isButton:m,variant:p=r.Ak.secondary,customTrackProperties:f={},"data-testid":E})=>{const g=(0,u.default)(),v=()=>{const t=window.location.pathname;let a;a=t.includes("/rosa")?"moa":t.includes("/osdtrial")?"osdtrial":t.includes("/osd")?"osd":t.includes("/crc")?"crc":"all",g(o.trackEvents.ExternalLink,{customProperties:{link_url:e,module:"openshift",ocm_resource_type:a,...f}})},h={href:e,target:l?"":"_blank",rel:"noreferrer noopener",className:c,onClick:e=>{d?(v(),e.stopPropagation()):v()},"data-testid":E},_=n().createElement(n().Fragment,null,t,l?null:n().createElement("span",{className:"pf-v5-u-screen-reader"}," (new window or tab)"),!a&&n().createElement(i.I,{size:"md",className:"external-link-alt-icon"},n().createElement(s.ExternalLinkAltIcon,{"data-testid":"openInNewWindowIcon"})));return m?n().createElement(r.$n,{component:"a",...h,variant:p},_):n().createElement("a",{...h},_)}},38715:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FormGroupHelperText:()=>u});var l=a(93345),n=a.n(l),r=a(59257),i=a(49318),s=a(61864),o=a(31003);const u=({children:e,id:t,error:a,touched:u,variant:c="default",icon:d,validateOnSubmit:m,hasIcon:p=void 0!==d})=>{const f=n().useMemo((()=>"string"==typeof e?n().createElement(r.E,{id:t},n().createElement(i.j,{icon:d,variant:c,hasIcon:p},e)):n().createElement(r.E,null,e)),[e,t,d,c,p]);if(!a&&!e)return null;const E="string"==typeof a||(0,l.isValidElement)(a);return n().createElement(s.e,null,u&&a&&E||m&&a?n().createElement(r.E,{id:t},n().createElement(i.j,{variant:"error",icon:n().createElement(o.default,null),hasIcon:p},a)):f)}},71699:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var l=a(93345),n=a.n(l),r=a(88139),i=a(30620),s=a(23215),o=a(72583),u=a(23158),c=a(56862),d=a(93413),m=a(84037),p=a(14115),f=a(72067),E=a(12200),g=a(23285);const v=({input:e,meta:{touched:t,error:a}})=>n().createElement(n().Fragment,null,n().createElement(g.ks,{"aria-label":"Key-value list key",validated:t&&a?"error":"default",onChange:(t,a)=>e.onChange(a),value:e.value}),t&&a&&n().createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},a)),h=({input:e,meta:{touched:t,error:a}})=>n().createElement(n().Fragment,null,n().createElement(g.ks,{"aria-label":"Key-value list value",validated:t&&a?"error":"default",onChange:(t,a)=>e.onChange(a),value:e.value}),t&&a&&n().createElement("span",{className:"pf-v5-c-form__helper-text pf-m-error"},a)),_=({push:e,remove:t})=>{const{values:{[p.FieldId.NodeLabels]:a},setFieldValue:g,setFieldTouched:_,getFieldProps:S,getFieldMeta:b,validateForm:C}=(0,f.l)();return(0,l.useEffect)((()=>{(null==a?void 0:a.length)||g(p.FieldId.NodeLabels,[{id:(0,d.getRandomID)()}]),C()}),[a,g]),n().createElement(i.x,{hasGutter:!0},n().createElement(s.E,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Key"),n().createElement(s.E,{span:4,className:"pf-v5-c-form__label pf-v5-c-form__label-text"},"Value"),n().createElement(s.E,{span:4}),null==a?void 0:a.map(((e,l)=>{const i=0===l&&1===a.length,c=`${p.FieldId.NodeLabels}[${l}].key`,d=`${p.FieldId.NodeLabels}[${l}].value`;return n().createElement(n().Fragment,{key:`${e.id}`},n().createElement(s.E,{span:4},n().createElement(r.Field,{name:c,type:"text",component:v,index:l,validate:e=>{const t=[...a];return t[l]={...t[l],key:e},(0,m.validateLabelKey)(e,{node_labels:t},void 0,c)},input:{...S(c),onChange:e=>{g(c,e,!1),_(c,!0,!1)}},meta:b(c)})),n().createElement(s.E,{span:4},n().createElement(r.Field,{name:d,type:"text",component:h,index:l,validate:e=>{const t=[...a];return t[l]={...t[l],value:e},(0,m.validateLabelValue)(e,{node_labels:t},void 0,c)},input:{...S(d),onChange:e=>{g(d,e,!1),_(d,!0,!1)}},meta:b(d)})),n().createElement(s.E,{span:4},n().createElement(o.$n,{onClick:()=>t(l),icon:n().createElement(u.MinusCircleIcon,null),variant:"link",isDisabled:i,"aria-label":"Remove item",className:i?"formKeyValueList-removeBtn-disabled":"formKeyValueList-removeBtn"})))})),n().createElement(s.E,null,n().createElement(E.default,{onClick:()=>e({id:(0,d.getRandomID)()}),icon:n().createElement(c.PlusCircleIcon,null),variant:"link",isInline:!0,className:"formKeyValueList-addBtn",disableReason:(y=a,(!y||y.some((e=>!e.key)))&&d.nodeKeyValueTooltipText)},"Add additional label")));var y}},91684:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FormikFieldArray:()=>S});var l=a(93345),n=a.n(l),r=a(88139),i=a(23215),s=a(90678),o=a(73113),u=a(72583),c=a(30620),d=a(23158),m=a(56862),p=a(72067),f=a(36858),E=a(56780),g=a(23285),v=a(55213);const h=({name:e,textInputClassName:t,formGroupClassName:a,label:l,validate:i,isDisabled:s,placeHolderText:o,tooltip:u,tooltipWidth:c="",field:d,formGroup:m,input:p,type:f,validateOnSubmit:h,onChange:_})=>n().createElement(r.Field,{name:e,validate:i,...d},(({field:r,form:d,meta:S})=>n().createElement(E.g,{fieldId:r.name,label:l,className:a,...u&&{labelIcon:n().createElement(v.default,{maxWidth:c,hint:u})},...i&&{isRequired:!0},...m},n().createElement(g.ks,{id:r.name,className:t,isDisabled:s,placeholder:o,validated:S.touched&&S.error||h&&S.error?"error":"default",onBlur:()=>d.setFieldTouched(e,!0),onChange:(e,t)=>{_&&_(e),r.onChange(e)},value:r.value||("number"===f?0:""),type:f,...p})))),_=({isLast:e,errorMessage:t,touched:a,isGroupError:l})=>t&&e&&(a||l)?n().createElement(i.E,{className:"field-grid-item pf-v5-c-form__helper-text pf-m-error"},t):null,S=e=>{const{fieldID:t,label:a,helpText:l,placeHolderText:E,isRequired:g}=e,{values:v,errors:S,getFieldMeta:b,setFieldTouched:C}=(0,p.l)(),y=v[t],{touched:I}=b(t);return n().createElement(s.B,{hasGutter:!0,label:a},n().createElement(o.a,{span:6},n().createElement(f.LabelGridItem,{fieldSpan:6,isRequired:g,label:`${a} (${null==y?void 0:y.length})`,helpText:l})),n().createElement(r.FieldArray,{name:t,validateOnChange:!0,render:({push:e,remove:a})=>n().createElement(n().Fragment,null,n().createElement(o.a,{span:6,className:"field-grid-item"},n().createElement(u.$n,{icon:n().createElement(m.PlusCircleIcon,null),onClick:()=>{e(""),C(t)},variant:"link",isInline:!0,isDisabled:null==y?void 0:y.some((e=>""===e))},"Add more")),null==y?void 0:y.map(((e,l)=>{const r=0===l&&1===(null==y?void 0:y.length),s=`${t}.${l}`;return n().createElement(n().Fragment,{key:s},n().createElement(c.x,null,n().createElement(c.x,{hasGutter:!0,span:6},n().createElement(i.E,{span:4},n().createElement(h,{placeHolderText:`${E} ${l+1}`,name:s,formGroup:{isRequired:!1},textInputClassName:"field-grid-item"})),n().createElement(i.E,{span:2,className:"field-grid-item minus-button"},n().createElement(u.$n,{onClick:()=>a(l),icon:n().createElement(d.MinusCircleIcon,null),variant:"link",isInline:!0,isDisabled:r})))),n().createElement(i.E,null,n().createElement(_,{isLast:l===y.length-1,errorMessage:S[t],touched:I,isGroupError:!1})))})))}))}},57983:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FuzzySelect:()=>I});var l=a(93345),n=a.n(l),r=a(25929),i=a(17661),s=a(81995),o=a(97862),u=a(24510),c=a(9132),d=a(22563),m=a(5049),p=a(38517),f=a(89826),E=a(62169),g=a(79426),v=a(93413);const h=(e,t)=>{let a="";const l=e.length,n=t.length,r=new Array(l);let i=0,s=0,o=0,u=0;for(;o<l;){const e=new Array(n);for(u=0;u<n;)e[u]=0,u+=1;r[o]=e,o+=1}let c=null;for(o=0;o<l;){for(u=0;u<n;)e[o]!==t[u]||" "===e[o]&&" "===t[u]?r[o][u]=0:(r[o][u]=0===o||0===u?1:1+r[o-1][u-1],r[o][u]>i&&(i=r[o][u],c=o-r[o][u]+1,s===c?a+=e[o]:(s=c,a=e.substring(s,o+1)))),u+=1;o+=1}return a},_=(e,t)=>{let a,l=e,n=t,r=[];do{let e;a=[];let t=h(l,n);if(t.length>0){const{length:i}=t;t=t.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");const s=new RegExp(t,"g");do{e=s.exec(l),e&&a.push(e)}while(null!==e);a.length&&(r=[...r,...a.map((e=>{const t=e.index;return{beg:t,end:t+e[0].length-1}}))],l=l.replace(s,(()=>" ".repeat(i))),n=n.replace(s,(()=>" ".repeat(i))))}}while(n.length&&a.length);return r.sort((({beg:e},{beg:t})=>e-t)),r},S=({entry:e,filterText:t})=>n().createElement(n().Fragment,null,((e,t)=>{const a=_(e,t),l=[];let n=0;return a.forEach((({beg:t,end:a})=>{l.push({text:e.slice(n,t),isBold:!1}),l.push({text:e.slice(t,a+1),isBold:!0}),n=a+1})),n<e.length&&l.push({text:e.slice(n),isBold:!1}),l})(e.label,t).map(((e,t)=>n().createElement("span",{key:`slice-${t}`,className:e.isBold?"pf-v5-u-font-weight-bold":""},e.text))));var b=a(4775);const C=e=>{const{entry:t,displayLabel:a,nonTruncatedLabel:l,isPopover:r}=e;return n().createElement(o.O,{key:t.entryId,id:t.entryId,value:t.entryId,description:t.description,isDisabled:t.disabled},r?n().createElement(b.A,{triggerAction:"hover","aria-label":"Hoverable popover",bodyContent:n().createElement("div",null,l)},n().createElement("span",null,a)):n().createElement("span",null,a))},y=(e,t)=>e.label.localeCompare(t.label),I=e=>{const{fuzziness:t,selectedEntryId:a="",sortFn:h=y,filterValidate:_,truncation:b,selectionData:I,isOpen:A,toggleId:R,isPopover:T,onOpenChange:O,onSelect:P,isDisabled:D,placeholderText:L="Select an option",inlineFilterPlaceholderText:N="Filter options",validated:w,footer:k,toggleStyle:F,className:M,...x}=e,[G,U]=n().useState(""),[H,V]=n().useState(""),[B,q]=n().useState(I),j=n().useRef(null),[z,W]=n().useState(!1),$="object"==typeof(K=B)&&null!==K&&!Array.isArray(K)&&Object.values(K).every((e=>Array.isArray(e)));var K;const Y="no results";n().useEffect((()=>{if(H){_&&(_.pattern.lastIndex=0,W(!_.pattern.test(H)));let e=[];Array.isArray(I)?e=I:Object.entries(I||{}).forEach((([t,a])=>{e=[...e,...a]}));const a=H.toLowerCase(),l=e.find((({label:e})=>e===a))?0:null!=t?t:.3,n=new r.A(e,{ignoreLocation:!0,threshold:l,includeScore:!0,includeMatches:!0,keys:["label","entryId"]}).search(a).sort((({score:e=0,item:t},{score:a=0,item:l})=>e-a||h(t,l))),i=[],s={};let o=!1;n.forEach((({item:e,matches:t})=>{e&&!e.disabled&&t&&(e.groupId?(o=!0,s[e.groupId]?s[e.groupId].push(e):s[e.groupId]=[e]):i.push(e))})),i.length?q(i):q(o?s:[{disabled:!0,label:"No results found",entryId:Y}])}else q(I),W(!1)}),[_,H,t,I,h]);const Q=(0,l.useCallback)((()=>{O(!1)}),[O]),Z=(0,l.useCallback)(((e,t,l)=>{U(String(t)),V(""),a!==String(e)&&(null==P||P(l,String(e))),Q()}),[Q,P,a]),X=(0,l.useCallback)(((e,t)=>{var a,l;if(t&&t!==Y){const n=$?null===(a=((e,t)=>{let a;return Object.values(e).some((e=>(a=e.find((e=>e.entryId===t)),void 0!==a))),a})(B,String(t)))||void 0===a?void 0:a.label:null===(l=B.find((e=>e.entryId===t)))||void 0===l?void 0:l.label;n&&Z(t,n,e)}}),[$,Z,B]),J=()=>{O(!A)};(0,l.useEffect)((()=>{!A&&H&&V("")}),[A,H]),(0,l.useEffect)((()=>{var e;A&&(null===(e=null==j?void 0:j.current)||void 0===e||e.focus({preventScroll:!0}))}),[A,j]),(0,l.useEffect)((()=>{a&&!G&&X(void 0,a)}),[X,G,a]),(0,l.useEffect)((()=>{a||U("")}),[a]);const ee=(0,l.useMemo)((()=>{if(z)return n().createElement(s.B,{"aria-label":"Select options list"},n().createElement(o.O,{isDisabled:!0,key:"invalid-filter"},n().createElement(u.F,{variant:"danger",isInline:!0,isPlain:!0,title:null==_?void 0:_.message})));if(Array.isArray(B)&&1===B.length&&B[0].entryId===Y)return n().createElement(s.B,{"aria-label":"Select options list"},n().createElement(o.O,{isDisabled:!0,key:"no-results"},B[0].label));if(Array.isArray(B)){const e=B.sort(h);return n().createElement(s.B,{"aria-label":"Select options list"},e.map((e=>{const t=H?n().createElement(S,{key:e.entryId,entry:e,filterText:H}):(0,v.truncateTextWithEllipsis)(e.label,b);return n().createElement(C,{key:e.entryId,entry:e,displayLabel:t,nonTruncatedLabel:e.label,isPopover:T})})))}const e=Object.keys(I);return(H?Object.entries(B).sort((([t],[a])=>e.indexOf(t)-e.indexOf(a))):Object.entries(B)).map((([e,t])=>n().createElement(c.s,{label:e,key:e},n().createElement(s.B,{"aria-label":`Select options list for ${e}`},t.map((e=>{const t=H?n().createElement(S,{key:e.entryId,entry:e,filterText:H}):(0,v.truncateTextWithEllipsis)(e.label,b);return n().createElement(C,{key:e.entryId,entry:e,displayLabel:t,nonTruncatedLabel:e.label,isPopover:T})}))))))}),[z,B,I,H,null==_?void 0:_.message,h,b,T]),te=(null==e?void 0:e.isScrollable)&&k?" fuzzy-select--scrollable-with-footer":"";return n().createElement(d.l,{isOpen:A,selected:a,onSelect:X,onOpenChange:e=>{e||Q(),O(e)},toggle:e=>n().createElement(i.S,{className:"fuzzy-select__toggle",ref:e,"aria-label":"Options menu",onClick:J,isExpanded:A,isDisabled:D,isFullWidth:!0,id:R,status:w,style:F},G||L),shouldFocusToggleOnSelect:!0,shouldFocusFirstItemOnOpen:!1,onOpenChangeKeys:["Escape"],className:`${null!=M?M:""}${te}`,...x},n().createElement(m.K,null,n().createElement(p.a,null,n().createElement(f.D,{value:H,"aria-label":N,onChange:(e,t)=>{V(t)},onClear:e=>{e.stopPropagation(),V("")},placeholder:N,ref:j}))),n().createElement(E.c,null),ee,k?n().createElement(g.N,{className:"fuzzy-select__footer"},k):null)}},11777:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(90118);const i=({children:e,simple:t})=>n().createElement(r.L,{className:t?"ocm-instructions__list-item-simple":"ocm-instructions__list-item"},n().createElement("div",{className:"ocm-instructions__list-item-contents"},e))},10046:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(22069),i=a(36070),s=a(94538);const o=({children:e,textAriaLabel:t,trackEvent:a,className:l,outerClassName:o,...u})=>{const c=(0,s.default)();return n().createElement(r.E,{component:"pre",className:o},n().createElement(i.Ck,{isReadOnly:!0,textAriaLabel:t,onCopy:(e,t)=>{a&&c(a),(0,i.I8)(e,t)},className:l,...u},e))}},94974:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(93345),n=a.n(l),r=a(51976),i=a(12921);const s=({children:e,wide:t})=>n().createElement(r.n,{className:"ocm-instructions"},n().createElement(i.K,{component:i.C.ol,className:"ocm-instructions__list "+(t?"pf-v5-u-max-width":"")},e))},61261:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var l,n=a(93345),r=a.n(n),i=a(72583),s=a(9296),o=a(69304),u=a(94538);!function(e){e.createRosaClusterURL="/create/rosa/getstarted",e.rosaHandsOnURL="/overview/rosa/hands-on",e.rosaServicePageURL="/overview/rosa",e.createOSDClusterURL="/create/osd",e.createClusterURL="/create",e.registerClusterURL="/register"}(l||(l={}));const c=e=>{const{to:t,children:a,stopClickPropagation:n,isButton:c,component:d}=e,m=(0,u.default)(),p=()=>{let e;t.includes(l.createRosaClusterURL)?e=s.trackEvents.CreateClusterROSA:t.includes(l.rosaServicePageURL)?e=s.trackEvents.RosaOverview:t.includes(l.rosaHandsOnURL)?e=s.trackEvents.TryRosaHandsOnExperience:t.includes(l.createOSDClusterURL)?e=s.trackEvents.CreateClusterOSD:t.includes(l.createClusterURL)?e=s.trackEvents.CreateClusterRHOCP:t.includes(l.registerClusterURL)&&(e=s.trackEvents.RegisterCluster),e&&m(e,{url:t,path:window.location.pathname})},f=e=>{n?(p(),e.stopPropagation()):p()};return c?r().createElement(i.$n,{component:d||"a",...e,onClick:f},a):r().createElement(o.Link,{...e,onClick:f},a)}},48609:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(71468),n=a(14419),r=a(93345),i=a.n(r);const s=(0,l.Ng)(((e,t)=>({isOpen:(0,n.default)(e,t.ModalComponent.modalName)})))((({ModalComponent:e,isOpen:t,...a})=>{if(!e.modalName)throw new Error("Modal component missing name");return t?i().createElement(e,{...a}):null}))},28592:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var l=a(93345),n=a.n(l),r=a(95376),i=a(16165),s=a(90678),o=a(73113),u=a(9670),c=a(30666),d=a(93973),m=a(72583),p=a(75907),f=a(69304);const E=({title:e="",secondaryTitle:t="",onClose:a,showPrimary:l=!0,primaryText:E="Confirm",showSecondary:g=!0,secondaryText:v="Cancel",showTertiary:h,tertiaryText:_,onPrimaryClick:S,onSecondaryClick:b,onTertiaryClick:C,isSmall:y=!0,modalSize:I=i.d.default,isPrimaryDisabled:A,isSecondaryDisabled:R,isPending:T,children:O,primaryVariant:P="primary",primaryLink:D,secondaryLink:L,...N})=>{const w=(0,r.useLocation)(),k=(0,f.useNavigate)(),F=t?n().createElement(s.B,null,n().createElement(o.a,null,n().createElement(u.h,{headingLevel:"h1"},e)),n().createElement(o.a,{className:"modal-secondary-title"},n().createElement(c.B,null,n().createElement(d.o,null,"Cluster"),n().createElement(d.o,null,t)))):void 0;return n().createElement(i.a,{className:T?"pending-modal":void 0,"aria-label":"string"==typeof e?e:"",variant:y?i.d.small:I,title:e,header:F,isOpen:!0,onClose:a,actions:T?[]:[l&&!D&&n().createElement(m.$n,{key:"confirm",variant:P,onClick:S,type:"submit",isDisabled:A,"data-testid":"btn-primary"},E),l&&D&&n().createElement(m.$n,{key:"confirm",variant:P,component:"a",target:"_blank",href:D,isDisabled:A,"data-testid":"btn-primary"},E),g&&!L&&n().createElement(m.$n,{key:"secondary",variant:"secondary",onClick:b?()=>b({location:w,navigate:k}):void 0,isDisabled:R,"data-testid":"btn-secondary"},v),g&&L&&n().createElement(m.$n,{key:"secondary",variant:"secondary",component:"a",target:"_blank",href:L,isDisabled:R,"data-testid":"btn-secondary"},v),h&&n().createElement(m.$n,{key:"tertiary",variant:"secondary",onClick:C,"data-testid":"btn-tertiary"},_)],...N},T?n().createElement(p.A,{centered:!0}):O)}},91089:(e,t,a)=>{"use strict";a.r(t),a.d(t,{closeModal:()=>i,modalActions:()=>s,openModal:()=>r});var l=a(77475),n=a(57175);const r=(e,t)=>(0,l.action)(n.z,{name:e,data:t}),i=()=>(0,l.action)(n.F),s={openModal:r,closeModal:i}},57175:(e,t,a)=>{"use strict";a.d(t,{F:()=>n,z:()=>l});const l="OPEN_MODAL",n="CLOSE_MODAL"},14419:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});const l=(e,t)=>e.modal.modalName===t},43775:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});const l={ADD_NOTIFICATION_CONTACT:"add-notification-contact",ARCHIVE_CLUSTER:"archive-cluster",DELETE_CLUSTER:"delete-cluster",DELETE_MACHINE_POOL:"delete-machine-pool",DELETE_PROTECTION:"delete-protection",EDIT_APPLICATION_INGRESS:"edit-application-ingress",EDIT_CLUSTER_AUTOSCALING_V1:"edit-cluster-autoscaling-v1",EDIT_CLUSTER_AUTOSCALING_V2:"edit-cluster-autoscaling-v2",EDIT_CLUSTER_INGRESS:"edit-cluster-ingress",EDIT_CLUSTER_WIDE_PROXY:"EDIT_CLUSTER_WIDE_PROXY",EDIT_CONSOLE_URL:"edit-console-url",EDIT_DISPLAY_NAME:"edit-display-name",EDIT_MACHINE_POOL:"edit-machine-pool",EDIT_SUBSCRIPTION_SETTINGS:"edit-subscription-settings",ACCESS_REQUEST_DETAILS:"accessRequest-details",HIBERNATE_CLUSTER:"hibernate-cluster",OCM_ROLES:"ocm-roles",REGISTER_CLUSTER_ERROR:"register-cluster-error",RESUME_CLUSTER:"resume-cluster",SCALE_CLUSTER:"edit-cluster",TRANSFER_CLUSTER_OWNERSHIP:"transfer-cluster-ownership",UNARCHIVE_CLUSTER:"unarchive-cluster",UPDATE_MACHINE_POOL_VERSION:"update-machine-pool-version",UPGRADE_TRIAL_CLUSTER:"upgrade-trial-cluster",UPGRADE_WIZARD:"upgrade-wizard"}},35198:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(93345),n=a.n(l),r=a(24510),i=a(8888);const s=()=>n().createElement(r.F,{className:"pf-v5-u-mt-md",variant:"warning",isInline:!0,title:"Logging in with offline tokens is deprecated"},"Logging in using offline tokens has been deprecated and is no longer getting maintained or enhanced. You can now log in using your Red Hat SSO credentials. Learn more about"," ",n().createElement(i.default,{href:"https://access.redhat.com/articles/7074172",noIcon:!0},"how to log in using your Red Hat SSO credentials and why we’re deprecating tokens."))},65824:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(30666),i=a(93973),s=a(88075),o=a(16401);const u=({title:e,breadcrumbs:t,children:a})=>n().createElement(s.A,null,t,n().createElement(r.B,null,n().createElement(i.o,{isFilled:!0},n().createElement(o.A,{className:"ocm-page-title",title:e}))),a)},55213:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(93345),n=a.n(l),r=a(4775),i=a(72583),s=a(31003),o=a(7019);const u=({title:e,hint:t,iconClassName:a,footer:l,bodyContent:u,buttonAriaLabel:c,isError:d,...m})=>n().createElement(r.A,{headerContent:e,footerContent:l,"aria-label":"help",bodyContent:null!=u?u:t,...m},n().createElement(i.$n,{className:"popover-hint-button","aria-label":c||(d?"Error":"More information"),variant:"plain"},n().createElement("span",{className:a},d?n().createElement(s.ExclamationCircleIcon,{className:"danger"}):n().createElement(o.OutlinedQuestionCircleIcon,null))))},75759:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(93345),n=a.n(l),r=a(22069),i=a(4775),s=a(72583),o=a(31003),u=a(7019);const c=({title:e,bodyContent:t,footer:a,isErrorHint:l,...c})=>n().createElement("div",{className:"popover-with-title-div"},n().createElement(r.E,{component:r.Y.p},n().createElement(i.A,{bodyContent:t,footerContent:a,"aria-label":"help",...c},n().createElement(s.$n,{className:"popover-with-title-button","aria-label":`More information on ${e}`,variant:"plain"},n().createElement("span",{className:"popover-with-title-span"},l?n().createElement(s.$n,{isInline:!0,variant:"link"},n().createElement(o.ExclamationCircleIcon,{className:"status-icon danger"}),` ${e}`):n().createElement(n().Fragment,null,n().createElement(u.OutlinedQuestionCircleIcon,null),` ${e}`))))))},94800:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var l=a(93345),n=a.n(l),r=a(60915),i=a(66312),s=a(30666),o=a(93973),u=a(15129),c=a(6229),d=a(9670),m=a(983),p=a(72972),f=a(72583),E=a(2e4);const g=({title:e,description:t,logo:a,labelText:l,drawerPanelContent:g,openLearnMore:v,isSelected:h,dataTestId:_})=>n().createElement(r.Z,{className:"product-overview-card "+(h?"pf-m-selectable-raised pf-m-selected-raised":""),"data-testid":"product-overview-card"},n().createElement(i.a,null,n().createElement(s.B,{hasGutter:!0,style:{width:"100%"}},n().createElement(o.o,null,n().createElement("img",{src:a,alt:`${e} logo`,className:"product-overview-card__logo","data-testid":"product-overview-card__logo"})),n().createElement(o.o,{isFilled:!0}),n().createElement(o.o,null,l?n().createElement(u.J,{"data-testtag":"label",color:"blue","data-testid":"label-text"},l):null))),n().createElement(c.Z,null,n().createElement(d.h,{headingLevel:"h3"},e)),n().createElement(m.b,null,t),n().createElement(p.w,null,n().createElement(f.$n,{className:"product-overview-card__learn-more-button",onClick:()=>v(e,g),variant:"link",icon:n().createElement(E.fw,{"data-testid":"open-right-drawer-icon"}),iconPosition:"end","data-testid":`product-overview-card__learn-more-button-${_}`},"Learn more")))},47825:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ReduxSelectDropdown:()=>p});var l=a(93345),n=a.n(l),r=a(17661),i=a(22563),s=a(81995),o=a(97862),u=a(96998),c=a(56780),d=a(38715),m=a(55213);const p=({options:e,label:t,helpText:a,meta:{error:l,touched:p},input:f,isDisabled:E,isFormGroup:g=!0,isRequired:v,extendedHelpText:h,..._})=>{const[S,b]=n().useState(!1),C=()=>{b(!S)},y=n().createElement(i.l,{...f,id:f.name,isOpen:S,selected:f.value,toggle:e=>n().createElement(r.S,{ref:e,onClick:C,isExpanded:S,isDisabled:E,isFullWidth:!0,className:"redux-select-menu-toggle","aria-label":"Options menu"},f.value),onSelect:(e,t)=>{b(!1),f.onChange(t)},onOpenChange:b,onBlur:e=>e.stopPropagation(),..._},n().createElement(s.B,null,e.map((e=>n().createElement(o.O,{key:e.value,value:e.value},e.label?n().createElement(u.s,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"},alignItems:{default:"alignItemsCenter"}},n().createElement("span",null,e.name),e.label):e.name)))));return g?n().createElement(c.g,{fieldId:f.name,label:t,isRequired:v,labelIcon:h?n().createElement(m.default,{hint:h}):void 0},y,n().createElement(d.FormGroupHelperText,{touched:p,error:l},a)):y}},67716:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(93345),n=a.n(l),r=a(47144),i=a(72583),s=a(2923);const o=({classOptions:e,refreshFunc:t,clickRefreshFunc:a,autoRefresh:l,isDisabled:o,ouiaId:u,useShortTimer:c})=>{const[d,m]=n().useState(0),[p,f]=n().useState(c?10:60);return((e,t)=>{const a=n().useRef(e);n().useEffect((()=>{a.current=e}),[e]),n().useEffect((()=>{const e=setInterval((function(){a.current()}),t);return()=>clearInterval(e)}),[t])})((()=>{10===p&&(d<2?m(d+1):(f(60),m(0))),l&&"visible"===document.visibilityState&&navigator.onLine&&!o&&t()}),1e3*p),n().useEffect((()=>{f(c?10:60)}),[c]),n().createElement(r.m,{position:r.Z.bottom,content:"Refresh"},n().createElement(i.$n,{variant:"plain","aria-label":"Refresh",className:e,onClick:a||t,isAriaDisabled:o,ouiaId:u},n().createElement(s.RedoIcon,null)))}},20003:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(76980);const i=(e=10,t=6,a="lg")=>{const l={cells:[{props:{colSpan:t},title:n().createElement(r.A,{size:a})}]},i=[];for(let t=0;t<e;t+=1)i.push(l);return i}},41451:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>f,LE:()=>m,Qu:()=>d,Qy:()=>p});var l=a(93345),n=a.n(l),r=a(4775),i=a(15129),s=a(17957),o=a(29962),u=a(65702),c=a(8888);const d={text:"Technology Preview",externalLink:u.default.TECH_PREVIEW_KCS,popoverContent:"Technology preview features provide early access to upcoming product innovations, enabling you to test functionality and provide feedback during the development process."},m={text:"Developer Preview",externalLink:u.default.INSTALL_PRE_RELEASE_SUPPORT_KCS,popoverContent:"Developer preview features provide early access to upcoming product innovations, enabling\nyou to test functionality and provide feedback during the development process."},p={text:"Cooperative Community",externalLink:u.default.COOPERATIVE_COMMUNITY_SUPPORT_KCS,popoverContent:"Cooperative Community Support provides assistance to Red Hat customers that have questions\nabout community-provided software that is often used with our Red Hat products"},f=({text:e,popoverContent:t,externalLink:a,className:l="pf-v5-u-ml-md"})=>{const u=n().createElement(n().Fragment,null,n().createElement("div",{className:"pf-v5-u-mb-sm"},t),a&&n().createElement(c.default,{href:a},"Learn more"));return n().createElement(r.A,{position:r.$.top,bodyContent:u},n().createElement(i.J,{style:{cursor:"pointer"},color:"orange",onClick:e=>{e.preventDefault()},icon:n().createElement(s.I,null,n().createElement(o.InfoCircleIcon,{color:"var(--pf-v5-c-label__content--Color)"})),className:`${l} pf-v5-u-display-inline`},e))}},10314:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(93345),n=a.n(l),r=a(15129),i=a(4775),s=a(8888);const o=({status:e})=>{let t,a,l,o="blue";switch(e.toLowerCase()){case"full support":t="Full support",a="This minor version of OpenShift is fully supported. In order to receive security and bug fixes, continue to install patch (z-stream) updates to your cluster or upgrade to the latest minor version when available.",l="full-support";break;case"maintenance support":t="Maintenance support",a="This minor version of OpenShift has reached the maintenance support phase. Critical and selected high priority fixes will continue to be delivered in patch (z-stream) releases.",l="maintenance-support";break;case"extended update support":t="Extended update support",a="This minor version of OpenShift has reached the extended update support phase. Critical and selected high priority fixes will continue to be delivered in patch (z-stream) releases.",l="extended-update-support";break;case"end of life":o="red",t="End of life",a="This minor version of OpenShift has reached the end of life and is no longer supported. Upgrade to a newer version so that this cluster is supportable.",l="end-of-life";break;default:return n().createElement(r.J,{color:o,variant:"outline",className:"support-status-label"},e)}return n().createElement(i.A,{className:"support-status-popover","aria-label":t,bodyContent:a,footerContent:n().createElement(n().Fragment,null,"See"," ",n().createElement(s.default,{href:"https://access.redhat.com/support/policy/updates/openshift",noIcon:!0},"this resource")," ","to learn more about the support lifecycle."),id:l},n().createElement(r.J,{color:o,variant:"outline",className:"support-status-label support-status-label--clickable",onClick:e=>{e.preventDefault()}},t))}},65411:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(93345),n=a.n(l),r=a(43212),i=a(9694);const s=({className:e})=>{const t={className:null!=e?e:""};return n().createElement(i.ScalprumComponent,{...t,scope:"assistedInstallerApp",module:"./TechnologyPreview",fallback:n().createElement(r.E,{fontSize:"md",width:"8em",className:"pf-v5-u-display-inline-flex pf-v5-u-ml-md"})})}},4605:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(93345),n=a.n(l);const r=({value:e})=>{let t="N/A";if(e){const a=new Date(e),l=a.getTime();Number.isNaN(l)?console.error("Can't parse date '%s'",e):t=`${a.toLocaleDateString()} ${a.toLocaleTimeString()}`}return n().createElement("span",{"data-testid":"createdAt"},t)}},71299:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(93345),n=a.n(l),r=a(73113),i=a(90678),s=a(9670),o=a(33675),u=a(75279),c=a(19033),d=a(69093),m=a(83741),p=a(76871);const f=({errors:e,message:t="",response:a})=>{n().useEffect((()=>{const t=e=>{m.v4((t=>{var a;t.setTag("operationID",null!==(a=e.operationID)&&void 0!==a?a:""),m.Cp(new Error(`${e.errorCode} error from server: ${e.internalErrorCode} - ${e.errorMessage}`))}))};e?e.forEach((e=>{const{response:a}=e;t(a)})):t(a)}),[]);const l=({response:e,message:t,key:a=""})=>n().createElement(r.a,{key:a},n().createElement(i.B,null,t&&n().createElement(r.a,null,n().createElement(s.h,{headingLevel:"h6"},t)),n().createElement(p.A,{response:e,itemWrapper:r.a,showErrorCode:!0,renderLinks:!0})));return n().createElement(o.p,null,n().createElement(u.h,null,n().createElement(d.A,null),n().createElement(c.Q,{id:"error-expand",toggleText:"Error details"},n().createElement(i.B,{hasGutter:!0},e?e.map(l):l({response:a,message:t})))))}},22024:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(93345),n=a(47144);const r=({showTooltip:e,content:t,children:a})=>e?l.createElement(n.m,{content:t},a):a},29568:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AddOnsFormDropdown:()=>m});var l=a(93345),n=a.n(l),r=a(88139),i=a(96998),s=a(56780),o=a(91332),u=a(18960),c=a(38715),d=a(55213);const m=({options:e,label:t,name:a,disabled:l,isFormGroup:m=!0,helperText:p,isRequired:f,extendedHelpText:E,fieldId:g,validate:v,validateOnSubmit:h,..._})=>{const[S,b]=n().useState(!1),{setFieldValue:C}=(0,r.useFormikContext)(),[y,I,A]=(0,r.useField)(g),R=n().createElement(o.l,{placeholderText:"-- Please Select --",variant:"single",...y,id:a,name:a,isDisabled:l,isOpen:S,selections:y.value,onToggle:(e,t)=>b(t),validated:I.touched||I.error?"error":"default",onSelect:(e,t)=>{C(g,t),b(!1)},onBlur:()=>A.setTouched(!0,!0),..._},e.map((e=>n().createElement(u.O,{key:e.value,value:e.value},e.label?n().createElement(i.s,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"},alignItems:{default:"alignItemsCenter"}},n().createElement("span",null,e.name),e.label):e.name))));return m?n().createElement(s.g,{...v&&{isRequired:!0},fieldId:a,label:t,isRequired:f,labelIcon:E?n().createElement(d.default,{hint:E}):void 0},R,n().createElement(c.FormGroupHelperText,{touched:I.touched,error:I.error,validateOnSubmit:h},p)):n().createElement(n().Fragment,null,R,n().createElement(c.FormGroupHelperText,{touched:I.touched,error:I.error,validateOnSubmit:h},p))}},77051:(e,t,a)=>{"use strict";a.r(t),a.d(t,{NumberInputField:()=>m});var l=a(93345),n=a(88139),r=a(4775),i=a(72583),s=a(17957),o=a(56780),u=a(23285),c=a(31358),d=a(38715);const m=e=>{const{fieldId:t,label:a,isRequired:m,isDisabled:p,min:f,max:E,helpText:g}=e,[v,{error:h,touched:_}]=(0,n.useField)(t),S=g?l.createElement(r.A,{bodyContent:l.createElement("p",null,g)},l.createElement(i.$n,{variant:"plain",isInline:!0},l.createElement(s.I,{size:"md"},l.createElement(c.HelpIcon,null)))):void 0;return l.createElement(o.g,{fieldId:t,label:a,labelIcon:S,isRequired:m},l.createElement(u.ks,{type:"number",min:f,max:E,...v,id:t,onChange:(e,t)=>{v.onChange(e)},isDisabled:p}),l.createElement(d.FormGroupHelperText,{touched:_,error:h}))}},75913:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a(88139),r=a(4775),i=a(72583),s=a(17957),o=a(56780),u=a(23285),c=a(31358),d=a(38715);const m=({fieldId:e,label:t,isRequired:a,isDisabled:m,helpText:p,placeHolderText:f})=>{const[E,{error:g,touched:v}]=(0,n.useField)(e),h=p?l.createElement(r.A,{bodyContent:l.createElement("p",null,p)},l.createElement(i.$n,{variant:"plain",isInline:!0},l.createElement(s.I,{size:"md"},l.createElement(c.HelpIcon,null)))):void 0;return l.createElement(o.g,{fieldId:e,label:t,labelIcon:h,isRequired:a},l.createElement(u.ks,{...E,id:e,onChange:(e,t)=>{E.onChange(e)},isDisabled:m,placeholder:f}),l.createElement(d.FormGroupHelperText,{touched:v,error:g},p))}},2663:(e,t,a)=>{"use strict";function l(e){const t={title:"Open console",key:`${e.id}.menu.adminconsole`},a=e.console_url;let l;return l=a?{...t,to:a,isExternalLink:!0,rel:"noopener noreferrer"}:{...t,component:"button",isAriaDisabled:!0,tooltipProps:{content:"Admin console is not yet available for this cluster"}},[l]}a.r(t),a.d(t,{actionResolver:()=>l,default:()=>n});const n=l},63093:(e,t,a)=>{"use strict";a.d(t,{A:()=>E});var l=a(93345),n=a.n(l),r=a(33675),i=a(86130),s=a(54169),o=a(75279),u=a(97796),c=a(22204),d=a(65702),m=a(8888);const p=a.p+"images/CostIcon.fe0a9c26fe5dacf4..svg",f=({className:e})=>n().createElement("img",{className:`ocm--cost-icon ${e}`,src:p,alt:"Cost Management","aria-hidden":"true"}),E=()=>n().createElement(r.p,{variant:r.s.lg,className:"pf-m-redhat-font"},n().createElement(i.o,{titleText:"Track your OpenShift spending!",icon:n().createElement(s.q,{icon:f}),headingLevel:"h2"}),n().createElement(o.h,null,"Add an OpenShift Container Platform cluster to see a total cost breakdown of your pods by cluster, node, project, or labels."),n().createElement(u.s,null,n().createElement(c.c,null,n().createElement(m.default,{href:d.default.COSTMGMT_ADDING_OCP},"Add an OpenShift cluster to Cost Management"))))},12474:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(9670),u=a(983),c=a(72972),d=a(69304),m=a(23557),p=a(25514),f=a(63093),E=a(30620),g=a(23215),v=a(51976),h=a(12921),_=a(90118),S=a(76980);const b=(e=0,t="USD")=>e.toLocaleString("en",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}),C=({report:e})=>{var t,a,l,r,i,s,o,u;const c=null!==(i=null===(r=null===(l=null===(a=null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.total)||void 0===a?void 0:a.cost)||void 0===l?void 0:l.total)||void 0===r?void 0:r.value)&&void 0!==i?i:0;return(null===(u=null===(o=null===(s=null==e?void 0:e.meta)||void 0===s?void 0:s.total)||void 0===o?void 0:o.cost)||void 0===u?void 0:u.total)?n().createElement(n().Fragment,null,e.data.map((e=>e.clusters.map((e=>e.values.map((e=>{var t,a,l,r,i,s;const o=e.clusters&&e.clusters.length?e.clusters[0]:e.cluster,u=null!==(l=null===(a=null===(t=null==e?void 0:e.cost)||void 0===t?void 0:t.total)||void 0===a?void 0:a.value)&&void 0!==l?l:0,d=null!==(s=null===(i=null===(r=null==e?void 0:e.cost)||void 0===r?void 0:r.total)||void 0===i?void 0:i.units)&&void 0!==s?s:"USD",m=c>0?u/c:0,p=`${b(u,d)} (${((e=0)=>e.toLocaleString("en",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0}))(m)})`;return n().createElement(n().Fragment,{key:e.cluster},n().createElement(_.L,{component:_.D.dt},o),n().createElement(_.L,{component:_.D.dd},p))}))))))):null},y=({report:e})=>e.fulfilled?n().createElement(E.x,{hasGutter:!0},n().createElement(g.E,{lg:5,md:12},n().createElement(o.h,{className:"ocm--cost-total",size:"2xl",headingLevel:"h2"},(e=>{var t,a,l,n,r,i,s,o,u,c;const d=null!==(r=null===(n=null===(l=null===(a=null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.total)||void 0===a?void 0:a.cost)||void 0===l?void 0:l.total)||void 0===n?void 0:n.value)&&void 0!==r?r:0,m=null!==(c=null===(u=null===(o=null===(s=null===(i=null==e?void 0:e.meta)||void 0===i?void 0:i.total)||void 0===s?void 0:s.cost)||void 0===o?void 0:o.total)||void 0===u?void 0:u.units)&&void 0!==c?c:"USD";return b(d,m)})(e)),n().createElement("span",{className:"ocm--cost-total__desc"},"Month-to-date cost")),n().createElement(g.E,{lg:7,md:12},n().createElement("div",{className:"ocm--cost-clusters"},n().createElement(v.n,null,n().createElement(h.K,{component:h.C.dl},n().createElement(_.L,{component:_.D.dt,key:"top-clusters"},"Top clusters"),n().createElement(C,{report:e})))))):n().createElement(S.A,{size:"md"}),I=()=>{const{report:e,sources:t}=(0,p.useGlobalState)((e=>e.cost)),[a,E]=(0,l.useState)(),[g,v]=(0,l.useState)(),[h,_]=(0,l.useState)(),S=(0,r.wA)();return(0,l.useEffect)((()=>{S((0,m.getReport)()),S((0,m.getSources)({type:"OCP"}))}),[S]),(0,l.useEffect)((()=>{E((null==t?void 0:t.meta)&&0!==t.meta.count)}),[null==t?void 0:t.meta]),(0,l.useEffect)((()=>{v(a||!(null==t?void 0:t.fulfilled))}),[a,null==t?void 0:t.fulfilled]),(0,l.useEffect)((()=>{_(a&&e.fulfilled)}),[a,e.fulfilled]),n().createElement(i.Z,{className:"ocm--cost-card"},n().createElement(s.Z,null,n().createElement(o.h,{size:"lg",headingLevel:"h2"},"Cost Management")),n().createElement(u.b,{className:"ocm--cost-card__body"},g?n().createElement(y,{report:e}):n().createElement(f.A,null)),h?n().createElement(c.w,null,n().createElement("a",{href:`${d.ocmBaseName}/cost-management`},"View more in Cost management")):null)}},79193:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var l=a(93345),n=a.n(l),r=a(63802),i=a(33675),s=a(86130),o=a(54169),u=a(75279),c=a(97796),d=a(72583),m=a(22204),p=a(56862),f=a(69304);const E=function(){return n().createElement(r.d8,null,n().createElement(i.p,{variant:i.s.lg,className:"cluster-list-empty-state"},n().createElement(s.o,{titleText:"Let's create your first cluster",icon:n().createElement(o.q,{icon:p.default}),headingLevel:"h4"}),n().createElement(u.h,null,"You don't have any clusters yet, but you can easily create or register your first OpenShift 4 cluster."),n().createElement(c.s,null,n().createElement(f.Link,{to:"/create"},n().createElement(d.$n,{"data-testid":"create_cluster_btn",className:"pf-v5-u-mt-xl"},"Create cluster")),n().createElement(m.c,null,n().createElement(f.Link,{to:"/register"},n().createElement(d.$n,{variant:"link"},"Register cluster")),n().createElement(f.Link,{to:"/archived"},n().createElement(d.$n,{variant:"link"},"View cluster archives")),n().createElement(f.Link,{to:"/assisted-installer"},n().createElement(d.$n,{variant:"link"},"Assisted Installer clusters"))))))}},46695:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var l=a(93345),n=a.n(l),r=a(71468),i=a(60915),s=a(6229),o=a(983),u=a(33675),c=a(86130),d=a(75279),m=a(73683),p=a(16623),f=a(32569),E=a(68923),g=a(69304),v=a(25514),h=a(10135),_=a(56540),S=a(22916),b=a(96346),C=a(91089),y=a(43775),I=a(20003);const A={filter:`support_level='${a(13642).SubscriptionCommonFields.support_level.NONE}' AND status NOT IN ('Deprovisioned', 'Archived')`},R=()=>{const e=(0,r.wA)(),t=(0,v.useGlobalState)((e=>e.subscriptions.subscriptions)),a=(0,v.useGlobalState)((e=>e.viewOptions[S.viewConstants.OVERVIEW_EXPIRED_TRIALS])),[R,T]=(0,l.useState)(a),O=(0,l.useMemo)((()=>t.pending&&t.items&&t.items.length>0),[t.items,t.pending]),P=(0,l.useMemo)((()=>{var e;return O?(0,I.default)(a.pageSize):null===(e=t.items)||void 0===e?void 0:e.map((e=>({cells:[{title:n().createElement(g.Link,{to:`/details/s/${e.id}`},e.display_name||e.external_cluster_id)}],subscription:e})))}),[O,t.items,a.pageSize]);return(0,l.useEffect)((()=>{t.fulfilled||t.pending||e((0,_.getSubscriptions)((0,h.createOverviewQueryObject)(a,A)))}),[e,t.fulfilled,t.pending]),(0,l.useEffect)((()=>{(!t.pending&&!t.valid||(0,h.viewPropsChanged)(a,R))&&(e((0,_.getSubscriptions)((0,h.createOverviewQueryObject)(a,A))),T(a))}),[t.pending,t.valid,a,e]),t.error?n().createElement(i.Z,{className:"ocm-overview-clusters__card"},n().createElement(s.Z,null,"Expired Trials"),n().createElement(o.b,null,n().createElement(u.p,null,n().createElement(c.o,{titleText:"No data available",headingLevel:"h2"}),n().createElement(d.h,null,"There was an error fetching the data. Try refreshing the page.")))):t.items&&0!==t.items.length?n().createElement(i.Z,{className:"ocm-overview-clusters__card"},n().createElement(s.Z,null,"Expired Trials"),n().createElement(o.b,null,n().createElement(p.X,{"aria-label":"Expired Trials",cells:[{title:"Name"}],rows:P,variant:m.a.compact,actionResolver:t=>O?[]:(({subscription:t})=>[{title:"Edit subscription settings",onClick:()=>e((0,C.openModal)(y.default.EDIT_SUBSCRIPTION_SETTINGS,{subscription:t}))},{title:"Archive cluster",onClick:()=>e((0,C.openModal)(y.default.ARCHIVE_CLUSTER,{subscriptionID:t.id,name:t.display_name||t.external_cluster_id}))}])(t),areActionsDisabled:e=>e.subscription&&!e.subscription.canEdit},n().createElement(f.A,null),n().createElement(E.B,null)),n().createElement(b.default,{viewType:S.viewConstants.OVERVIEW_EXPIRED_TRIALS,currentPage:a.currentPage,pageSize:a.pageSize,totalCount:a.totalCount,totalPages:a.totalPages,variant:"bottom",isDisabled:t.pending,perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"25",value:25},{title:"50",value:50}]}))):null}},83166:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var l=a(93345),n=a.n(l),r=a(983),i=a(33675),s=a(86130),o=a(75279),u=a(23215),c=a(60915),d=a(6229),m=a(55318),p=a(9670),f=a(69304),E=a(36447),g=a(17957),v=a(31003),h=a(67849),_=a(48525),S=a(44027);const b=({totalUnhealthyClusters:e,totalConnectedClusters:t,isError:a})=>{if(a)return n().createElement(c.Z,{className:"ocm-overview-clusters__card","data-testid":"cluster-with-issues-error"},n().createElement(d.Z,null,"Clusters with issues"),n().createElement(r.b,null,n().createElement(m.a,null,n().createElement(p.h,{headingLevel:"h2"},"No data available"),n().createElement("span",{className:"empty-state-color"},"There was an error fetching the data. Try refreshing the page."))));if(!t)return n().createElement(c.Z,{className:"ocm-overview-clusters__card","data-testid":"cluster-with-issues-no-data"},n().createElement(d.Z,null,"Clusters with issues"),n().createElement(r.b,null,n().createElement(m.a,null,n().createElement("span",{className:"empty-state-color"},"No data available"))));const l=n().createElement(g.I,{className:"status-icon",size:"sm"},0===e?n().createElement(h.aV,{color:S.global_success_color_100.value,"data-testid":"ok-icon"}):n().createElement(v.ExclamationCircleIcon,{color:_.global_danger_color_100.value,"data-testid":"exclamation-icon"})),i=e>0?"clusters-with-issues-non-zero":"clusters-with-issues-zero",s=n().createElement("span",{className:i},e);return n().createElement(c.Z,{className:"ocm-overview-clusters__card","data-testid":"cluster-with-issues-unhealthy"},n().createElement(d.Z,null,"Clusters with issues"),n().createElement(r.b,null,n().createElement(m.a,null,s,l)))},C=({totalClusters:e,totalUnhealthyClusters:t,totalConnectedClusters:a,totalCPU:l,usedCPU:g,totalMem:v,usedMem:h,isError:_})=>{const S=n().createElement(r.b,null,n().createElement(i.p,null,n().createElement(s.o,{titleText:"No data available",headingLevel:"h2"}),n().createElement(o.h,null,"There was an error fetching the data. Try refreshing the page.")));if(_)return n().createElement(n().Fragment,null,n().createElement(u.E,{md:3},n().createElement(c.Z,{className:"ocm-overview-clusters__card"},n().createElement(d.Z,null,"Clusters"),S)),n().createElement(u.E,{md:9,rowSpan:2},n().createElement(c.Z,{className:"ocm-c-metrics-charts__card"},n().createElement(d.Z,null,"CPU and Memory utilization"),S)),n().createElement(u.E,{md:3},n().createElement(b,{isError:_,totalUnhealthyClusters:t,totalConnectedClusters:a})));const C=a>0&&((null==l?void 0:l.value)>0||v.value>0)?n().createElement(r.b,null,n().createElement(E.default,{cpu:{total:l,used:g,updated_timestamp:""},memory:{total:{value:v.value,unit:"B"},used:{value:h.value,unit:"B"},updated_timestamp:""},metricsAvailable:!0,type:"legend"})):n().createElement(r.b,null,n().createElement(i.p,null,n().createElement(s.o,{titleText:"No data available",headingLevel:"h2"}),n().createElement(o.h,null,"Check individual clusters web console if you expect that they should be sending metrics. Note that data is not available for clusters that are installing.")));return n().createElement(n().Fragment,null,n().createElement(u.E,{md:3},n().createElement(f.Link,{to:"/cluster-list",className:"overview-clusters-link"},n().createElement(c.Z,{className:"ocm-overview-clusters__card"},n().createElement(d.Z,null,"Clusters"),n().createElement(r.b,null,n().createElement(m.a,null,n().createElement(p.h,{headingLevel:"h1",size:"3xl"},e)))))),n().createElement(u.E,{md:9,rowSpan:2},n().createElement(c.Z,{className:"ocm-c-metrics-charts__card"},n().createElement(d.Z,null,"CPU and Memory utilization"),C)),n().createElement(u.E,{md:3},n().createElement(b,{isError:_,totalUnhealthyClusters:t,totalConnectedClusters:a})))}},53350:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,getIssuesCount:()=>s,getSeverityName:()=>i,groupTagHitsByGroups:()=>o});var l=a(48539),n=a(74149);const r={1:"Low",2:"Moderate",3:"Important",4:"Critical"},i=e=>r[e],s=e=>{var t,a,r;const i=null!==(t=null==e?void 0:e.metrics)&&void 0!==t?t:void 0;if(!i)return 0;const{cpu:s,memory:o}=i,u=null!==(a=i.critical_alerts_firing)&&void 0!==a?a:0,c=null!==(r=i.operators_condition_failing)&&void 0!==r?r:0,d=e&&(0,l.hasCpuAndMemory)(s,o)&&(0,n.hasResourceUsageMetrics)(e)?(0,n.resourceUsageIssuesHelper)(s,o,n.thresholds.DANGER):0;return u+(null!=d?d:0)+c},o=(e,t)=>null==t?void 0:t.sort(((e,t)=>e.title.localeCompare(t.title))).reduce(((t,{tags:a,title:l})=>({...t,[l]:{count:a.reduce(((t,a)=>{var l;return t+(null!==(l=null==e?void 0:e[a])&&void 0!==l?l:0)}),0),tags:a.join(",")}})),{}),u=s},73083:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(62193),i=a.n(r),s=a(59399),o=a.n(s),u=a(72583),c=a(47144),d=a(4068),m=a(65702);const p=(0,a(58787).default)((({token:e,text:t="Copy pull secret",variant:a,pendoID:r,track:s})=>{const[p,f]=(0,l.useState)(null),[E,g]=(0,l.useState)(!1),v=(0,l.useCallback)((()=>{p&&window.clearTimeout(p),g(!0),f(window.setTimeout((()=>{g(!1),f(null)}),2500))}),[p]),h=!e||!!e.error||i()(e),_=e.error?"":`${JSON.stringify(e)}\n`,S="link-inplace"===a&&E?"Copied!":t,b=n().createElement(o(),{text:h?"":_,onCopy:v},n().createElement(u.$n,{variant:"link",type:"button",tabIndex:0,isAriaDisabled:h,icon:n().createElement(d.Td,null),onClick:()=>{s(m.tools.COPY_PULLREQUEST,{path:r})}},S));return"link-inplace"===a?b:n().createElement(c.m,{trigger:"manual",content:"Copied!",position:"right",isVisible:E},b)}))},88832:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(93345),n=a.n(l),r=a(4213),i=a.n(r),s=a(62193),o=a.n(s),u=a(72583),c=a(9296),d=a(94538);const m=({token:e,pendoID:t,text:a="Download pull secret"})=>{const l=(0,d.default)(),[r,s]=n().useState(!0),[m,p]=n().useState("");return n().useEffect((()=>{s(!e||!!e.error||o()(e)),p(e.error?"":`${JSON.stringify(e)}\n`)}),[e]),n().createElement(u.$n,{"data-testid":"download-pull-secret",variant:"secondary",onClick:()=>{l(c.trackEvents.DownloadPullSecret,{path:t});const e=new Blob([m],{type:"text/plain;charset=utf-8"});i().saveAs(e,"pull-secret")},isDisabled:r,style:{display:"inline"}},a)}},62344:(e,t,a)=>{"use strict";a.r(t),a.d(t,{downloadChoice:()=>m});var l=a(93345),n=a.n(l),r=a(9704),i=a(16977),s=a(8371),o=a(3638),u=a(17210);const c=({urls:e,tool:t,channel:a,OS:l,architecture:i,setArchitecture:c})=>{const d=(0,u.architecturesForToolOS)(e,t,a,l);return n().createElement(s.F,{"aria-label":"Select architecture dropdown",value:i,onChange:c,isDisabled:d.length<=1,"data-testid":`arch-dropdown-${t}`},n().createElement(o.Q,{key:"select",value:"select",label:"Select architecture",isDisabled:!0}),(0,u.allArchitecturesForTool)(e,t,a).map((({value:i,label:s})=>(0,r.has)(e,[t,a,i,null!=l?l:""])&&n().createElement(o.Q,{key:i,value:i,label:s}))))},d=({urls:e,tool:t,channel:a,OS:l,setOS:r})=>n().createElement(s.F,{value:l,"data-testid":`os-dropdown-${t}`,onChange:r,"aria-label":"Select OS dropdown"},n().createElement(o.Q,{key:"select",value:"select",label:"Select OS",isDisabled:!0}),(0,u.allOperatingSystemsForTool)(e,t,a).map((({value:e,label:t})=>n().createElement(o.Q,{key:e,value:e,label:t})))),m=(e,t,a,l,s,o)=>{const{OS:m,architecture:p}=e[l]||(0,u.initialSelection)(a,l,s,(0,u.detectOS)());if(0===(0,u.allOperatingSystemsForTool)(a,l,s).length){const e=(0,r.get)(a,[l,s,"fallbackNavigateURL"]);return{osDropdown:"",archDropdown:"",downloadButton:n().createElement(i.default,{url:e,download:!1,tool:l,...o})}}return{osDropdown:n().createElement(d,{urls:a,tool:l,channel:s,OS:m,setOS:(n,i)=>{let o=p;if(!(0,r.has)(a,[l,s,p,null!=i?i:""])){const e=(0,u.architecturesForToolOS)(a,l,s,i);o=e.length>1?"select":e[0].value}t({...e,[l]:{OS:i,architecture:o}})}}),archDropdown:n().createElement(c,{urls:a,tool:l,channel:s,OS:m,architecture:p,setArchitecture:(a,n)=>{t({...e,[l]:{OS:m,architecture:n}})}}),downloadButton:n().createElement(i.default,{url:(0,r.get)(a,[l,s,p,null!=m?m:""]),tool:l,...o})}}},17210:(e,t,a)=>{"use strict";a.r(t),a.d(t,{allArchitecturesForTool:()=>s,allOperatingSystemsForTool:()=>o,architecturesForToolOS:()=>i,detectOS:()=>r,initialSelection:()=>u});var l=a(9704),n=a(65702);const r=()=>{const{platform:e}=window.navigator;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?n.operatingSystems.mac:-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?n.operatingSystems.windows:/Linux/.test(e)?n.operatingSystems.linux:null},i=(e,t,a,r)=>n.architectureOptions.filter((({value:n})=>(0,l.has)(e,[t,a,n,null!=r?r:""]))),s=(e,t,a)=>n.architectureOptions.filter((({value:r})=>n.operatingSystemOptions.find((({value:n})=>(0,l.has)(e,[t,a,r,n]))))),o=(e,t,a)=>n.operatingSystemOptions.filter((({value:r})=>n.architectureOptions.find((({value:n})=>(0,l.has)(e,[t,a,n,r]))))),u=(e,t,a,l)=>{var n,r;const s=o(e,t,a).map((e=>e.value)),u=l&&s.includes(l)?l:null==s?void 0:s[0];return{OS:u,architecture:null===(r=null===(n=i(e,t,a,u))||void 0===n?void 0:n[0])||void 0===r?void 0:r.value}}},39914:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Q});var l=a(93345),n=a.n(l),r=a(63802),i=a(9670),s=a(96998),o=a(96553),u=a(69304),c=a(61261),d=a(65702),m=a(36392),p=a(98515),f=a(82333),E=a(35051),g=a(72583),v=a(60915),h=a(66312),_=a(30666),S=a(93973),b=a(15129),C=a(983),y=a(51976),I=a(22069),A=a(84680),R=a(32034),T=a(78755),O=a(1319),P=a(72972),D=a(8888),L=a(92644);const N=a.p+"images/ibm_cloud-icon.71a0a1b7aeac93b9..svg";var w=a(54044),k=a(84545);const F="/create/rosa/getstarted",M="/overview/rosa",x="/overview/osd",G="/create/osd",U="/create",H="/register",V=e=>n().createElement(u.Link,{...e,"data-testid":"create-cluster",to:F}),B=e=>n().createElement(u.Link,{...e,"data-testid":"create-cluster",to:G}),q=e=>n().createElement(u.Link,{...e,"data-testid":"create-cluster",to:U}),j=()=>n().createElement(D.default,{noTarget:!0,noIcon:!0,href:"/openshift/sandbox"},"View details"),z=function(e){const{offeringType:t}=e;let a,r,p,f,E,z,W="Managed service";const $=(0,l.useCallback)((e=>n().createElement(u.Link,{to:H},"Register cluster")),[]),K=(0,l.useCallback)((e=>n().createElement(u.Link,{to:x},"View details")),[]),Y=(0,l.useCallback)((e=>n().createElement(u.Link,{to:M},"View details")),[]);switch(t){case"AWS":a="Red Hat OpenShift Service on AWS (ROSA)",r=[{descriptionListTerm:"Runs on",descriptionListDescription:"Amazon Web Services"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Amazon Web Services"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible hourly"}],E=n().createElement(c.A,{isButton:!0,variant:"secondary",to:F,component:V},"Create cluster"),f=n().createElement(c.A,{isButton:!0,variant:g.Ak.link,to:M,component:Y}),z=n().createElement(L.A,{className:"offering-logo"});break;case"Azure":a="Azure Red Hat OpenShift (ARO)",r=[{descriptionListTerm:"Runs on",descriptionListDescription:"Microsoft Azure"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Microsoft"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible hourly"}],f=n().createElement(D.default,{href:d.default.AZURE_OPENSHIFT_GET_STARTED},"Learn more on Azure"),z=n().createElement("img",{className:"offering-logo",src:w,alt:"Microsoft Azure logo"});break;case"RHOSD":a="Red Hat OpenShift Dedicated",r=[{descriptionListTerm:"Runs on",descriptionListDescription:"Google Cloud or AWS"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Red Hat"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible or fixed"}],E=n().createElement(c.A,{isButton:!0,variant:"secondary",to:G,component:B},"Create cluster"),f=n().createElement(c.A,{isButton:!0,variant:g.Ak.link,to:x,component:K}),z=n().createElement(k.A,{className:"offering-logo"});break;case"RHOCP":a="Red Hat OpenShift Container Platform",W="Self-managed service",r=[{descriptionListTerm:"Runs on",descriptionListDescription:"Supported infrastructures"},{descriptionListTerm:"Purchase through",descriptionListDescription:"Red Hat"},{descriptionListTerm:"Billing type",descriptionListDescription:"Annual subscription"}],E=n().createElement(c.A,{isButton:!0,variant:"secondary",to:U,component:q},"Create cluster"),f=n().createElement(c.A,{variant:g.Ak.link,component:$,to:H},"Register cluster"),z=n().createElement("img",{className:"offering-logo",src:m,alt:"OpenShift product logo"});break;case"RHOIBM":a="Red Hat OpenShift on IBM Cloud",r=[{descriptionListTerm:"Runs on",descriptionListDescription:"IBM Cloud"},{descriptionListTerm:"Purchase through",descriptionListDescription:"IBM"},{descriptionListTerm:"Billing type",descriptionListDescription:"Flexible hourly"}],f=n().createElement(D.default,{href:"https://cloud.ibm.com/kubernetes/catalog/create?platformType=openshift"},"Learn more on IBM"),z=n().createElement("img",{className:"offering-logo",src:N,alt:"IBM logo"});break;case"DEVSNBX":a="Developer Sandbox",p="Instant free access to your own minimal, preconfigured environment for development and testing.",f=n().createElement(g.$n,{variant:g.Ak.link,component:j},"View details"),z=n().createElement(k.A,{className:"offering-logo"})}return n().createElement(v.Z,{className:"offering-card"},n().createElement(h.a,null,n().createElement(_.B,{hasGutter:!0,style:{width:"100%"}},n().createElement(S.o,null,z),n().createElement(S.o,{isFilled:!0}),n().createElement(S.o,null,n().createElement(b.J,{"data-testtag":"label",color:"blue"},W)))),n().createElement(C.b,{className:"card-title"},n().createElement(i.h,{headingLevel:"h2"},a)),n().createElement(C.b,{className:"pf-v5-u-mt-md"},n().createElement(y.n,null,p&&n().createElement(I.E,null,p),(null==r?void 0:r.length)&&n().createElement(A.B,{isHorizontal:!0,isCompact:!0,isAutoFit:!0},n().createElement(R.W,null,r.map((({descriptionListTerm:e,descriptionListDescription:t})=>n().createElement(n().Fragment,{key:e},n().createElement(T.X,null,n().createElement(I.E,{component:"small"},e)),n().createElement(O.d,null,n().createElement(I.E,{component:"small"},t))))))))),n().createElement(P.w,null,n().createElement(s.s,null,E&&n().createElement(o.Z,null,E),f&&n().createElement(o.Z,null,f))))};var W=a(88075);const $=({icon:e,altText:t,learnMoreLink:a,title:l,description:r,dataTestId:s})=>n().createElement(W.A,null,n().createElement(_.B,{hasGutter:!0,"data-testid":s},n().createElement(S.o,null,e?n().createElement("img",{src:e,alt:t,className:"overview-product-banner-icon"}):null),n().createElement(S.o,null,n().createElement(i.h,{headingLevel:"h1"},l),n().createElement(y.n,null,r," ",a?n().createElement(D.default,{href:a},"Learn more"):null))));var K=a(25335);const Y={title:"Get started with OpenShift",icon:m,altText:"OpenShift",learnMoreLink:d.default.WHAT_IS_OPENSHIFT,description:n().createElement(n().Fragment,null,"Focus on work that matters with the industry's leading hybrid cloud application platform powered by Kubernetes.",n().createElement("br",null),"Develop, modernize, deploy, run, and manage your applications faster and easier."),dataTestId:"OverviewHeader"},Q=function(){const e="/create",t=(0,l.useCallback)((t=>n().createElement(u.Link,{...t,"data-testid":"create-cluster",to:e})),[]),[a,d]=(0,l.useState)(!1),[m,g]=(0,l.useState)(),[v,h]=(0,l.useState)(""),_=(e,t)=>{g({title:e,content:t}),d(!0),h(e)};return n().createElement(f.default,{title:null==m?void 0:m.title,content:null==m?void 0:m.content,isOpen:a,onClose:()=>{g(void 0),d(!1),h("")}},n().createElement(p.AppPage,{title:"Overview | Red Hat OpenShift Cluster Manager"},n().createElement($,{...Y}),n().createElement(r.d8,null,n().createElement(i.h,{size:"xl",headingLevel:"h2"},"Featured OpenShift cluster types"),n().createElement(s.s,{className:"pf-v5-u-mb-lg"},n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_RHOSD"},n().createElement(z,{offeringType:"RHOSD"})),n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_AWS"},n().createElement(z,{offeringType:"AWS"})),n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_Azure"},n().createElement(z,{offeringType:"Azure"})),n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_RHOCP"},n().createElement(z,{offeringType:"RHOCP"})),n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_RHOIBM"},n().createElement(z,{offeringType:"RHOIBM"})),n().createElement(o.Z,{className:"pf-v5-u-pt-md","data-testid":"offering-card_DEVSNBX"},n().createElement(z,{offeringType:"DEVSNBX"}))),n().createElement(c.A,{to:e,variant:"link","data-testid":"create-cluster",component:t},"View all OpenShift cluster types"),n().createElement(E.W,{openLearnMore:_,selectedCardTitle:v}),n().createElement(K.o,{openLearnMore:_,selectedCardTitle:v}))))}},35051:(e,t,a)=>{"use strict";a.d(t,{C:()=>m,W:()=>p});var l=a(93345),n=a.n(l),r=a(9670),i=a(96998),s=a(96553),o=a(94800),u=a(96320),c=a(65970);const d="Featured products",m=[{...c.A.advancedClusterSecurity,description:"Protect your containerized Kubernetes workloads in all major clouds and hybrid platforms.",labelText:"60-day trial",drawerPanelContent:u.J.advancedClusterSecurity},{...c.A.openshiftAi,description:"Create and deliver generative and predictive AI models at scale across on-premise and public cloud environments.",labelText:"60-day trial",drawerPanelContent:u.J.OpenshiftAi}],p=({openLearnMore:e,selectedCardTitle:t})=>n().createElement("div",{className:"featured-products-cards"},n().createElement(r.h,{size:"xl",headingLevel:"h2",className:"pf-v5-u-mt-lg"},d),n().createElement(i.s,{className:"pf-v5-u-mb-lg"},m.map((a=>n().createElement(s.Z,{className:"pf-v5-u-pt-md","data-testid":"product-overview-card-flex-item"},n().createElement(o.A,{...a,openLearnMore:e,isSelected:a.title===t,dataTestId:d}))))))},25335:(e,t,a)=>{"use strict";a.d(t,{O:()=>m,o:()=>f});var l=a(93345),n=a.n(l),r=a(9670),i=a(96998),s=a(96553),o=a(8888),u=a(94800),c=a(96320),d=a(65970);const m=[{...d.A.gitops,description:"Integrate git repositories, continuous integration/continuous delivery (CI/CD) tools, and Kubernetes.",labelText:"Free",drawerPanelContent:c.J.gitops},{...d.A.pipelines,description:"Automate your application delivery using a continuous integration and continuous deployment (CI/CD) framework.",labelText:"Free",drawerPanelContent:c.J.pipelines},{...d.A.serviceMesh,description:"Connect, manage, and observe microservices-based applications in a uniform way.",labelText:"Free",drawerPanelContent:c.J.serviceMesh}],p="Recommended operators",f=({openLearnMore:e,selectedCardTitle:t})=>n().createElement("div",{className:"recommended-operators-cards"},n().createElement(r.h,{size:"xl",headingLevel:"h2",className:"pf-v5-u-mt-lg"},p),n().createElement(i.s,{className:"pf-v5-u-mb-lg"},m.map((a=>n().createElement(s.Z,{className:"pf-v5-u-pt-md","data-testid":"product-overview-card-flex-item"},n().createElement(u.A,{...a,openLearnMore:e,isSelected:a.title===t,dataTestId:p}))))),n().createElement(o.default,{href:"https://catalog.redhat.com/search?searchType=software&deployed_as=Operator"},"View all in Ecosystem Catalog"))},82333:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var l=a(93345),n=a.n(l),r=a(55401),i=a(47708),s=a(96193),o=a(8295),u=a(17801),c=a(16253),d=a(62169),m=a(35900);const p=({children:e,title:t,content:a,isOpen:l,onClose:p})=>n().createElement(r._s,{isExpanded:l,isInline:!0},n().createElement(i.z,{panelContent:n().createElement(s.X,{isResizable:!0,defaultSize:"461px",minSize:"417px"},n().createElement(o.y,null,null==a?void 0:a.head,n().createElement(u.j,null,n().createElement(c.s,{onClick:p,"data-testid":"drawer-close-button"}))),n().createElement(d.c,{component:"div","data-testid":"drawer-panel-divider"}),n().createElement(m.J,null,null==a?void 0:a.body))},n().createElement(m.J,null,e)))},96320:(e,t,a)=>{"use strict";a.d(t,{J:()=>T});var l=a(93345),n=a.n(l),r=a(90678),i=a(73113),s=a(51976),o=a(22069),u=a(9670),c=a(12921),d=a(90118),m=a(8888);const p=a.p+"images/AdvancedClusterSecurityExplanationVideoImg.f32284e9edf8ce66..png",f=n().createElement(r.B,{hasGutter:!0,className:"drawer-panel-content-body"},n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"Security shouldn’t be an afterthought. Build, deploy, and run your cloud-native applications with more security and protect your platform using Advanced Cluster Security for Kubernetes."),n().createElement(o.E,{component:o.Y.p},"Conduct security sooner by automating DevSecOps and mitigating security issues early in the container lifecycle."))),n().createElement(i.a,null,n().createElement(m.default,{href:"https://www.youtube.com/watch?v=lFBFW3HmgsA&t=2s",noIcon:!0,"data-testid":"drawer-panel-content__explanation-video-parent"},n().createElement("img",{src:p,alt:"explanation-video",className:"drawer-panel-content__explanation-video","data-testid":"drawer-panel-content__explanation-video"})),n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.small},"Video duration 2:21"))),n().createElement(i.a,null,n().createElement(u.h,{headingLevel:"h3","data-testid":"drawer-panel-content-benefits-title"},"Benefits")),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(c.K,{isPlain:!0},n().createElement(d.L,null,n().createElement("b",null,"Lower operational cost:")," Reduce cost by catching and fixing a security issue in the development stage."),n().createElement(d.L,null,n().createElement("b",null,"Reduce operational risk:")," Align security and infrastructure to reduce application downtime using built-in Kubernetes capabilities."),n().createElement(d.L,null,n().createElement("b",null,"Ensure compliance standards:")," Enable compliance with built-in checks for critical security standards and regulations."),n().createElement(d.L,null,n().createElement("b",null,"Find threats quicker:")," Detect and respond to threats, such as:"),n().createElement(c.K,null,["Unauthorized access","Cryptomining","Privilege escalation","Lateral movement"].map((e=>n().createElement(d.L,{"data-testid":"threat-example-list-item"},e))))))),n().createElement(i.a,null,n().createElement(u.h,{headingLevel:"h3","data-testid":"drawer-panel-content-use-cases-title"},"Use cases:")),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(c.K,{isPlain:!0},n().createElement(d.L,null,n().createElement("b",null,"Supply chain security:")," Provide developers with security context in their existing workflows and integrate security into your CI/CD pipelines and image registries."),n().createElement(d.L,null,n().createElement("b",null,"Infrastructure security:")," Maintain security and prevent insecure access and authorizations with existing role-based access (RBAC) rules and hardening your organization’s environment."),n().createElement(d.L,null,n().createElement("b",null,"Workload security:")," Prevent high-risk workloads from being deployed or run using out-of-the-box deploy-time and runtime policies and monitor known good behavior to configure custom policies and alerts.")))),n().createElement(i.a,{className:"drawer-panel-content__learn-more"},n().createElement(m.default,{"data-testid":"learn-more-about-advanced-cluster-security-drawer-panel-content-link",href:"https://catalog.redhat.com/software/container-stacks/detail/60eefc88ee05ae7c5b8f041c"},"Learn more about Advanced Cluster Security")));var E=a(96998),g=a(96553),v=a(30620),h=a(23215);const _=({title:e,logo:t,trialButtonLink:a})=>n().createElement(E.s,{alignItems:{default:"alignItemsCenter"}},n().createElement(g.Z,null,n().createElement("img",{src:t,alt:`${e} logo`,className:"drawer-panel-content__logo","data-testid":`${e}-drawer-panel-content__logo`})),n().createElement(v.x,{hasGutter:!0},n().createElement(h.E,{span:12},n().createElement(u.h,{headingLevel:"h2","data-testid":"drawer-panel-content__title"},e),n().createElement(o.E,{component:o.Y.small},"by Red Hat")),a?n().createElement(h.E,{span:12},n().createElement(m.default,{href:a,isButton:!0,variant:"primary"},"Start free trial")):null)),S=n().createElement(r.B,{hasGutter:!0,className:"drawer-panel-content-body"},n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"Consistently configure and deploy Kubernetes-based infrastructure and applications across clusters and development lifecycles using Red Hat OpenShift GitOps."),n().createElement(o.E,{component:o.Y.p},"Red Hat OpenShift GitOps uses the open source project"," ",n().createElement(m.default,{href:"https://www.redhat.com/en/blog/argocd-and-gitops-whats-next",noIcon:!0},"Argo CD"," "),"as the declarative GitOps engine."))),n().createElement(i.a,null,n().createElement(u.h,{headingLevel:"h3","data-testid":"drawer-panel-content-benefits-title"},"Benefits")),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(c.K,{isPlain:!0},n().createElement(d.L,null,n().createElement("b",null,"Enhance traceability and visibility:")," Infrastructure and applications are stored and versioned in Git."),n().createElement(d.L,null,n().createElement("b",null,"Ensure consistency:")," Red Hat OpenShift GitOps makes the configuration repositories the central element and ensures consistency in applications when you deploy them to different clusters in different environments, such as development, staging, and production."),n().createElement(d.L,null,n().createElement("b",null,"Automate infrastructure and deployment requirements:")," Updates and changes are pushed through declarative code across environments.")))),n().createElement(i.a,{className:"drawer-panel-content__learn-more"},n().createElement(m.default,{"data-testid":"learn-more-about-red-hat-openshift-gitops-drawer-panel-content-link",href:"https://catalog.redhat.com/software/container-stacks/detail/5fb288c70a12d20cbecc6056"},"Learn more about Red Hat OpenShift GitOps"))),b=a.p+"images/OpenshiftAiExplanationVideoImg.d35274c0c9d368ff..png",C=n().createElement(r.B,{hasGutter:!0,className:"drawer-panel-content-body"},n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"Build, train, tune, and deploy AI models at scale across hybrid cloud environments with Red Hat OpenShift AI, an AI platform."))),n().createElement(i.a,null,n().createElement(m.default,{href:"https://www.youtube.com/watch?v=JGesQwL-lkg&t=6s",noIcon:!0,"data-testid":"drawer-panel-content__explanation-video-parent"},n().createElement("img",{src:b,alt:"explanation-video",className:"drawer-panel-content__explanation-video","data-testid":"drawer-panel-content__explanation-video"})),n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.small},"Video duration 5:26"))),n().createElement(i.a,null,n().createElement(u.h,{headingLevel:"h3","data-testid":"drawer-panel-content-benefits-title"},"Benefits")),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(c.K,{isPlain:!0},n().createElement(d.L,null,n().createElement("b",null,"Innovate faster:")," Iterate and experiment quickly with a single platform for the entire AI platform. No need to switch between different tools."),n().createElement(d.L,null,n().createElement("b",null,"Scale easily:")," Built on Kubernetes, OpenShift AI allows for easy scaling of AI workloads."),n().createElement(d.L,null,n().createElement("b",null,"Enhance collaboration:")," Bring together your data scientist, operations, and developer teams in a unified AI platform.")))),n().createElement(i.a,null,n().createElement(u.h,{headingLevel:"h3","data-testid":"drawer-panel-content-capabilities-title"},"Capabilities")),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(c.K,{isPlain:!0},n().createElement(d.L,null,n().createElement("b",null,"Model training- projects:")," Organize model development files, data connections, and other artifacts needed for a given project. Projects can be shared with specific permissions to enable collaboration with colleagues."),n().createElement(d.L,null,n().createElement("b",null,"Model training- distributed workloads:")," Leverage multiple cluster nodes simultaneously for faster, more efficient model training. It can be used for both predictive AI training and GenAI training."),n().createElement(d.L,null,n().createElement("b",null,"Notebook images:")," Choose from a default set of pre-configured notebook images or use your own custom notebook images."),n().createElement(d.L,null,n().createElement("b",null,"Model serving:")," Data scientists can deploy trained machine-learning models to serve intelligent applications in production. You have control over how this serving is performed."),n().createElement(d.L,null,n().createElement("b",null,"Accelerators:")," Scale your work, reduce latency, and increase productivity with NVIDIA graphics processing units (GPUs) or Habana Gaudi devices.")))),n().createElement(i.a,null,n().createElement(u.h,{headingLevel:"h3","data-testid":"drawer-panel-content-clouds-and-platforms-title"},"Clouds and platforms")),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"You can choose where to develop and deploy your models. Red Hat OpenShift AI lets you choose the environment that best suits your needs from:"))),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"On-premise (including disconnected environments)"))),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"Any major public cloud, such as:"))),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(c.K,null,["Microsoft Azure Kubernetes Service (AKS)","Google Cloud Platform (GCP)","Amazon Web Services (AWS)","IBM Cloud Platform"].map((e=>n().createElement(d.L,{"data-testid":"major-public-cloud-list-item"},e)))))),n().createElement(i.a,{className:"drawer-panel-content__learn-more"},n().createElement(m.default,{"data-testid":"learn-more-about-redhat-openshift-ai-drawer-panel-content-link",href:"https://catalog.redhat.com/software/container-stacks/detail/63b85b573112fe5a95ee9a3a"},"Learn more about Red Hat OpenShift AI"))),y=n().createElement(r.B,{hasGutter:!0,className:"drawer-panel-content-body"},n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"Speed up the delivery of your applications with advanced continuous integration (CI) workflows and automation."),n().createElement(o.E,{component:o.Y.p},"Built on the open source Tekton framework, Red Hat OpenShift Pipelines provides a continuous integration and continuous deployment (CI/CD) experience through tight integration with OpenShift and Red Hat developer tools."))),n().createElement(i.a,null,n().createElement(u.h,{headingLevel:"h3","data-testid":"drawer-panel-content-benefits-title"},"Benefits")),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(c.K,{isPlain:!0},n().createElement(d.L,null,n().createElement("b",null,"React quickly with the market:")," Continuous integration / continuous deployment (CI/CD) allows you to deliver new products and features faster."),n().createElement(d.L,null,n().createElement("b",null,"Automate application delivery:")," Create pipelines of activity from simple, repeatable steps."),n().createElement(d.L,null,n().createElement("b",null,"Ensure security:")," Kubernetes role-based access control (RBAC) and security model ensures security consistently across pipelines and workloads."),n().createElement(d.L,null,n().createElement("b",null,"Adapt to your customers’ needs:")," You’ll have full control of your application lifecycle to support your exact requirements.")))),n().createElement(i.a,null,n().createElement(u.h,{headingLevel:"h3","data-testid":"drawer-panel-content-platforms-title"},"Platforms")),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"Deploy your applications to multiple platforms, including:"),n().createElement(c.K,null,["Kubernetes","Serverless","Virtual machines"].map((e=>n().createElement(d.L,{"data-testid":"platforms-list-item"},e)))))),n().createElement(i.a,{className:"drawer-panel-content__learn-more"},n().createElement(m.default,{"data-testid":"learn-more-about-red-hat-openshift-pipelines-drawer-panel-content-link",href:"https://catalog.redhat.com/software/container-stacks/detail/5ec54a4628834587a6b85ca5"},"Learn more about Red Hat OpenShift Pipelines"))),I=a.p+"images/ServiceMeshThumbnail.9a6a8b35c946063e..png",A=n().createElement(r.B,{hasGutter:!0,className:"drawer-panel-content-body"},n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"Connect, manage, and observe microservices-based applications in a uniform way."),n().createElement(o.E,{component:o.Y.p},"Red Hat OpenShift Service Mesh is based on the open source"," ",n().createElement(m.default,{href:"https://www.redhat.com/en/topics/microservices/what-is-istio",noIcon:!0},"Istio"," "),"project and is pre-validated and fully supported to work on Red Hat OpenShift. It can be installed with the"," ",n().createElement(m.default,{href:"https://github.com/kiali/kiali-operator",noIcon:!0},"Kiali"," "),"dashboard for managing service mesh, while integrating with"," ",n().createElement(m.default,{href:"https://www.redhat.com/en/technologies/cloud-computing/openshift/observability",noIcon:!0},"Red Hat OpenShift Observability"," "),"for managing logging, metrics, and distributed tracing."))),n().createElement(i.a,null,n().createElement(m.default,{href:"https://www.youtube.com/watch?v=6nyVOg2BZek",noIcon:!0},n().createElement("img",{src:I,alt:"explanation-video",className:"drawer-panel-content__explanation-video"})),n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.small},"Video duration 3:08"))),n().createElement(i.a,null,n().createElement(u.h,{headingLevel:"h3","data-testid":"drawer-panel-content-benefits-title"},"Benefits")),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(c.K,{isPlain:!0},n().createElement(d.L,null,n().createElement("b",null,"Identify and diagnose problems easier:")," Red Hat OpenShift Service Mesh adds tracing and visualization so you have a greater understanding of what is happening in and across applications as they are running, from start to finish."),n().createElement(d.L,null,n().createElement("b",null,"Implement secure zero-trust application networks:")," Secure your application network using Red Hat OpenShift Service Mesh’s tools, including automated identity and certificate management, end-to-end mTLS encryption, and fine-grain application specific network policies."),n().createElement(d.L,null,n().createElement("b",null,"Focus on business value:")," Give developers time back to delivering business value and writing application code."),n().createElement(d.L,null,n().createElement("b",null,"Enable traffic management capabilities:")," Red Hat OpenShift Service Mesh provides a control plane and infrastructure that transparently enables traffic management capabilities, without requiring developers to make changes to their application code. Traffic management policies are language agnostic, making it easy to develop and run distributed architectures.")))),n().createElement(i.a,null,n().createElement(u.h,{headingLevel:"h3"},"Use cases:")),n().createElement(i.a,null,n().createElement(s.n,null,n().createElement(o.E,{component:o.Y.p},"Deploy your applications to multiple platforms, including:"),n().createElement(c.K,null,["Canary releases","Access control","End-to-end mTLS encryption","A/B testing","Service-to-service authentication","Failure recovery"].map((e=>n().createElement(d.L,{"data-testid":"use-cases-list-item",key:e},e)))))),n().createElement(i.a,{className:"drawer-panel-content__learn-more"},n().createElement(m.default,{"data-testid":"learn-more-about-red-hat-openshift-service-mesh-drawer-panel-content-link",href:"https://catalog.redhat.com/software/container-stacks/detail/5ec53e8c110f56bd24f2ddc4"},"Learn more about Red Hat OpenShift Service Mesh")));var R=a(65970);const T={gitops:{head:n().createElement(_,{...R.A.gitops}),body:S},pipelines:{head:n().createElement(_,{...R.A.pipelines}),body:y},serviceMesh:{head:n().createElement(_,{...R.A.serviceMesh}),body:A},advancedClusterSecurity:{head:n().createElement(_,{...R.A.advancedClusterSecurity,trialButtonLink:"https://www.redhat.com/en/technologies/cloud-computing/openshift/advanced-cluster-security-kubernetes/trial"}),body:f},OpenshiftAi:{head:n().createElement(_,{...R.A.openshiftAi,trialButtonLink:"https://www.redhat.com/en/technologies/cloud-computing/openshift/openshift-ai/trial"}),body:C}}},65970:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const l=a.p+"images/AdvancedClusterSecurityForKubernetesLogo.e4d48882eee8ce9d..svg",n=a.p+"images/RedHatOpenShiftAILogo.00d9d182b79ae054..svg",r={gitops:{title:"Red Hat OpenShift GitOps",logo:a.p+"images/RedHatOpenShiftGitOpsLogo.1b4b849dda819d0e..svg"},pipelines:{title:"Red Hat OpenShift Pipelines",logo:a.p+"images/RedHatOpenShiftPipelinesLogo.d95aa179c8b01b13..svg"},serviceMesh:{title:"Red Hat OpenShift Service Mesh",logo:a.p+"images/RedHatOpenShiftServiceMeshLogo.d2903b26590984c6..svg"},advancedClusterSecurity:{title:"Advanced Cluster Security for Kubernetes",logo:l},openshiftAi:{title:"Red Hat OpenShift AI",logo:n}}},62077:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useOCPLatestVersion:()=>m,useOCPLatestVersionInChannel:()=>d,useOCPLifeCycleStatusData:()=>c});var l=a(93345),n=a(99589),r=a.n(n),i=a(39357),s=a(42561),o=a.n(s),u=a(7028);const c=()=>{const[e,t]=l.useState();return l.useEffect((()=>{(async()=>{const e=await(0,i.A)();t(e.data.data)})()}),[]),[e,void 0!==e]},d=e=>{const[t,a]=l.useState(void 0);return l.useEffect((()=>{a(void 0),e&&(async()=>{var t,l,n;const i=await(c=e,o().get("/api/upgrades_info/v1/graph",{baseURL:u.default.configData.apiGateway,headers:{Accept:"application/json"},params:{channel:c,arch:"amd64"}})),s=null===(l=null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.nodes)||void 0===l?void 0:l.sort((({version:e},{version:t})=>r().rcompare(e,t)));var c;s&&a(null===(n=s[0])||void 0===n?void 0:n.version)})()}),[e]),[t,void 0!==t]},m=(e="stable")=>{var t,a;const[l,n]=c();let r;if(n){const n=((null===(t=null==l?void 0:l[0])||void 0===t?void 0:t.versions)||[]).filter((e=>!e.name.includes("EUS"))),i=n.length>0?null===(a=n[0])||void 0===a?void 0:a.name:void 0;r=i&&`${e}-${i}`}return d(r)}},7028:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var l=a(74353),n=a.n(l),r=a(97375),i=a.n(r),s=a(6279),o=a.n(s),u=a(83826),c=a.n(u),d=a(51513),m=a(62384);const p={};p.production=Promise.resolve().then(a.t.bind(a,59127,19)),p.staging=Promise.resolve().then(a.t.bind(a,74633,19)),p.integration=Promise.resolve().then(a.t.bind(a,75586,19)),p.default=p.staging;const f={configData:{},envOverride:void 0,fakeOSD:!1,multiRegion:!1,newClusterList:!1,loadConfig(e,t){var a,l;const n={...e,apiGateway:e.apiGateway.replace("$SELF_PATH$",window.location.host),...e.apiRegionalGatewayTemplate?{apiRegionalGatewayTemplate:e.apiRegionalGatewayTemplate.replace("$SELF_PATH$",window.location.host)}:{},insightsGateway:(null===(a=e.insightsGateway)||void 0===a?void 0:a.replace("$SELF_PATH$",window.location.host))||void 0,fedrampGateway:(null===(l=e.insightsGateway)||void 0===l?void 0:l.replace("$SELF_PATH$",window.location.host))||void 0},r=!!localStorage.getItem(d.RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY),i={restrictedEnv:r||(0,m.isRestrictedEnv)(t),restrictedEnvApi:r?n.apiGateway:(0,m.getRestrictedEnvApi)(t)};this.configData={...n,...i},window.ocmConfig=this},fetchConfig(e){const t=this;return new Promise((a=>{var l;(()=>{let e=!1;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"fake"===a&&"true"===l&&(e=!0)})),e})()&&(t.fakeOSD=!0),(()=>{let e=!1;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"restricted"===a.toLowerCase()&&"true"===l&&(e=!0)})),e})()&&localStorage.setItem(d.RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY,"true");const n=(()=>{let e;return window.location.search.substring(1).split("&").forEach((t=>{const[a,l]=t.split("=");"env"===a&&p[l]?e=l:"env"===a&&"mockserver"===l&&p.mockdata&&(e="mockdata")})),e})()||localStorage.getItem(d.ENV_OVERRIDE_LOCALSTORAGE_KEY);n&&p[n]?p[n].then((l=>{this.loadConfig(l,e),console.info(`Loaded override config: ${n}`),t.envOverride=n,localStorage.setItem(d.ENV_OVERRIDE_LOCALSTORAGE_KEY,n),a()})):null===(l=p.default)||void 0===l||l.then((t=>{this.loadConfig(t,e),console.info("Loaded default config: staging"),a()}))}))},dateConfig(){n().extend(c()),n().extend(o()),n().extend(i())}}},58787:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a.n(l),r=a(94538);const i=e=>t=>n().createElement(e,{...t,track:(0,r.default)()})},94538:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var l=a(93345),n=a(20881),r=a(9296);const i=()=>{const{analytics:e}=(0,n.A)();return(0,l.useCallback)(((t,a)=>{if("string"==typeof t)e.track(t,"string"==typeof a?{type:a}:a);else{const l=(0,r.getTrackEvent)(t,a);e.track(l.event,l.properties)}}),[e])}},55909:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(75166),n=a(85927),r=a(25514),i=a(13642);const s=(e,t,a)=>{const s=!!(null==a?void 0:a.find((e=>"capability.cluster.autoscale_clusters"===e.name))),o=(0,r.useGlobalState)((e=>(0,n.hasOrgLevelAutoscaleCapability)(e.userProfile.organization.details)||s));return e===l.normalizedProducts.ROSA||e===l.normalizedProducts.OSD&&(t===i.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE||t===i.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_AWS||t===i.SubscriptionCommonFields.cluster_billing_model.MARKETPLACE_GCP||o)}},11243:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,featureGateSelector:()=>s,useFeatureGate:()=>i});var l=a(51513),n=a(36165);const r=(e,t)=>e&&e[t]||!1,i=e=>{const t=(0,n.useGlobalState)((e=>e.features));return!localStorage.getItem(l.RESTRICTED_ENV_OVERRIDE_LOCALSTORAGE_KEY)&&r(t,e)},s=(e,t)=>r(e.features,t),o=i},15403:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(93345),n=a(88139);const r=e=>{const[t,a,{setValue:r,setTouched:i}]=(0,n.useField)(e);return l.useCallback(((e,t)=>{r(void 0!==t?t:e),setTimeout((()=>i(!0,!0)))}),[])}},74585:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var l=a(93345),n=a.n(l);const r=(e=!0)=>{n().useEffect((()=>(window.onbeforeunload=e?()=>{var e;const{activeElement:t}=document;return!(null==t?void 0:t.hasAttribute("download"))&&!(null===(e=null==t?void 0:t.dataset)||void 0===e?void 0:e.noNavPrompt)||null}:null,()=>{window.onbeforeunload=null})),[e])}},91167:(e,t,a)=>{"use strict";a.r(t),a.d(t,{usePreviousProps:()=>r});var l=a(93345),n=a.n(l);const r=e=>{const t=n().useRef();return n().useEffect((()=>{t.current=e})),t.current}},70312:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(93345),n=a(84037),r=a(976),i=a(11243);const s=e=>{const t=(0,i.useFeatureGate)(r.BYPASS_COMPUTE_NODE_COUNT_LIMIT_CLASSIC_OSD_GCP);return(0,l.useCallback)((a=>{const l=(0,n.validatePositive)(a);return void 0!==l?l:t?void 0:(0,n.validateMaxNodes)(a,e)}),[t,e])}},3438:(e,t,a)=>{"use strict";var l=a(72635),n=a(77255),r=a(33308);const i=new Intl.DateTimeFormat("default",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",year:"numeric"});l.Ay.use(n.initReactI18next).init({lng:"en",resources:{en:{translation:r}},supportedLngs:["en"],fallbackLng:"en",load:"languageOnly",detection:{caches:[]},defaultNS:"translation",nsSeparator:"~",keySeparator:!1,debug:!1,interpolation:{format:(e,t,a)=>"number"===t?new Intl.NumberFormat(a).format(e):e instanceof Date?i.format(e):e,escapeValue:!1},react:{useSuspense:!0,transSupportBasicHtmlNodes:!0},missingKeyHandler(e,t,a){const l=`Missing i18n key '${a}' in namespace '${t}' and language '${e}.'`;window.windowError=l,console.error(l)}})},16519:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useGetAccessProtection:()=>i});var l=a(25982),n=a(53082),r=a(36817);const i=(e,t)=>{const a=[r.K.FETCH_ACCESS_TRANSPARENCY,"access protection"];e.subscriptionId&&a.push(e.subscriptionId),e.clusterId&&a.push(e.clusterId),e.clusterId&&a.push(e.clusterId);const{isLoading:i,isPending:s,isFetched:o,refetch:u,data:c}=(0,l.I)({queryKey:a,enabled:!(t||!e.subscriptionId&&!e.organizationId&&!e.clusterId),queryFn:()=>n.A.getAccessProtection(e)});return{isLoading:i,isPending:s,isFetched:o,refetch:u,enabled:null==c?void 0:c.data.enabled}}},13647:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useGetOrganizationalPendingRequests:()=>i});var l=a(25982),n=a(74314),r=a(36817);const i=(e,t,a)=>{var i;const s=[r.K.FETCH_ACCESS_TRANSPARENCY,"access request","pending requests",e];(null==a?void 0:a.page)&&s.push(`${a.page}`),(null==a?void 0:a.size)&&s.push(`${a.size}`);const o={page:null!==(i=null==a?void 0:a.page)&&void 0!==i?i:0,size:(null==a?void 0:a.size)||10,search:`organization_id='${e}' and status.state='Pending'`},{isLoading:u,isPending:c,isFetched:d,refetch:m,data:p}=(0,l.I)({queryKey:s,enabled:!!t&&!!e,queryFn:()=>n.A.getAccessRequests(o)});return{isLoading:u,isPending:c,isFetched:d,refetch:m,total:null==p?void 0:p.data.total,items:null==p?void 0:p.data.items}}},95732:(e,t,a)=>{"use strict";a.d(t,{_:()=>u,n:()=>o});var l=a(71468),n=a(3678),r=a(82309),i=a(16236),s=a(96678);const o=(e,t)=>({variant:"success",title:`Cluster ${e} has been ${t?"archived":"unarchived"}`,dismissDelay:8e3,dismissable:!1}),u=()=>{var e;const t=(0,l.wA)(),{isSuccess:a,error:u,isError:c,isPending:d,mutate:m,reset:p}=(0,r.n)({mutationKey:["clusterService","archiveCluster"],mutationFn:({subscriptionID:e,displayName:a,region:l})=>(0,i.getClusterServiceForRegion)(l).archiveCluster(e).then((e=>(t((0,n.addNotification)(o(a,!0))),e)))});return{isSuccess:a,error:c&&u?null===(e=(0,s.formatErrorData)(d,c,u))||void 0===e?void 0:e.error:null,isError:c,isPending:d,mutate:m,reset:p}}},91822:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useToggleSubscriptionReleased:()=>i});var l=a(82309),n=a(90020),r=a(96678);const i=()=>{const{data:e,isPending:t,isError:a,error:i,mutate:s,isSuccess:o}=(0,l.n)({mutationKey:["toggleSubscriptionReleased"],mutationFn:({subscriptionID:e,released:t})=>n.accountsService.editSubscription(e,{released:t})});return{data:e,isPending:t,isError:a,error:a?(0,r.formatErrorData)(t,a,i):i,mutate:s,isSuccess:o}}},40152:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useUpgradeClusterFromTrial:()=>i});var l=a(82309),n=a(16236),r=a(96678);const i=()=>{const{data:e,isPending:t,isError:a,error:i,mutate:s,isSuccess:o}=(0,l.n)({mutationKey:["upgradeClusterFromTrial"],mutationFn:({clusterID:e,params:t,region:a})=>a?(0,n.getClusterServiceForRegion)(a).upgradeTrialCluster(e,t):n.default.upgradeTrialCluster(e,t)});return{data:e,isPending:t,isError:a,error:a?(0,r.formatErrorData)(t,a,i):i,mutate:s,isSuccess:o}}},33365:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAddGrant:()=>i});var l=a(82309),n=a(96678),r=a(16236);const i=(e,t)=>{const{data:a,isPending:i,isError:s,error:o,mutate:u,reset:c}=(0,l.n)({mutationKey:["addGrant"],mutationFn:async({roleId:a,arn:l})=>t?(0,r.getClusterServiceForRegion)(t).addGrant(e,a,l):r.default.addGrant(e,a,l)});return s?{data:a,isPending:i,isError:s,error:(0,n.formatErrorData)(i,s,o),mutate:u,reset:c}:{data:a,isPending:i,isError:s,error:o,mutate:u,reset:c}}},64671:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteGrant:()=>i});var l=a(82309),n=a(96678),r=a(16236);const i=(e,t)=>{const{data:a,isPending:i,isError:s,error:o,mutate:u,reset:c}=(0,l.n)({mutationKey:["deleteGrant"],mutationFn:async a=>t?(0,r.getClusterServiceForRegion)(t).deleteGrant(e,a):r.default.deleteGrant(e,a)});return s?{data:a,isPending:i,isError:s,error:(0,n.formatErrorData)(i,s,o),reset:c,mutate:u}:{data:a,isPending:i,isError:s,error:o,mutate:u,reset:c}}},32347:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchGrants:()=>s,useFetchGrants:()=>o});var l=a(25982),n=a(57146),r=a(96678),i=a(16236);const s=()=>{n.q.invalidateQueries({queryKey:["fetchGrants"]})},o=(e,t)=>{const{data:a,isLoading:n,isError:s,error:o,isFetching:u}=(0,l.I)({queryKey:["fetchGrants"],queryFn:async()=>{if(t){const a=(0,i.getClusterServiceForRegion)(t);return await a.getGrants(e)}return i.default.getGrants(e)}});if(s){const e=(0,r.formatErrorData)(n,s,o);return{data:null==a?void 0:a.data.items,isLoading:n,isError:s,error:e,isFetching:u}}return{data:null==a?void 0:a.data.items,isLoading:n,isError:s,error:o,isFetching:u}}},13551:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFetchRoles:()=>s});var l=a(25982),n=a(96678),r=a(36817),i=a(16236);const s=e=>{var t,a;const{data:s,isLoading:o,isError:u,error:c}=(0,l.I)({queryKey:[r.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchRoles"],queryFn:async()=>{if(e){const t=(0,i.getClusterServiceForRegion)(e);return await t.getRoles()}return i.default.getRoles()}});if(u){const e=(0,n.formatErrorData)(o,u,c);return{data:null===(t=null==s?void 0:s.data.items)||void 0===t?void 0:t.map((e=>({id:e.id,displayName:e.display_name||e.id,description:e.description}))),isLoading:o,isError:u,error:e}}return{data:null===(a=null==s?void 0:s.data.items)||void 0===a?void 0:a.map((e=>({id:e.id,displayName:e.display_name||e.id,description:e.description}))),isLoading:o,isError:u,error:c}}},38823:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAddUser:()=>s});var l=a(82309),n=a(96678),r=a(90020),i=a(16236);const s=(e,t)=>{const{data:a,isPending:s,isError:o,error:u,mutate:c,isSuccess:d}=(0,l.n)({mutationKey:["addUser"],mutationFn:async({selectedGroup:a,userId:l})=>t?(0,i.getClusterServiceForRegion)(t).addClusterGroupUser(e,a,l):r.clusterService.addClusterGroupUser(e,a,l)});return o?{data:a,isPending:s,isError:o,error:(0,n.formatErrorData)(s,o,u),mutate:c,isSuccess:d}:{data:a,isPending:s,isError:o,error:u,mutate:c,isSuccess:d}}},9206:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteUser:()=>i});var l=a(82309),n=a(96678),r=a(16236);const i=(e,t)=>{const{data:a,isPending:i,isError:s,error:o,mutate:u}=(0,l.n)({mutationKey:["deleteUser"],mutationFn:async({groupID:a,userID:l})=>t?(0,r.getClusterServiceForRegion)(t).deleteClusterGroupUser(e,a,l):r.default.deleteClusterGroupUser(e,a,l)});return s?{data:a,isPending:i,isError:s,error:(0,n.formatErrorData)(i,s,o),mutate:u}:{data:a,isPending:i,isError:s,error:o,mutate:u}}},9638:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchUsers:()=>o,useFetchUsers:()=>u});var l=a(9704),n=a(25982),r=a(57146),i=a(96678),s=a(16236);const o=()=>{r.q.refetchQueries({queryKey:["fetchUsers"]})},u=(e,t)=>{const{data:a,isLoading:r,isError:o,error:u,isSuccess:c,isRefetching:d}=(0,n.I)({queryKey:["fetchUsers"],queryFn:async()=>t?(0,s.getClusterServiceForRegion)(t).getClusterGroupUsers(e).then((e=>{let t=[];t=(0,l.get)(e,"data.items",[]).map((e=>{const t=e;return t.users&&(t.users.items=(0,l.get)(t,"users.items",[]).filter((e=>"cluster-admin"!==e.id))),t}));const a=[];return t.forEach((e=>(0,l.get)(e,"users.items",[]).forEach((t=>a.push({...t,group:e.id}))))),a})):s.default.getClusterGroupUsers(e).then((e=>{let t=[];t=(0,l.get)(e,"data.items",[]).map((e=>{const t=e;return t.users&&(t.users.items=(0,l.get)(t,"users.items",[]).filter((e=>"cluster-admin"!==e.id))),t}));const a=[];return t.forEach((e=>(0,l.get)(e,"users.items",[]).forEach((t=>a.push({...t,group:e.id}))))),a}))});if(o){const t=(0,i.formatErrorData)(r,o,u);return{data:{users:a,clusterID:e},isLoading:r,isError:o,error:t,isSuccess:c,isRefetching:d}}return{data:{users:a,clusterID:e},isLoading:r,isError:o,error:u,isSuccess:c,isRefetching:d}}},55379:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchAccessProtection:()=>u,useFetchAccessProtection:()=>c});var l=a(25982),n=a(57146),r=a(96678),i=a(36817),s=a(62384),o=a(53082);const u=()=>{n.q.invalidateQueries({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchAccessProtection"]})},c=e=>{const{data:t,isLoading:a,isError:n,error:u,isSuccess:c}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchAccessProtection"],queryFn:async()=>await o.A.getAccessProtection({subscriptionId:e}),enabled:!!e&&!(0,s.isRestrictedEnv)()});return{data:null==t?void 0:t.data,isLoading:a,isError:n,error:n?(0,r.formatErrorData)(a,n,u):u,isSuccess:c}}},1179:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchAccessRequest:()=>o,useFetchAccessRequest:()=>u});var l=a(25982),n=a(57146),r=a(96678),i=a(36817),s=a(74314);const o=()=>{n.q.invalidateQueries({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchAccessRequest"]})},u=e=>{const{data:t,isLoading:a,isError:n,error:o,isSuccess:u}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"useFetchAccessRequest"],queryFn:async()=>await s.A.getAccessRequest(e),enabled:!!e});return{data:null==t?void 0:t.data,isLoading:a,isError:n,error:n?(0,r.formatErrorData)(a,n,o):o,isSuccess:u}}},23711:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchPendingAccessRequests:()=>o,useFetchPendingAccessRequests:()=>u});var l=a(25982),n=a(57146),r=a(96678),i=a(36817),s=a(74314);const o=()=>{n.q.invalidateQueries({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchPendingAccessRequests"]})},u=(e,t,a,n)=>{const{data:o,isLoading:u,isError:c,error:d,isSuccess:m}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchPendingAccessRequests"],queryFn:async()=>{var t;return await s.A.getAccessRequests({page:null!==(t=null==n?void 0:n.page)&&void 0!==t?t:0,size:(null==n?void 0:n.size)||1,search:`subscription_id='${e}' and status.state='Pending'`})},enabled:!t&&a.enabled});return{data:null==o?void 0:o.data,isLoading:u,isError:c,error:c?(0,r.formatErrorData)(u,c,d):d,isSuccess:m}}},81123:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAddClusterAddOn:()=>o});var l=a(82309),n=a(57146),r=a(96678),i=a(2479),s=a(16236);const o=e=>{const{data:t,isError:a,error:o,isPending:u,mutate:c,mutateAsync:d,isSuccess:m}=(0,l.n)({mutationKey:["addClusterAddOn"],mutationFn:async({clusterID:t,addOnData:a})=>e?(0,s.getClusterServiceForRegion)(e).addClusterAddOn(t,a):s.default.addClusterAddOn(t,a),onSuccess:()=>{n.q.invalidateQueries({queryKey:["clusterAddOns"]}),n.q.invalidateQueries({queryKey:["addOns"]}),(0,i.getOrganizationAndQuota)()}});return a?{data:t,isPending:u,isError:a,error:(0,r.formatErrorData)(u,a,o).error,mutate:c,mutateAsync:d,isSuccess:m}:{data:t,isPending:u,isError:a,error:o,mutate:c,mutateAsync:d,isSuccess:m}}},9097:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteClusterAddOn:()=>s});var l=a(82309),n=a(57146),r=a(96678),i=a(16236);const s=e=>{const{data:t,mutate:a,mutateAsync:s,isPending:o,isError:u,error:c,isSuccess:d}=(0,l.n)({mutationKey:["deleteClusterAddOn"],mutationFn:async({clusterID:t,addOnID:a})=>e?(0,i.getClusterServiceForRegion)(e).deleteClusterAddOn(t,a):i.default.deleteClusterAddOn(t,a),onSuccess:()=>{n.q.invalidateQueries({queryKey:["clusterAddOns"]}),n.q.invalidateQueries({queryKey:["addOns"]})}});return u?{data:t,mutate:a,mutateAsync:s,isPending:o,isError:u,error:(0,r.formatErrorData)(o,u,c).error,isSuccess:d}:{data:t,mutate:a,mutateAsync:s,isPending:o,isError:u,error:c,isSuccess:d}}},29327:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchAddOns:()=>u,useFetchAddOns:()=>c});var l=a(9704),n=a(25982),r=a(57146),i=a(96678),s=a(36817),o=a(16236);const u=()=>{r.q.invalidateQueries({queryKey:["addOns"]})},c=(e,t)=>{const{data:a,isLoading:r,isError:u,error:c}=(0,n.I)({queryKey:[s.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"addOns"],queryFn:async()=>t?(0,o.getClusterServiceForRegion)(t).getEnabledAddOns(e).then((e=>{const t=(0,l.get)(e,"data.items",[]);return{items:t,resourceNames:t.map((e=>e.resource_name))}})):o.default.getEnabledAddOns(e).then((e=>{const t=(0,l.get)(e,"data.items",[]);return{items:t,resourceNames:t.map((e=>e.resource_name))}})),enabled:!!e});return u?{isError:u,data:void 0,error:(0,i.formatErrorData)(r,u,c).error,isLoading:r}:{data:a,isError:u,isLoading:r,error:c}}},98703:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchClusterAddOns:()=>u,useFetchClusterAddOns:()=>c});var l=a(9704),n=a(25982),r=a(57146),i=a(96678),s=a(36817),o=a(16236);const u=()=>{r.q.invalidateQueries({queryKey:[s.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterAddOns"]})},c=(e,t)=>{const{data:a,isError:r,error:u,isLoading:c}=(0,n.I)({queryKey:[s.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterAddOns",e],queryFn:async()=>t?(0,o.getClusterServiceForRegion)(t).getClusterAddOns(e).then((t=>{const a=(0,l.get)(t,"data.items",[]);return{clusterID:e,items:a}})):o.default.getClusterAddOns(e).then((t=>{const a=(0,l.get)(t,"data.items",[]);return{clusterID:e,items:a}})),enabled:!!e});return r?{data:void 0,isError:r,isLoading:c,error:(0,i.formatErrorData)(c,r,u).error}:{data:a,isLoading:c,isError:r,error:u}}},64407:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useUpdateClusterAddOn:()=>s});var l=a(82309),n=a(57146),r=a(96678),i=a(16236);const s=e=>{const{data:t,mutate:a,mutateAsync:s,isPending:o,isError:u,error:c,isSuccess:d}=(0,l.n)({mutationKey:["updateClusterAddOn"],mutationFn:async({clusterID:t,addOnID:a,addOnData:l})=>e?(0,i.getClusterServiceForRegion)(e).updateClusterAddOn(t,a,l):i.default.updateClusterAddOn(t,a,l),onSuccess:()=>{n.q.invalidateQueries({queryKey:["clusterAddOns"]}),n.q.invalidateQueries({queryKey:["addOns"]})}});return u?{data:t,error:(0,r.formatErrorData)(o,u,c).error,isPending:o,isError:u,mutate:a,mutateAsync:s,isSuccess:d}:{data:t,error:c,isError:u,isPending:o,mutate:a,mutateAsync:s,isSuccess:d}}},3098:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteSchedule:()=>s});var l=a(82309),n=a(96678),r=a(16236),i=a(98002);const s=(e,t,a)=>{const{data:s,isPending:o,isError:u,error:c,mutate:d,reset:m,isSuccess:p}=(0,l.n)({mutationKey:["deleteSchedule"],mutationFn:async l=>{const n=a?(0,r.getClusterServiceForRegion)(a):r.default,i=t?n.deleteControlPlaneUpgradeSchedule:n.deleteUpgradeSchedule;return await i(e,l)},onSuccess:()=>{(0,i.refetchSchedules)()}});return u?{data:s,isPending:o,isError:u,error:(0,n.formatErrorData)(o,u,c).error,mutate:d,reset:m,isSuccess:p}:{data:s,isPending:o,isError:u,error:c,mutate:d,reset:m,isSuccess:p}}},69565:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useEditSchedule:()=>s});var l=a(82309),n=a(96678),r=a(16236),i=a(98002);const s=(e,t,a)=>{const{data:s,isPending:o,isError:u,error:c,mutate:d,mutateAsync:m}=(0,l.n)({mutationKey:["editSchedule"],mutationFn:async({policyID:l,schedule:n})=>{if(a){const i=(0,r.getClusterServiceForRegion)(a);return t?i.patchControlPlaneUpgradeSchedule(e,l,n):i.patchUpgradeSchedule(e,l,n)}return t?r.default.patchControlPlaneUpgradeSchedule(e,l,n):r.default.patchUpgradeSchedule(e,l,n)},onSuccess:()=>{(0,i.refetchSchedules)()}});return u?{data:s,isPending:o,isError:u,error:(0,n.formatErrorData)(o,u,c).error,mutate:d,mutateAsync:m}:{data:s,isPending:o,isError:u,error:c,mutate:d,mutateAsync:m}}},98002:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchSchedules:()=>s,useGetSchedules:()=>o});var l=a(25982),n=a(57146),r=a(36817),i=a(16236);const s=()=>{n.q.invalidateQueries({queryKey:["getSchedules"]})},o=(e,t,a)=>{const{data:n,isLoading:s,isError:o,error:u}=(0,l.I)({queryKey:[r.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"getSchedules"],queryFn:async()=>{if(a){const l=(0,i.getClusterServiceForRegion)(a);return t?await l.getControlPlaneUpgradeSchedules(e):await l.getUpgradeSchedules(e).then((async e=>{const t=e.data.items||[],a=[];return t.forEach((e=>{e.cluster_id&&e.id&&a.push(l.getUpgradeScheduleState(e.cluster_id,e.id).then((t=>{e.state=t.data})))})),Promise.all(a).then((()=>(e.data.items=t,e)))}))}return t?i.default.getControlPlaneUpgradeSchedules(e):i.default.getUpgradeSchedules(e).then((async e=>{const t=e.data.items||[],a=[];return t.forEach((e=>{e.cluster_id&&e.id&&a.push(i.default.getUpgradeScheduleState(e.cluster_id,e.id).then((t=>{e.state=t.data})))})),Promise.all(a).then((()=>(e.data.items=t,e)))}))},enabled:!!e});return{data:null==n?void 0:n.data,isLoading:s,isError:o,error:u}}},74409:(e,t,a)=>{"use strict";a.r(t),a.d(t,{usePostClusterGateAgreement:()=>u,usePostClusterGateAgreementAcknowledgeModal:()=>o});var l=a(71468),n=a(82309),r=a(96678),i=a(33799),s=a(16236);const o=(e,t)=>{const a=(0,l.wA)();return(0,n.n)({mutationKey:["[pstClusterGateAgreement"],mutationFn:async l=>{if(t){const n=(0,s.getClusterServiceForRegion)(t),r=l.map((async t=>n.postClusterGateAgreement(e,t).then((()=>a((0,i.setClusterUpgradeGate)(t))))));return await Promise.all(r.map((e=>e.then((e=>({status:"fulfilled",value:e}))).catch((e=>({status:"rejected",reason:e}))))))}const n=l.map((async t=>s.default.postClusterGateAgreement(e,t).then((()=>a((0,i.setClusterUpgradeGate)(t))))));return await Promise.all(n.map((e=>e.then((e=>({status:"fulfilled",value:e}))).catch((e=>({status:"rejected",reason:e}))))))}})},u=(e,t)=>{const a=(0,l.wA)(),{data:o,isPending:u,isError:c,error:d,mutate:m,mutateAsync:p}=(0,n.n)({mutationKey:["postClusterGateAgreement"],mutationFn:async a=>t?(0,s.getClusterServiceForRegion)(t).postClusterGateAgreement(e,a):s.default.postClusterGateAgreement(e,a),onSuccess:e=>{e.data.id&&a((0,i.setClusterUpgradeGate)(e.data.id))},onError:e=>Promise.reject(e)});return c?{data:o,isPending:u,isError:c,error:(0,r.formatErrorData)(u,c,d).error,mutate:m,mutateAsync:p}:{data:o,isPending:u,isError:c,error:d,mutate:m,mutateAsync:p}}},49859:(e,t,a)=>{"use strict";a.r(t),a.d(t,{usePostSchedule:()=>s});var l=a(82309),n=a(96678),r=a(16236),i=a(98002);const s=(e,t,a)=>{const{data:s,isPending:o,isError:u,error:c,mutate:d}=(0,l.n)({mutationKey:["postSchedule"],mutationFn:async l=>{const n=a?(0,r.getClusterServiceForRegion)(a):(0,r.getClusterService)();return(t?n.postControlPlaneUpgradeSchedule:n.postUpgradeSchedule)(e,l)},onSuccess:()=>{(0,i.refetchSchedules)()}});return u?{data:s,isPending:o,isError:u,error:(0,n.formatErrorData)(o,u,c).error,mutate:d}:{data:s,isPending:o,isError:u,error:c,mutate:d}}},19735:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useReplaceSchedule:()=>s});var l=a(82309),n=a(96678),r=a(16236),i=a(98002);const s=(e,t,a)=>{const{data:s,isPending:o,isError:u,error:c,mutate:d}=(0,l.n)({mutationKey:["replaceSchedule"],mutationFn:async({oldScheduleID:l,newSchedule:n})=>{const i=a?(0,r.getClusterServiceForRegion)(a):r.default,s=t?i.deleteControlPlaneUpgradeSchedule:i.deleteUpgradeSchedule,o=t?i.postControlPlaneUpgradeSchedule:i.postUpgradeSchedule;return await s(e,l).then((()=>o(e,n)))},onSuccess:()=>{(0,i.refetchSchedules)()}});return u?{data:s,isPending:o,isError:u,error:(0,n.formatErrorData)(o,u,c).error,mutate:d}:{data:s,isPending:o,isError:u,error:c,mutate:d}}},8116:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFetchClusterStatus:()=>o,useInvalidateFetchClusterStatus:()=>s});var l=a(25982),n=a(57146),r=a(36817),i=a(16236);const s=async()=>{await n.q.invalidateQueries({queryKey:["clusterStatus"]})},o=(e,t,a)=>{const{isLoading:n,data:s,isError:o,error:u}=(0,l.I)({queryKey:[r.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterStatus","clusterService",e],queryFn:async()=>{if(t){const a=(0,i.getClusterServiceForRegion)(t);return await a.getClusterStatus(e)}return await i.default.getClusterStatus(e)},retry:!1,refetchInterval:a?5e3:void 0,enabled:!!e});return{isLoading:n,data:null==s?void 0:s.data,isError:o,error:u}}},77910:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFetchInflightChecks:()=>d,useFetchRerunInflightChecks:()=>m,useInvalidateFetchInflightChecks:()=>u,useInvalidateFetchRerunInflightChecks:()=>c,useMutateRerunInflightChecks:()=>p});var l=a(25982),n=a(82309),r=a(57146),i=a(36817),s=a(90020),o=a(16236);const u=async()=>{await r.q.invalidateQueries({queryKey:[i.K.FETCH_CLUSTER_STATUS_MONITOR_INFLIGHT_CHECKS]})},c=async()=>{await r.q.invalidateQueries({queryKey:["fetchRerunInflightChecks"]})},d=(e,t,a,n=i.K.FETCH_CLUSTER_STATUS_MONITOR_INFLIGHT_CHECKS)=>{const{isLoading:r,data:u}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,n,"inflightChecks","clusterService",e],queryFn:async()=>{if(t){const a=(0,o.getClusterServiceForRegion)(t);return await a.getInflightChecks(e)}return await s.clusterService.getInflightChecks(e)},retry:!1,refetchInterval:a?5e3:void 0,enabled:!!e});return{isLoading:r,checks:null==u?void 0:u.data}},m=(e,t,a)=>{const{isLoading:n,data:r}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchRerunInflightChecks","clusterService",e],queryFn:()=>(async(e,t)=>{if(t){const a=(0,o.getClusterServiceForRegion)(t),l=null==e?void 0:e.map((e=>a.getTriggeredInflightCheckState(e)));return{data:{items:(await Promise.allSettled(l)).filter((e=>"rejected"!==e.status)).map((e=>{var t;return null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.data})),page:0,total:0}}}const a=null==e?void 0:e.map((e=>s.clusterService.getTriggeredInflightCheckState(e)));return{data:{items:(await Promise.allSettled(a)).filter((e=>"rejected"!==e.status)).map((e=>{var t;return null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.data})),page:0,total:0}}})(e,t),refetchInterval:a?5e3:void 0,enabled:e&&e.length>0});return{isLoading:n,data:r}},p=(e,t)=>{const{data:a,isPending:l,isError:r,isSuccess:i,mutate:u,mutateAsync:c}=(0,n.n)({mutationKey:["rerunInflightChecks","clusterService",e],mutationFn:()=>t?(0,o.getClusterServiceForRegion)(t).rerunInflightChecks(e):s.clusterService.rerunInflightChecks(e)});return{data:a,isPending:l,isError:r,isSuccess:i,mutate:u,mutateAsync:c}}},73848:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useAddNotificationContact:()=>i});var l=a(82309),n=a(96678),r=a(90020);const i=e=>{var t;const{data:a,isError:i,isPending:s,isSuccess:o,mutate:u,mutateAsync:c,error:d,status:m}=(0,l.n)({mutationKey:["addNotificationContact","accountService",e],mutationFn:async t=>await r.accountsService.addNotificationContact(e,t)}),p=(0,n.addNotificationErrorFormat)(s,i,d);return{data:Array.isArray(null==a?void 0:a.data)?null==a?void 0:a.data:[null==a?void 0:a.data],isError:i,isSuccess:o,isPending:s,status:m,mutate:u,mutateAsync:c,error:null===(t=null==p?void 0:p.error)||void 0===t?void 0:t.errorMessage}}},69236:(e,t,a)=>{"use strict";a.d(t,{C:()=>s,Q:()=>o});var l=a(25982),n=a(57146),r=a(36817),i=a(90020);const s=()=>{n.q.invalidateQueries({queryKey:["fetchNotificationContacts","accountService"]})},o=e=>{var t;const{data:a,isLoading:n,isError:s,refetch:o}=(0,l.I)({queryKey:[r.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"fetchNotificationContacts","accountService",e],queryFn:async()=>await i.accountsService.getNotificationContacts(e),enabled:!!e});return{notificationContacts:{contacts:null===(t=null==a?void 0:a.data.items)||void 0===t?void 0:t.map((e=>({userID:e.id,username:e.username,email:e.email,firstName:e.first_name,lastName:e.last_name}))),subscriptionID:e,fullfilled:!n,error:s,pending:n},refetch:o}}},67396:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteIdentityProvider:()=>i});var l=a(82309),n=a(96678),r=a(16236);const i=(e,t)=>{const{data:a,isPending:i,isError:s,error:o,mutate:u}=(0,l.n)({mutationKey:["deleteIdentityProvider"],mutationFn:async a=>{if(t){const l=(0,r.getClusterServiceForRegion)(t);return await l.deleteIdentityProvider(e,a)}return await r.default.deleteIdentityProvider(e,a)}});return s?{data:a,isPending:i,isError:s,error:(0,n.formatErrorData)(i,s,o),mutate:u}:{data:a,isPending:i,isError:s,error:o,mutate:u}}},74281:(e,t,a)=>{"use strict";a.r(t),a.d(t,{usePostIDPForm:()=>i});var l=a(82309),n=a(96678),r=a(16236);const i=(e,t)=>{const{data:a,isPending:i,isError:s,error:o,mutate:u,isSuccess:c}=(0,l.n)({mutationKey:["postIDPForm"],mutationFn:async a=>{const l=a.id;if(t){const n=(0,r.getClusterServiceForRegion)(t);return l?await n.editClusterIdentityProvider(e,a):await n.createClusterIdentityProvider(e,a)}return l?await r.default.editClusterIdentityProvider(e,a):await r.default.createClusterIdentityProvider(e,a)}});return s?{data:a,isPending:i,mutate:u,isError:s,error:(0,n.formatErrorData)(i,s,o),isSuccess:c}:{data:a,isPending:i,mutate:u,isError:s,error:o,isSuccess:c}}},47385:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchClusterAutoscalerData:()=>u,useFetchClusterAutoscaler:()=>c});var l=a(25982),n=a(57146),r=a(11611),i=a(96678),s=a(36817),o=a(16236);const u=e=>{n.q.invalidateQueries({queryKey:[s.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterAutoscaler",e]})},c=(e,t)=>{const{isLoading:a,data:n,isError:u,error:c,refetch:d,isStale:m,isRefetching:p}=(0,l.I)({queryKey:[s.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterAutoscaler",e],queryFn:async()=>{if(t){const a=(0,o.getClusterServiceForRegion)(t),l=await a.getClusterAutoscaler(e);return{data:(0,r.getCompleteFormClusterAutoscaling)(l.data),hasAutoscaler:!0}}const a=await o.default.getClusterAutoscaler(e);return{data:(0,r.getCompleteFormClusterAutoscaling)(a.data),hasAutoscaler:!0}},retry:!1,enabled:!!e});return u?{isLoading:a,data:n,hasClusterAutoscaler:!1,isError:u,error:(0,i.formatErrorData)(a,u,c),isRefetching:p}:{isLoading:a,data:n,hasClusterAutoscaler:null==n?void 0:n.hasAutoscaler,isError:u,error:c,refetch:d,isStale:m,isRefetching:p}}},60216:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFetchMachineTypes:()=>c});var l=a(9704),n=a(25982),r=a(96678),i=a(36817),s=a(16236);const o=e=>{const t={};return null==e||e.forEach((e=>{var a;const l=null===(a=e.cloud_provider)||void 0===a?void 0:a.id;l&&(t[l]?t[l].push(e):t[l]=[e])})),t},u=e=>{var t,a;return(0,l.keyBy)([...null!==(t=e.aws)&&void 0!==t?t:[],...null!==(a=e.gcp)&&void 0!==a?a:[]],"id")},c=e=>{const{isLoading:t,data:a,isError:l,error:c,refetch:d}=(0,n.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"machineTypes","clusterService"],queryFn:async()=>{if(e){const t=(0,s.getClusterServiceForRegion)(e),a=await t.getMachineTypes(),l=o(a.data.items);return{groupedByCloudProvider:l,typesByID:u(l)}}const t=await s.default.getMachineTypes(),a=o(t.data.items);return{groupedByCloudProvider:a,typesByID:u(a)}},retry:!1}),m=(0,r.formatErrorData)(t,l,c);return{isLoading:t,data:{types:null==a?void 0:a.groupedByCloudProvider,typesByID:null==a?void 0:a.typesByID},isError:l,error:m,refetch:d}}},23492:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useDeleteMachinePool:()=>i});var l=a(82309),n=a(96678),r=a(16236);const i=(e,t,a)=>{const{data:i,isPending:s,isError:o,isSuccess:u,mutate:c,mutateAsync:d,error:m}=(0,l.n)({mutationKey:["deleteMachinePool","clusterService"],mutationFn:async l=>{const n=a?(0,r.getClusterServiceForRegion)(a):(0,r.getClusterService)(),i=t?n.deleteNodePool:n.deleteMachinePool;return await i(e,l)}});return o?{data:i,isPending:!1,isError:o,isSuccess:!1,mutate:c,mutateAsync:d,error:(0,n.formatErrorData)(s,o,m)}:{data:i,isPending:s,isError:o,isSuccess:u,mutate:c,mutateAsync:d,error:m}}},81773:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchMachineOrNodePoolsQuery:()=>E,useFetchMachineOrNodePools:()=>f});var l=a(99589),n=a.n(l),r=a(25982),i=a(57146),s=a(57109),o=a(31639),u=a(96678),c=a(36817),d=a(25514),m=a(16236);const p=()=>(0,d.useGlobalState)((e=>{var t;return!!(null===(t=e.modal)||void 0===t?void 0:t.modalName)})),f=(e,t,a,l)=>{var i;const{isLoading:d,data:f,isError:E,error:g,refetch:v,isRefetching:h}=((e,t,a,l)=>{const i=p(),{isLoading:u,data:d,isError:f,error:E,refetch:g,isRefetching:v}=(0,r.I)({queryKey:[c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"nodePoolWithUpgradePolicies","clusterService",e,t,l],queryFn:async()=>{var a,r;if(l){const r=(0,m.getClusterServiceForRegion)(l),i=await r.getNodePools(e),s=null===(a=i.data.items)||void 0===a?void 0:a.map((async a=>{var l,i;if(!(t&&a.version&&n().gt(n().coerce(t),n().coerce(a.version.id))&&(0,o.isControlPlaneValidForMachinePool)(a,t)))return a;try{if(a.id){const t=await r.getNodePoolUpgradePolicies(e,a.id);return{...a,upgradePolicies:t.data}}}catch(e){return{...a,upgradePolicies:{errorMessage:(null===(i=null===(l=e.response)||void 0===l?void 0:l.data)||void 0===i?void 0:i.reason)||e.message||"There was an error fetching upgrade policies for this machine pool.",items:[]}}}return null})),u=(await Promise.allSettled(s)).map((e=>e.value));return{...i,data:{...i.data,items:u}}}const i=await m.default.getNodePools(e),s=null===(r=i.data.items)||void 0===r?void 0:r.map((async a=>{var l,r;if(!(t&&a.version&&n().gt(n().coerce(t),n().coerce(a.version.id))&&(0,o.isControlPlaneValidForMachinePool)(a,t)))return a;try{if(a.id){const t=await m.default.getNodePoolUpgradePolicies(e,a.id);return{...a,upgradePolicies:t.data}}}catch(e){return{...a,upgradePolicies:{errorMessage:(null===(r=null===(l=e.response)||void 0===l?void 0:l.data)||void 0===r?void 0:r.reason)||e.message||"There was an error fetching upgrade policies for this machine pool.",items:[]}}}return null})),u=(await Promise.allSettled(s)).map((e=>e.value));return{...i,data:{...i.data,items:u}}},refetchOnWindowFocus:!i,retry:!1,enabled:a});return{isLoading:u,data:{...d,data:null==d?void 0:d.data.items.map(s.normalizeNodePool)},isError:f,error:E,refetch:g,isRefetching:v}})(e,a,t,l),{isLoading:_,data:S,isError:b,error:C,refetch:y,isRefetching:I}=((e,t,a)=>{const l=p(),{isLoading:n,data:i,isError:s,error:o,refetch:u,isRefetching:d}=(0,r.I)({queryKey:[c.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"machinePools","clusterService",e,t,a],queryFn:async()=>{if(a){const t=(0,m.getClusterServiceForRegion)(a);return await t.getMachinePools(e)}return await m.default.getMachinePools(e)},refetchOnWindowFocus:!l,retry:!1,enabled:!t});return{isLoading:n,data:i,isError:s,error:o,refetch:u,isRefetching:d}})(e,t,l),A=(0,u.formatErrorData)(d,E,g),R=(0,u.formatErrorData)(_,b,C);return t?{isLoading:d,data:null==f?void 0:f.data,isError:E,error:A,refetch:v,isRefetching:h}:{isLoading:_,data:null===(i=null==S?void 0:S.data)||void 0===i?void 0:i.items,isError:b,error:R,refetch:y,isRefetching:I}},E=(e,t,a,l)=>{t?i.q.invalidateQueries({queryKey:["nodePoolWithUpgradePolicies","clusterService",e,a,l]}):i.q.invalidateQueries({queryKey:["machinePools","clusterService",e,t,l]})}},23196:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useEditClusterIngressMutation:()=>s});var l=a(82309),n=a(91916),r=a(96678),i=a(16236);const s=(e,t)=>{const{isPending:a,isSuccess:s,isError:o,error:u,mutate:c}=(0,l.n)({mutationKey:["editClusterIngress"],mutationFn:async a=>{if(t){const l=(0,i.getClusterServiceForRegion)(t);return(0,n.sendNetworkConfigRequests)(a.formData,a.currentData,e,l)}return(0,n.sendNetworkConfigRequests)(a.formData,a.currentData,e,i.default)}});return o?{isPending:a,isSuccess:s,isError:o,error:(0,r.formatErrorData)(a,o,u).error,mutate:c}:{isPending:a,isSuccess:s,isError:o,error:u,mutate:c}}},79466:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchGetClusterRouters:()=>o,useGetClusterRouters:()=>u});var l=a(25982),n=a(57146),r=a(96678),i=a(36817),s=a(16236);const o=()=>{n.q.invalidateQueries({queryKey:["clusterRouters"]})},u=(e,t,a)=>{const{data:n,isLoading:o,isError:u,error:c}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterRouters"],queryFn:async()=>a?(0,s.getClusterServiceForRegion)(a).getIngresses(e):s.default.getIngresses(e),enabled:t});if(u){const e=(0,r.formatErrorData)(o,u,c);return{data:null==n?void 0:n.data.items,isLoading:o,isError:u,error:e.error}}return{data:null==n?void 0:n.data.items,isLoading:o,isError:u,error:c}}},35777:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useEditCluster:()=>i});var l=a(82309),n=a(16236),r=a(96678);const i=(e,t)=>{const{data:a,isPending:i,isError:s,error:o,isSuccess:u,mutate:c,reset:d}=(0,l.n)({mutationKey:["editCluster"],mutationFn:async a=>{if(t){const l=(0,n.getClusterServiceForRegion)(t);return await l.editCluster(e,a)}return await n.default.editCluster(e,a)}});return s?{data:a,isPending:i,isError:s,error:(0,r.formatErrorData)(i,s,o).error,mutate:c,isSuccess:u,reset:d}:{data:a,isPending:i,isError:s,error:o,mutate:c,isSuccess:u,reset:d}}},57434:(e,t,a)=>{"use strict";a.d(t,{HJ:()=>m,H_:()=>p,eA:()=>f});var l=a(93345),n=a(25408),r=a(25982),i=a(90020),s=a(13642),o=a(36817);const u=[s.SelfAccessReview.action.CREATE,s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.action.GET,s.SelfAccessReview.action.LIST,s.SelfAccessReview.action.DELETE],c=(e,t)=>(e[t]=!1,e),d=async(e,t,a)=>(await i.authorizationsService.selfAccessReview({action:e,resource_type:t,subscription_id:a})).data.allowed,m=(e,t,a)=>{const{isLoading:r,data:i,isError:o,error:m,isFetching:p}=(0,n.E)({queries:[{queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.resource_type.SUBSCRIPTION],queryFn:async()=>d(s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.resource_type.SUBSCRIPTION,e),enabled:a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.resource_type.CLUSTER_AUTOSCALER,e],queryFn:async()=>d(s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.resource_type.CLUSTER_AUTOSCALER,e),enabled:a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.CREATE,s.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,e],queryFn:async()=>d(s.SelfAccessReview.action.CREATE,s.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,e),enabled:a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.GET,s.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,e],queryFn:async()=>d(s.SelfAccessReview.action.GET,s.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,e),enabled:a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.GET,s.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,e],queryFn:async()=>d(s.SelfAccessReview.action.UPDATE,s.SelfAccessReview.resource_type.CLUSTER,e),enabled:a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"kubeletConfigPermissions",u,e],queryFn:async()=>{const t=u.reduce(c,{});for(const a of u)t[a]=await d(a,s.SelfAccessReview.resource_type.CLUSTER_KUBELET_CONFIG,e);return t},enabled:!!e&&a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"machinePoolPermissions",u,e],queryFn:async()=>{const t=u.reduce(c,{});for(const a of u)t[a]=await d(a,s.SelfAccessReview.resource_type.MACHINE_POOL,e);return t},enabled:!!e&&a!==s.SubscriptionCommonFields.status.DEPROVISIONED},{queryKey:[t,"idpPermissions",u,e],queryFn:async()=>{const t=u.reduce(c,{});for(const a of u)t[a]=await d(a,s.SelfAccessReview.resource_type.IDP,e);return t},enabled:!!e&&a!==s.SubscriptionCommonFields.status.DEPROVISIONED}],combine:(0,l.useCallback)((e=>{const[t,a,l,n,r,i,s,o]=e;return{isLoading:e.some((e=>e.isLoading)),isError:e.some((e=>e.isError)),error:e.map((e=>e.error)),isFetching:e.some((e=>e.isFetching)),data:{canEdit:t,canEditClusterAutoscaler:a,canEditOCMRoles:l,canViewOCMRoles:n,canUpdateClusterResource:r,kubeletConfigActions:i,machinePoolsActions:s,idpActions:o}}}),[])});return{isActionQueriesLoading:r,isError:o,isFetching:p,error:m,canEdit:!!(null==i?void 0:i.canEdit.data),canEditClusterAutoscaler:!!(null==i?void 0:i.canEditClusterAutoscaler.data),canEditOCMRoles:!!(null==i?void 0:i.canEditOCMRoles.data),canViewOCMRoles:!!(null==i?void 0:i.canViewOCMRoles.data),canUpdateClusterResource:!!(null==i?void 0:i.canUpdateClusterResource.data),kubeletConfigActions:null==i?void 0:i.kubeletConfigActions.data,machinePoolsActions:null==i?void 0:i.machinePoolsActions.data,idpActions:null==i?void 0:i.idpActions.data}},p=(e,t,a)=>{const{isLoading:l,data:n,isError:o,error:c,isFetching:d}=(0,r.I)({queryKey:[a,"authorizationService","canDeleteAccessReview",u,e],queryFn:async()=>await i.authorizationsService.selfAccessReview({action:s.SelfAccessReview.action.DELETE,resource_type:s.SelfAccessReview.resource_type.CLUSTER,cluster_id:e}),enabled:!!t&&t.subscription.status!==s.SubscriptionCommonFields.status.DEPROVISIONED&&(t.subscription.managed||t.isAROCluster)});return{isLoading:l,data:n,isError:o,error:c,isFetching:d}},f=(e,t)=>{const{isLoading:a,data:l,isError:n,error:i}=(0,r.I)({queryKey:[t,"authorizationService","selfResourceReview",s.SelfAccessReview.action.GET,s.SelfAccessReview.resource_type.CLUSTER_BREAK_GLASS_CREDENTIAL,e],queryFn:async()=>d(s.SelfAccessReview.action.GET,s.SelfAccessReview.resource_type.CLUSTER_BREAK_GLASS_CREDENTIAL,e),staleTime:o.K.STALE_TIME_60_SEC});return{isLoading:a,canUpdateBreakGlassCredentials:l,isError:n,error:i}}},41955:(e,t,a)=>{"use strict";a.r(t),a.d(t,{invalidateClusterDetailsQueries:()=>_,useFetchClusterDetails:()=>S});var l=a(1727),n=a(57146),r=a(25982),i=a(75166),s=a(90020);const o=[i.knownProducts.ROSA,i.knownProducts.ROSA_HyperShift],u=[i.knownProducts.OSD,i.knownProducts.OSDTRIAL];var c=a(96678),d=a(36817),m=a(57434),p=a(42561),f=a.n(p),E=a(83741),g=a(22902);var v=a(16236),h=a(13642);const _=()=>{n.q.invalidateQueries({predicate:e=>e.queryKey.some((e=>e===d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY))})},S=e=>{var t,a;const{isLoading:n,data:p,isError:_,error:S,isFetching:b}=((e,t)=>{const{isLoading:a,data:n,isError:c,error:d,isFetching:m}=(0,r.I)({queryKey:[t,"accountsService",e],queryFn:async()=>{var t,a,n,r,c,d;const m=await s.accountsService.getSubscription(e);m.data=(0,l.Pb)(m.data);const p=(null===(a=null===(t=null==m?void 0:m.data)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type)===i.knownProducts.ARO,f=o.includes((null===(r=null===(n=null==m?void 0:m.data)||void 0===n?void 0:n.plan)||void 0===r?void 0:r.type)||""),E=u.includes((null===(d=null===(c=null==m?void 0:m.data)||void 0===c?void 0:c.plan)||void 0===d?void 0:d.type)||"");return{subscription:m.data,isAROCluster:p,isROSACluster:f,isOSDCluster:E}}});return{isLoading:a,data:n,isError:c,error:d,isFetching:m}})(e,d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isActionQueriesLoading:C,isError:y,error:I,canEdit:A,canEditClusterAutoscaler:R,canEditOCMRoles:T,canViewOCMRoles:O,canUpdateClusterResource:P,kubeletConfigActions:D,machinePoolsActions:L,idpActions:N,isFetching:w}=(0,m.HJ)(e,d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,null==p?void 0:p.subscription.status),{isLoading:k,data:F,isError:M,error:x,isFetching:G}=((e,t,a,l)=>{const{isLoading:n,data:i,isError:s,error:o,isFetching:u}=(0,r.I)({queryKey:[l,"clusterService",e,t],queryFn:async()=>{if(null==t?void 0:t.rh_region_id){const a=(0,v.getClusterServiceForRegion)(null==t?void 0:t.rh_region_id);return await a.getClusterDetails(e)}return await v.default.getClusterDetails(e)},retry:!1,enabled:!!t&&t.status!==h.SubscriptionCommonFields.status.DEPROVISIONED&&(t.managed||a)});return{isLoading:n,data:i,isError:s,error:o,isFetching:u}})(null==p?void 0:p.subscription.cluster_id,null==p?void 0:p.subscription,null==p?void 0:p.isAROCluster,d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isLoading:U,data:H}=((e,t,a)=>{const{isLoading:l,data:n}=(0,r.I)({queryKey:[d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,a,"upgradeGates","clusterService",e,t],queryFn:async()=>{if(null==t?void 0:t.subscription.rh_region_id){const a=(0,v.getClusterServiceForRegion)(null==t?void 0:t.subscription.rh_region_id);return await a.getClusterGateAgreements(e)}return await s.clusterService.getClusterGateAgreements(e)},enabled:!!t&&t.subscription.status!==h.SubscriptionCommonFields.status.DEPROVISIONED&&(t.subscription.managed||t.isAROCluster)});return{isLoading:l,data:n}})(null==p?void 0:p.subscription.cluster_id,p,d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isLoading:V,data:B,isError:q,error:j,isFetching:z}=(0,m.H_)(null==p?void 0:p.subscription.cluster_id,p,d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isLoading:W,data:$,isFetching:K}=((e,t,a)=>{const{isLoading:l,data:n,isFetching:i}=(0,r.I)({queryKey:[a,"limitedSupportReasons","clusterService",e,t],queryFn:async()=>{if(null==t?void 0:t.subscription.rh_region_id){const a=(0,v.getClusterServiceForRegion)(null==t?void 0:t.subscription.rh_region_id);return await a.getLimitedSupportReasons(e)}return await v.default.getLimitedSupportReasons(e)},enabled:!!t&&t.subscription.status!==h.SubscriptionCommonFields.status.DEPROVISIONED&&(t.subscription.managed||t.isAROCluster)});return{isLoading:l,data:n,isFetching:i}})(null==p?void 0:p.subscription.cluster_id,p,d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isLoading:Y,data:Q,isFetching:Z}=((e,t,a)=>{const{isLoading:l,data:n,isError:i,isFetching:s}=(0,r.I)({queryKey:[a,"inflightChecks","clusterService",e,t],queryFn:async()=>{if(null==t?void 0:t.subscription.rh_region_id){const a=(0,v.getClusterServiceForRegion)(null==t?void 0:t.subscription.rh_region_id);return await a.getInflightChecks(e)}return await v.default.getInflightChecks(e)},enabled:!!t&&(t.isROSACluster||t.isOSDCluster)&&t.subscription.status!==h.SubscriptionCommonFields.status.DEPROVISIONED&&(t.subscription.managed||t.isAROCluster)});return{isLoading:l,data:n,isError:i,isFetching:s}})(null==p?void 0:p.subscription.cluster_id,p,d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY),{isLoading:X,data:J}=((e,t,a)=>{const{isLoading:n,data:i,isError:o}=(0,r.I)({queryKey:[t,"aiClusterDetails",e],queryFn:async()=>{const t=await(async(e,t)=>{var a,n;let r;if((0,g.default)(t)&&e){try{const a=await s.assistedService.getAICluster(e);r=(0,l.DX)(t,(null==a?void 0:a.data)||null),r.aiCluster=a.data}catch(n){if(!f().isAxiosError(n)||404!==(null===(a=n.response)||void 0===a?void 0:a.status))throw n;console.info("Failed to query assisted-installer cluster id: ",e),r=(0,l.HQ)(t)}try{const e=await s.assistedService.getAIFeatureSupportLevels(r.openshift_version||"",r.cpu_architecture);r.aiSupportLevels=e}catch(e){E.Cp(new Error(`Failed to query feature support levels: ${f().isAxiosError(e)?JSON.stringify(null===(n=e.response)||void 0===n?void 0:n.data):""}`))}}else r=(0,l.HQ)(t);return r})(e,a);return t},enabled:!!a});return{isLoading:n,data:i,isError:o}})(null==p?void 0:p.subscription.cluster_id,d.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,null==p?void 0:p.subscription),ee=b||w||G||Z||z||K;if(!(n||k||V||W||U||Y||C||X)){if(_||M||y||q){const e=_||M||y||q,t=n||k||C||V,a=S||x||I||j,l=(0,c.formatErrorData)(t,e,a);return{isLoading:null==l?void 0:l.isLoading,isError:null==l?void 0:l.isError,error:null==l?void 0:l.error,data:p||F||B,isFetching:ee}}if(F){const e={data:{...(0,l._v)(F.data),subscription:null==p?void 0:p.subscription,metrics:(0,l.bd)(null===(t=null==p?void 0:p.subscription.metrics)||void 0===t?void 0:t[0])}};return e.data.upgradeGates=(null==H?void 0:H.data.items)||[],e.data.limitedSupportReasons=(null==$?void 0:$.data.items)||[],e.data.inflight_checks=(null==Q?void 0:Q.data.items)||[],e.data.canEdit=A,e.data.canEditOCMRoles=T,e.data.canViewOCMRoles=O,e.data.canUpdateClusterResource=P,e.data.canEditClusterAutoscaler=R,e.data.idpActions=N,e.data.machinePoolsActions=L,e.data.kubeletConfigActions=D,e.data.canDelete=!!(null===(a=null==B?void 0:B.data)||void 0===a?void 0:a.allowed),{isLoading:!1,cluster:e.data,isSuccess:!0,isError:M,error:x,isFetching:ee}}if(J){const e={...J};return e.canEdit=A,e.canEditOCMRoles=T,e.canViewOCMRoles=O,e.canDelete=!1,e.subscription=null==p?void 0:p.subscription,{isLoading:!1,cluster:e,isFetching:ee}}}return{isLoading:!0,isFetching:ee}}},52045:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchClusterIdentityProviders:()=>c,useFetchClusterIdentityProviders:()=>d});var l=a(58156),n=a.n(l),r=a(25982),i=a(57146),s=a(16236),o=a(96678),u=a(36817);const c=(e,t)=>{i.q.invalidateQueries({queryKey:[u.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterIdentityProviders","clusterService",e,t]})},d=(e,t)=>{const{isLoading:a,data:l,isError:i,error:c,isSuccess:d}=(0,r.I)({queryKey:[u.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"clusterIdentityProviders","clusterService",e,t],queryFn:async()=>t?(0,s.getClusterServiceForRegion)(t).getIdentityProviders(e).then((e=>(e.data.items=n()(e.data,"items",[]),e))):s.default.getIdentityProviders(e).then((e=>(e.data.items=n()(e.data,"items",[]),e))),enabled:!!e});if(i){const e=(0,o.formatErrorData)(a,i,c);return{clusterIdentityProviders:null==l?void 0:l.data,isError:i,isLoading:a,error:e,isSuccess:d}}return{isLoading:a,clusterIdentityProviders:null==l?void 0:l.data,isError:i,error:c,isSuccess:d}}},64334:(e,t,a)=>{"use strict";a.d(t,{l:()=>s});var l=a(25982),n=a(90020),r=a(96678),i=a(36817);const s=e=>{const{isLoading:t,data:a,isError:s,error:o,isFetching:u,refetch:c}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"accountsService","getOrganizationQuota",e],queryFn:async()=>({organizationQuota:(await n.accountsService.getOrganizationQuota(e)).data}),enabled:!!e});return s?{isLoading:t,data:a,isError:s,error:(0,r.formatErrorData)(t,s,o),rawError:o}:{isLoading:t,data:a,isError:s,error:o,isFetching:u,refetch:c,rawError:o}}},3089:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useFetchUpgradeGatesFromApi:()=>s});var l=a(25982),n=a(16236),r=a(96678),i=a(36817);const s=(e,t)=>{const{data:a,isLoading:s,isError:o,error:u}=(0,l.I)({queryKey:[i.K.FETCH_CLUSTER_DETAILS_QUERY_KEY,"upgradeGatesFromApi"],queryFn:async()=>(t?(0,n.getClusterServiceForRegion)(t):n.default).getUpgradeGates(),enabled:e});if(o){const e=(0,r.formatErrorData)(s,o,u);return{data:null==a?void 0:a.data.items,isLoading:s,isError:o,error:e}}return{data:null==a?void 0:a.data.items,isLoading:s,isError:o,error:u}}},22637:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P,useFetchClusters:()=>O});var l=a(93345),n=a.n(l),r=a(25408),i=a(67285),s=a(36165),o=a(62193),u=a.n(o),c=a(13642),d=a(22902),m=a(1727);const p=(e,t)=>{var a,l,n,r,i,s,o,u,c,d,m;if(!e.error||!(null===(n=null===(l=null===(a=e.error)||void 0===a?void 0:a.response)||void 0===l?void 0:l.data)||void 0===n?void 0:n.reason)&&!(null===(r=e.error)||void 0===r?void 0:r.message))return null;const p={reason:(null===(o=null===(s=null===(i=e.error)||void 0===i?void 0:i.response)||void 0===s?void 0:s.data)||void 0===o?void 0:o.reason)||(null===(u=e.error)||void 0===u?void 0:u.message),operation_id:null===(m=null===(d=null===(c=e.error)||void 0===c?void 0:c.response)||void 0===d?void 0:d.data)||void 0===m?void 0:m.operation_id};return t?{...p,region:t}:p};var f=a(16236),E=a(90020),g=a(9704),v=a(57146),h=a(25514),_=a(36817);const S=({type:e,clusterTypeOrRegion:t,viewOptions:a,isArchived:l,other:n})=>{var r;const{currentPage:i,pageSize:s,sorting:o,filter:u,flags:c}=a,d=(null==o?void 0:o.sortField)?o.sortField:"no_sort_field",m=(null==o?void 0:o.isAscending)?"asc":"desc",p=u||"no_name_filter",f=(null==c?void 0:c.showMyClustersOnly)?"only_my_clusters":"all_clusters",E=(null===(r=null==c?void 0:c.subscriptionFilter)||void 0===r?void 0:r.plan_id)||[];return[_.K.FETCH_CLUSTERS_QUERY_KEY,l?"Archived":"Active",e,t||"-",`${i}`,`${s}`,d,m,p,f,...E,...n||[]]},b=(e,t)=>e.some((e=>(0,g.isEqual)(e.queryKey,t))),{FETCH_CLUSTERS_REFETCH_INTERVAL:C}=_.K,y=e=>{v.q.invalidateQueries({queryKey:[_.K.FETCH_ACCESS_TRANSPARENCY]}),v.q.invalidateQueries({queryKey:[_.K.FETCH_CLUSTERS_QUERY_KEY,e?"Archived":"Active"]}),v.q.invalidateQueries({queryKey:[_.K.FETCH_CLUSTERS_QUERY_KEY,"authorizationsService","selfResourceReview"]})},I=(e,t)=>{const a=new Set;return e.forEach((e=>{const l=e[t];l&&a.add(`'${l}'`)})),`id in (${Array.from(a).join(",")})`};var A=a(95762),R=a(25982),T=a(10135);const O=(e=!1,t=!0)=>{var a,l,o;const g=e?i.ARCHIVED_CLUSTERS_VIEW:i.CLUSTERS_VIEW,[O,P]=n().useState([]),{refetch:D,setRefetchSchedule:L}=(e=>{const t=n().useRef(),a=(0,h.useGlobalState)((e=>!!e.modal.modalName)),l=n().useRef(a),r=document.visibilityState,i=navigator.onLine,s=n().useRef(!0);n().useEffect((()=>{l.current=a}),[a]),n().useEffect((()=>{s.current="visible"===r&&i}),[i,r]);const o=()=>{clearInterval(t.current)},u=()=>{o(),t.current=setInterval((()=>{!l.current&&s.current&&y(e)}),C)};return{refetch:()=>{y(e),u()},setRefetchSchedule:u,clearRefetch:o}})(e),N=(0,s.useGlobalState)((e=>e.userProfile.keycloakProfile.username)),w=(0,s.useGlobalState)((e=>({...e.viewOptions[g],totalCount:0}))),k=null===(o=null===(l=null===(a=w.flags)||void 0===a?void 0:a.subscriptionFilter)||void 0===l?void 0:l.plan_id)||void 0===o?void 0:o.toString();n().useEffect((()=>{((e,t,a)=>{v.q.removeQueries({queryKey:[_.K.FETCH_CLUSTERS_QUERY_KEY,a?"Archived":"Active","subscriptions"]}),e((()=>(v.q.removeQueries({queryKey:[_.K.FETCH_CLUSTERS_QUERY_KEY,a?"Archived":"Active","clusters"]}),v.q.removeQueries({queryKey:[_.K.FETCH_CLUSTERS_QUERY_KEY,"authorizationsService","selfResourceReview"]}),v.q.invalidateQueries({queryKey:[_.K.FETCH_ACCESS_TRANSPARENCY]}),[]))),t()})(P,L,e)}),[w.currentPage,w.pageSize,w.filter,w.sorting.sortField,w.sorting.isAscending,k,w.flags.showMyClustersOnly]);const{data:F,isLoading:M,isFetching:x,isFetched:G,isError:U,error:H}=(({enabled:e=!0,viewOptions:t,userName:a,isArchived:l})=>{const n=S({type:"subscriptions",viewOptions:t,isArchived:l}),{data:r,isLoading:i,isFetching:s,isFetched:o,isError:u,error:p}=(0,R.I)({queryKey:n,enabled:e,queryFn:()=>(async(e,t,a)=>{var l,n,r;const i={...e,flags:{...e.flags,showArchived:a}},s=(0,T.createViewQueryObject)(i,t),o=await E.accountsService.getSubscriptions(s),u=(0,m.OF)(o,m.Pb),p=(null===(l=null==u?void 0:u.data)||void 0===l?void 0:l.items)||[],f=new Map;p.forEach((e=>{e.cluster_id&&f.set(e.cluster_id,{subscription:e})}));const g=[];f.forEach((({subscription:e})=>{(0,d.default)(e)&&e.id&&g.push(e.id)}));const v=p.filter((e=>e.managed&&e.status!==c.SubscriptionCommonFields.status.DEPROVISIONED));return{subscriptionIds:g,subscriptionMap:f,managedSubscriptions:v,page:(null===(n=null==u?void 0:u.data)||void 0===n?void 0:n.page)||0,total:(null===(r=null==u?void 0:u.data)||void 0===r?void 0:r.total)||(null==p?void 0:p.length)||0}})(t,a,l)});return{data:r,isLoading:i,isFetching:s,isFetched:o,isError:u,error:p}})({viewOptions:w,isArchived:e,userName:N}),V=null==F?void 0:F.subscriptionIds,B=null==F?void 0:F.subscriptionMap,q=null==F?void 0:F.managedSubscriptions,j=(null==F?void 0:F.total)||0,z=H?[p({error:H})]:[],W=S({type:"clusters",clusterTypeOrRegion:"aiClusters",viewOptions:w,other:V||[],isArchived:e}),$=b(O,W);V&&V.length>0&&!$&&P((e=>[...e,{queryKey:W,queryFn:()=>(async e=>e&&0!==e.length?{aiClusters:(await E.assistedService.getAIClustersBySubscription(e)).data}:{aiClusters:[]})(V)}]));const K={global:[]};null==q||q.forEach((e=>{const a=e.rh_region_id;a?t&&(K[a]||(K[a]=[]),K[a].push(e)):K.global.push(e)}));const Y=Object.keys(K).reduce(((t,a)=>{const l=I(K[a],"cluster_id"),n=S({type:"clusters",clusterTypeOrRegion:a,viewOptions:w,other:[l],isArchived:e});return b(O,n)||0===K[a].length?t:[...t,{queryKey:n,queryFn:async()=>(async(e,t)=>{var a;if(!e||0===e.length)return{managedClusters:[]};const l=(0,f.getClusterServiceForRegion)("global"!==t&&t?t:void 0),n=I(e,"cluster_id");return{managedClusters:null===(a=(await l.searchClusters(n)).data)||void 0===a?void 0:a.items}})(K[a],a)}]}),[]);Y.length>0&&P((e=>[...e,...Y]));const{isLoading:Q,data:Z,isError:X,errors:J,isFetching:ee,isFetched:te,isPending:ae}=(0,r.E)({queries:O,combine:n().useCallback((e=>{const t=new Map(B);let a=[],l=[];null==e||e.forEach((e=>{var t,n;(null===(t=e.data)||void 0===t?void 0:t.aiClusters)?a=null===(n=e.data)||void 0===n?void 0:n.aiClusters:e.data&&e.data.managedClusters&&(l=[...l,...e.data.managedClusters])})),a&&a.forEach((e=>{if(e.id){const a=t.get(e.id);a&&(a.aiCluster=e)}})),l&&l.forEach((e=>{if(e.id){const a=t.get(e.id);void 0!==a&&(a.cluster=e)}}));const n=(e=>{const t=[];return e.forEach((e=>{let a;!e.cluster||u()(null==e?void 0:e.cluster)||e.subscription&&!u()(e.subscription)?e.subscription.managed&&e.subscription.status!==c.SubscriptionCommonFields.status.DEPROVISIONED&&(null==e?void 0:e.cluster)&&!u()(null==e?void 0:e.cluster)?a={...(0,m._v)(e.cluster),subscription:e.subscription,metrics:(0,m.bd)(e.subscription.metrics)}:(a=(0,d.default)(e.subscription)?(0,m.DX)(e.subscription,e.aiCluster):(0,m.HQ)(e.subscription),a.partialCS=a.managed&&(!(null==e?void 0:e.cluster)||u()(null==e?void 0:e.cluster))):a={...(0,m._v)(e.cluster)},a.subscription=e.subscription,t.push(a)})),t})(t),r=null==e?void 0:e.filter((e=>!!e.error)).map((e=>p(e)));return{isLoading:e.some((e=>e.isLoading)),isFetching:e.some((e=>e.isFetching)),isFetched:e.every((e=>e.isFetched)),isPending:e.some((e=>e.isPending)),isError:e.some((e=>e.isError)),data:{clusters:n,clusterTotal:j},errors:r}}),[B,j])}),{isLoading:le,isFetching:ne,canEdit:re,canDelete:ie,isError:se,errors:oe,isFetched:ue}=(({queryKey:e=[_.K.FETCH_CLUSTERS_QUERY_KEY]})=>{const{isLoading:t,data:a,isError:l,isFetching:i,refetch:s,errors:o,isFetched:u}=(0,r.E)({queries:[{queryKey:[...e,"authorizationsService","selfResourceReview",c.SelfResourceReviewRequest.action.DELETE],queryFn:async()=>{const e=await E.authorizationsService.selfResourceReview({action:c.SelfResourceReviewRequest.action.DELETE,resource_type:c.SelfResourceReview.resource_type.CLUSTER});return(0,A.buildPermissionDict)(e)}},{queryKey:[...e,"authorizationsService","selfResourceReview",c.SelfResourceReviewRequest.action.UPDATE],queryFn:async()=>{const e=await E.authorizationsService.selfResourceReview({action:c.SelfResourceReviewRequest.action.UPDATE,resource_type:c.SelfResourceReview.resource_type.CLUSTER});return(0,A.buildPermissionDict)(e)}}],combine:n().useCallback((e=>{const[t,a]=e,l=[],n=p(a),r=p(t);return n&&l.push(n),r&&l.push(r),{isFetched:e.every((e=>e.isFetched)),isLoading:e.some((e=>e.isLoading)),isFetching:e.some((e=>e.isFetching)),data:{canEdit:a.data,canDelete:t.data},isError:e.some((e=>e.isError)),refetch:()=>e.forEach((e=>e.refetch())),errors:l}}),[])});return{isLoading:t,isFetching:i,canEdit:null==a?void 0:a.canEdit,canDelete:null==a?void 0:a.canDelete,isError:l,refetch:s,errors:o,isFetched:u}})({}),ce=((e,t,a)=>{if(e&&0!==e.length)return e.map((e=>{var l;const n={...e};return n.canEdit=!e.partialCS&&!!t&&(t["*"]||!!e.id&&!!t[e.id])&&(null===(l=e.subscription)||void 0===l?void 0:l.status)!==c.SubscriptionCommonFields.status.DEPROVISIONED,n.canDelete=!e.partialCS&&!!a&&(a["*"]||!!e.id&&!!a[e.id]),n}))})(null==Z?void 0:Z.clusters,re,ie);return{isLoading:le||M||Q,isFetching:ne||x||ee,data:{items:ce||[],itemsCount:null==Z?void 0:Z.clusterTotal},isFetched:ue&&G&&te,isError:se||U||X,errors:[...oe,...z,...J],refetch:D,isClustersDataPending:ae}},P=O},21481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchClusterLogsQueries:()=>u,useFetchClusterLogs:()=>c});var l=a(25982),n=a(10135),r=a(57146),i=a(90020),s=a(96678),o=a(36817);const u=()=>{r.q.invalidateQueries({queryKey:[o.K.FETCH_CLUSTER_LOGS_QUERY_KEY]})},c=(e,t,a,r,u,c)=>{const{data:d,isError:m,error:p,dataUpdatedAt:f,isPending:E,isLoading:g}=(0,l.I)({queryKey:[o.K.FETCH_CLUSTER_LOGS_QUERY_KEY,t,"clusterLogService",a,u,c],queryFn:async()=>r?await i.serviceLogService.getClusterHistoryForRegion(e,t,(0,n.createServiceLogQueryObject)(a,void 0,u,c),r):await i.serviceLogService.getClusterHistory(e,t,(0,n.createServiceLogQueryObject)(a,void 0,u,c)),retry:!1}),v=(0,s.formatErrorData)(g,m,p);return{data:null==d?void 0:d.data,isError:m,error:null==v?void 0:v.error,dataUpdatedAt:f,isPending:E}}},11353:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchGetAvailableRegionalInstances:()=>o,useFetchGetAvailableRegionalInstances:()=>u});var l=a(25982),n=a(57146),r=a(90020),i=a(96678),s=a(36817);const o=()=>{n.q.invalidateQueries({queryKey:[s.K.FETCH_GET_AVAILABLE_REGIONAL_INSTANCES]})},u=e=>{const{data:t,isError:a,error:n,isLoading:o,isFetching:u}=(0,l.I)({queryKey:[s.K.FETCH_GET_AVAILABLE_REGIONAL_INSTANCES],queryFn:async()=>{var e;const t=(0,i.currentEnvironment)(),a="production"===t,l=await r.accountsService.getRegionalInstances(),n=null===(e=null==l?void 0:l.data)||void 0===e?void 0:e.items,s=a?(0,i.getProdRegionalInstances)(n):null==n?void 0:n.filter((e=>{var a;return(null===(a=e.id)||void 0===a?void 0:a.includes(t))&&"aws"===(null==e?void 0:e.cloud_provider_id)}));return[...s,a?i.defaultRegionalInstances.find((e=>"production"===e.environment)):i.defaultRegionalInstances.find((e=>e.environment===t))]},retry:!1,enabled:e}),c=(0,i.formatErrorData)(o,a,n);return{data:a||u?void 0:t,isError:a,error:null==c?void 0:c.error,isFetching:u}}},41730:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchGetOCMRole:()=>o,useFetchGetOCMRole:()=>u});var l=a(25982),n=a(57146),r=a(90020),i=a(96678),s=a(36817);const o=()=>{n.q.invalidateQueries({queryKey:[s.K.FETCH_GET_OCM_ROLE]})},u=e=>{const{data:t,isError:a,error:n,isLoading:o,isPending:u,isSuccess:c,status:d}=(0,l.I)({queryKey:[s.K.FETCH_GET_OCM_ROLE],queryFn:async()=>await r.accountsService.getOCMRole(e),retry:!1}),m=(0,i.formatErrorData)(o,a,n);return{data:t,isError:a,error:null==m?void 0:m.error,isPending:u,isSuccess:c,status:d}}},84526:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refetchGetUserOidcConfigurations:()=>s,useFetchGetUserOidcConfigurations:()=>o});var l=a(25982),n=a(57146),r=a(16236),i=a(36817);const s=()=>{n.q.invalidateQueries({queryKey:[i.K.FETCH_GET_USER_OIDC_CONFIGURATIONS],exact:!0})},o=(e,t,a)=>{const{data:n,error:s,isError:o,isSuccess:u,isFetching:c}=(0,l.I)({queryKey:[i.K.FETCH_GET_USER_OIDC_CONFIGURATIONS],queryFn:async()=>{if(t&&a){const a=(0,r.getClusterServiceForRegion)(t);return await a.getOidcConfigurations(e)}return await r.default.getOidcConfigurations(e)},retry:!1});return{data:n,error:s,isError:o,isSuccess:u,isFetching:c}}},65127:(e,t,a)=>{"use strict";a.d(t,{h:()=>i});var l=a(82309),n=a(31122),r=a(96678);const i=()=>{var e;const{isSuccess:t,error:a,isError:i,isPending:s,mutate:o,reset:u}=(0,l.n)({mutationKey:["accountService","editSubscription"],mutationFn:({subscriptionID:e,data:t})=>n.A.editSubscription(e,t)});return{isSuccess:t,rawError:a,error:i&&a?null===(e=(0,r.formatErrorData)(s,i,a))||void 0===e?void 0:e.error:null,isError:i,isPending:s,mutate:o,reset:u}}},57189:(e,t,a)=>{"use strict";a.r(t),a.d(t,{invalidateCloudProviders:()=>s,useFetchCloudProviders:()=>i});var l=a(25982),n=a(57146),r=a(90020);const i=()=>{var e,t;const{data:a,isLoading:n,isFetching:i,isError:s}=(0,l.I)({queryKey:["clusterService","cloudProviders"],queryFn:()=>r.clusterService.getCloudProviders()}),o={};return(null===(e=null==a?void 0:a.data)||void 0===e?void 0:e.items)&&(null===(t=a.data.items)||void 0===t||t.forEach((e=>{if(e.id){const t={};void 0!==e.regions&&e.regions.forEach((e=>{e.id&&(t[e.id]={id:e.id,display_name:e.display_name,enabled:e.enabled,supports_multi_az:e.supports_multi_az,kms_location_id:e.kms_location_id,ccs_only:e.ccs_only,supports_hypershift:e.supports_hypershift})})),o[e.id]={...e,regions:t}}}))),{isError:s,isLoading:n,isFetching:i,data:o}},s=()=>{n.q.invalidateQueries({queryKey:["cloudProviders","getCloudProviders"]})}},89660:(e,t,a)=>{"use strict";a.d(t,{w:()=>o});var l=a(25982),n=a(90020),r=a(64334),i=a(96678),s=a(36817);const o=()=>{var e,t,a;const{isLoading:o,isError:u,data:c,error:d,isFetched:m}=(0,l.I)({queryKey:[s.K.FETCH_ORG_AND_QUOTA,"getCurrentOrganizationId"],queryFn:()=>n.accountsService.getCurrentAccount()}),p=null===(t=null===(e=null==c?void 0:c.data)||void 0===e?void 0:e.organization)||void 0===t?void 0:t.id,{isLoading:f,isError:E,data:g,rawError:v}=(0,r.l)(p),{isLoading:h,isError:_,data:S,error:b,isFetched:C}=(0,l.I)({queryKey:[s.K.FETCH_ORG_AND_QUOTA,"getOrganization"],queryFn:()=>n.accountsService.getOrganization(p),enabled:!!p}),y=o||f||h,I=u||E||_,A=d||v||b;return{isLoading:y,isError:I,error:I&&A?null===(a=(0,i.formatErrorData)(y,I,A))||void 0===a?void 0:a.error:null,isFetched:m&&!f&&C,id:p,quota:null==g?void 0:g.organizationQuota,organization:S}}},96678:(e,t,a)=>{"use strict";a.r(t),a.d(t,{addNotificationErrorFormat:()=>s,createResponseForSearchCluster:()=>u,currentEnvironment:()=>m,defaultRegionalInstances:()=>d,findRegionalInstance:()=>f,formatErrorData:()=>i,formatRegionalInstanceUrl:()=>o,getFormattedUserData:()=>c,getProdRegionalInstances:()=>p,regionalizedClusterId:()=>E});var l=a(42561),n=a.n(l),r=a(62384);const i=(e,t,a)=>{var l,r,i,s,o,u,c,d;return t&&n().isAxiosError(a)?{isLoading:e,isError:t,error:{pending:e,error:t,fulfilled:!1,errorCode:null===(l=null==a?void 0:a.response)||void 0===l?void 0:l.status,errorDetails:null===(i=null===(r=null==a?void 0:a.response)||void 0===r?void 0:r.data)||void 0===i?void 0:i.details,errorMessage:`${null===(s=null==a?void 0:a.response)||void 0===s?void 0:s.data.code}: ${null===(o=null==a?void 0:a.response)||void 0===o?void 0:o.data.reason}`,reason:`${null===(u=null==a?void 0:a.response)||void 0===u?void 0:u.data.reason}`,internalErrorCode:null===(c=null==a?void 0:a.response)||void 0===c?void 0:c.data.code,operationID:null===(d=null==a?void 0:a.response)||void 0===d?void 0:d.data.operation_id}}:{isLoading:e,isError:t,error:a}},s=(e,t,a)=>{var l,r,i,s,o,u;if(t&&n().isAxiosError(a)){const n={};return n.pending=e,n.error=t,n.fulfilled=!1,n.errorCode=null===(l=null==a?void 0:a.response)||void 0===l?void 0:l.status,n.errorDetails=null===(i=null===(r=null==a?void 0:a.response)||void 0===r?void 0:r.data)||void 0===i?void 0:i.details,n.errorMessage=`${null===(s=null==a?void 0:a.response)||void 0===s?void 0:s.data.reason}`,n.internalErrorCode=null===(o=null==a?void 0:a.response)||void 0===o?void 0:o.data.code,n.operationID=null===(u=null==a?void 0:a.response)||void 0===u?void 0:u.data.operation_id,{isLoading:e,isError:t,error:n}}},o=e=>e?e.replace("api.","").replace(".openshift.com",""):"",u=e=>{const t={items:[]};if(e)return null==e||e.forEach((e=>{const a={name:e.name,domain_prefix:e.domain_prefix};t.items.push(a)})),t},c=async e=>e.then((e=>{var t;return(null===(t=e.data.items)||void 0===t?void 0:t.map((e=>{var t;const a=e;return a.users&&(a.users.items=null===(t=a.users)||void 0===t?void 0:t.filter((e=>"cluster-admin"!==e.id))),a})))||[]}))||[],d=[{cloud_provider_id:"aws",href:"/api/accounts_mgmt/v1/regions",id:"",kind:"Region",url:"https://api.openshift.com",environment:"production",isDefault:!0},{cloud_provider_id:"aws",href:"/api/accounts_mgmt/v1/regions",id:"stage",kind:"Region",url:"https://api.stage.openshift.com",environment:"stage",isDefault:!0},{cloud_provider_id:"aws",href:"/api/accounts_mgmt/v1/regions",id:"int",kind:"Region",url:"https://api.integration.openshift.com",environment:"integration",isDefault:!0}],m=()=>{const e=(0,r.isRestrictedEnv)(),t=window.location,a=t.hostname,l=t.search.includes("env=production"),n=t.search.includes("env=staging"),i=a.includes("prod.foo"),s=a.includes("console.dev"),o=a.includes("console.redhat");return!0===e?"integration":n||i&&!l||s&&!l?"stage":l||o&&!n?"production":"stage"},p=e=>null==e?void 0:e.filter((e=>{var t,a;return!(null===(t=e.id)||void 0===t?void 0:t.includes("stage"))&&!(null===(a=e.id)||void 0===a?void 0:a.includes("integration"))&&"aws"===(null==e?void 0:e.cloud_provider_id)})),f=(e,t)=>(null==t?void 0:t.find((t=>{var a;return null===(a=null==t?void 0:t.id)||void 0===a?void 0:a.includes(e)})))||(null==t?void 0:t.find((e=>e.isDefault))),E=e=>{var t,a,l;return"true"===(null==e?void 0:e.hypershift)&&"aws"===(null===(t=null==e?void 0:e.regional_instance)||void 0===t?void 0:t.cloud_provider_id)&&!0!==(null===(a=null==e?void 0:e.regional_instance)||void 0===a?void 0:a.isDefault)?null===(l=null==e?void 0:e.regional_instance)||void 0===l?void 0:l.id:void 0}},36817:(e,t,a)=>{"use strict";a.d(t,{K:()=>l});const l={STALE_TIME_60_SEC:6e4,AlWAYS_GET_NEW_DATA_STALE_TIME:0,API_PAGE_SIZE:500,FETCH_CLUSTERS_QUERY_KEY:"fetchClusters",FETCH_CLUSTER_DETAILS_QUERY_KEY:"fetchClusterDetails",FETCH_CLUSTER_LOGS_QUERY_KEY:"fetchClusterLogs",FETCH_CLUSTER_STATUS_MONITOR_INFLIGHT_CHECKS:"fetchClusterStatusMonitorInflightChecks",FETCH_CLUSTERS_REFETCH_INTERVAL:6e4,FETCH_REGIONALIZED_MULTI_REGIONS:"fetchRegionalizedMultiRegions",FETCH_SEARCH_CLUSTER_NAME:"fetchSearchClusterName",FETCH_SEARCH_DOMAIN_PREFIX:"fetchSearchDomainPrefix",FETCH_GET_OCM_ROLE:"fetchGetOCMRole",FETCH_GET_USER_OIDC_CONFIGURATIONS:"fetchGetOidcConfigurations",FETCH_ACCESS_TRANSPARENCY:"fetchAccessTransparency",FETCH_GET_AVAILABLE_REGIONAL_INSTANCES:"fetchGetAvailableRegionalInstances",FETCH_MULTI_REGION_AVAILABLE_REGIONS:"fetchGetMultiRegionAvailableRegions",FETCH_ORG_AND_QUOTA:"fetchOrganizationAndQuota"}},36291:(e,t,a)=>{"use strict";a.r(t),a.d(t,{refreshClusterDetails:()=>i,refreshQueries:()=>r});var l=a(57146),n=a(36817);const r=()=>{l.q.invalidateQueries()},i=()=>{l.q.invalidateQueries({predicate:e=>e.queryKey[0]===n.K.FETCH_CLUSTER_DETAILS_QUERY_KEY})}},52202:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CLEAR_ALL_CLOUD_PROVIDER_INQUIRIES:()=>_,CLEAR_CCS_CREDENTIALS_INQUIRY:()=>S,CLEAR_LIST_VPCS:()=>h,LIST_GCP_KEYS:()=>v,LIST_GCP_KEY_RINGS:()=>g,LIST_REGIONS:()=>E,LIST_VPCS:()=>f,VALIDATE_CLOUD_PROVIDER_CREDENTIALS:()=>p,clearAllCloudProviderInquiries:()=>T,clearCcsCredientialsInquiry:()=>O,clearListVpcs:()=>P,getAWSCloudProviderRegions:()=>I,getAWSCloudProviderVPCs:()=>C,getGCPCloudProviderVPCs:()=>y,getGCPKeyRings:()=>A,getGCPKeys:()=>R});var l=a(44383),n=a.n(l),r=a(77475),i=a(81437),s=a(16236);const{listAWSRegions:o,listAWSVPCs:u,listGCPKeyRings:c,listGCPKeys:d,listGCPVPCs:m}=s.default,p="VALIDATE_CLOUD_PROVIDER_CREDENTIALS",f="LIST_VPCS",E="LIST_REGIONS",g="LIST_GCP_KEY_RINGS",v="LIST_GCP_KEYS",h="CLEAR_LIST_VPCS",_="CLEAR_ALL_CLOUD_PROVIDER_INQUIRIES",S="CLEAR_CCS_CREDENTIALS_INQUIRY",b=async(e,t)=>{if(e===i.GCPAuthType.ServiceAccounts){const e=JSON.parse(t);return n()(e,["type","project_id","private_key_id","private_key","client_email","client_id","auth_uri","token_uri","auth_provider_x509_cert_url","client_x509_cert_url"])}return{authentication:{kind:"WifConfig",id:t}}},C=({awsCredentials:e,region:t,subnet:a,options:l})=>(0,r.action)(f,u(e,t,a,l),{credentials:e,cloudProvider:"aws",region:t,subnet:a}),y=(e,t,a,l)=>(0,r.action)(e,b(t,a).then((e=>m(e,l))),{credentials:a,cloudProvider:"gcp",region:l,subnet:void 0}),I=(e,t,a)=>(0,r.action)(e,o(t,a),{credentials:t,cloudProvider:"aws",openshiftVersionId:a}),A=(e,t,a)=>(0,r.action)(g,b(e,t).then((e=>c(e,a))),{credentials:t,keyLocation:a,cloudProvider:"gcp"}),R=(e,t,a,l)=>(0,r.action)(v,b(e,t).then((e=>d(e,a,l))),{credentials:t,keyLocation:a,keyRing:l,cloudProvider:"gcp"}),T=()=>(0,r.action)(_),O=()=>(0,r.action)(S),P=()=>(0,r.action)(h)},10138:(e,t,a)=>{"use strict";a.r(t),a.d(t,{cloudProviderActions:()=>s,getCloudProviders:()=>i});var l=a(77475),n=a(90020),r=a(22916);const i=()=>(0,l.action)(r.cloudProviderConstants.GET_CLOUD_PROVIDERS,n.clusterService.getCloudProviders().then((e=>{var t;const a={};return null===(t=e.data.items)||void 0===t||t.forEach((e=>{if(e.id){const t={};void 0!==e.regions&&e.regions.forEach((e=>{e.id&&(t[e.id]={id:e.id,display_name:e.display_name,enabled:e.enabled,supports_multi_az:e.supports_multi_az,kms_location_id:e.kms_location_id,ccs_only:e.ccs_only,supports_hypershift:e.supports_hypershift})})),a[e.id]={...e,regions:t}}})),a}))),s={getCloudProviders:i}},85825:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clusterAutoscalerActions:()=>s});var l=a(77475),n=a(11611),r=a(90020),i=a(22916);const s={getClusterAutoscaler:e=>(0,l.action)(i.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER,r.clusterService.getClusterAutoscaler(e).then((e=>e.data))),enableClusterAutoscaler:(e,t)=>(0,l.action)(i.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER,r.clusterService.enableClusterAutoscaler(e,(0,n.getClusterAutoScalingSubmitSettings)((0,n.getDefaultClusterAutoScaling)(t))).then((e=>e.data))),disableClusterAutoscaler:e=>(0,l.action)(i.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER,r.clusterService.disableClusterAutoscaler(e).then((e=>e.data))),updateClusterAutoscaler:(e,t)=>(0,l.action)(i.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER,r.clusterService.updateClusterAutoscaler(e,t).then((e=>e.data))),clearLastAutoscalerActionResult:()=>(0,l.action)(i.clusterAutoscalerConstants.CLEAR_LAST_ACTION_RESULT),clearClusterAutoscalerResponse:()=>(0,l.action)(i.clusterAutoscalerConstants.CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE),setHasInitialClusterAutoscaler:e=>(0,l.action)(i.clusterAutoscalerConstants.SET_HAS_INITIAL_AUTOSCALER,e)}},80883:(e,t,a)=>{"use strict";a.r(t),a.d(t,{archiveCluster:()=>P,clearClusterArchiveResponse:()=>D,clearClusterResponse:()=>A,clearClusterUnarchiveResponse:()=>G,clearHibernateClusterResponse:()=>k,clearInflightChecks:()=>Y,clearInstallableVersions:()=>Q,clearResumeClusterResponse:()=>M,clearUpgradeTrialClusterResponse:()=>N,clustersActions:()=>Z,createCluster:()=>y,editCluster:()=>R,editClusterConsoleURL:()=>U,editClusterDisplayName:()=>T,fetchClusterDetails:()=>B,fetchClusters:()=>V,getClusterStatus:()=>z,getInflightChecks:()=>W,getRerunInflightChecks:()=>K,hibernateCluster:()=>w,invalidateClusters:()=>C,registerDisconnectedCluster:()=>I,rerunInflightChecks:()=>$,resetCreatedClusterResponse:()=>j,resumeCluster:()=>F,setClusterDetails:()=>q,unarchiveCluster:()=>x,upgradeTrialCluster:()=>L});var l=a(42561),n=a.n(l),r=a(62193),i=a.n(r),s=a(77475),o=a(83741),u=a(23271),c=a(16236),d=a(13642),m=a(22902),p=a(1727),f=a(75166),E=a(99908),g=a(90020),v=a(22916),h=a(32777),_=a(95762);const S=[f.knownProducts.ROSA,f.knownProducts.ROSA_HyperShift],b=[f.knownProducts.OSD,f.knownProducts.OSDTRIAL],C=()=>(0,s.action)((0,_.INVALIDATE_ACTION)(v.clustersConstants.GET_CLUSTERS)),y=(e,t,a)=>l=>{return l((n=(async(e,t,a,l)=>{const n=l?(0,c.getClusterServiceForRegion)(l):void 0,r=n?await n.postNewCluster(e):await g.clusterService.postNewCluster(e);if(t){const l=r.data.id;l&&a((0,E.postSchedule)(l,t,(0,u.isHypershiftCluster)(e)))}return a(C()),r})(e,t,l,a),(0,s.action)(v.clustersConstants.CREATE_CLUSTER,n)));var n},I=(e,t)=>a=>a((0,s.action)(v.clustersConstants.CREATE_CLUSTER,(async(e,t,a)=>{const l=await g.accountsService.registerDisconnected(e);return t&&201===l.status&&l.data.id&&a((n=l.data.id,r=t,(0,s.action)(v.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS,g.accountsService.editSubscription(n,r)))),a(C()),l;var n,r})(e,t,a))),A=()=>(0,s.action)(v.clustersConstants.CLEAR_DISPLAY_NAME_RESPONSE),R=(e,t)=>(0,s.action)(v.clustersConstants.EDIT_CLUSTER,g.clusterService.editCluster(e,t)),T=(e,t)=>(0,s.action)(v.clustersConstants.EDIT_CLUSTER,g.accountsService.editSubscription(e,{display_name:t})),O=(e,t)=>({notifications:{fulfilled:{variant:"success",title:`Cluster ${e} has been ${t?"archived":"unarchived"}`,dismissDelay:8e3,dismissable:!1}}}),P=(e,t)=>(0,s.action)(v.clustersConstants.ARCHIVE_CLUSTER,g.clusterService.archiveCluster(e),O(t,!0)),D=()=>(0,s.action)(v.clustersConstants.CLEAR_CLUSTER_ARCHIVE_RESPONSE),L=(e,t)=>(0,s.action)(v.clustersConstants.UPGRADE_TRIAL_CLUSTER,g.clusterService.upgradeTrialCluster(e,t)),N=()=>(0,s.action)(v.clustersConstants.CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE),w=e=>(0,s.action)(v.clustersConstants.HIBERNATE_CLUSTER,g.clusterService.hibernateCluster(e)),k=()=>(0,s.action)(v.clustersConstants.CLEAR_CLUSTER_HIBERNATE_RESPONSE),F=e=>(0,s.action)(v.clustersConstants.RESUME_CLUSTER,g.clusterService.resumeCluster(e)),M=()=>(0,s.action)(v.clustersConstants.CLEAR_RESUME_CLUSTER_RESPONSE),x=(e,t)=>(0,s.action)(v.clustersConstants.UNARCHIVE_CLUSTER,g.clusterService.unarchiveCluster(e),O(t,!1)),G=()=>(0,s.action)(v.clustersConstants.CLEAR_CLUSTER_UNARCHIVE_RESPONSE),U=(e,t,a)=>(0,s.action)(v.clustersConstants.EDIT_CLUSTER,g.clusterService.editCluster(e,{console:{url:a}}).then((()=>g.accountsService.editSubscription(t,{console_url:a})))),H=(e,t,a)=>{const l=[];return e.forEach((e=>{let n;n=e.subscription.managed&&e.subscription.status!==d.SubscriptionCommonFields.status.DEPROVISIONED&&(null==e?void 0:e.cluster)&&!i()(null==e?void 0:e.cluster)?{...(0,p._v)(e.cluster),subscription:e.subscription,metrics:(0,p.bd)(e.subscription.metrics)}:(0,m.default)(e.subscription)?(0,p.DX)(e.subscription,e.aiCluster):(0,p.HQ)(e.subscription),n.partialCS=n.managed&&(!(null==e?void 0:e.cluster)||i()(null==e?void 0:e.cluster)),n.canEdit=!n.partialCS&&(t["*"]||!!n.id&&!!t[n.id])&&e.subscription.status!==d.SubscriptionCommonFields.status.DEPROVISIONED,n.canDelete=!n.partialCS&&(a["*"]||!!n.id&&!!a[n.id]),n.subscription=e.subscription,l.push(n)})),l},V=e=>(t,a)=>{console.warn("The fetchClusters action is deprecated and should not be used"),(0,h.m)(a(),"rosa","hcp")||(0,h.fO)(t,"rosa","hcp"),t((e=>(0,s.action)(v.clustersConstants.GET_CLUSTERS,(async e=>{var t;const[a,l,n]=await Promise.all([g.accountsService.getSubscriptions(e).then((e=>(0,p.OF)(e,p.Pb))),g.authorizationsService.selfResourceReview({action:d.SelfResourceReviewRequest.action.DELETE,resource_type:d.SelfResourceReview.resource_type.CLUSTER}).then((e=>(0,_.buildPermissionDict)(e))),g.authorizationsService.selfResourceReview({action:d.SelfResourceReviewRequest.action.UPDATE,resource_type:d.SelfResourceReview.resource_type.CLUSTER}).then((e=>(0,_.buildPermissionDict)(e)))]),r=null===(t=null==a?void 0:a.data)||void 0===t?void 0:t.items;if(!r)return{data:{items:[],page:0,total:0,queryParams:{...e}}};const i=new Map;r.forEach((e=>{e.cluster_id&&i.set(e.cluster_id,{subscription:e})}));const s=[];i.forEach((({subscription:e})=>{(0,m.default)(e)&&e.id&&s.push(e.id)})),s.length>0&&(await g.assistedService.getAIClustersBySubscription(s).then((e=>e.data)).catch((e=>(o.Cp(e),[])))).forEach((e=>{const t=i.get(e.id);t&&(t.aiCluster=e)}));const u=r.filter((e=>e.managed&&e.status!==d.SubscriptionCommonFields.status.DEPROVISIONED));let c;if(u.length>0){const e=(e=>{const t=new Set;return e.forEach((e=>{const a=e.cluster_id;a&&t.add(`'${a}'`)})),`id in (${Array.from(t).join(",")})`})(u);try{await g.clusterService.searchClusters(e).then((e=>{var t;const a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.items;null==a||a.forEach((e=>{if(e.id){const t=i.get(e.id);void 0!==t&&(t.cluster=e)}}))}))}catch(e){c=e}}return{data:{items:H(i,n,l),page:a.data.page,total:a.data.total||0,queryParams:{...e},...c?{meta:{clustersServiceError:c}}:{}}}})(e)))(e))},B=e=>(0,s.action)(v.clustersConstants.GET_CLUSTER_DETAILS,(async e=>{var t,a,l,r,i,s,u,c,E,v,h,_,C;const y=[d.SelfAccessReview.action.CREATE,d.SelfAccessReview.action.UPDATE,d.SelfAccessReview.action.GET,d.SelfAccessReview.action.LIST,d.SelfAccessReview.action.DELETE];let I=!1,A=!1,R=!1,T=!1,O=!1;const P=(e,t)=>(e[t]=!1,e),D=y.reduce(P,{}),L=y.reduce(P,{}),N=y.reduce(P,{}),w=await g.accountsService.getSubscription(e);w.data=(0,p.Pb)(w.data);const k=(null===(a=null===(t=null==w?void 0:w.data)||void 0===t?void 0:t.plan)||void 0===a?void 0:a.type)===f.knownProducts.ARO,F=S.includes((null===(r=null===(l=null==w?void 0:w.data)||void 0===l?void 0:l.plan)||void 0===r?void 0:r.type)||""),M=b.includes((null===(s=null===(i=null==w?void 0:w.data)||void 0===i?void 0:i.plan)||void 0===s?void 0:s.type)||"");if(w.data.status!==d.SubscriptionCommonFields.status.DEPROVISIONED&&(await g.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.UPDATE,resource_type:d.SelfAccessReview.resource_type.SUBSCRIPTION,subscription_id:e}).then((e=>{I=e.data.allowed})),y.forEach((async t=>{await g.authorizationsService.selfAccessReview({action:t,resource_type:d.SelfAccessReview.resource_type.IDP,subscription_id:e}).then((e=>{D[t]=e.data.allowed}))})),await g.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.UPDATE,resource_type:d.SelfAccessReview.resource_type.CLUSTER_AUTOSCALER,subscription_id:e}).then((e=>{R=e.data.allowed})),await g.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.CREATE,resource_type:d.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,subscription_id:e}).then((e=>{A=e.data.allowed})),await g.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.GET,resource_type:d.SelfAccessReview.resource_type.SUBSCRIPTION_ROLE_BINDING,subscription_id:e}).then((e=>{T=e.data.allowed})),await g.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.UPDATE,resource_type:d.SelfAccessReview.resource_type.CLUSTER,subscription_id:e}).then((e=>{O=e.data.allowed})),y.forEach((async t=>{await g.authorizationsService.selfAccessReview({action:t,resource_type:d.SelfAccessReview.resource_type.MACHINE_POOL,subscription_id:e}).then((e=>{L[t]=e.data.allowed}))})),y.map((async t=>{await g.authorizationsService.selfAccessReview({action:t,resource_type:d.SelfAccessReview.resource_type.CLUSTER_KUBELET_CONFIG,subscription_id:e}).then((e=>{N[t]=e.data.allowed}))}))),(w.data.managed||k)&&w.data.status!==d.SubscriptionCommonFields.status.DEPROVISIONED){const e=await g.clusterService.getClusterDetails(w.data.cluster_id),t={data:{...(0,p._v)(e.data),subscription:w.data,metrics:(0,p.bd)(null===(u=w.data.metrics)||void 0===u?void 0:u[0])}},a=await g.clusterService.getClusterGateAgreements(w.data.cluster_id);t.data.upgradeGates=(null===(c=a.data)||void 0===c?void 0:c.items)||[];const l=await g.authorizationsService.selfAccessReview({action:d.SelfAccessReview.action.DELETE,resource_type:d.SelfAccessReview.resource_type.CLUSTER,cluster_id:w.data.cluster_id}),n=await g.clusterService.getLimitedSupportReasons(w.data.cluster_id);if(t.data.limitedSupportReasons=(null===(E=n.data)||void 0===E?void 0:E.items)||[],F||M){const e=await g.clusterService.getInflightChecks(w.data.cluster_id);t.data.inflight_checks=(null===(v=e.data)||void 0===v?void 0:v.items)||[]}return t.data.canEdit=I,t.data.idpActions=D,t.data.canEditOCMRoles=A,t.data.canViewOCMRoles=T,t.data.canEditClusterAutoscaler=R,t.data.machinePoolsActions=L,t.data.kubeletConfigActions=N,t.data.canDelete=!!(null===(h=null==l?void 0:l.data)||void 0===h?void 0:h.allowed),t.data.canUpdateClusterResource=O,t}let x;if((0,m.default)(w.data)&&w.data.cluster_id){try{const e=await g.assistedService.getAICluster(w.data.cluster_id);x=(0,p.DX)(w.data,(null==e?void 0:e.data)||null),x.aiCluster=e.data}catch(e){if(!n().isAxiosError(e)||404!==(null===(_=e.response)||void 0===_?void 0:_.status))throw e;console.info("Failed to query assisted-installer cluster id: ",w.data.cluster_id),x=(0,p.HQ)(w.data)}try{const e=await g.assistedService.getAIFeatureSupportLevels(x.openshift_version||"",x.cpu_architecture);x.aiSupportLevels=e}catch(e){o.Cp(new Error(`Failed to query feature support levels: ${n().isAxiosError(e)?JSON.stringify(null===(C=e.response)||void 0===C?void 0:C.data):""}`))}}else x=(0,p.HQ)(w.data);return x.canEdit=I,x.canEditOCMRoles=A,x.canViewOCMRoles=T,x.canDelete=!1,x.subscription=w.data,{data:x}})(e)),q=(e,t=!1)=>(0,s.action)(v.clustersConstants.SET_CLUSTER_DETAILS,{cluster:e,mergeDetails:t}),j=()=>(0,s.action)(v.clustersConstants.RESET_CREATED_CLUSTER_RESPONSE),z=e=>(0,s.action)(v.clustersConstants.GET_CLUSTER_STATUS,g.clusterService.getClusterStatus(e)),W=e=>(0,s.action)(v.clustersConstants.GET_INFLIGHT_CHECKS,g.clusterService.getInflightChecks(e)),$=e=>(0,s.action)(v.clustersConstants.RERUN_INFLIGHT_CHECKS,g.clusterService.rerunInflightChecks(e)),K=e=>(0,s.action)(v.clustersConstants.GET_RERUN_INFLIGHT_CHECKS,(async e=>{const t=e.map((e=>g.clusterService.getTriggeredInflightCheckState(e)));return{data:{items:(await Promise.allSettled(t)).filter((e=>"rejected"!==e.status)).map((e=>{var t;return null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.data})),page:0,total:0}}})(e)),Y=()=>(0,s.action)(v.clustersConstants.CLEAR_INFLIGHT_CHECKS),Q=()=>(0,s.action)(v.clustersConstants.CLEAR_CLUSTER_VERSIONS_RESPONSE),Z={clearClusterResponse:A,createCluster:y,registerDisconnectedCluster:I,editCluster:R,fetchClusters:V,fetchClusterDetails:B,setClusterDetails:q,clearClusterDetails:()=>(0,s.action)(v.clustersConstants.CLEAR_CLUSTER_DETAILS),invalidateClusters:C,resetCreatedClusterResponse:j,editClusterDisplayName:T,archiveCluster:P,unarchiveCluster:x,getClusterStatus:z,getInflightChecks:W,rerunInflightChecks:$,clearInflightChecks:Y,getRerunInflightChecks:K,clearInstallableVersions:Q,getInstallableVersions:e=>{const t=g.clusterService.getInstallableVersions(e);return(0,s.action)(v.clustersConstants.GET_CLUSTER_VERSIONS,t,e)}}},23557:(e,t,a)=>{"use strict";a.r(t),a.d(t,{costActions:()=>u,getReport:()=>i,getSources:()=>s,getUserAccess:()=>o});var l=a(77475),n=a(90020),r=a(22916);const i=e=>(0,l.action)(r.costConstants.GET_REPORT,n.costService.getReport(e)),s=e=>(0,l.action)(r.costConstants.GET_SOURCES,n.costService.getSources(e)),o=e=>(0,l.action)(r.costConstants.GET_USER_ACCESS,n.costService.getUserAccess(e)),u={getReport:i,getSources:s,getUserAccess:o}},30997:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,getSummaryDashboard:()=>i,getUnhealthyClusters:()=>s});var l=a(77475),n=a(90020),r=a(22916);const i=()=>(0,l.action)(r.dashboardsConstants.GET_SUMMARY_DASHBOARD,n.accountsService.getCurrentAccount().then((e=>{var t,a;return null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id})).then((e=>e?n.accountManager.getDashboard(e):Promise.reject(new Error("No logged in user")))).then((e=>{const t={},a={};return e.data.metrics.forEach((e=>{var a;e.name&&(t[e.name]=null!==(a=e.vector)&&void 0!==a?a:[])})),e.data.name&&(a[e.data.name]=t),a}))),s=e=>(0,l.action)(r.dashboardsConstants.GET_UNHEALTHY_CLUSTERS,(e=>n.accountsService.getCurrentAccount().then((e=>{var t,a;return null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id})).then((t=>t?n.accountsService.getUnhealthyClusters(t,e):Promise.reject(new Error("No logged in user")))))(e)),o={getSummaryDashboard:i,getUnhealthyClusters:s}},58108:(e,t,a)=>{"use strict";a.d(t,{py:()=>u,qT:()=>o});var l=a(77475),n=a(35920),r=a(976);const i=(e,t)=>(0,l.action)(r.SET_FEATURE,{feature:e,enabled:t}),s=(e,t)=>({name:t,action:()=>n.A.selfFeatureReview(e).then((e=>e.data.enabled))}),o=[s("hypershift-creation-wizard",r.HYPERSHIFT_WIZARD_FEATURE),s("hcp-use-unmanaged-policies",r.HCP_USE_UNMANAGED),s("ocmui-unstable-cluster-versions",r.UNSTABLE_CLUSTER_VERSIONS),s("ocmui-edit-billing-account",r.EDIT_BILLING_ACCOUNT),s("ocmui-gcp-private-service-connect",r.PRIVATE_SERVICE_CONNECT),s("enable-machine-configuration",r.ENABLE_MACHINE_CONFIGURATION),s("cli-sso-authorization",r.CLI_SSO_AUTHORIZATION),s("multi-region-support",r.MULTIREGION_PREVIEW_ENABLED),s("cluster-ownership-transfer",r.CLUSTER_OWNERSHIP_TRANSFER),s("gcp-workload-identity-federation",r.OSD_GCP_WIF),s("enable-create-cluster-yaml-editor",r.CREATE_CLUSTER_YAML_EDITOR),s("max-compute-nodes-500",r.MAX_COMPUTE_NODES_500),s("ocmui-hcp-root-disk-size",r.HCP_ROOT_DISK_SIZE),s("bypass-compute-node-count-limit-classic-osd-gcp",r.BYPASS_COMPUTE_NODE_COUNT_LIMIT_CLASSIC_OSD_GCP)],u=()=>e=>{o.forEach((({name:t,action:a})=>a().then((a=>e(i(t,a)))).catch((()=>e(i(t,!1))))))}},16521:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DEFAULT_FLAVOUR_ID:()=>i,getDefaultFlavour:()=>s});var l=a(77475),n=a(90020),r=a(22916);const i="osd-4",s=()=>(0,l.action)(r.flavourConstants.GET_DEFAULT_FLAVOUR,n.clusterService.getFlavour(i))},2506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GITHUB_GET_LATEST_RELEASE:()=>i,getLatestRelease:()=>s});var l=a(77475),n=a(42561),r=a.n(n);const i="GITHUB_GET_LATEST_RELEASE",s=e=>(0,l.action)(i,(e=>r().get(`https://api.github.com/repos/${e}/releases/latest`))(e),{repo:e})},9059:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearGlobalError:()=>i,setGlobalError:()=>r});var l=a(77475),n=a(2895);const r=(e,t,a)=>(0,l.action)(n.y,{errorTitle:e,errorMessage:a,sourceComponent:t}),i=e=>(0,l.action)(n.b,e)},56349:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clustersActions:()=>l.clustersActions,costActions:()=>n.costActions,githubActions:()=>r,subscriptionReleasedActions:()=>i.subscriptionReleasedActions,tollboothActions:()=>s.f,userActions:()=>o.userActions});var l=a(80883),n=a(23557),r=a(2506),i=a(5368),s=a(12434),o=a(2479)},11912:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearMachineTypesByRegion:()=>d,getMachineTypes:()=>s,getMachineTypesByRegion:()=>u,getMachineTypesByRegionARN:()=>c,groupByCloudProvider:()=>i,machineTypesActions:()=>o,machineTypesByRegionActions:()=>m});var l=a(77475),n=a(90020),r=a(22916);const i=e=>{const t={};return null==e||e.forEach((e=>{var a;const l=null===(a=e.cloud_provider)||void 0===a?void 0:a.id;l&&(t[l]?t[l].push(e):t[l]=[e])})),t},s=()=>(0,l.action)(r.machineTypesConstants.GET_MACHINE_TYPES,n.clusterService.getMachineTypes().then((e=>i(e.data.items)))),o={getMachineTypes:s},u=(e,t,a,s)=>(0,l.action)(r.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION,n.clusterService.getMachineTypesByRegion(e,t,a,s).then((e=>i(e.data.items))),{region:{id:s}}),c=(e,t)=>(0,l.action)(r.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION,n.clusterService.getMachineTypesByRegionARN(e,t).then((e=>i(e.data.items))),{region:{id:t}}),d=()=>(0,l.action)(r.machineTypesConstants.RESET_INITIAL_STATE),m={getMachineTypesByRegion:u,getMachineTypesByRegionARN:c,clearMachineTypesByRegion:d}},5368:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearToggleSubscriptionReleasedResponse:()=>s,subscriptionReleasedActions:()=>o,toggleSubscriptionReleased:()=>i});var l=a(77475),n=a(56480),r=a(90020);const i=(e,t)=>{const a=t?null:{notifications:{fulfilled:{variant:"success",title:"Cluster ownership transfer canceled",dismissDelay:8e3,dismissable:!1}}};return(0,l.action)(n.B,r.accountsService.editSubscription(e,{released:t}),a)},s=()=>(0,l.action)(n.p),o={toggleSubscriptionReleased:i,clearToggleSubscriptionReleasedResponse:s}},56540:(e,t,a)=>{"use strict";a.r(t),a.d(t,{clearSubscriptionIDForCluster:()=>f,fetchAccount:()=>u,fetchQuotaCost:()=>m,fetchSubscriptionIDForCluster:()=>p,getSubscriptions:()=>c,invalidateSubscriptions:()=>d,subscriptionsActions:()=>E});var l=a(77475),n=a(99047),r=a(13642),i=a(90020),s=a(22916),o=a(95762);const u=()=>(0,l.action)(s.subscriptionsConstants.GET_ACCOUNT,i.accountsService.getCurrentAccount()),c=e=>(0,l.action)(s.subscriptionsConstants.GET_SUBSCRIPTIONS,(async e=>{let t={};const a=await i.authorizationsService.selfResourceReview({action:r.SelfResourceReviewRequest.action.UPDATE,resource_type:r.SelfResourceReviewRequest.resource_type.CLUSTER});return t=(0,o.buildPermissionDict)(a),i.accountsService.getSubscriptions(e).then((e=>{var a;return null===(a=e.data.items)||void 0===a||a.forEach((e=>{e.canEdit=t["*"]||!!e.cluster_id&&!!t[e.cluster_id]})),e}))})(e)),d=()=>(0,l.action)((0,o.INVALIDATE_ACTION)(s.subscriptionsConstants.GET_SUBSCRIPTIONS)),m=e=>(0,l.action)(s.subscriptionsConstants.GET_QUOTA_COST,i.accountsService.getOrganizationQuota(e)),p=e=>(0,l.action)(s.subscriptionsConstants.GET_SUBSCRIPTION_ID,(e=>(0,n.A)(e)?i.accountsService.fetchSubscriptionByExternalId(e).then((e=>{var t,a,l;return null===(l=null===(a=null===(t=e.data)||void 0===t?void 0:t.items)||void 0===a?void 0:a[0])||void 0===l?void 0:l.id})):i.clusterService.getClusterDetails(e).then((e=>{var t;return null===(t=e.data.subscription)||void 0===t?void 0:t.id})))(e)),f=()=>(0,l.action)(s.subscriptionsConstants.CLEAR_SUBSCRIPTION_ID),E={fetchAccount:u,fetchQuotaCost:m,getSubscriptions:c,invalidateSubscriptions:d,fetchSubscriptionIDForCluster:p,clearSubscriptionIDForCluster:f}},13683:(e,t,a)=>{"use strict";a.r(t),a.d(t,{addNotificationContact:()=>m,buildNotificationsMeta:()=>s,clearAddNotificationContacts:()=>u,clearDeleteNotificationContacts:()=>c,clearNotificationContacts:()=>o,deleteNotificationContact:()=>p,getNotificationContacts:()=>d,getSupportCases:()=>f});var l=a(77475),n=a(99447),r=a(90020),i=a(95762);const s=(e,t)=>({notifications:{fulfilled:{variant:"success",title:e,dismissDelay:8e3,dismissable:!1}},accountID:t}),o=()=>(0,l.action)((0,i.INVALIDATE_ACTION)(n.oq)),u=()=>(0,l.action)((0,i.INVALIDATE_ACTION)(n.BW)),c=()=>(0,l.action)((0,i.INVALIDATE_ACTION)(n.hh)),d=e=>(0,l.action)(n.DB,r.accountsService.getNotificationContacts(e),{subscriptionID:e}),m=(e,t)=>(0,l.action)(n.BW,r.accountsService.addNotificationContact(e,t)),p=(e,t)=>(0,l.action)(n.hh,r.accountsService.deleteNotificationContact(e,t),s("Notification contact deleted successfully",t)),f=e=>(0,l.action)(n.bP,r.accountsService.getSupportCases(e),{subscriptionID:e})},12434:(e,t,a)=>{"use strict";a.d(t,{O:()=>r,f:()=>i});var l=a(77475),n=a(98639);const r="FETCH_AUTHORIZATION_TOKEN",i={createAuthToken:()=>(0,l.action)(r,(0,n.r)())}},33799:(e,t,a)=>{"use strict";a.r(t),a.d(t,{fetchUpgradeGates:()=>o,rejectGateAction:()=>c,setClusterUpgradeGate:()=>u,upgradeGateActions:()=>d});var l=a(77475),n=a(99908),r=a(90020),i=a(22916),s=a(95762);const o=()=>(0,l.action)(i.clustersConstants.GET_UPGRADE_GATES,r.clusterService.getUpgradeGates().then((e=>e.data.items))),u=e=>(0,l.action)(i.clustersConstants.SET_CLUSTER_UPGRADE_GATE,e),c=e=>({type:(0,s.REJECTED_ACTION)(n.POST_UPGRADE_SCHEDULE),error:e,payload:e}),d={fetchUpgradeGates:o,setClusterUpgradeGate:u,rejectGateAction:c}},2479:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getOrganizationAndQuota:()=>d,selfTermsReview:()=>m,userActions:()=>p,userInfoResponse:()=>s});var l=a(77475),n=a(1727),r=a(90020),i=a(22916);const s=e=>(0,l.action)(i.userConstants.USER_INFO_RESPONSE,e),o=e=>{var t,a;return{items:(null!==(a=null===(t=e.data)||void 0===t?void 0:t.items)&&void 0!==a?a:[]).map(n.tS)}},u=e=>r.accountsService.getOrganizationQuota(e).then(o),c=(e,t)=>{const a=[u(e),t?Promise.resolve({data:t}):r.accountsService.getOrganization(e)];return Promise.all(a).then((([e,t])=>({quota:e,organization:t.data})))},d=()=>(e,t)=>{var a;const{userProfile:n}=t(),s=(null==n?void 0:n.organization.fulfilled)?null===(a=null==n?void 0:n.organization)||void 0===a?void 0:a.details:void 0,o=null==s?void 0:s.id;var u;e((u=void 0!==o?c(o,s):r.accountsService.getCurrentAccount().then((e=>{var t,a;const l=null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id;return void 0!==l?c(l):Promise.reject(Error("No organization"))})),(0,l.action)(i.userConstants.GET_ORGANIZATION,u)))},m=()=>(0,l.action)(i.userConstants.SELF_TERMS_REVIEW,r.authorizationsService.selfTermsReview()),p={userInfoResponse:s,getOrganizationAndQuota:d,processQuota:o,selfTermsReview:m}},27241:(e,t,a)=>{"use strict";a.r(t),a.d(t,{onClearFiltersAndFlags:()=>f,onFirstPage:()=>i,onLastPage:()=>s,onListFilterSet:()=>m,onListFlagsSet:()=>p,onListSortBy:()=>g,onNextPage:()=>u,onPageInput:()=>c,onPerPageSelect:()=>d,onPreviousPage:()=>o,onResetFiltersAndFlags:()=>E,onSetTotalClusters:()=>r,viewActions:()=>v});var l=a(77475),n=a(22916);const r=(e,t)=>(0,l.action)(n.viewPaginationConstants.SET_TOTAL_ITEMS,{viewType:t,totalCount:e||0}),i=e=>(0,l.action)(n.viewPaginationConstants.VIEW_FIRST_PAGE,{viewType:e}),s=e=>(0,l.action)(n.viewPaginationConstants.VIEW_LAST_PAGE,{viewType:e}),o=e=>(0,l.action)(n.viewPaginationConstants.VIEW_PREVIOUS_PAGE,{viewType:e}),u=e=>(0,l.action)(n.viewPaginationConstants.VIEW_NEXT_PAGE,{viewType:e}),c=(e,t)=>(0,l.action)(n.viewPaginationConstants.VIEW_PAGE_NUMBER,{viewType:t,pageNumber:e}),d=(e,t,a)=>(0,l.action)(n.viewPaginationConstants.SET_PER_PAGE,{viewType:t,pageSize:e,updatePageCounts:a}),m=(e,t)=>(0,l.action)(n.viewPaginationConstants.VIEW_SET_LIST_FILTER,{viewType:t,filter:e}),p=(e,t,a)=>(0,l.action)(n.viewPaginationConstants.VIEW_SET_LIST_FLAGS,{viewType:a,key:e,value:t}),f=e=>(0,l.action)(n.viewPaginationConstants.VIEW_CLEAR_FILTERS_AND_FLAGS,{viewType:e}),E=e=>(0,l.action)(n.viewPaginationConstants.VIEW_RESET_FILTERS_AND_FLAGS,{viewType:e}),g=(e,t)=>(0,l.action)(n.viewPaginationConstants.VIEW_CHANGE_SORT,{viewType:t,sorting:e}),v={onFirstPage:i,onLastPage:s,onPreviousPage:o,onNextPage:u,onPageInput:c,onPerPageSelect:d,onListFilterSet:m,onListFlagsSet:p,onListSortBy:g,onClearFiltersAndFlags:f,onResetFiltersAndFlags:E,onSetTotalClusters:r}},86051:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CAN_MAKE_ACCESS_REQUEST_DECISION:()=>m,GET_ACCESS_PROTECTION:()=>f,GET_ACCESS_REQUEST:()=>n,GET_ACCESS_REQUESTS:()=>l,GET_ORGANIZATION_ACCESS_PROTECTION:()=>E,GET_ORGANIZATION_PENDING_ACCESS_REQUESTS:()=>o,GET_PENDING_ACCESS_REQUESTS:()=>s,POST_ACCESS_REQUEST_DECISION:()=>c,RESET_ACCESS_PROTECTION:()=>g,RESET_ACCESS_REQUEST:()=>i,RESET_ACCESS_REQUESTS:()=>r,RESET_CAN_MAKE_ACCESS_REQUEST_DECISION:()=>h,RESET_GET_PENDING_ACCESS_REQUESTS:()=>u,RESET_ORGANIZATION_ACCESS_PROTECTION:()=>v,RESET_ORGANIZATION_PENDING_ACCESS_REQUESTS:()=>p,RESET_POST_ACCESS_REQUEST_DECISION:()=>d});const l="GET_ACCESS_REQUESTS",n="GET_ACCESS_REQUEST",r="RESET_ACCESS_REQUESTS",i="RESET_ACCESS_REQUEST",s="GET_PENDING_ACCESS_REQUESTS",o="GET_ORGANIZATION_PENDING_ACCESS_REQUESTS",u="RESET_GET_PENDING_ACCESS_REQUESTS",c="POST_ACCESS_REQUEST_DECISION",d="RESET_POST_ACCESS_REQUEST_DECISION",m="CAN_MAKE_ACCESS_REQUEST_DECISION",p="RESET_ORGANIZATION_PENDING_ACCESS_REQUESTS",f="GET_ACCESS_PROTECTION",E="GET_ORGANIZATION_ACCESS_PROTECTION",g="RESET_ACCESS_PROTECTION",v="RESET_ORGANIZATION_ACCESS_PROTECTION",h="RESET_CAN_MAKE_ACCESS_REQUEST_DECISION"},21345:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});const l="CREATE_ENTITLEMENT_CONFIG"},976:(e,t,a)=>{"use strict";a.r(t),a.d(t,{BYPASS_COMPUTE_NODE_COUNT_LIMIT_CLASSIC_OSD_GCP:()=>v,CLI_SSO_AUTHORIZATION:()=>s,CLUSTER_OWNERSHIP_TRANSFER:()=>u,CREATE_CLUSTER_YAML_EDITOR:()=>p,EDIT_BILLING_ACCOUNT:()=>f,ENABLE_MACHINE_CONFIGURATION:()=>i,HCP_ROOT_DISK_SIZE:()=>g,HCP_USE_UNMANAGED:()=>r,HYPERSHIFT_WIZARD_FEATURE:()=>n,MAX_COMPUTE_NODES_500:()=>d,MULTIREGION_PREVIEW_ENABLED:()=>o,OSD_GCP_WIF:()=>m,PRIVATE_SERVICE_CONNECT:()=>E,SET_FEATURE:()=>l,UNSTABLE_CLUSTER_VERSIONS:()=>c});const l="SET_FEATURE",n="HYPERSHIFT_WIZARD_FEATURE",r="HCP_USE_UNMANAGED",i="ENABLE_MACHINE_CONFIGURATION",s="CLI_SSO_AUTHORIZATION",o="MULTIREGION_PREVIEW_ENABLED",u="CLUSTER_OWNERSHIP_TRANSFER",c="UNSTABLE_CLUSTER_VERSIONS",d="MAX_COMPUTE_NODES_500",m="OSD_GCP_WIF",p="CREATE_CLUSTER_YAML_EDITOR",f="EDIT_BILLING_ACCOUNT",E="PRIVATE_SERVICE_CONNECT",g="HCP_ROOT_DISK_SIZE",v="BYPASS_COMPUTE_NODE_COUNT_LIMIT_CLASSIC_OSD_GCP"},63537:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GET_DEFAULT_FLAVOUR:()=>l});const l="GET_DEFAULT_FLAVOUR"},2895:(e,t,a)=>{"use strict";a.d(t,{b:()=>n,y:()=>l});const l="SET_GLOBAL_ERROR",n="CLEAR_GLOBAL_ERROR"},22916:(e,t,a)=>{"use strict";a.r(t),a.d(t,{accessRequestConstants:()=>v,cloudProviderConstants:()=>l,clusterAutoscalerConstants:()=>n,clustersConstants:()=>r,costConstants:()=>i,dashboardsConstants:()=>s,dnsDomainsConstants:()=>o,featureConstants:()=>Ee,flavourConstants:()=>ge,loadBalancerConstants:()=>u,machineTypesConstants:()=>c,persistentStorageConstants:()=>d,subscriptionSettingsConstants:()=>p,subscriptionsConstants:()=>m,userConstants:()=>f,viewConstants:()=>Me,viewOptionsConstants:()=>E,viewPaginationConstants:()=>g});var l={};a.r(l),a.d(l,{GET_CLOUD_PROVIDERS:()=>h,default:()=>_});var n={};a.r(n),a.d(n,{CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE:()=>R,CLEAR_LAST_ACTION_RESULT:()=>A,DISABLE_CLUSTER_AUTOSCALER:()=>C,ENABLE_CLUSTER_AUTOSCALER:()=>b,GET_CLUSTER_AUTOSCALER:()=>S,SET_HAS_INITIAL_AUTOSCALER:()=>I,UPDATE_CLUSTER_AUTOSCALER:()=>y,default:()=>T});var r={};a.r(r),a.d(r,{ARCHIVE_CLUSTER:()=>L,CLEAR_CLUSTER_ARCHIVE_RESPONSE:()=>N,CLEAR_CLUSTER_DETAILS:()=>U,CLEAR_CLUSTER_HIBERNATE_RESPONSE:()=>Q,CLEAR_CLUSTER_UNARCHIVE_RESPONSE:()=>k,CLEAR_CLUSTER_VERSIONS_RESPONSE:()=>W,CLEAR_DISPLAY_NAME_RESPONSE:()=>O,CLEAR_INFLIGHT_CHECKS:()=>j,CLEAR_RESUME_CLUSTER_RESPONSE:()=>X,CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE:()=>ee,CREATE_CLUSTER:()=>P,EDIT_CLUSTER:()=>D,GET_CLUSTERS:()=>F,GET_CLUSTERS_WITH_PARAMS:()=>M,GET_CLUSTER_AWS_ACCOUNT_ID:()=>K,GET_CLUSTER_DETAILS:()=>x,GET_CLUSTER_STATUS:()=>V,GET_CLUSTER_UPGRADE_GATES:()=>ae,GET_CLUSTER_VERSIONS:()=>$,GET_INFLIGHT_CHECKS:()=>B,GET_RERUN_INFLIGHT_CHECKS:()=>z,GET_TECH_PREVIEW:()=>ne,GET_UPGRADE_GATES:()=>te,HIBERNATE_CLUSTER:()=>Y,RERUN_INFLIGHT_CHECKS:()=>q,RESET_CREATED_CLUSTER_RESPONSE:()=>H,RESUME_CLUSTER:()=>Z,SET_CLUSTER_DETAILS:()=>G,SET_CLUSTER_UPGRADE_GATE:()=>le,UNARCHIVE_CLUSTER:()=>w,UPGRADE_TRIAL_CLUSTER:()=>J});var i={};a.r(i),a.d(i,{GET_REPORT:()=>re,GET_SOURCES:()=>ie,GET_USER_ACCESS:()=>se});var s={};a.r(s),a.d(s,{GET_SUMMARY_DASHBOARD:()=>oe,GET_UNHEALTHY_CLUSTERS:()=>ue,SUMMARY_DASHBOARD:()=>ce});var o={};a.r(o),a.d(o,{CLEAR_CREATED_DNS_DOMAIN:()=>fe,CREATE_DNS_DOMAIN:()=>me,DELETE_DNS_DOMAIN:()=>pe,GET_DNS_DOMAINS:()=>de});var u={};a.r(u),a.d(u,{GET_LOAD_BALANCER_VALUES:()=>ve,default:()=>he});var c={};a.r(c),a.d(c,{GET_MACHINE_TYPES:()=>_e,GET_MACHINE_TYPES_BY_REGION:()=>Se,RESET_INITIAL_STATE:()=>be,default:()=>Ce});var d={};a.r(d),a.d(d,{GET_PERSISTENT_STORAGE_VALUES:()=>ye,default:()=>Ie});var m={};a.r(m),a.d(m,{CLEAR_SUBSCRIPTION_ID:()=>Pe,GET_ACCOUNT:()=>Ae,GET_QUOTA_COST:()=>Te,GET_SUBSCRIPTIONS:()=>Re,GET_SUBSCRIPTION_ID:()=>Oe});var p={};a.r(p),a.d(p,{CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE:()=>Le,EDIT_SUBSCRIPTION_SETTINGS:()=>De});var f={};a.r(f),a.d(f,{GET_ORGANIZATION:()=>we,SELF_TERMS_REVIEW:()=>ke,USER_INFO_RESPONSE:()=>Ne,default:()=>Fe});var E={};a.r(E),a.d(E,{VIEW_MY_CLUSTERS_ONLY_CHANGED:()=>xe,default:()=>Ge});var g={};a.r(g),a.d(g,{SET_PER_PAGE:()=>je,SET_TOTAL_ITEMS:()=>Qe,VIEW_CHANGE_SORT:()=>Ye,VIEW_CLEAR_FILTERS_AND_FLAGS:()=>$e,VIEW_FIRST_PAGE:()=>Ue,VIEW_LAST_PAGE:()=>He,VIEW_NEXT_PAGE:()=>Be,VIEW_PAGE_NUMBER:()=>qe,VIEW_PREVIOUS_PAGE:()=>Ve,VIEW_RESET_FILTERS_AND_FLAGS:()=>Ke,VIEW_SET_LIST_FILTER:()=>ze,VIEW_SET_LIST_FLAGS:()=>We});var v=a(86051);const h="GET_CLOUD_PROVIDERS",_=h,S="GET_CLUSTER_AUTOSCALER",b="ENABLE_CLUSTER_AUTOSCALER",C="DISABLE_CLUSTER_AUTOSCALER",y="UPDATE_CLUSTER_AUTOSCALER",I="SET_HAS_INITIAL_AUTOSCALER",A="CLEAR_LAST_ACTION_RESULT",R="CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE",T=S,O="CLEAR_DISPLAY_NAME_RESPONSE",P="CREATE_CLUSTER",D="EDIT_CLUSTER",L="ARCHIVE_CLUSTER",N="CLEAR_CLUSTER_ARCHIVE_RESPONSE",w="UNARCHIVE_CLUSTER",k="CLEAR_CLUSTER_UNARCHIVE_RESPONSE",F="GET_CLUSTERS",M="GET_CLUSTERS_WITH_PARAMS",x="GET_CLUSTER_DETAILS",G="SET_CLUSTER_DETAILS",U="CLEAR_CLUSTER_DETAILS",H="RESET_CREATED_CLUSTER_RESPONSE",V="GET_CLUSTER_STATUS",B="GET_INFLIGHT_CHECKS",q="RERUN_INFLIGHT_CHECKS",j="CLEAR_INFLIGHT_CHECKS",z="GET_RERUN_INFLIGHT_CHECKS",W="CLEAR_CLUSTER_VERSIONS_RESPONSE",$="GET_CLUSTER_VERSIONS",K="GET_CLUSTER_AWS_ACCOUNT_ID",Y="HIBERNATE_CLUSTER",Q="CLEAR_CLUSTER_HIBERNATE_RESPONSE",Z="RESUME_CLUSTER",X="CLEAR_RESUME_CLUSTER_RESPONSE",J="UPGRADE_TRIAL_CLUSTER",ee="CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE",te="GET_UPGRADE_GATES",ae="GET_CLUSTER_UPGRADE_GATES",le="SET_CLUSTER_UPGRADE_GATE",ne="GET_TECH_PREVIEW",re="GET_REPORT",ie="GET_SOURCES",se="GET_USER_ACCESS",oe="GET_SUMMARY_DASHBOARD",ue="GET_UNHEALTHY_CLUSTERS",ce="summary",de="GET_DNS_DOMAINS",me="CREATE_DNS_DOMAIN",pe="DELETE_DNS_DOMAIN",fe="CLEAR_CREATED_DNS_DOMAIN";var Ee=a(976),ge=a(63537);const ve="GET_LOAD_BALANCER_VALUES",he=ve,_e="GET_MACHINE_TYPES",Se="GET_MACHINE_TYPES_BY_REGION",be="RESET_INITIAL_STATE",Ce=_e,ye="GET_PERSISTENT_STORAGE_VALUES",Ie=ye,Ae="GET_ACCOUNT",Re="GET_SUBSCRIPTIONS",Te="GET_QUOTA_COST",Oe="GET_SUBSCRIPTION_ID",Pe="CLEAR_SUBSCRIPTION_ID",De="EDIT_SUBSCRIPTION_SETTINGS",Le="CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE",Ne="USER_INFO_RESPONSE",we="GET_ORGANIZATION",ke="SELF_TERMS_REVIEW",Fe={USER_INFO_RESPONSE:Ne,GET_ORGANIZATION:we,SELF_TERMS_REVIEW:ke};var Me=a(67285);const xe="VIEW_MY_CLUSTERS_ONLY_CHANGED",Ge={VIEW_MY_CLUSTERS_ONLY_CHANGED:xe},Ue="VIEW_FIRST_PAGE",He="VIEW_LAST_PAGE",Ve="VIEW_PREVIOUS_PAGE",Be="VIEW_NEXT_PAGE",qe="VIEW_PAGE_NUMBER",je="SET_PER_PAGE",ze="VIEW_SET_LIST_FILTER",We="VIEW_SET_LIST_FLAGS",$e="VIEW_CLEAR_FILTERS_AND_FLAGS",Ke="VIEW_RESET_FILTERS_AND_FLAGS",Ye="VIEW_CHANGE_SORT",Qe="SET_TOTAL_ITEMS"},99447:(e,t,a)=>{"use strict";a.d(t,{BW:()=>n,DB:()=>l,bP:()=>s,hh:()=>r,oq:()=>i});const l="GET_NOTIFICATION_CONTACTS",n="ADD_NOTIFICATION_CONTACT",r="DELETE_NOTIFICATION_CONTACT",i="NOTIFICATION_CONTACTS",s="GET_SUPPORT_CASES"},78634:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});const l="GET_SUPPORT_STATUS"},67285:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ACCESS_REQUESTS_VIEW:()=>l,ARCHIVED_CLUSTERS_VIEW:()=>r,CLUSTERS_VIEW:()=>n,CLUSTER_LOGS_VIEW:()=>i,OVERVIEW_EXPIRED_TRIALS:()=>o,OVERVIEW_VIEW:()=>s,default:()=>u});const l="ACCESS_REQUESTS_VIEW",n="CLUSTERS_VIEW",r="ARCHIVED_CLUSTERS_VIEW",i="CLUSTER_LOGS_VIEW",s="OVERVIEW_VIEW",o="OVERVIEW_EXPIRED_TRIALS",u={ACCESS_REQUESTS_VIEW:l,CLUSTERS_VIEW:n,ARCHIVED_CLUSTERS_VIEW:r,CLUSTER_LOGS_VIEW:i,OVERVIEW_VIEW:s,OVERVIEW_EXPIRED_TRIALS:o}},32777:(e,t,a)=>{"use strict";a.d(t,{fO:()=>p,m:()=>d,qh:()=>f,sU:()=>m});var l=a(71468),n=a(90020),r=a(77475),i=a(22916),s=a(95762);const o=(e,t)=>(0,r.action)((0,s.PENDING_ACTION)(i.clustersConstants.GET_TECH_PREVIEW),{product:e,type:t}),u=(e,t)=>(0,r.action)((0,s.REJECTED_ACTION)(i.clustersConstants.GET_TECH_PREVIEW),{product:e,type:t}),c=(e,t,a)=>(0,r.action)((0,s.FULFILLED_ACTION)(i.clustersConstants.GET_TECH_PREVIEW),{product:e,type:t,data:a}),d=(e,t,a)=>e.clusters.techPreview[t]&&e.clusters.techPreview[t][a],m=(e,t)=>(0,l.d4)((a=>d(a,e,t))),p=async(e,t,a)=>(e(o(t,a)),n.clusterService.getTechPreviewStatus(t,a).then((l=>e(c(t,a,l.data)))).catch((l=>e(u(t,a))))),f=(e,t)=>{const a=(0,l.wA)();return()=>p(a,e,t)}},25514:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useGetTechPreviewStatus:()=>n.qh,useGlobalState:()=>l.useGlobalState,useTechPreviewStatus:()=>n.sU});var l=a(36165),n=a(32777)},36165:(e,t,a)=>{"use strict";a.r(t),a.d(t,{useGlobalState:()=>l});const l=a(71468).d4},8111:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,vI:()=>o});var l=a(1932),n=a(89217),r=a(52202),i=a(95762);const s={ccsCredentialsValidity:{...i.baseRequestState,cloudProvider:void 0,credentials:void 0},gcpKeyRings:{...i.baseRequestState,cloudProvider:void 0,credentials:void 0,keyLocation:void 0,data:{items:[]}},gcpKeys:{...i.baseRequestState,cloudProvider:void 0,credentials:void 0,keyLocation:void 0,keyRing:void 0,data:{items:[]}},regions:{...i.baseRequestState,cloudProvider:void 0,credentials:void 0,openshiftVersionId:void 0,data:{byID:{}}},vpcs:{...i.baseRequestState,cloudProvider:void 0,credentials:void 0,region:void 0,data:{items:[]}}},o=(e,t)=>{if(e.name&&!t.name)return-1;if(t.name&&!e.name)return 1;const a=e.name||e.id||"",l=t.name||t.id||"";return a.localeCompare(l)},u=e=>{const t={};return(e.items||[]).forEach((e=>{e.id&&(t[e.id]=e)})),t};function c(e=s,t){return(0,l.jM)(e,(a=>{var l,c,d,m,p,f,E,g,v,h,_,S,b,C,y,I,A,R,T,O,P,D,L,N,w,k,F,M,x,G;switch(t.type){case(0,i.PENDING_ACTION)(r.VALIDATE_CLOUD_PROVIDER_CREDENTIALS):a.ccsCredentialsValidity.pending=!0;break;case(0,i.FULFILLED_ACTION)(r.VALIDATE_CLOUD_PROVIDER_CREDENTIALS):a.ccsCredentialsValidity={...i.baseRequestState,fulfilled:!0,credentials:t.meta.credentials,cloudProvider:t.meta.cloudProvider};break;case(0,i.REJECTED_ACTION)(r.VALIDATE_CLOUD_PROVIDER_CREDENTIALS):a.ccsCredentialsValidity={...s.ccsCredentialsValidity,...(0,n.getErrorState)(t),credentials:null===(l=t.meta)||void 0===l?void 0:l.credentials,cloudProvider:null===(c=t.meta)||void 0===c?void 0:c.cloudProvider};break;case r.CLEAR_CCS_CREDENTIALS_INQUIRY:return{...e,ccsCredentialsValidity:{...s.ccsCredentialsValidity}};case(0,i.PENDING_ACTION)(r.LIST_GCP_KEY_RINGS):a.gcpKeyRings.pending=!0;break;case(0,i.FULFILLED_ACTION)(r.LIST_GCP_KEY_RINGS):a.gcpKeyRings={...i.baseRequestState,fulfilled:!0,cloudProvider:null===(d=t.meta)||void 0===d?void 0:d.cloudProvider,credentials:null===(m=t.meta)||void 0===m?void 0:m.credentials,keyLocation:null===(p=t.meta)||void 0===p?void 0:p.keyLocation,data:{items:t.payload.data.items||[]}};break;case(0,i.REJECTED_ACTION)(r.LIST_GCP_KEY_RINGS):a.gcpKeyRings={...s.gcpKeyRings,...(0,n.getErrorState)(t),cloudProvider:null===(f=t.meta)||void 0===f?void 0:f.cloudProvider,credentials:null===(E=t.meta)||void 0===E?void 0:E.credentials,keyLocation:null===(g=t.meta)||void 0===g?void 0:g.keyLocation};break;case(0,i.PENDING_ACTION)(r.LIST_GCP_KEYS):a.gcpKeys.pending=!0;break;case(0,i.FULFILLED_ACTION)(r.LIST_GCP_KEYS):a.gcpKeys={...i.baseRequestState,fulfilled:!0,cloudProvider:null===(v=t.meta)||void 0===v?void 0:v.cloudProvider,credentials:null===(h=t.meta)||void 0===h?void 0:h.credentials,keyLocation:null===(_=t.meta)||void 0===_?void 0:_.keyLocation,keyRing:null===(S=t.meta)||void 0===S?void 0:S.keyRing,data:{items:t.payload.data.items||[]}};break;case(0,i.REJECTED_ACTION)(r.LIST_GCP_KEYS):a.gcpKeys={...s.gcpKeys,...(0,n.getErrorState)(t),cloudProvider:null===(b=t.meta)||void 0===b?void 0:b.cloudProvider,credentials:null===(C=t.meta)||void 0===C?void 0:C.credentials,keyLocation:null===(y=t.meta)||void 0===y?void 0:y.keyLocation,keyRing:null===(I=t.meta)||void 0===I?void 0:I.keyRing};break;case(0,i.PENDING_ACTION)(r.LIST_REGIONS):a.regions.pending=!0;break;case(0,i.FULFILLED_ACTION)(r.LIST_REGIONS):a.regions={...i.baseRequestState,fulfilled:!0,cloudProvider:null===(A=t.meta)||void 0===A?void 0:A.cloudProvider,credentials:null===(R=t.meta)||void 0===R?void 0:R.credentials,openshiftVersionId:null===(T=t.meta)||void 0===T?void 0:T.openshiftVersionId,data:{byID:u(t.payload.data)}};break;case(0,i.REJECTED_ACTION)(r.LIST_REGIONS):a.regions={...s.regions,...(0,n.getErrorState)(t),cloudProvider:null===(O=t.meta)||void 0===O?void 0:O.cloudProvider,credentials:null===(P=t.meta)||void 0===P?void 0:P.credentials,openshiftVersionId:null===(D=t.meta)||void 0===D?void 0:D.openshiftVersionId};break;case(0,i.PENDING_ACTION)(r.LIST_VPCS):a.vpcs.pending=!0;break;case(0,i.FULFILLED_ACTION)(r.LIST_VPCS):{const e=t.payload.data.items||[],l="aws"===(null===(L=t.meta)||void 0===L?void 0:L.cloudProvider)?{items:e.map((e=>{if(e.aws_security_groups){const t=e.aws_security_groups.filter((e=>!e.red_hat_managed));return t.sort(o),{...e,aws_security_groups:t}}return e}))}:{items:e};a.vpcs={...i.baseRequestState,fulfilled:!0,credentials:null===(N=t.meta)||void 0===N?void 0:N.credentials,cloudProvider:null===(w=t.meta)||void 0===w?void 0:w.cloudProvider,region:null===(k=t.meta)||void 0===k?void 0:k.region,subnet:null===(F=t.meta)||void 0===F?void 0:F.subnet,data:l};break}case(0,i.REJECTED_ACTION)(r.LIST_VPCS):a.vpcs={...s.vpcs,...(0,n.getErrorState)(t),credentials:null===(M=t.meta)||void 0===M?void 0:M.credentials,cloudProvider:null===(x=t.meta)||void 0===x?void 0:x.cloudProvider,region:null===(G=t.meta)||void 0===G?void 0:G.region};break;case r.CLEAR_LIST_VPCS:return{...e,vpcs:s.vpcs};case r.CLEAR_ALL_CLOUD_PROVIDER_INQUIRIES:return{...s}}}))}c.initialState=s;const d=c},95762:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FULFILLED_ACTION:()=>n,INVALIDATE_ACTION:()=>l,PENDING_ACTION:()=>r,REJECTED_ACTION:()=>i,actionTypes:()=>o,baseRequestState:()=>u,buildPermissionDict:()=>s});const l=e=>`${e}_INVALIDATE`,n=e=>`${e}_FULFILLED`,r=e=>`${e}_PENDING`,i=e=>`${e}_REJECTED`,s=e=>{const t={};return e&&e.data&&e.data.cluster_ids?(e.data.cluster_ids.forEach((e=>{t[e]=!0})),t):t},o={INVALIDATE_ACTION:l,FULFILLED_ACTION:n,PENDING_ACTION:r,REJECTED_ACTION:i},u={error:!1,pending:!1,fulfilled:!1}},31386:(e,t,a)=>{"use strict";a.d(t,{M:()=>Pt});var l=a(8026),n=a(79985),r=a(86274),i=a(74167);const s=()=>e=>t=>(0,i.A)(t.payload)?e(t).catch((e=>e)):e(t);var o=a(14644),u=a(11983),c=a(3678),d=a(31965);var m=a(1932),p=a(89217),f=a(95762);const E="GET_MACHINE_POOLS",g="DELETE_MACHINE_POOL",v={getMachinePools:{...f.baseRequestState,data:[]},deleteMachinePoolResponse:{...f.baseRequestState}};function h(e=v,t){return(0,m.jM)(e,(e=>{var a;switch(t.type){case(0,f.PENDING_ACTION)(E):e.getMachinePools.pending=!0;break;case(0,f.FULFILLED_ACTION)(E):e.getMachinePools={...v.getMachinePools,fulfilled:!0,error:!1,data:(null===(a=t.payload.data)||void 0===a?void 0:a.items)||[]};break;case(0,f.REJECTED_ACTION)(E):e.getMachinePools={...v.getMachinePools,...(0,p.getErrorState)(t)};break;case"CLEAR_GET_MACHINE_POOLS_RESPONSE":e.getMachinePools={...v.getMachinePools};break;case(0,f.PENDING_ACTION)(g):e.deleteMachinePoolResponse.pending=!0;break;case(0,f.FULFILLED_ACTION)(g):e.deleteMachinePoolResponse={...v.deleteMachinePoolResponse,fulfilled:!0,error:!1};break;case(0,f.REJECTED_ACTION)(g):e.deleteMachinePoolResponse={...v.deleteMachinePoolResponse,...(0,p.getErrorState)(t)};break;case"CLEAR_DELETE_MACHINE_POOL_RESPONSE":e.deleteMachinePoolResponse={...v.deleteMachinePoolResponse}}}))}h.initialState=v;const _=h;var S=a(1270),b=a(41434),C=a(78405),y=a(22916),I=a(73509);const A={requestState:{...f.baseRequestState},logs:[],fetchedClusterLogsAt:void 0},R=(e=A,t)=>(0,m.jM)(e,(e=>{switch(t.type){case(0,f.PENDING_ACTION)(I.GET_CLUSTER_LOGS):e.requestState={...f.baseRequestState,pending:!0};break;case(0,f.FULFILLED_ACTION)(I.GET_CLUSTER_LOGS):e.requestState={...f.baseRequestState,fulfilled:!0},e.logs=t.payload.logs.data.items,e.fetchedClusterLogsAt=new Date;break;case(0,f.REJECTED_ACTION)(I.GET_CLUSTER_LOGS):e.requestState={...(0,p.getErrorState)(t)},e.fetchedClusterLogsAt=new Date;break;case y.viewPaginationConstants.VIEW_CLEAR_FILTERS_AND_FLAGS:case y.viewPaginationConstants.VIEW_RESET_FILTERS_AND_FLAGS:case I.RESET_CLUSTER_HISTORY:e.requestState=f.baseRequestState}}));R.initialState=A;var T=a(428),O=a(34605),P=a(22107),D=a(70887);a(77475),a(90020);const L="UPDATE_DELETE_PROTECTION",N={updateDeleteProtection:{...f.baseRequestState}};function w(e=N,t){return(0,m.jM)(e,(e=>{switch(t.type){case(0,f.PENDING_ACTION)(L):e.updateDeleteProtection.pending=!0;break;case(0,f.FULFILLED_ACTION)(L):e.updateDeleteProtection={...f.baseRequestState,fulfilled:!0};break;case(0,f.REJECTED_ACTION)(L):e.updateDeleteProtection=(0,p.getErrorState)(t);break;case"CLEAR_UPDATE_DELETE_PROTECTION_RESPONSE":e.updateDeleteProtection={...N.updateDeleteProtection}}}))}w.initialState=N;var k=a(34544),F=a(81441),M=a(57175);const x={modalName:null,data:{}};function G(e=x,t){return(0,m.jM)(e,(e=>{switch(t.type){case M.z:e.modalName=t.payload.name,e.data=t.payload.data||{};break;case M.F:return x}return e}))}G.initialState=x;const U=G;var H=a(86051);const V={accessProtection:{...f.baseRequestState},organizationAccessProtection:{...f.baseRequestState}};function B(e=V,t){return(0,m.jM)(e,(e=>{switch(t.type){case(0,f.REJECTED_ACTION)(y.accessRequestConstants.GET_ACCESS_PROTECTION):e.accessProtection={...V.accessProtection,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.accessRequestConstants.GET_ACCESS_PROTECTION):e.accessProtection.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.accessRequestConstants.GET_ACCESS_PROTECTION):e.accessProtection={...f.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,f.REJECTED_ACTION)(y.accessRequestConstants.GET_ORGANIZATION_ACCESS_PROTECTION):e.organizationAccessProtection={...V.organizationAccessProtection,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.accessRequestConstants.GET_ORGANIZATION_ACCESS_PROTECTION):e.organizationAccessProtection.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.accessRequestConstants.GET_ORGANIZATION_ACCESS_PROTECTION):e.organizationAccessProtection={...f.baseRequestState,fulfilled:!0,...t.payload.data};break;case H.RESET_ACCESS_PROTECTION:e.accessProtection=V.accessProtection;break;case H.RESET_ORGANIZATION_ACCESS_PROTECTION:e.organizationAccessProtection=V.organizationAccessProtection}}))}B.initialState=V;const q={accessRequests:{...f.baseRequestState},accessRequest:{...f.baseRequestState},pendingAccessRequests:{...f.baseRequestState},pendingOrganizationAccessRequests:{...f.baseRequestState},postAccessRequestDecision:{...f.baseRequestState},canMakeDecision:{...f.baseRequestState,allowed:!1}};function j(e=q,t){return(0,m.jM)(e,(e=>{switch(t.type){case(0,f.REJECTED_ACTION)(y.accessRequestConstants.GET_ACCESS_REQUESTS):e.accessRequests={...q.accessRequests,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.accessRequestConstants.GET_ACCESS_REQUESTS):e.accessRequests.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.accessRequestConstants.GET_ACCESS_REQUESTS):e.accessRequests={...f.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,f.REJECTED_ACTION)(y.accessRequestConstants.GET_ACCESS_REQUEST):e.accessRequest={...q.accessRequest,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.accessRequestConstants.GET_ACCESS_REQUEST):e.accessRequest.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.accessRequestConstants.GET_ACCESS_REQUEST):e.accessRequest={...f.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,f.REJECTED_ACTION)(y.accessRequestConstants.GET_PENDING_ACCESS_REQUESTS):e.pendingAccessRequests={...q.pendingAccessRequests,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.accessRequestConstants.GET_PENDING_ACCESS_REQUESTS):e.pendingAccessRequests.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.accessRequestConstants.GET_PENDING_ACCESS_REQUESTS):e.pendingAccessRequests={...f.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,f.REJECTED_ACTION)(y.accessRequestConstants.GET_ORGANIZATION_PENDING_ACCESS_REQUESTS):e.pendingOrganizationAccessRequests={...q.pendingOrganizationAccessRequests,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.accessRequestConstants.GET_ORGANIZATION_PENDING_ACCESS_REQUESTS):e.pendingOrganizationAccessRequests.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.accessRequestConstants.GET_ORGANIZATION_PENDING_ACCESS_REQUESTS):e.pendingOrganizationAccessRequests={...f.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,f.REJECTED_ACTION)(y.accessRequestConstants.POST_ACCESS_REQUEST_DECISION):e.postAccessRequestDecision={...q.pendingAccessRequests,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.accessRequestConstants.POST_ACCESS_REQUEST_DECISION):e.postAccessRequestDecision.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.accessRequestConstants.POST_ACCESS_REQUEST_DECISION):e.postAccessRequestDecision={...f.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,f.REJECTED_ACTION)(y.accessRequestConstants.CAN_MAKE_ACCESS_REQUEST_DECISION):e.canMakeDecision={...q.pendingAccessRequests,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.accessRequestConstants.CAN_MAKE_ACCESS_REQUEST_DECISION):e.canMakeDecision.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.accessRequestConstants.CAN_MAKE_ACCESS_REQUEST_DECISION):e.canMakeDecision={...f.baseRequestState,fulfilled:!0,allowed:t.payload.data.allowed};break;case H.RESET_ACCESS_REQUESTS:e.accessRequests=q.accessRequests;break;case H.RESET_ACCESS_REQUEST:e.accessRequest=q.accessRequest;break;case H.RESET_GET_PENDING_ACCESS_REQUESTS:e.pendingAccessRequests=q.pendingAccessRequests;break;case H.RESET_POST_ACCESS_REQUEST_DECISION:e.postAccessRequestDecision=q.postAccessRequestDecision;break;case H.RESET_ORGANIZATION_PENDING_ACCESS_REQUESTS:e.pendingOrganizationAccessRequests=q.pendingOrganizationAccessRequests;break;case H.RESET_CAN_MAKE_ACCESS_REQUEST_DECISION:e.canMakeDecision=q.canMakeDecision}}))}j.initialState=q;var z=a(8111);const W={...f.baseRequestState,providers:{}},$=(e=W,t)=>{switch(t.type){case(0,f.REJECTED_ACTION)(y.cloudProviderConstants.GET_CLOUD_PROVIDERS):return{...W,...(0,p.getErrorState)(t)};case(0,f.PENDING_ACTION)(y.cloudProviderConstants.GET_CLOUD_PROVIDERS):return{...e,pending:!0};case(0,f.FULFILLED_ACTION)(y.cloudProviderConstants.GET_CLOUD_PROVIDERS):return{...W,providers:t.payload,fulfilled:!0};default:return e}};$.initialState=W;var K=a(11611);const Y={hasAutoscaler:!1,getAutoscaler:{...f.baseRequestState,data:void 0},editAction:{...f.baseRequestState}};function Q(e=Y,t){return(0,m.jM)(e,(e=>{switch(t.type){case y.clusterAutoscalerConstants.SET_HAS_INITIAL_AUTOSCALER:e.hasAutoscaler=t.payload;break;case y.clusterAutoscalerConstants.CLEAR_LAST_ACTION_RESULT:e.editAction=Y.editAction;break;case y.clusterAutoscalerConstants.CLEAR_GET_CLUSTER_AUTOSCALER_RESPONSE:return Y;case(0,f.PENDING_ACTION)(y.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER):e.getAutoscaler.pending=!0,e.getAutoscaler.data=void 0,e.hasAutoscaler=!1;break;case(0,f.FULFILLED_ACTION)(y.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER):e.getAutoscaler.fulfilled=!0,e.getAutoscaler.pending=!1,e.getAutoscaler.data=(0,K.getCompleteFormClusterAutoscaling)(t.payload),e.hasAutoscaler=!0;break;case(0,f.REJECTED_ACTION)(y.clusterAutoscalerConstants.GET_CLUSTER_AUTOSCALER):e.getAutoscaler.data=void 0,e.getAutoscaler.pending=!1,e.getAutoscaler.fulfilled=!1,e.getAutoscaler.error=!0,e.hasAutoscaler=!1;break;case(0,f.PENDING_ACTION)(y.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER):case(0,f.PENDING_ACTION)(y.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER):case(0,f.PENDING_ACTION)(y.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER):e.editAction={pending:!0,fulfilled:!1,error:!1};break;case(0,f.FULFILLED_ACTION)(y.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER):case(0,f.FULFILLED_ACTION)(y.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER):case(0,f.FULFILLED_ACTION)(y.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER):t.type===(0,f.FULFILLED_ACTION)(y.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER)?(e.getAutoscaler.data=void 0,e.hasAutoscaler=!1):(e.getAutoscaler.data=(0,K.getCompleteFormClusterAutoscaling)(t.payload),e.hasAutoscaler=!0),e.editAction={pending:!1,fulfilled:!0,error:!1};break;case(0,f.REJECTED_ACTION)(y.clusterAutoscalerConstants.ENABLE_CLUSTER_AUTOSCALER):case(0,f.REJECTED_ACTION)(y.clusterAutoscalerConstants.DISABLE_CLUSTER_AUTOSCALER):case(0,f.REJECTED_ACTION)(y.clusterAutoscalerConstants.UPDATE_CLUSTER_AUTOSCALER):e.editAction=(0,p.getErrorState)(t)}}))}Q.initialState=Y;var Z=a(42561),X=a.n(Z),J=a(55364),ee=a.n(J),te=a(10176);const ae={...f.baseRequestState,valid:!0},le={managed:!1,ccs:{enabled:!1}},ne={clusters:{...ae,valid:!1,meta:{},clusters:[],queryParams:{page:0,page_size:0}},clusterStatus:{...ae,status:{}},inflightChecks:{...ae,checks:[]},clusterVersions:{...ae,versions:[],params:{}},details:{...ae,cluster:le},createdCluster:{...ae,cluster:le},editedCluster:{...ae},archivedCluster:{...ae},unarchivedCluster:{...ae},hibernatingCluster:{...ae},resumeHibernatingCluster:{...ae},rerunInflightCheckReq:{...ae},rerunInflightCheckRes:{...ae,checks:[]},upgradeGates:{...ae,gates:[]},upgradedCluster:{...ae,cluster:le},techPreview:{}},re=e=>{const t=Date.now();return e.filter((e=>!e.end_of_life_timestamp||new Date(e.end_of_life_timestamp).getTime()>t)).sort(((e,t)=>(0,te.versionComparator)(t.raw_id,e.raw_id)))},ie=(e=ne,t)=>(0,m.jM)(e,(a=>{var l,n,r;switch(t.type){case(0,f.INVALIDATE_ACTION)(y.clustersConstants.GET_CLUSTERS):a.clusters={...ne.clusters};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.GET_CLUSTERS):a.clusters={...ne.clusters,...(0,p.getErrorState)(t),valid:!0,clusters:e.clusters.clusters};break;case(0,f.PENDING_ACTION)(y.clustersConstants.GET_CLUSTERS):a.clusters={...ne.clusters,pending:!0,valid:!0,clusters:e.clusters.clusters};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.GET_CLUSTERS):{const{data:e}=t.payload,n="meta"in e&&(null===(l=e.meta)||void 0===l?void 0:l.clustersServiceError)?(0,p.getErrorState)({payload:X().isAxiosError(e.meta.clustersServiceError)?e.meta.clustersServiceError:void 0}):void 0;a.clusters={...ae,clusters:e.items,queryParams:e.queryParams,meta:{clustersServiceError:!0===(null==n?void 0:n.error)?n:void 0},fulfilled:!0};break}case y.clustersConstants.SET_CLUSTER_DETAILS:{const{cluster:l,mergeDetails:n}=t.payload;a.details={...ae,cluster:n?ee()({},e.details.cluster,l):l,fulfilled:!0};break}case(0,f.REJECTED_ACTION)(y.clustersConstants.GET_CLUSTER_DETAILS):a.details={...ne.details,...(0,p.getErrorState)(t),cluster:e.details.cluster};break;case(0,f.PENDING_ACTION)(y.clustersConstants.GET_CLUSTER_DETAILS):a.details={...ne.details,pending:!0,cluster:e.details.cluster};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.GET_CLUSTER_DETAILS):a.details={...ae,fulfilled:!0,cluster:t.payload.data};break;case y.clustersConstants.CLEAR_CLUSTER_DETAILS:a.details={...ne.details};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.CREATE_CLUSTER):a.createdCluster={...ne.createdCluster,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.CREATE_CLUSTER):a.createdCluster={...ne.createdCluster,pending:!0};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.CREATE_CLUSTER):a.createdCluster={...ae,cluster:t.payload.data,fulfilled:!0};break;case y.clustersConstants.RESET_CREATED_CLUSTER_RESPONSE:a.createdCluster={...ne.createdCluster};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.EDIT_CLUSTER):a.editedCluster={...ne.editedCluster,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.EDIT_CLUSTER):a.editedCluster={...ne.editedCluster,pending:!0};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.EDIT_CLUSTER):a.editedCluster={...ae,fulfilled:!0};break;case y.clustersConstants.CLEAR_DISPLAY_NAME_RESPONSE:a.editedCluster={...ne.editedCluster};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.ARCHIVE_CLUSTER):a.archivedCluster={...ae,fulfilled:!0};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.ARCHIVE_CLUSTER):a.archivedCluster={...ne.archivedCluster,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.ARCHIVE_CLUSTER):a.archivedCluster={...ne.archivedCluster,pending:!0};break;case y.clustersConstants.CLEAR_CLUSTER_ARCHIVE_RESPONSE:a.archivedCluster={...ne.archivedCluster};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.HIBERNATE_CLUSTER):a.hibernatingCluster={...ae,fulfilled:!0};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.HIBERNATE_CLUSTER):a.hibernatingCluster={...ne.hibernatingCluster,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.HIBERNATE_CLUSTER):a.hibernatingCluster={...ne.hibernatingCluster,pending:!0};break;case y.clustersConstants.CLEAR_CLUSTER_HIBERNATE_RESPONSE:a.hibernatingCluster={...ne.hibernatingCluster};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.RESUME_CLUSTER):a.resumeHibernatingCluster={...ae,fulfilled:!0};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.RESUME_CLUSTER):a.resumeHibernatingCluster={...ne.resumeHibernatingCluster,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.RESUME_CLUSTER):a.resumeHibernatingCluster={...ne.resumeHibernatingCluster,pending:!0};break;case y.clustersConstants.CLEAR_RESUME_CLUSTER_RESPONSE:a.resumeHibernatingCluster={...ne.resumeHibernatingCluster};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.UNARCHIVE_CLUSTER):a.unarchivedCluster={...ae,fulfilled:!0};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.UNARCHIVE_CLUSTER):a.unarchivedCluster={...ne.unarchivedCluster,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.UNARCHIVE_CLUSTER):a.unarchivedCluster={...ne.unarchivedCluster,pending:!0};break;case y.clustersConstants.CLEAR_CLUSTER_UNARCHIVE_RESPONSE:a.unarchivedCluster={...ne.unarchivedCluster};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.UPGRADE_TRIAL_CLUSTER):a.upgradedCluster={...ae,cluster:t.payload.data,fulfilled:!0};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.UPGRADE_TRIAL_CLUSTER):a.upgradedCluster={...ne.upgradedCluster,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.UPGRADE_TRIAL_CLUSTER):a.upgradedCluster={...ne.upgradedCluster,pending:!0};break;case y.clustersConstants.CLEAR_UPGRADE_TRIAL_CLUSTER_RESPONSE:a.upgradedCluster={...ne.upgradedCluster};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.GET_CLUSTER_STATUS):a.clusterStatus={...ne.clusterStatus,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.GET_CLUSTER_STATUS):a.clusterStatus={...ne.clusterStatus,pending:!0,status:e.clusterStatus.status};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.GET_CLUSTER_STATUS):a.clusterStatus={...ae,fulfilled:!0,status:t.payload.data};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.GET_INFLIGHT_CHECKS):a.inflightChecks={...ne.inflightChecks,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.GET_INFLIGHT_CHECKS):a.inflightChecks={...ne.inflightChecks,pending:!0,checks:e.inflightChecks.checks};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.GET_INFLIGHT_CHECKS):a.inflightChecks={...ae,fulfilled:!0,checks:t.payload.data.items||[]};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckReq={...ae,fulfilled:!0};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckReq={...ne.rerunInflightCheckReq,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes={...ne.rerunInflightCheckRes},a.rerunInflightCheckReq={...ne.rerunInflightCheckReq,pending:!0};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.GET_RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes={...ae,checks:t.payload.data.items||[],fulfilled:!0};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.GET_RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes={...ne.rerunInflightCheckRes,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.GET_RERUN_INFLIGHT_CHECKS):a.rerunInflightCheckRes={...ne.rerunInflightCheckRes,pending:!0,checks:e.rerunInflightCheckRes.checks};break;case y.clustersConstants.CLEAR_INFLIGHT_CHECKS:a.inflightChecks={...ne.inflightChecks},a.rerunInflightCheckReq={...ne.rerunInflightCheckReq},a.rerunInflightCheckRes={...ne.rerunInflightCheckRes};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.GET_CLUSTER_VERSIONS):a.clusterVersions={...ne.clusterVersions,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.GET_CLUSTER_VERSIONS):a.clusterVersions={...ne.clusterVersions,pending:!0};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.GET_CLUSTER_VERSIONS):a.clusterVersions={...ae,fulfilled:!0,params:t.payload.config.params,versions:t.payload.data.items?re(t.payload.data.items):[],meta:t.meta};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.GET_TECH_PREVIEW):a.techPreview[t.payload.product]||(a.techPreview[t.payload.product]={}),a.techPreview[t.payload.product][t.payload.type]={...ae,error:!0};break;case(0,f.PENDING_ACTION)(y.clustersConstants.GET_TECH_PREVIEW):a.techPreview[t.payload.product]||(a.techPreview[t.payload.product]={}),a.techPreview[t.payload.product][t.payload.type]={...ae,pending:!0};break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.GET_TECH_PREVIEW):a.techPreview[t.payload.product]||(a.techPreview[t.payload.product]={}),a.techPreview[t.payload.product][t.payload.type]={...ae,fulfilled:!0,...t.payload.data};break;case y.clustersConstants.CLEAR_CLUSTER_VERSIONS_RESPONSE:a.clusterVersions={...ne.clusterVersions};break;case(0,f.REJECTED_ACTION)(y.clustersConstants.GET_UPGRADE_GATES):a.upgradeGates={...ne.upgradeGates,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.clustersConstants.GET_UPGRADE_GATES):a.upgradeGates.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.clustersConstants.GET_UPGRADE_GATES):a.upgradeGates={...ae,gates:null!==(n=t.payload)&&void 0!==n?n:[],fulfilled:!0};break;case y.clustersConstants.SET_CLUSTER_UPGRADE_GATE:a.details.cluster.upgradeGates=[...null!==(r=e.details.cluster.upgradeGates)&&void 0!==r?r:[],{version_gate:{id:t.payload}}];break;default:return e}}));ie.initialState=ne;const se={report:{...f.baseRequestState},sources:{...f.baseRequestState},userAccess:{...f.baseRequestState}};function oe(e=se,t){return(0,m.jM)(e,(e=>{switch(t.type){case(0,f.REJECTED_ACTION)(y.costConstants.GET_REPORT):e.report={...se.report,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.costConstants.GET_REPORT):e.report.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.costConstants.GET_REPORT):e.report={...f.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,f.REJECTED_ACTION)(y.costConstants.GET_SOURCES):e.sources={...se.sources,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.costConstants.GET_SOURCES):e.sources.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.costConstants.GET_SOURCES):e.sources={...f.baseRequestState,fulfilled:!0,...t.payload.data};break;case(0,f.REJECTED_ACTION)(y.costConstants.GET_USER_ACCESS):e.userAccess={...se.userAccess,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.costConstants.GET_USER_ACCESS):e.userAccess.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.costConstants.GET_USER_ACCESS):e.userAccess={...f.baseRequestState,fulfilled:!0,...t.payload.data}}}))}oe.initialState=se;const ue={summary:{...f.baseRequestState},unhealthyClusters:{...f.baseRequestState,subscriptions:[]}};function ce(e=ue,t){return(0,m.jM)(e,(e=>{var a;switch(t.type){case(0,f.REJECTED_ACTION)(y.dashboardsConstants.GET_SUMMARY_DASHBOARD):e.summary={...ue.summary,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.dashboardsConstants.GET_SUMMARY_DASHBOARD):e.summary.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.dashboardsConstants.GET_SUMMARY_DASHBOARD):e.summary={...f.baseRequestState,fulfilled:!0,metrics:t.payload.summary};break;case(0,f.REJECTED_ACTION)(y.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):e.unhealthyClusters={...ue.unhealthyClusters,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):e.unhealthyClusters.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):{const l=null===(a=t.payload.data.items)||void 0===a?void 0:a.map((e=>{var t,a;const l=null!==(a=null===(t=null==e?void 0:e.metrics)||void 0===t?void 0:t[0])&&void 0!==a?a:{};return{...e,metrics:l}}));e.unhealthyClusters={...f.baseRequestState,fulfilled:!0,subscriptions:null!=l?l:[]};break}}}))}ce.initialState=ue;var de=a(33031),me=a.n(de);const pe={...f.baseRequestState,items:[],createdDnsId:"",deletedDnsId:"",isUpdatingDomains:!1};function fe(e=pe,t){switch(t.type){case(0,f.REJECTED_ACTION)(y.dnsDomainsConstants.GET_DNS_DOMAINS):return{...pe,...e,...(0,p.getErrorState)(t)};case(0,f.PENDING_ACTION)(y.dnsDomainsConstants.GET_DNS_DOMAINS):return{...pe,...e,isUpdatingDomains:!1,pending:!0};case(0,f.FULFILLED_ACTION)(y.dnsDomainsConstants.GET_DNS_DOMAINS):return{...f.baseRequestState,items:me()(t.payload.data.items||[],["id"]),isUpdatingDomains:!1,fulfilled:!0};case(0,f.REJECTED_ACTION)(y.dnsDomainsConstants.CREATE_DNS_DOMAIN):return{...pe,...e,...(0,p.getErrorState)(t),isUpdatingDomains:!1};case(0,f.PENDING_ACTION)(y.dnsDomainsConstants.CREATE_DNS_DOMAIN):return{...pe,...e,pending:!0,isUpdatingDomains:!0};case(0,f.FULFILLED_ACTION)(y.dnsDomainsConstants.CREATE_DNS_DOMAIN):{const a=t.payload.data,l=(e.items||[]).concat([a]);return{...e,items:me()(l,["id"]),error:!1,pending:!1,fulfilled:!0,isUpdatingDomains:!1,createdDnsId:a.id}}case(0,f.PENDING_ACTION)(y.dnsDomainsConstants.DELETE_DNS_DOMAIN):return{...pe,...e,deletedDnsId:t.meta.deletedDnsId,pending:!0,isUpdatingDomains:!0};case(0,f.FULFILLED_ACTION)(y.dnsDomainsConstants.DELETE_DNS_DOMAIN):return{...e,items:(e.items||[]).filter((e=>e.id!==t.meta.deletedDnsId)),error:!1,pending:!1,fulfilled:!0,isUpdatingDomains:!1,createdDnsId:""};case(0,f.REJECTED_ACTION)(y.dnsDomainsConstants.DELETE_DNS_DOMAIN):return{...pe,...e,...(0,p.getErrorState)(t),isUpdatingDomains:!1};case y.dnsDomainsConstants.CLEAR_CREATED_DNS_DOMAIN:return{...e,...f.baseRequestState,createdDnsId:"",isUpdatingDomains:!1};default:return e}}fe.initialState=pe;const Ee=fe;var ge=a(21345);const ve={...f.baseRequestState};var he=a(58108),_e=a(976);const Se={};he.qT.forEach((e=>{Se[e.name]=!1}));var be=a(16521),Ce=a(63537);const ye={...f.baseRequestState,byID:{}};var Ie=a(65702),Ae=a(2506);const Re={};Ie.githubReleasesToFetch.forEach((e=>{Re[e]=f.baseRequestState}));var Te=a(2895);const Oe={errorMessage:void 0,errorTitle:void 0,sourceComponent:void 0},Pe={...f.baseRequestState,values:[]};function De(e=Pe,t){switch(t.type){case(0,f.REJECTED_ACTION)(y.loadBalancerConstants.GET_LOAD_BALANCER_VALUES):return{...Pe,...(0,p.getErrorState)(t)};case(0,f.PENDING_ACTION)(y.loadBalancerConstants.GET_LOAD_BALANCER_VALUES):return{...e,pending:!0};case(0,f.FULFILLED_ACTION)(y.loadBalancerConstants.GET_LOAD_BALANCER_VALUES):return{...f.baseRequestState,fulfilled:!0,values:t.payload};default:return e}}De.initialState=Pe;var Le=a(38970),Ne=a.n(Le);const we={...f.baseRequestState,types:{},typesByID:{},region:void 0};function ke(e=we,t){switch(t.type){case(0,f.REJECTED_ACTION)(y.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION):return{...we,...e,region:t.meta.region,...(0,p.getErrorState)(t)};case(0,f.PENDING_ACTION)(y.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION):return{...we,region:t.meta.region,pending:!0};case(0,f.FULFILLED_ACTION)(y.machineTypesConstants.GET_MACHINE_TYPES_BY_REGION):return{...f.baseRequestState,types:t.payload,typesByID:(a=t.payload,Ne()([...null!==(l=a.aws)&&void 0!==l?l:[],...null!==(n=a.gcp)&&void 0!==n?n:[]],"id")),fulfilled:!0,region:t.meta.region};case y.machineTypesConstants.RESET_INITIAL_STATE:return{...f.baseRequestState,types:void 0,typesByID:void 0,fulfilled:!1,region:void 0};default:return e}var a,l,n}ke.initialState=we;const Fe=ke,Me={...f.baseRequestState,types:{},typesByID:{}};function xe(e=Me,t){switch(t.type){case(0,f.REJECTED_ACTION)(y.machineTypesConstants.GET_MACHINE_TYPES):return{...Me,...e,...(0,p.getErrorState)(t)};case(0,f.PENDING_ACTION)(y.machineTypesConstants.GET_MACHINE_TYPES):return{...Me,...e,pending:!0};case(0,f.FULFILLED_ACTION)(y.machineTypesConstants.GET_MACHINE_TYPES):return{...f.baseRequestState,types:t.payload,typesByID:(a=t.payload,Ne()([...null!==(l=a.aws)&&void 0!==l?l:[],...null!==(n=a.gcp)&&void 0!==n?n:[]],"id")),fulfilled:!0};default:return e}var a,l,n}xe.initialState=Me;const Ge=xe,Ue="GET_OCM_ROLES",He="GRANT_OCM_ROLE",Ve="DELETE_OCM_ROLE",Be="CLEAR_GET_OCM_ROLES_RESPONSE",qe="CLEAR_GRANT_OCM_ROLE_RESPONSE",je="CLEAR_DELETE_OCM_ROLE_RESPONSE",ze={getOCMRolesResponse:{...f.baseRequestState,data:{}},grantOCMRoleResponse:{...f.baseRequestState},editOCMRoleResponse:{...f.baseRequestState},deleteOCMRoleResponse:{...f.baseRequestState}};function We(e=ze,t){return(0,m.jM)(e,(e=>{switch(t.type){case(0,f.PENDING_ACTION)(Ue):e.getOCMRolesResponse.pending=!0;break;case(0,f.FULFILLED_ACTION)(Ue):e.getOCMRolesResponse={...f.baseRequestState,fulfilled:!0,data:t.payload.data};break;case(0,f.REJECTED_ACTION)(Ue):e.getOCMRolesResponse={...f.baseRequestState,...(0,p.getErrorState)(t),data:{}};break;case(0,f.PENDING_ACTION)(He):e.grantOCMRoleResponse.pending=!0;break;case(0,f.FULFILLED_ACTION)(He):e.grantOCMRoleResponse={...f.baseRequestState,fulfilled:!0};break;case(0,f.REJECTED_ACTION)(He):e.grantOCMRoleResponse={...f.baseRequestState,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(Ve):e.deleteOCMRoleResponse.pending=!0;break;case(0,f.FULFILLED_ACTION)(Ve):e.deleteOCMRoleResponse={...f.baseRequestState,fulfilled:!0};break;case(0,f.REJECTED_ACTION)(Ve):e.deleteOCMRoleResponse={...f.baseRequestState,...(0,p.getErrorState)(t)};break;case Be:e.getOCMRolesResponse={...f.baseRequestState,data:{}};break;case qe:e.grantOCMRoleResponse={...f.baseRequestState};break;case je:e.deleteOCMRoleResponse={...f.baseRequestState}}}))}We.initialState=ze;const $e=We,Ke={...f.baseRequestState,values:[]};function Ye(e=Ke,t){switch(t.type){case(0,f.REJECTED_ACTION)(y.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES):return{...Ke,...(0,p.getErrorState)(t)};case(0,f.PENDING_ACTION)(y.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES):return{...e,pending:!0};case(0,f.FULFILLED_ACTION)(y.persistentStorageConstants.GET_PERSISTENT_STORAGE_VALUES):return{...f.baseRequestState,fulfilled:!0,values:t.payload};default:return e}}Ye.initialState=Ke;var Qe=a(9308),Ze=a(56480);const Xe={requestState:f.baseRequestState,data:{}},Je=(e=Xe,t)=>(0,m.jM)(e,(e=>{switch(t.type){case(0,f.PENDING_ACTION)(Ze.B):e.requestState={...f.baseRequestState,pending:!0};break;case(0,f.REJECTED_ACTION)(Ze.B):e.requestState=(0,p.getErrorState)(t);break;case(0,f.FULFILLED_ACTION)(Ze.B):e.requestState={...f.baseRequestState,fulfilled:!0},e.data=t.payload.data;break;case Ze.p:return Xe}}));Je.initialState=Xe;const et={requestState:f.baseRequestState,data:{}};function tt(e=et,t){return(0,m.jM)(e,(e=>{switch(t.type){case(0,f.PENDING_ACTION)(y.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS):e.requestState={...f.baseRequestState,pending:!0};break;case(0,f.REJECTED_ACTION)(y.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS):e.requestState=(0,p.getErrorState)(t);break;case(0,f.FULFILLED_ACTION)(y.subscriptionSettingsConstants.EDIT_SUBSCRIPTION_SETTINGS):e.requestState={...f.baseRequestState,fulfilled:!0},e.data=t.payload.data;break;case y.subscriptionSettingsConstants.CLEAR_EDIT_SUBSCRIPTION_SETTINGS_RESPONSE:e.requestState=f.baseRequestState,e.data={}}}))}tt.initialState=et;var at=a(1727);const lt={account:{...f.baseRequestState,valid:!1,data:{}},subscriptions:{...f.baseRequestState,valid:!1,items:[]},quotaSummary:{...f.baseRequestState,valid:!1,items:[]},quotaCost:{...f.baseRequestState,valid:!1,items:[]},subscriptionID:{...f.baseRequestState,id:void 0}};function nt(e=lt,t){return(0,m.jM)(e,(a=>{var l,n,r;switch(t.type){case(0,f.REJECTED_ACTION)(y.subscriptionsConstants.GET_ACCOUNT):a.account={...lt.account,...(0,p.getErrorState)(t),valid:!0};break;case(0,f.PENDING_ACTION)(y.subscriptionsConstants.GET_ACCOUNT):a.account.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.subscriptionsConstants.GET_ACCOUNT):a.account={...f.baseRequestState,fulfilled:!0,valid:!0,data:t.payload.data};break;case(0,f.INVALIDATE_ACTION)(y.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions={...lt.subscriptions,valid:!1};break;case(0,f.REJECTED_ACTION)(y.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions={...lt.subscriptions,...(0,p.getErrorState)(t),valid:!0,items:e.subscriptions.items};break;case(0,f.PENDING_ACTION)(y.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.subscriptionsConstants.GET_SUBSCRIPTIONS):a.subscriptions={...f.baseRequestState,fulfilled:!0,valid:!0,items:null!==(l=t.payload.data.items)&&void 0!==l?l:[]};break;case(0,f.REJECTED_ACTION)(y.subscriptionsConstants.GET_SUBSCRIPTION_ID):a.subscriptionID={...lt.subscriptionID,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.subscriptionsConstants.GET_SUBSCRIPTION_ID):a.subscriptionID.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.subscriptionsConstants.GET_SUBSCRIPTION_ID):a.subscriptionID={...f.baseRequestState,fulfilled:!0,id:t.payload};break;case y.subscriptionsConstants.CLEAR_SUBSCRIPTION_ID:a.subscriptionID={...lt.subscriptionID};break;case(0,f.REJECTED_ACTION)(y.subscriptionsConstants.GET_QUOTA_COST):a.quotaCost={...lt.quotaCost,...(0,p.getErrorState)(t),valid:!0,items:e.quotaCost.items};break;case(0,f.PENDING_ACTION)(y.subscriptionsConstants.GET_QUOTA_COST):a.quotaCost.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.subscriptionsConstants.GET_QUOTA_COST):a.quotaCost={...f.baseRequestState,fulfilled:!0,valid:!0,items:null!==(r=null===(n=t.payload.data.items)||void 0===n?void 0:n.map(at.tS))&&void 0!==r?r:[]}}}))}nt.initialState=lt;var rt=a(99447);const it={notificationContacts:{...f.baseRequestState,contacts:[],clusterID:""},deleteContactResponse:{...f.baseRequestState},addContactResponse:{...f.baseRequestState},supportCases:{...f.baseRequestState,cases:[],clusterID:"",subscriptionID:""}},st=(e=it,t)=>(0,m.jM)(e,(e=>{var a,l,n,r,i,s,o,u,c,d,m,E;let g,v,h;switch(t.type){case(0,f.PENDING_ACTION)(rt.DB):e.notificationContacts.pending=!0;break;case(0,f.FULFILLED_ACTION)(rt.DB):v=(null===(l=null===(a=t.payload)||void 0===a?void 0:a.data)||void 0===l?void 0:l.items)||[],e.notificationContacts={...f.baseRequestState,fulfilled:!0,subscriptionID:null===(n=t.meta)||void 0===n?void 0:n.subscriptionID,contacts:v.map((e=>({userID:e.id,username:e.username,email:e.email,firstName:e.first_name,lastName:e.last_name})))};break;case(0,f.REJECTED_ACTION)(rt.DB):e.notificationContacts={...it.notificationContacts,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(rt.hh):e.deleteContactResponse.pending=!0,e.deleteContactResponse.accountID=t.meta.accountID;break;case(0,f.FULFILLED_ACTION)(rt.hh):e.deleteContactResponse.pending=!1,e.deleteContactResponse.fulfilled=!0,e.notificationContacts.contacts=null===(r=e.notificationContacts.contacts)||void 0===r?void 0:r.filter((t=>t.userID!==e.deleteContactResponse.accountID));break;case(0,f.REJECTED_ACTION)(rt.hh):e.deleteContactResponse={...(0,p.getErrorState)(t)};break;case(0,f.INVALIDATE_ACTION)(rt.hh):e.deleteContactResponse={...f.baseRequestState};break;case(0,f.PENDING_ACTION)(rt.BW):e.addContactResponse.pending=!0;break;case(0,f.FULFILLED_ACTION)(rt.BW):e.addContactResponse.pending=!1,e.addContactResponse.fulfilled=!0,g=(null===(i=t.payload)||void 0===i?void 0:i.data)||[],g=Array.isArray(g)?g:[g],e.addContactResponse.count=g.length,g.forEach((t=>{var a;return null===(a=e.notificationContacts.contacts)||void 0===a?void 0:a.push({userID:t.id,username:t.username,email:t.email,firstName:t.first_name,lastName:t.last_name})}));break;case(0,f.REJECTED_ACTION)(rt.BW):e.addContactResponse={...(0,p.getErrorState)(t)},e.addContactResponse.errorMessage=(null===(u=null===(o=null===(s=t.payload)||void 0===s?void 0:s.response)||void 0===o?void 0:o.data)||void 0===u?void 0:u.reason)||e.addContactResponse.errorMessage;break;case(0,f.INVALIDATE_ACTION)(rt.BW):e.addContactResponse={...f.baseRequestState};break;case(0,f.PENDING_ACTION)(rt.bP):e.supportCases.pending=!0;break;case(0,f.FULFILLED_ACTION)(rt.bP):h=(null===(m=null===(d=null===(c=t.payload)||void 0===c?void 0:c.data)||void 0===d?void 0:d.response)||void 0===m?void 0:m.docs)||[],e.supportCases={...f.baseRequestState,fulfilled:!0,subscriptionID:null===(E=t.meta)||void 0===E?void 0:E.subscriptionID,cases:h.map((e=>({summary:e.case_summary,caseID:e.case_number,ownerID:e.case_owner,severity:e.case_severity,status:e.case_status,lastModifiedBy:e.case_lastModifiedByName,lastModifiedDate:e.case_lastModifiedDate})))};break;case(0,f.REJECTED_ACTION)(rt.bP):e.supportCases={...it.supportCases,...(0,p.getErrorState)(t)};break;case(0,f.INVALIDATE_ACTION)(rt.oq):return it}}));st.initialState=it;var ot=a(9704),ut=a(78634);const ct={...f.baseRequestState,supportStatus:{}};var dt=a(12434);const mt={token:{auths:{}}},pt={keycloakProfile:{},organization:{...f.baseRequestState,quotaList:{items:[]},timestamp:0},selfTermsReviewResult:{...f.baseRequestState,terms_available:!1,terms_required:!1,redirect_url:""}};var ft=a(51513);const Et={currentPage:1,pageSize:50,totalCount:0,totalPages:0,filter:"",sorting:{sortField:"created_at",isAscending:!1,sortIndex:3},flags:{showArchived:!1}},gt={...Et,currentPage:1,pageSize:20,totalCount:0,totalPages:0,sorting:{sortIndex:0,sortField:"created_at",isAscending:!1}},vt={...Et,sorting:{sortField:"display_name",isAscending:!0,sortIndex:0},flags:{...Et.flags,showMyClustersOnly:"true"===localStorage.getItem(ft.ONLY_MY_CLUSTERS_TOGGLE_CLUSTER_ARCHIVES_LIST)}},ht={...Et,flags:{...Et.flags,showMyClustersOnly:"true"===localStorage.getItem(ft.ONLY_MY_CLUSTERS_TOGGLE_CLUSTERS_LIST)}},_t={currentPage:1,pageSize:20,totalCount:0,totalPages:0,filter:{description:"",loggedBy:""},sorting:{sortIndex:0,sortField:"timestamp",isAscending:!1},flags:{conditionalFilterFlags:{severityTypes:[],logTypes:[]}}},St={...Et,currentPage:1,pageSize:5,totalCount:0,totalPages:0},bt={};bt[y.viewConstants.ACCESS_REQUESTS_VIEW]=Object.assign(gt),bt[y.viewConstants.CLUSTERS_VIEW]=Object.assign(ht),bt[y.viewConstants.ARCHIVED_CLUSTERS_VIEW]=Object.assign(vt),bt[y.viewConstants.CLUSTER_LOGS_VIEW]=Object.assign(_t),bt[y.viewConstants.OVERVIEW_VIEW]=Object.assign(St),bt[y.viewConstants.OVERVIEW_EXPIRED_TRIALS]=Object.assign(St);const Ct=(e=bt,t)=>{const a={},l=(t,l,n)=>{const r=l||1,i=n||e[t].pageSize,s=Math.ceil(r/i);a[t]={...e[t],totalCount:r,totalPages:s,pageSize:i,currentPage:Math.min(e[t].currentPage,s)}};switch(t.type){case y.viewOptionsConstants.VIEW_MY_CLUSTERS_ONLY_CHANGED:return a[t.viewType]={...e[t.viewType],flags:{...e[t.viewType].flags,showMyClustersOnly:t.payload.showMyClustersOnly}},{...e,...a};case y.viewPaginationConstants.VIEW_FIRST_PAGE:return a[t.payload.viewType]={...e[t.payload.viewType],currentPage:1},{...e,...a};case y.viewPaginationConstants.VIEW_LAST_PAGE:return a[t.payload.viewType]={...e[t.payload.viewType],currentPage:e[t.payload.viewType].totalPages},{...e,...a};case y.viewPaginationConstants.VIEW_PREVIOUS_PAGE:return e[t.payload.viewType].currentPage<2?e:(a[t.payload.viewType]={...e[t.payload.viewType],currentPage:e[t.payload.viewType].currentPage-1},{...e,...a});case y.viewPaginationConstants.VIEW_NEXT_PAGE:return e[t.payload.viewType].currentPage>=e[t.payload.viewType].totalPages?e:(a[t.payload.viewType]={...e[t.payload.viewType],currentPage:e[t.payload.viewType].currentPage+1},{...e,...a});case y.viewPaginationConstants.VIEW_PAGE_NUMBER:return!Number.isInteger(t.payload.pageNumber)||t.payload.pageNumber<1||t.payload.pageNumber>e[t.payload.viewType].totalPages?e:(a[t.payload.viewType]={...e[t.payload.viewType],currentPage:t.payload.pageNumber},{...e,...a});case y.viewPaginationConstants.SET_PER_PAGE:return t.payload.updatePageCounts?l(t.payload.viewType,e[t.payload.viewType].totalCount,t.payload.pageSize):a[t.payload.viewType]={...e[t.payload.viewType],pageSize:t.payload.pageSize,currentPage:1},{...e,...a};case y.viewPaginationConstants.SET_TOTAL_ITEMS:return l(t.payload.viewType,t.payload.totalCount),{...e,...a};case(0,f.FULFILLED_ACTION)(y.clustersConstants.GET_CLUSTERS):return l(y.viewConstants.CLUSTERS_VIEW,t.payload.data.total),l(y.viewConstants.ARCHIVED_CLUSTERS_VIEW,t.payload.data.total),{...e,...a};case(0,f.FULFILLED_ACTION)(y.dashboardsConstants.GET_UNHEALTHY_CLUSTERS):return l(y.viewConstants.OVERVIEW_VIEW,t.payload.data.total),{...e,...a};case(0,f.FULFILLED_ACTION)(y.subscriptionsConstants.GET_SUBSCRIPTIONS):return l(y.viewConstants.OVERVIEW_EXPIRED_TRIALS,t.payload.data.total),{...e,...a};case(0,f.FULFILLED_ACTION)(H.GET_ACCESS_REQUESTS):return l(y.viewConstants.ACCESS_REQUESTS_VIEW,t.payload.data.total),{...e,...a};case(0,f.REJECTED_ACTION)(H.GET_ACCESS_REQUESTS):return l(y.viewConstants.ACCESS_REQUESTS_VIEW,0),{...e,...a};case y.viewPaginationConstants.VIEW_SET_LIST_FILTER:return a[t.payload.viewType]={...e[t.payload.viewType],filter:t.payload.filter,currentPage:1},{...e,...a};case y.viewPaginationConstants.VIEW_CHANGE_SORT:return a[t.payload.viewType]={...e[t.payload.viewType],sorting:t.payload.sorting},{...e,...a};case y.viewPaginationConstants.VIEW_SET_LIST_FLAGS:return a[t.payload.viewType]={...e[t.payload.viewType],flags:{...e[t.payload.viewType].flags,[t.payload.key]:t.payload.value}},{...e,...a};case y.viewPaginationConstants.VIEW_CLEAR_FILTERS_AND_FLAGS:return a[t.payload.viewType]={...e[t.payload.viewType],flags:_t.flags,filter:"object"==typeof _t.filter?{..._t.filter,timestampFrom:e[t.payload.viewType].filter.timestampFrom,timestampTo:e[t.payload.viewType].filter.timestampTo}:_t.filter},{...e,...a};case y.viewPaginationConstants.VIEW_RESET_FILTERS_AND_FLAGS:return a[t.payload.viewType]={...e[t.payload.viewType],flags:_t.flags,filter:_t.filter},{...e,...a};default:return e}};Ct.initialState=bt;const yt={accessRequest:j,accessProtection:B,clusters:ie,cloudProviders:$,viewOptions:Ct,userProfile:(e=pt,t)=>(0,m.jM)(e,(e=>{var a;switch(t.type){case y.userConstants.USER_INFO_RESPONSE:e.keycloakProfile=t.payload;break;case(0,f.REJECTED_ACTION)(y.userConstants.GET_ORGANIZATION):e.organization={...pt.organization,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.userConstants.GET_ORGANIZATION):e.organization.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.userConstants.GET_ORGANIZATION):e.organization={...f.baseRequestState,fulfilled:!0,details:t.payload.organization,quotaList:t.payload.quota,timestamp:(new Date).getTime()};break;case(0,f.REJECTED_ACTION)(y.userConstants.SELF_TERMS_REVIEW):e.selfTermsReviewResult={...pt.selfTermsReviewResult,...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(y.userConstants.SELF_TERMS_REVIEW):e.selfTermsReviewResult.pending=!0;break;case(0,f.FULFILLED_ACTION)(y.userConstants.SELF_TERMS_REVIEW):e.selfTermsReviewResult={...f.baseRequestState,fulfilled:!0,...t.payload.data,redirect_url:null!==(a=t.payload.data.redirect_url)&&void 0!==a?a:""}}})),form:u.A,tollbooth:(e=mt,t)=>{switch(t.type){case(0,f.FULFILLED_ACTION)(dt.O):return{...e,token:t.payload.data};case(0,f.REJECTED_ACTION)(dt.O):return{...e,token:(0,p.getErrorState)(t)};default:return e}},modal:U,logs:k.To,identityProviders:T.Fu,clusterAutoscaler:Q,clusterUsers:b.Ay,clusterSupport:st,dnsDomains:Ee,addOns:C.Ay,globalError:function(e=Oe,t){switch(t.type){case Te.y:return t.payload;case Te.b:return t.payload&&t.payload!==e.sourceComponent?e:Oe;default:return e}},flavours:function(e=ye,t){switch(t.type){case(0,f.PENDING_ACTION)(Ce.GET_DEFAULT_FLAVOUR):return{...e,pending:!0};case(0,f.REJECTED_ACTION)(Ce.GET_DEFAULT_FLAVOUR):return{...ye,...(0,p.getErrorState)(t)};case(0,f.FULFILLED_ACTION)(Ce.GET_DEFAULT_FLAVOUR):return{...f.baseRequestState,fulfilled:!0,byID:{[be.DEFAULT_FLAVOUR_ID]:t.payload.data}};default:return e}},machineTypes:Ge,machineTypesByRegion:Fe,monitoring:P.Fo,subscriptions:nt,persistentStorageValues:Ye,loadBalancerValues:De,clusterLogs:R,notifications:c.notificationsReducer,networkSelfService:S.A,subscriptionSettings:tt,subscriptionReleased:Je,insightsData:O.A,clusterRouters:D.FK,cost:oe,dashboards:ce,supportStatus:(e=ct,t)=>(0,m.jM)(e,(a=>{switch(t.type){case(0,f.REJECTED_ACTION)(ut.A):a.pending=!1,a.fulfilled=!1,a.error=!0;break;case(0,f.PENDING_ACTION)(ut.A):a.pending=!0,a.fulfilled=!1,a.error=!1;break;case(0,f.FULFILLED_ACTION)(ut.A):a.pending=!1,a.fulfilled=!0,a.error=!1,a.supportStatus=(0,ot.get)(t.payload,"data.data[0].versions",[]).reduce(((e,t)=>({...e,[t.name]:t.type})),{});break;default:return e}})),entitlementConfig:function(e=ve,t){switch(t.type){case(0,f.REJECTED_ACTION)(ge.A):return{...ve,error:!0,errorCode:-1,fulfilled:!1,errorMessage:""};case(0,f.PENDING_ACTION)(ge.A):return{...e,pending:!0};case(0,f.FULFILLED_ACTION)(ge.A):return{...f.baseRequestState,fulfilled:!0};default:return e}},features:(e=Se,t)=>t.type===_e.SET_FEATURE?{...e,[t.payload.feature]:t.payload.enabled}:e,clusterUpgrades:F.Ay,apiError:(e=null,t)=>{switch(t.type){case d.eZ:return t.payload;case d.G:return null;default:return e}},machinePools:_,githubReleases:function(e=Re,t){return(0,m.jM)(e,(e=>{switch(t.type){case(0,f.REJECTED_ACTION)(Ae.GITHUB_GET_LATEST_RELEASE):e[t.meta.repo]={...Re[t.meta.repo],...(0,p.getErrorState)(t)};break;case(0,f.PENDING_ACTION)(Ae.GITHUB_GET_LATEST_RELEASE):e[t.meta.repo].pending=!0;break;case(0,f.FULFILLED_ACTION)(Ae.GITHUB_GET_LATEST_RELEASE):e[t.meta.repo]={...f.baseRequestState,fulfilled:!0,data:t.payload.data}}}))},ccsInquiries:z.Ay,ocmRoles:$e,rosaReducer:Qe.Ay,deleteProtection:w},It=(0,o.HY)({...yt});var At=a(65728),Rt=a(83741);const Tt=()=>e=>t=>{let a={};switch(t.type){case At.Ay.DESTROY:a.form=t.meta.form;break;case M.z:a.modalName=t.payload.name;break;default:a=void 0}return(0,Rt.ZQ)({category:"redux",message:`Dispatching ${t.type}`,data:a,level:"info"}),e(t)},Ot={dispatchDefaultFailure:!1},Pt=(0,r.U1)({middleware:e=>e({serializableCheck:!1,immutableCheck:{warnAfter:256}}).concat(s).concat(l.Ay).concat((0,n.default)({...Ot})).concat(Tt),reducer:It})},62384:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SUPPORTED_RESTRICTED_ENV_OCP_VERSIONS:()=>i,SUPPORT_CASE_URL:()=>r,getRefreshToken:()=>s,getRestrictedEnvApi:()=>n,isRestrictedEnv:()=>l});const l=e=>{var t;return e?["int","scr","frh","frhStage"].includes(e.getEnvironment()):null===(t=window.ocmConfig)||void 0===t?void 0:t.configData.restrictedEnv},n=e=>{if(!e)return window.ocmConfig.configData.restrictedEnvApi;const t=e.getEnvironment();return"frh"===t?"https://api.openshiftusgov.com":"frhStage"===t?"https://api.stage.openshiftusgov.com":"https://api.int.openshiftusgov.com"},r="https://redhatgov.servicenowservices.com/css",i=["4.11"],s=e=>e.auth.getRefreshToken()},53082:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(70012);const n={getAccessProtection:e=>l.Ay.get("/api/access_transparency/v1/access_protection",{params:e})}},74314:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(70012);const n={getAccessRequests:e=>l.Ay.get("/api/access_transparency/v1/access_requests",{params:e}),getAccessRequest:e=>l.Ay.get(`/api/access_transparency/v1/access_requests/${e}`),postAccessRequestDecision:(e,t)=>l.Ay.post(`/api/access_transparency/v1/access_requests/${e}/decisions`,t)}},98639:(e,t,a)=>{"use strict";a.d(t,{r:()=>n,A:()=>r});var l=a(70012);const n=()=>l.Ay.post("/api/accounts_mgmt/v1/access_token"),r={createAuthorizationToken:n,getDashboard:e=>l.Ay.get(`/api/accounts_mgmt/v1/organizations/${e}/summary_dashboard`)}},31122:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(70012);const n={getCurrentAccount:()=>l.Ay.get("/api/accounts_mgmt/v1/current_account"),getOrganization:e=>l.Ay.get(`/api/accounts_mgmt/v1/organizations/${e}`,{params:{fetchCapabilities:!0}}),getSubscription:e=>l.Ay.get(`/api/accounts_mgmt/v1/subscriptions/${e}`,{params:{fetchAccounts:!0,fetchCpuAndSocket:!0,fetchCapabilities:!0}}),getSubscriptions:e=>l.Ay.get("/api/accounts_mgmt/v1/subscriptions",{params:{page:e.page,size:e.page_size,orderBy:e.order,search:e.filter,fields:e.fields,fetchAccounts:!0,fetchCapabilities:!0}}),getUnhealthyClusters:(e,t)=>{let a=`\n    organization_id = '${e}'\n    and status NOT IN ('Deprovisioned', 'Archived')\n    and metrics.health_state = 'unhealthy'\n  `;return t.filter&&""!==t.filter&&(a+=` and ${t.filter}`),l.Ay.get("/api/accounts_mgmt/v1/subscriptions",{params:{page:t.page,size:t.page_size,order:t.order,search:a}})},getNotificationContacts:e=>l.Ay.get(`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts`),addNotificationContact:(e,t)=>l.Ay.post(`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts`,{account_identifier:t}),deleteNotificationContact:(e,t)=>l.Ay.delete(`/api/accounts_mgmt/v1/subscriptions/${e}/notification_contacts/${t}`),getOrganizationQuota:e=>l.Ay.get(`/api/accounts_mgmt/v1/organizations/${e}/quota_cost`,{params:{fetchRelatedResources:!0,fetchCloudAccounts:!0}}),editSubscription:(e,t)=>l.Ay.patch(`/api/accounts_mgmt/v1/subscriptions/${e}`,t),registerDisconnected:e=>l.Ay.post("/api/accounts_mgmt/v1/subscriptions",e),getOnDemandMetrics:e=>l.Ay.get(`/api/accounts_mgmt/v1/subscriptions/${e}/ondemand_metrics`),getSupportCases:e=>l.Ay.get(`/api/accounts_mgmt/v1/subscriptions/${e}/support_cases`),fetchSubscriptionByExternalId:e=>l.Ay.get("/api/accounts_mgmt/v1/subscriptions",{params:{search:`external_cluster_id='${e}'`,fetchAccounts:!0,fetchCpuAndSocket:!0,fetchCapabilities:!0,fetchMetrics:!0}}),createRosaEntitlement:()=>l.Ay.post("/api/accounts_mgmt/v1/self_entitlement/rosa"),getSubscriptionRoleBindings:e=>l.Ay.get(`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings`,{params:{fetchAccounts:!0}}),createSubscriptionRoleBinding:(e,t,a)=>(0,l.Ay)({method:"post",data:{account_username:t,role_id:a},url:`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings`}),deleteSubscriptionRoleBinding:(e,t)=>(0,l.Ay)({method:"delete",url:`/api/accounts_mgmt/v1/subscriptions/${e}/role_bindings/${t}`}),getOrganizationLabels:e=>l.Ay.get(`/api/accounts_mgmt/v1/organizations/${e}/labels`),getAWSAccountARNs:e=>l.Ay.post("/api/clusters_mgmt/v1/aws_inquiries/sts_account_roles",{account_id:e}),getOCMRole:e=>l.Ay.post("/api/clusters_mgmt/v1/aws_inquiries/sts_ocm_role",{account_id:e}),getUserRole:e=>l.Ay.get(`/api/accounts_mgmt/v1/accounts/${e}/labels/sts_user_role`),getPolicies:()=>l.Ay.get("/api/clusters_mgmt/v1/aws_inquiries/sts_policies"),getCredentialRequests:()=>l.Ay.get("/api/clusters_mgmt/v1/aws_inquiries/sts_credential_requests"),searchSubscriptions:(e,t=-1)=>l.Ay.get("/api/accounts_mgmt/v1/subscriptions",{params:{size:t,search:e,fetchAccounts:!0,fetchCapabilities:!0}}),getRegionalInstances:()=>l.Ay.get("/api/accounts_mgmt/v1/regions"),fetchSubscriptionByClusterId:e=>l.Ay.get("/api/accounts_mgmt/v1/subscriptions",{params:{search:`cluster_id='${e}'`,fetchAccounts:!0,fetchCpuAndSocket:!0,fetchCapabilities:!0,fetchMetrics:!0}})}},70012:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,XR:()=>c,kK:()=>s});var l=a(42561),n=a.n(l),r=a(62384),i=a(7028);const s=e=>(e.interceptors.request.use((async e=>{const t=(a=e.baseURL,(0,r.isRestrictedEnv)()?(0,r.getRestrictedEnvApi)():a||(i.default.configData.apiGateway?i.default.configData.apiGateway:""));var a;const l={...e,url:`${t}${e.url}`};return delete l.customHost,l})),e),o=s(n().create()),u={};function c(e){return e&&i.default.configData.apiRegionalGatewayTemplate?function(e){if(!u[e]){const t=s(n().create());t.defaults.baseURL=e,u[e]=t}return u[e]}(i.default.configData.apiRegionalGatewayTemplate.replace("$REGION$",e)):o}const d=o},35920:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(70012);const n={selfResourceReview:e=>l.Ay.post("/api/authorizations/v1/self_resource_review",e),selfAccessReview:e=>l.Ay.post("/api/authorizations/v1/self_access_review",e),selfTermsReview:e=>l.Ay.post("/api/authorizations/v1/self_terms_review",e),selfFeatureReview:e=>l.Ay.post("/api/authorizations/v1/self_feature_review",{feature:e})}},16236:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s,getClusterService:()=>r,getClusterServiceForRegion:()=>i});var l=a(70012);const n="OSD";function r(e=l.Ay){return{getClusters:t=>e.get("/api/clusters_mgmt/v1/clusters",{params:t}),searchClusters:(t,a=-1)=>e.post("/api/clusters_mgmt/v1/clusters?method=get",{size:a,search:t}),postNewCluster:t=>e.post("/api/clusters_mgmt/v1/clusters",t),getClusterDetails:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}`),getClusterStatus:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/status`),getInflightChecks:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/inflight_checks`),rerunInflightChecks:t=>e.post("/api/clusters_mgmt/v1/network_verifications",{cluster_id:t}),getTriggeredInflightCheckState:t=>e.get(`/api/clusters_mgmt/v1/network_verifications/${t}`),editCluster:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}`,a),deleteCluster:t=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}`),getCloudProviders:()=>e.get("/api/clusters_mgmt/v1/cloud_providers",{params:{size:-1,fetchRegions:!0}}),getLogs:(t,a,l)=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/logs/${l}`,{params:{offset:a}}),getIdentityProviders:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/identity_providers`),deleteIdentityProvider:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/identity_providers/${a}`),createClusterIdentityProvider:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/identity_providers`,a),editClusterIdentityProvider:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/identity_providers/${a.id}`,a),getClusterGroupUsers:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/groups`,{params:{size:-1}}),addClusterGroupUser:(t,a,l)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/groups/${a}/users`,{id:l}),deleteClusterGroupUser:(t,a,l)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/groups/${a}/users/${encodeURIComponent(l)}`),getFlavour:t=>e.get(`/api/clusters_mgmt/v1/flavours/${t}`),getMachineTypes:()=>e.get("/api/clusters_mgmt/v1/machine_types",{params:{size:-1}}),getMachineTypesByRegion:(t,a,l,n)=>e.post("/api/clusters_mgmt/v1/aws_inquiries/machine_types",{aws:{access_key_id:t,account_id:a,secret_access_key:l},region:{id:n}},{params:{size:-1}}),getMachineTypesByRegionARN:(t,a)=>e.post("/api/clusters_mgmt/v1/aws_inquiries/machine_types",{aws:{sts:{role_arn:t}},region:{id:a}},{params:{size:-1}}),getStorageQuotaValues:()=>e.get("/api/clusters_mgmt/v1/storage_quota_values"),getLoadBalancerQuotaValues:()=>e.get("/api/clusters_mgmt/v1/load_balancer_quota_values"),archiveCluster:t=>e.patch(`/api/accounts_mgmt/v1/subscriptions/${t}`,'{"status":"Archived"}'),unarchiveCluster:t=>e.patch(`/api/accounts_mgmt/v1/subscriptions/${t}`,'{"status":"Disconnected"}'),hibernateCluster:t=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/hibernate`),resumeCluster:t=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/resume`),getDnsDomains:t=>{const a=`user_defined='${t.userDefined}' AND cluster.id${t.hasCluster?"!=''":"=''"}`;return e.get("/api/clusters_mgmt/v1/dns_domains",{params:{search:a}})},createNewDnsDomain:()=>e.post("/api/clusters_mgmt/v1/dns_domains",{}),deleteDnsDomain:t=>e.delete(`/api/clusters_mgmt/v1/dns_domains/${t}`,{}),getEnabledAddOns:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/addon_inquiries`,{params:{size:-1,search:"enabled='t'"}}),getClusterAddOns:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/addons`),addClusterAddOn:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/addons`,a),updateClusterAddOn:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/addons/${a}`,l),deleteClusterAddOn:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/addons/${a}`),getInstallableVersions:({isRosa:t=!1,isMarketplaceGcp:a=!1,isWIF:l=!1,isHCP:n=!1,includeUnstableVersions:r=!1})=>e.get("/api/clusters_mgmt/v1/versions/",{params:{order:"end_of_life_timestamp desc",product:n?"hcp":void 0,search:`enabled='t' AND (channel_group='stable'${r?" OR channel_group='candidate' OR channel_group='fast' OR channel_group='nightly'":""})${t?" AND rosa_enabled='t'":""}${a?" AND gcp_marketplace_enabled='t'":""}${l?" AND wif_enabled='t'":""}`,size:-1}}),getRoles:()=>e.get("/api/clusters_mgmt/v1/aws_infrastructure_access_roles/?search=state='valid'"),getGrants:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/aws_infrastructure_access_role_grants`),addGrant:(t,a,l)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/aws_infrastructure_access_role_grants/`,{role:{id:a},user_arn:l}),deleteGrant:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/aws_infrastructure_access_role_grants/${a}`),getIngresses:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/ingresses`),editIngresses:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/ingresses`,a),editIngress:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/ingresses/${a}`,l),addAdditionalIngress:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/ingresses`,a),deleteAdditionalIngress:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/ingresses/${a}`),postUpgradeSchedule:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/upgrade_policies`,a),postControlPlaneUpgradeSchedule:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/control_plane/upgrade_policies`,a),postNodePoolUpgradeSchedule:(t,a,l)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/node_pools/${a}/upgrade_policies`,l),patchUpgradeSchedule:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/upgrade_policies/${a}`,l),patchControlPlaneUpgradeSchedule:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/control_plane/upgrade_policies/${a}`,l),getUpgradeSchedules:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/upgrade_policies`,{params:{search:`upgrade_type='${n}'`}}),getControlPlaneUpgradeSchedules:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/control_plane/upgrade_policies`,{params:{}}),getUpgradeScheduleState:(t,a)=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/upgrade_policies/${a}/state`),deleteUpgradeSchedule:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/upgrade_policies/${a}`),deleteControlPlaneUpgradeSchedule:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/control_plane/upgrade_policies/${a}`),getMachinePools:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/machine_pools`),getNodePoolUpgradePolicies:(t,a)=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/node_pools/${a}/upgrade_policies`),getNodePools:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/node_pools`),patchNodePool:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/node_pools/${a}`,l),patchMachinePool:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/machine_pools/${a}`,l),addMachinePool:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/machine_pools`,a),addNodePool:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/node_pools`,a),deleteMachinePool:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/machine_pools/${a}`),deleteNodePool:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/node_pools/${a}`),getClusterAutoscaler:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/autoscaler`),enableClusterAutoscaler:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/autoscaler`,a),updateClusterAutoscaler:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/autoscaler`,a),disableClusterAutoscaler:t=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/autoscaler`),upgradeTrialCluster:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}`,a),getAWSVPCDetails:(t,a)=>{const l=(null==a?void 0:a.includeSecurityGroups)?"?fetchSecurityGroups=true":"";return e.get(`/api/clusters_mgmt/v1/clusters/${t}/vpc${l}`)},listAWSVPCs:(t,a,l,n)=>{const r=(null==n?void 0:n.includeSecurityGroups)?"?fetchSecurityGroups=true":"";return e.post(`/api/clusters_mgmt/v1/aws_inquiries/vpcs${r}`,{aws:t,region:{id:a},subnets:l?[l]:void 0})},listGCPVPCs:(t,a)=>e.post("/api/clusters_mgmt/v1/gcp_inquiries/vpcs",{gcp:t,region:{id:a}}),listGCPKeyRings:(t,a)=>e.post("/api/clusters_mgmt/v1/gcp_inquiries/key_rings",{gcp:t,key_location:a}),listGCPKeys:(t,a,l)=>e.post("/api/clusters_mgmt/v1/gcp_inquiries/encryption_keys",{gcp:t,key_location:a,key_ring_name:l}),listAWSRegions:(t,a)=>e.post("/api/clusters_mgmt/v1/aws_inquiries/regions",{aws:t,...a&&{version:{id:a}}}),getUpgradeGates:()=>e.get("/api/clusters_mgmt/v1/version_gates"),getClusterGateAgreements:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/gate_agreements`),postClusterGateAgreement:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/gate_agreements`,{version_gate:{id:a}}),getOperatorRoleCommands:(t,a,l)=>e.post(`/api/clusters_mgmt/v1/clusters/${a}/sts_commands`,{account_id:t,sts:{role_arn:l}}),getOidcConfigurations:t=>e.get("/api/clusters_mgmt/v1/oidc_configs",{params:{search:`aws.account_id='${t}' or aws.account_id=''`}}),getLimitedSupportReasons:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/limited_support_reasons`),getKubeletConfiguration:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/kubelet_config`),postKubeletConfiguration:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/kubelet_config`,{...a}),patchKubeletConfiguration:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/kubelet_config`,{...a}),deleteKubeletConfiguration:t=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/kubelet_config`),getTechPreviewStatus:(t,a)=>e.get(`/api/clusters_mgmt/v1/products/${t}/technology_previews/${a}`),updateDeleteProtection:(t,a)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/delete_protection`,{enabled:a}),postExternalAuth:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/external_auth_config/external_auths`,a),patchExternalAuth:(t,a,l)=>e.patch(`/api/clusters_mgmt/v1/clusters/${t}/external_auth_config/external_auths/${a}`,l),getExternalAuths:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/external_auth_config/external_auths`),getExternalAuthDetails:(t,a)=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/external_auth_config/external_auths/${a}`),deleteExternalAuth:(t,a)=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/external_auth_config/external_auths/${a}`),postBreakGlassCredentials:(t,a)=>e.post(`/api/clusters_mgmt/v1/clusters/${t}/break_glass_credentials`,a),getBreakGlassCredentials:t=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/break_glass_credentials`),getBreakGlassCredentialDetails:(t,a)=>e.get(`/api/clusters_mgmt/v1/clusters/${t}/break_glass_credentials/${a}`),revokeBreakGlassCredentials:t=>e.delete(`/api/clusters_mgmt/v1/clusters/${t}/break_glass_credentials`),getGCPWifConfigs:t=>e.get("/api/clusters_mgmt/v1/gcp/wif_configs",{params:{size:-1}})}}const i=e=>r((0,l.XR)(e)),s=r()},90020:(e,t,a)=>{"use strict";a.r(t),a.d(t,{accountManager:()=>l.A,accountsService:()=>n.A,assistedService:()=>o,authorizationsService:()=>u.A,clusterService:()=>c.default,costService:()=>f,default:()=>h,insightsService:()=>E,serviceLogService:()=>v});var l=a(98639),n=a(31122),r=a(25247);const{Services:{APIs:{ClustersAPI:i},NewFeatureSupportLevelsService:s}}=r,o={getAIClustersBySubscription:i.listBySubscriptionIds,getAICluster:i.get,getAIFeatureSupportLevels:s.getFeaturesSupportLevel};var u=a(35920),c=a(16236),d=a(55373),m=a(70012),p=a(7028);const f={getReport:e=>{const t={...e,filter:{limit:5,resolution:"monthly",time_scope_units:"month",time_scope_value:"-1",...null==e?void 0:e.filter},group_by:{cluster:"*"}},a=(0,d.stringify)(t,{encode:!1,indices:!1});return m.Ay.get(`/cost-management/v1/reports/openshift/costs/?${a}`,{baseURL:p.default.configData.insightsGateway,headers:{Accept:"application/json"}})},getSources:e=>m.Ay.get("/cost-management/v1/sources/",{baseURL:p.default.configData.insightsGateway,headers:{Accept:"application/json"},params:{type:`${null==e?void 0:e.type}`}}),getUserAccess:e=>m.Ay.get("/cost-management/v1/user-access/",{baseURL:p.default.configData.insightsGateway,headers:{Accept:"application/json"},params:{type:`${null==e?void 0:e.type}`}})},E={getClusterInsights:e=>m.Ay.get(`/cluster/${e}/reports`,{baseURL:`${p.default.configData.insightsGateway}/insights-results-aggregator/v2`}),getOrganizationInsights:()=>m.Ay.get("/org_overview",{baseURL:`${p.default.configData.insightsGateway}/insights-results-aggregator/v1`})},g=(e,t,a,l=m.Ay)=>l.get("/api/service_logs/v1/clusters/cluster_logs",{params:{cluster_uuid:e,cluster_id:t,size:a.page_size,page:a.page,orderBy:a.order,search:a.filter,query:a.query,format:a.format}}),v={getClusterHistory:g,getClusterHistoryForRegion:(e,t,a,l)=>g(e,t,a,(0,m.XR)(l))},h={clusterService:c.default,costService:f,accountsService:n.A,accountManager:l.A,authorizationsService:u.A,serviceLogService:v,insightsService:E,assistedService:o}},39357:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(42561),n=a.n(l);const r=()=>n().get("https://access.redhat.com/product-life-cycles/api/v1/products",{params:{name:"Openshift Container Platform 4"}})},92644:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(93345),n=a.n(l);const r=e=>{const{height:t,width:a,className:l}=e;return n().createElement("svg",{className:l,role:"img",version:"1.1","data-name":"Layer 1",height:t||".9em",width:a,viewBox:"0 0 304 182","aria-label":"Amazon Web Service logo"},n().createElement("g",null,n().createElement("path",{className:"st0",d:"M86.4,66.4c0,3.7,0.4,6.7,1.1,8.9c0.8,2.2,1.8,4.6,3.2,7.2c0.5,0.8,0.7,1.6,0.7,2.3c0,1-0.6,2-1.9,3l-6.3,4.2\n        c-0.9,0.6-1.8,0.9-2.6,0.9c-1,0-2-0.5-3-1.4C76.2,90,75,88.4,74,86.8c-1-1.7-2-3.6-3.1-5.9c-7.8,9.2-17.6,13.8-29.4,13.8\n        c-8.4,0-15.1-2.4-20-7.2c-4.9-4.8-7.4-11.2-7.4-19.2c0-8.5,3-15.4,9.1-20.6c6.1-5.2,14.2-7.8,24.5-7.8c3.4,0,6.9,0.3,10.6,0.8\n        c3.7,0.5,7.5,1.3,11.5,2.2v-7.3c0-7.6-1.6-12.9-4.7-16c-3.2-3.1-8.6-4.6-16.3-4.6c-3.5,0-7.1,0.4-10.8,1.3c-3.7,0.9-7.3,2-10.8,3.4\n        c-1.6,0.7-2.8,1.1-3.5,1.3c-0.7,0.2-1.2,0.3-1.6,0.3c-1.4,0-2.1-1-2.1-3.1v-4.9c0-1.6,0.2-2.8,0.7-3.5c0.5-0.7,1.4-1.4,2.8-2.1\n        c3.5-1.8,7.7-3.3,12.6-4.5c4.9-1.3,10.1-1.9,15.6-1.9c11.9,0,20.6,2.7,26.2,8.1c5.5,5.4,8.3,13.6,8.3,24.6V66.4z M45.8,81.6\n        c3.3,0,6.7-0.6,10.3-1.8c3.6-1.2,6.8-3.4,9.5-6.4c1.6-1.9,2.8-4,3.4-6.4c0.6-2.4,1-5.3,1-8.7v-4.2c-2.9-0.7-6-1.3-9.2-1.7\n        c-3.2-0.4-6.3-0.6-9.4-0.6c-6.7,0-11.6,1.3-14.9,4c-3.3,2.7-4.9,6.5-4.9,11.5c0,4.7,1.2,8.2,3.7,10.6\n        C37.7,80.4,41.2,81.6,45.8,81.6z M126.1,92.4c-1.8,0-3-0.3-3.8-1c-0.8-0.6-1.5-2-2.1-3.9L96.7,10.2c-0.6-2-0.9-3.3-0.9-4\n        c0-1.6,0.8-2.5,2.4-2.5h9.8c1.9,0,3.2,0.3,3.9,1c0.8,0.6,1.4,2,2,3.9l16.8,66.2l15.6-66.2c0.5-2,1.1-3.3,1.9-3.9c0.8-0.6,2.2-1,4-1\n        h8c1.9,0,3.2,0.3,4,1c0.8,0.6,1.5,2,1.9,3.9l15.8,67l17.3-67c0.6-2,1.3-3.3,2-3.9c0.8-0.6,2.1-1,3.9-1h9.3c1.6,0,2.5,0.8,2.5,2.5\n        c0,0.5-0.1,1-0.2,1.6c-0.1,0.6-0.3,1.4-0.7,2.5l-24.1,77.3c-0.6,2-1.3,3.3-2.1,3.9c-0.8,0.6-2.1,1-3.8,1h-8.6c-1.9,0-3.2-0.3-4-1\n        c-0.8-0.7-1.5-2-1.9-4L156,23l-15.4,64.4c-0.5,2-1.1,3.3-1.9,4c-0.8,0.7-2.2,1-4,1H126.1z M254.6,95.1c-5.2,0-10.4-0.6-15.4-1.8\n        c-5-1.2-8.9-2.5-11.5-4c-1.6-0.9-2.7-1.9-3.1-2.8c-0.4-0.9-0.6-1.9-0.6-2.8v-5.1c0-2.1,0.8-3.1,2.3-3.1c0.6,0,1.2,0.1,1.8,0.3\n        c0.6,0.2,1.5,0.6,2.5,1c3.4,1.5,7.1,2.7,11,3.5c4,0.8,7.9,1.2,11.9,1.2c6.3,0,11.2-1.1,14.6-3.3c3.4-2.2,5.2-5.4,5.2-9.5\n        c0-2.8-0.9-5.1-2.7-7c-1.8-1.9-5.2-3.6-10.1-5.2L246,52c-7.3-2.3-12.7-5.7-16-10.2c-3.3-4.4-5-9.3-5-14.5c0-4.2,0.9-7.9,2.7-11.1\n        c1.8-3.2,4.2-6,7.2-8.2c3-2.3,6.4-4,10.4-5.2c4-1.2,8.2-1.7,12.6-1.7c2.2,0,4.5,0.1,6.7,0.4c2.3,0.3,4.4,0.7,6.5,1.1\n        c2,0.5,3.9,1,5.7,1.6c1.8,0.6,3.2,1.2,4.2,1.8c1.4,0.8,2.4,1.6,3,2.5c0.6,0.8,0.9,1.9,0.9,3.3v4.7c0,2.1-0.8,3.2-2.3,3.2\n        c-0.8,0-2.1-0.4-3.8-1.2c-5.7-2.6-12.1-3.9-19.2-3.9c-5.7,0-10.2,0.9-13.3,2.8c-3.1,1.9-4.7,4.8-4.7,8.9c0,2.8,1,5.2,3,7.1\n        c2,1.9,5.7,3.8,11,5.5l14.2,4.5c7.2,2.3,12.4,5.5,15.5,9.6c3.1,4.1,4.6,8.8,4.6,14c0,4.3-0.9,8.2-2.6,11.6\n        c-1.8,3.4-4.2,6.4-7.3,8.8c-3.1,2.5-6.8,4.3-11.1,5.6C264.4,94.4,259.7,95.1,254.6,95.1z"}),n().createElement("g",null,n().createElement("path",{className:"st1",d:"M273.5,143.7c-32.9,24.3-80.7,37.2-121.8,37.2c-57.6,0-109.5-21.3-148.7-56.7c-3.1-2.8-0.3-6.6,3.4-4.4\n          c42.4,24.6,94.7,39.5,148.8,39.5c36.5,0,76.6-7.6,113.5-23.2C274.2,133.6,278.9,139.7,273.5,143.7z"}),n().createElement("path",{className:"st1",d:"M287.2,128.1c-4.2-5.4-27.8-2.6-38.5-1.3c-3.2,0.4-3.7-2.4-0.8-4.5c18.8-13.2,49.7-9.4,53.3-5\n          c3.6,4.5-1,35.4-18.6,50.2c-2.7,2.3-5.3,1.1-4.1-1.9C282.5,155.7,291.4,133.4,287.2,128.1z"}))))}},84545:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(93345),n=a.n(l);const r=e=>{const{height:t,width:a,className:l}=e;return n().createElement("svg",{className:l,height:t||".9em",width:a,"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 145","aria-label":"Red Hat logo"},n().createElement("defs",null,n().createElement("style",null)),n().createElement("title",null,"RedHat-Logo-Hat-Color"),n().createElement("path",{d:"M157.77,62.61a14,14,0,0,1,.31,3.42c0,14.88-18.1,17.46-30.61,17.46C78.83,83.49,42.53,53.26,42.53,44a6.43,6.43,0,0,1,.22-1.94l-3.66,9.06a18.45,18.45,0,0,0-1.51,7.33c0,18.11,41,45.48,87.74,45.48,20.69,0,36.43-7.76,36.43-21.77,0-1.08,0-1.94-1.73-10.13Z"}),n().createElement("path",{fill:"#e00",className:"cls-1",d:"M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"}))}},13642:(e,t,a)=>{"use strict";var l,n,r,i,s,o,u,c,d,m,p,f,E,g,v,h,_,S,b,C,y,I,A,R,T,O,P,D,L,N,w,k;a.r(t),a.d(t,{AccessReview:()=>l,AccessReviewResponse:()=>n,AccountGroup:()=>r,AccountGroupAssignment:()=>i,BillingModel:()=>s,CapabilityReviewRequest:()=>o,CertificatesRequest:()=>u,CloudResource:()=>c,ClusterAuthorizationRequest:()=>d,ClusterTransfer:()=>m,ConsumedQuota:()=>p,EntitlementCertificatesRequest:()=>f,ExcessResource:()=>E,Label:()=>g,OneMetric:()=>v,Permission:()=>h,QuotaRules:()=>_,RelatedResource:()=>S,ReservedResource:()=>b,ReservedResourcePatchRequest:()=>C,ResourceQuota:()=>y,ResourceQuotaRequest:()=>I,ResourceReview:()=>A,ResourceReviewRequest:()=>R,RoleBinding:()=>T,SelfAccessReview:()=>O,SelfResourceReview:()=>P,SelfResourceReviewRequest:()=>D,SubscriptionCommonFields:()=>L,SubscriptionCreateRequest:()=>N,SubscriptionPatchRequest:()=>w,SupportCasesRequest:()=>k}),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.ADD_ON="AddOn",e.FLAVOUR="Flavour",e.ACCOUNT="Account",e.ACCOUNT_POOL="AccountPool",e.CLUSTER="Cluster",e.PLAN="Plan",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization",e.ROLE="Role",e.PERMISSION="Permission",e.ROLE_BINDING="RoleBinding",e.REGISTRY="Registry",e.REGISTRY_CREDENTIAL="RegistryCredential",e.CURRENT_ACCOUNT="CurrentAccount",e.ACCESS_REVIEW="AccessReview",e.SELF_ACCCESS_REVIEW="SelfAcccessReview",e.RESOURCE_REVIEW="ResourceReview",e.SELF_RESOURCE_REVIEW="SelfResourceReview",e.CLUSTER_REGISTRATION="ClusterRegistration",e.ACCESS_TOKEN="AccessToken",e.CLUSTER_AUTHORIZATION="ClusterAuthorization",e.SELF_MANAGED_CLUSTER="SelfManagedCluster",e.REDHAT_MANAGED_CLUSTER="RedhatManagedCluster",e.EXPORT_CONTROL_REVIEW="ExportControlReview",e.CLUSTER_LOG="ClusterLog",e.CLUSTER_CREDENTIAL="ClusterCredential",e.CLUSTER_METRIC="ClusterMetric",e.RESOURCE_QUOTA="ResourceQuota",e.RESERVED_RESOURCE="ReservedResource",e.DASHBOARD="Dashboard",e.CLUSTER_PROVIDER_AND_REGION="ClusterProviderAndRegion",e.SERVICE_LOG="ServiceLog",e.INTERNAL_SERVICE_LOG="InternalServiceLog",e.CSLOGS="CSLogs",e.SUBSCRIPTION_LABEL="SubscriptionLabel",e.ORGANIZATION_LABEL="OrganizationLabel",e.SUBSCRIPTION_LABEL_INTERNAL="SubscriptionLabelInternal",e.SELF_ACCESS_REVIEW="SelfAccessReview",e.SUBSCRIPTION_INTERNAL="SubscriptionInternal",e.SUBSCRIPTION_ROLE_BINDING="SubscriptionRoleBinding",e.CLUSTER_SELF_MANAGED="ClusterSelfManaged",e.CLUSTER_SELF_MANAGED_ADDON="ClusterSelfManagedAddon",e.CLUSTER_SELF_MANAGED_LABEL="ClusterSelfManagedLabel",e.CLUSTER_SELF_MANAGED_STATUS="ClusterSelfManagedStatus"}(a=e.resource_type||(e.resource_type={}))}(l||(l={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.ADD_ON="AddOn",e.FLAVOUR="Flavour",e.ACCOUNT="Account",e.ACCOUNT_POOL="AccountPool",e.CLUSTER="Cluster",e.PLAN="Plan",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization",e.ROLE="Role",e.PERMISSION="Permission",e.ROLE_BINDING="RoleBinding",e.REGISTRY="Registry",e.REGISTRY_CREDENTIAL="RegistryCredential",e.CURRENT_ACCOUNT="CurrentAccount",e.ACCESS_REVIEW="AccessReview",e.SELF_ACCCESS_REVIEW="SelfAcccessReview",e.RESOURCE_REVIEW="ResourceReview",e.SELF_RESOURCE_REVIEW="SelfResourceReview",e.CLUSTER_REGISTRATION="ClusterRegistration",e.ACCESS_TOKEN="AccessToken",e.CLUSTER_AUTHORIZATION="ClusterAuthorization",e.SELF_MANAGED_CLUSTER="SelfManagedCluster",e.REDHAT_MANAGED_CLUSTER="RedhatManagedCluster",e.EXPORT_CONTROL_REVIEW="ExportControlReview",e.CLUSTER_LOG="ClusterLog",e.CLUSTER_CREDENTIAL="ClusterCredential",e.CLUSTER_METRIC="ClusterMetric",e.RESOURCE_QUOTA="ResourceQuota",e.RESERVED_RESOURCE="ReservedResource",e.DASHBOARD="Dashboard",e.CLUSTER_PROVIDER_AND_REGION="ClusterProviderAndRegion",e.SERVICE_LOG="ServiceLog",e.INTERNAL_SERVICE_LOG="InternalServiceLog",e.CSLOGS="CSLogs",e.SUBSCRIPTION_LABEL="SubscriptionLabel",e.ORGANIZATION_LABEL="OrganizationLabel",e.SUBSCRIPTION_LABEL_INTERNAL="SubscriptionLabelInternal",e.SELF_ACCESS_REVIEW="SelfAccessReview",e.SUBSCRIPTION_INTERNAL="SubscriptionInternal",e.SUBSCRIPTION_ROLE_BINDING="SubscriptionRoleBinding",e.CLUSTER_SELF_MANAGED="ClusterSelfManaged",e.CLUSTER_SELF_MANAGED_ADDON="ClusterSelfManagedAddon",e.CLUSTER_SELF_MANAGED_LABEL="ClusterSelfManagedLabel",e.CLUSTER_SELF_MANAGED_STATUS="ClusterSelfManagedStatus"}(a=e.resource_type||(e.resource_type={}))}(n||(n={})),function(e){let t;!function(e){e.SSO="SSO",e.OCM="OCM",e.RBAC="RBAC"}(t=e.managed_by||(e.managed_by={}))}(r||(r={})),function(e){let t;!function(e){e.OCM="OCM",e.RBAC="RBAC"}(t=e.managed_by||(e.managed_by={}))}(i||(i={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model_type||(e.billing_model_type={}))}(s||(s={})),function(e){let t,a;!function(e){e.MANAGE_CLUSTER_ADMIN="manage_cluster_admin"}(t=e.capability||(e.capability={})),function(e){e.CLUSTER="Cluster"}(a=e.type||(e.type={}))}(o||(o={})),function(e){let t,a;!function(e){e.X86="x86",e.X86_64="x86_64",e.PPC="ppc",e.PPC64="ppc64",e.PPC64LE="ppc64le",e.S390="s390",e.S390X="s390x",e.IA64="ia64",e.AARCH64="aarch64"}(t=e.arch||(e.arch={})),function(e){e.SCA="sca"}(a=e.type||(e.type={}))}(u||(u={})),function(e){let t;!function(e){e.ADDON="addon",e.COMPUTE_NODE="compute.node",e.CLUSTER="cluster",e.NETWORK_IO="network.io",e.NETWORK_LOADBALANCER="network.loadbalancer",e.PV_STORAGE="pv.storage"}(t=e.resource_type||(e.resource_type={}))}(c||(c={})),function(e){let t,a;!function(e){e.ASSISTED_INSTALL="assistedInstall",e.HOSTED_CONTROL_PLANE="HostedControlPlane"}(t=e.product_category||(e.product_category={})),function(e){e.OCP="OCP",e.OSD="OSD",e.OSDTRIAL="OSDTrial",e.MOA="MOA",e.MOA_HOSTED_CONTROL_PLANE="MOA-HostedControlPlane",e.RHMI="RHMI",e.RHOSAK="RHOSAK",e.RHOSAKTRIAL="RHOSAKTrial",e.RHOSR="RHOSR",e.RHOSRTRIAL="RHOSRTrial",e.RHOSE="RHOSE",e.RHOSETRIAL="RHOSETrial",e.RHACS="RHACS",e.RHACSTRIAL="RHACSTrial",e.ARO="ARO",e.RHOIC="RHOIC",e.OCP_ASSISTED_INSTALL="OCP-AssistedInstall"}(a=e.product_id||(e.product_id={}))}(d||(d={})),function(e){let t;!function(e){e.PENDING="Pending",e.ACCEPTED="Accepted",e.DECLINED="Declined",e.RESCINDED="Rescinded",e.COMPLETED="Completed"}(t=e.status||(e.status={}))}(m||(m={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(p||(p={})),function(e){let t;!function(e){e.SCA="sca"}(t=e.type||(e.type={}))}(f||(f={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(E||(E={})),function(e){let t;!function(e){e.CONFIG="Config",e.USER="User"}(t=e.managed_by||(e.managed_by={}))}(g||(g={})),function(e){let t;!function(e){e.HEALTHY="healthy",e.UNHEALTHY="unhealthy",e.UNKNOWN="unknown"}(t=e.health_state||(e.health_state={}))}(v||(v={})),function(e){let t;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={}))}(h||(h={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(_||(_={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.ANY="any"}(t=e.billing_model||(e.billing_model={}))}(S||(S={})),function(e){let t,a;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={})),function(e){e.COMPUTE_NODE_AWS="compute.node.aws",e.PV_STORAGE_AWS="pv.storage.aws",e.CLUSTER_AWS="cluster.aws",e.NETWORK_IO_AWS="network.io.aws",e.NETWORK_LOADBALANCER_AWS="network.loadbalancer.aws",e.COMPUTE_NODE_GCP="compute.node.gcp",e.PV_STORAGE_GCP="pv.storage.gcp",e.CLUSTER_GCP="cluster.gcp",e.NETWORK_IO_GCP="network.io.gcp",e.NETWORK_GCP_LOADBALANCER_GCP="network-gcp.loadbalancer.gcp",e.ADDON="addon",e.COMPUTE_NODE="compute.node",e.PV_STORAGE="pv.storage",e.CLUSTER="cluster",e.NETWORK_IO="network.io",e.NETWORK_LOADBALANCER="network.loadbalancer"}(a=e.resource_type||(e.resource_type={}))}(b||(b={})),function(e){let t;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.billing_model||(e.billing_model={}))}(C||(C={})),function(e){let t;!function(e){e.CONFIG="Config",e.MANUAL="Manual",e.SUBSCRIPTION="Subscription"}(t=e.type||(e.type={}))}(y||(y={})),function(e){let t;!function(e){e.CONFIG="Config",e.MANUAL="Manual",e.SUBSCRIPTION="Subscription"}(t=e.type||(e.type={}))}(I||(I={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(A||(A={})),function(e){let t,a;!function(e){e.GET="get",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(R||(R={})),function(e){let t,a;!function(e){e.CONFIG="Config",e.USER="User",e.RBAC="RBAC"}(t=e.managed_by||(e.managed_by={})),function(e){e.APPLICATION="Application",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization"}(a=e.type||(e.type={}))}(T||(T={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.ACCESS_REQUEST_DECISION="AccessRequestDecision",e.ADD_ON="AddOn",e.FLAVOUR="Flavour",e.ACCOUNT="Account",e.ACCOUNT_POOL="AccountPool",e.CLUSTER="Cluster",e.IDP="Idp",e.PLAN="Plan",e.SUBSCRIPTION="Subscription",e.ORGANIZATION="Organization",e.ROLE="Role",e.PERMISSION="Permission",e.ROLE_BINDING="RoleBinding",e.REGISTRY="Registry",e.REGISTRY_CREDENTIAL="RegistryCredential",e.CURRENT_ACCOUNT="CurrentAccount",e.ACCESS_REVIEW="AccessReview",e.SELF_ACCCESS_REVIEW="SelfAcccessReview",e.RESOURCE_REVIEW="ResourceReview",e.SELF_RESOURCE_REVIEW="SelfResourceReview",e.CLUSTER_REGISTRATION="ClusterRegistration",e.ACCESS_TOKEN="AccessToken",e.CLUSTER_AUTHORIZATION="ClusterAuthorization",e.SELF_MANAGED_CLUSTER="SelfManagedCluster",e.REDHAT_MANAGED_CLUSTER="RedhatManagedCluster",e.EXPORT_CONTROL_REVIEW="ExportControlReview",e.CLUSTER_LOG="ClusterLog",e.CLUSTER_CREDENTIAL="ClusterCredential",e.CLUSTER_METRIC="ClusterMetric",e.CLUSTER_AUTOSCALER="ClusterAutoscaler",e.RESOURCE_QUOTA="ResourceQuota",e.RESERVED_RESOURCE="ReservedResource",e.DASHBOARD="Dashboard",e.CLUSTER_PROVIDER_AND_REGION="ClusterProviderAndRegion",e.SERVICE_LOG="ServiceLog",e.INTERNAL_SERVICE_LOG="InternalServiceLog",e.CSLOGS="CSLogs",e.SUBSCRIPTION_LABEL="SubscriptionLabel",e.ORGANIZATION_LABEL="OrganizationLabel",e.SUBSCRIPTION_LABEL_INTERNAL="SubscriptionLabelInternal",e.SELF_ACCESS_REVIEW="SelfAccessReview",e.SUBSCRIPTION_INTERNAL="SubscriptionInternal",e.SUBSCRIPTION_ROLE_BINDING="SubscriptionRoleBinding",e.CLUSTER_SELF_MANAGED="ClusterSelfManaged",e.CLUSTER_SELF_MANAGED_ADDON="ClusterSelfManagedAddon",e.CLUSTER_SELF_MANAGED_LABEL="ClusterSelfManagedLabel",e.CLUSTER_SELF_MANAGED_STATUS="ClusterSelfManagedStatus",e.CLUSTER_KUBELET_CONFIG="ClusterKubeletConfig",e.MACHINE_POOL="MachinePool",e.CLUSTER_BREAK_GLASS_CREDENTIAL="ClusterBreakGlassCredential"}(a=e.resource_type||(e.resource_type={}))}(O||(O={})),function(e){let t,a;!function(e){e.GET="get",e.LIST="list",e.CREATE="create",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(P||(P={})),function(e){let t,a;!function(e){e.GET="get",e.DELETE="delete",e.UPDATE="update"}(t=e.action||(e.action={})),function(e){e.CLUSTER="Cluster",e.SUBSCRIPTION="Subscription"}(a=e.resource_type||(e.resource_type={}))}(D||(D={})),function(e){let t,a,l,n,r,i,s;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.cluster_billing_model||(e.cluster_billing_model={})),function(e){e.OPENSHIFT="Openshift",e.JBOSS_MIDDLEWARE="JBoss-Middleware",e.IBM_CLOUD_PAK="IBM-CloudPak"}(a=e.product_bundle||(e.product_bundle={})),function(e){e.L1_L3="L1-L3",e.L3_ONLY="L3-only"}(l=e.service_level||(e.service_level={})),function(e){e.ACTIVE="Active",e.ARCHIVED="Archived",e.DEPROVISIONED="Deprovisioned",e.DISCONNECTED="Disconnected",e.RESERVED="Reserved",e.STALE="Stale"}(n=e.status||(e.status={})),function(e){e.EVAL="Eval",e.STANDARD="Standard",e.PREMIUM="Premium",e.SELF_SUPPORT="Self-Support",e.NONE="None",e.SUPPORTED_BY_IBM="Supported By IBM"}(r=e.support_level||(e.support_level={})),function(e){e.CORES_V_CPU="Cores/vCPU",e.SOCKETS="Sockets"}(i=e.system_units||(e.system_units={})),function(e){e.PRODUCTION="Production",e.DEVELOPMENT_TEST="Development/Test",e.DISASTER_RECOVERY="Disaster Recovery",e.ACADEMIC="Academic"}(s=e.usage||(e.usage={}))}(L||(L={})),function(e){let t,a;!function(e){e.OCP="OCP"}(t=e.plan_id||(e.plan_id={})),function(e){e.DISCONNECTED="Disconnected"}(a=e.status||(e.status={}))}(N||(N={})),function(e){let t,a,l,n,r,i;!function(e){e.STANDARD="standard",e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_AZURE="marketplace-azure",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_GCP="marketplace-gcp"}(t=e.cluster_billing_model||(e.cluster_billing_model={})),function(e){e.OPENSHIFT="Openshift",e.JBOSS_MIDDLEWARE="JBoss-Middleware",e.IBM_CLOUD_PAK="IBM-CloudPak"}(a=e.product_bundle||(e.product_bundle={})),function(e){e.L1_L3="L1-L3",e.L3_ONLY="L3-only"}(l=e.service_level||(e.service_level={})),function(e){e.EVAL="Eval",e.STANDARD="Standard",e.PREMIUM="Premium",e.SELF_SUPPORT="Self-Support",e.NONE="None",e.SUPPORTED_BY_IBM="SupportedByIBM"}(n=e.support_level||(e.support_level={})),function(e){e.CORES_V_CPU="Cores/vCPU",e.SOCKETS="Sockets"}(r=e.system_units||(e.system_units={})),function(e){e.PRODUCTION="Production",e.DEVELOPMENT_TEST="Development/Test",e.DISASTER_RECOVERY="Disaster Recovery",e.ACADEMIC="Academic"}(i=e.usage||(e.usage={}))}(w||(w={})),function(e){let t;!function(e){e._1_URGENT_="1 (Urgent)",e._2_HIGH_="2 (High)",e._3_NORMAL_="3 (Normal)",e._4_LOW_="4 (Low)"}(t=e.severity||(e.severity={}))}(k||(k={}))},17629:(e,t,a)=>{"use strict";var l,n,r,i,s,o,u,c,d,m,p,f,E,g,v,h,_,S,b,C,y,I;a.r(t),a.d(t,{AWSInfrastructureAccessRoleGrantState:()=>i,AWSInfrastructureAccessRoleState:()=>s,AddOnInstallMode:()=>n,AddOnInstallationState:()=>l,AlertSeverity:()=>r,BillingModel:()=>o,BreakGlassCredentialStatus:()=>u,ClusterArchitecture:()=>c,ClusterConfigurationMode:()=>d,ClusterHealthState:()=>m,ClusterOperatorState:()=>p,ClusterState:()=>f,ComponentRouteType:()=>E,DetectionType:()=>g,Ec2MetadataHttpTokens:()=>v,IdentityProviderMappingMethod:()=>h,IdentityProviderType:()=>_,InflightCheckState:()=>S,ListeningMethod:()=>b,LoadBalancerFlavor:()=>C,MachineTypeCategory:()=>y,MachineTypeSize:()=>I,NamespaceOwnershipPolicy:()=>w.NamespaceOwnershipPolicy,NodeType:()=>A,Platform:()=>R,ProcessorType:()=>T,ProvisionShardTopology:()=>O,ScheduleType:()=>P,UpgradePolicyStateValue:()=>D,UpgradeType:()=>L,WifAccessMethod:()=>N,WildcardPolicy:()=>k.WildcardPolicy}),function(e){e.DELETING="deleting",e.FAILED="failed",e.INSTALLING="installing",e.PENDING="pending",e.READY="ready"}(l||(l={})),function(e){e.ALL_NAMESPACES="all_namespaces",e.OWN_NAMESPACE="own_namespace"}(n||(n={})),function(e){e.CRITICAL="critical",e.NONE="none",e.WARNING="warning"}(r||(r={})),function(e){e.DELETING="deleting",e.FAILED="failed",e.PENDING="pending",e.READY="ready",e.REMOVED="removed"}(i||(i={})),function(e){e.INVALID="invalid",e.REMOVED="removed",e.VALID="valid"}(s||(s={})),function(e){e.MARKETPLACE="marketplace",e.MARKETPLACE_AWS="marketplace-aws",e.MARKETPLACE_GCP="marketplace-gcp",e.MARKETPLACE_RHM="marketplace-rhm",e.MARKETPLACE_AZURE="marketplace-azure",e.STANDARD="standard"}(o||(o={})),function(e){e.AWAITING_REVOCATION="awaiting_revocation",e.CREATED="created",e.EXPIRED="expired",e.FAILED="failed",e.ISSUED="issued",e.REVOKED="revoked"}(u||(u={})),function(e){e.CLASSIC="classic",e.HCP="hcp"}(c||(c={})),function(e){e.FULL="full",e.READ_ONLY="read_only"}(d||(d={})),function(e){e.HEALTHY="healthy",e.UNHEALTHY="unhealthy",e.UNKNOWN="unknown"}(m||(m={})),function(e){e.AVAILABLE="available",e.DEGRADED="degraded",e.FAILING="failing",e.UPGRADING="upgrading"}(p||(p={})),function(e){e.ERROR="error",e.HIBERNATING="hibernating",e.INSTALLING="installing",e.PENDING="pending",e.POWERING_DOWN="powering_down",e.READY="ready",e.RESUMING="resuming",e.UNINSTALLING="uninstalling",e.UNKNOWN="unknown",e.VALIDATING="validating",e.WAITING="waiting"}(f||(f={})),function(e){e.CONSOLE="console",e.DOWNLOADS="downloads",e.OAUTH="oauth"}(E||(E={})),function(e){e.AUTO="auto",e.MANUAL="manual"}(g||(g={})),function(e){e.OPTIONAL="optional",e.REQUIRED="required"}(v||(v={})),function(e){e.ADD="add",e.CLAIM="claim",e.GENERATE="generate",e.LOOKUP="lookup"}(h||(h={})),function(e){e.LDAPIDENTITY_PROVIDER="LDAPIdentityProvider",e.GITHUB_IDENTITY_PROVIDER="GithubIdentityProvider",e.GITLAB_IDENTITY_PROVIDER="GitlabIdentityProvider",e.GOOGLE_IDENTITY_PROVIDER="GoogleIdentityProvider",e.HTPASSWD_IDENTITY_PROVIDER="HTPasswdIdentityProvider",e.OPEN_IDIDENTITY_PROVIDER="OpenIDIdentityProvider"}(_||(_={})),function(e){e.FAILED="failed",e.PASSED="passed",e.PENDING="pending",e.RUNNING="running"}(S||(S={})),function(e){e.EXTERNAL="external",e.INTERNAL="internal"}(b||(b={})),function(e){e.CLASSIC="classic",e.NLB="nlb"}(C||(C={})),function(e){e.ACCELERATED_COMPUTING="accelerated_computing",e.COMPUTE_OPTIMIZED="compute_optimized",e.GENERAL_PURPOSE="general_purpose",e.MEMORY_OPTIMIZED="memory_optimized"}(y||(y={})),function(e){e.LARGE="large",e.MEDIUM="medium",e.SMALL="small"}(I||(I={}));var A,R,T,O,P,D,L,N,w=a(58826);!function(e){e.COMPUTE="compute",e.INFRA="infra",e.MASTER="master"}(A||(A={})),function(e){e.AWS="aws",e.AWS_CLASSIC="aws-classic",e.AWS_HOSTED_CP="aws-hosted-cp",e.GCP="gcp",e.HOSTEDCLUSTER="hostedcluster"}(R||(R={})),function(e){e.AMD64="amd64",e.ARM64="arm64"}(T||(T={})),function(e){e.DEDICATED="dedicated"}(O||(O={})),function(e){e.AUTOMATIC="automatic",e.MANUAL="manual"}(P||(P={})),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.DELAYED="delayed",e.FAILED="failed",e.PENDING="pending",e.SCHEDULED="scheduled",e.STARTED="started"}(D||(D={})),function(e){e.OSD="OSD",e.ADDON="ADDON",e.CONTROL_PLANE="ControlPlane",e.NODE_POOL="NodePool"}(L||(L={})),function(e){e.IMPERSONATE="impersonate",e.VM="vm",e.WIF="wif"}(N||(N={}));var k=a(92868)},58826:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{NamespaceOwnershipPolicy:()=>l}),function(e){e.INTER_NAMESPACE_ALLOWED="InterNamespaceAllowed",e.STRICT="Strict"}(l||(l={}))},92868:(e,t,a)=>{"use strict";var l;a.r(t),a.d(t,{WildcardPolicy:()=>l}),function(e){e.WILDCARDS_ALLOWED="WildcardsAllowed",e.WILDCARDS_DISALLOWED="WildcardsDisallowed"}(l||(l={}))},54044:(e,t,a)=>{"use strict";e.exports=a.p+"images/Microsoft_logo.832935a112efa362..svg"},36392:(e,t,a)=>{"use strict";e.exports=a.p+"images/OpenShiftProductIcon.db6a5de5ac6a6fa2..svg"},15808:(e,t,a)=>{"use strict";e.exports=a.p+"images/RH_BRAND_7764_01_MECH_Training.960eb62d49bee65d..svg"},63995:(e,t,a)=>{"use strict";e.exports=a.p+"images/AWS.f6085b0c4a4d5430..png"},24074:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAEiCAYAAADwEwVaAAAACXBIWXMAABYlAAAWJQFJUiTwAAAck0lEQVR4nO3dfYwdV33G8WeCCbaJsr7WKo4a/AalEJXIm0JBFQE7ElQICDGoav8hsqNKFbQ0MRIqElIbG6RKICTstFLVSig2RqXtH7BJGoQaUHZDKgSNyLou6gsq2XVqFKOtrzei2WAST3X2nvGO79x7986dt3PmfD+SRbKzODuzu+eZ33mN4jgWACA8m/ieI0TdKDos6aCkA5KmBjyCM5IuSZqTtGD+dOJ4MfNZgMeoABCUbhQdkWT+7J7gvpdsGJhQmOvE8ULmMwCPEAAIQjeKZiSdlLSvxPtdSsJA0mwnji9lPgNwGAEQsG4UbZM00/cELrXtzdZ29xwf0tVTpjM2ZKgO4AUCICDdKEr6vE2jv3+DO093d8z62v/djSLT8N+fuVA98/xmTSAQBnAVAdBy9i0/6fcu8gacvN16EwbdKDJf76HMhfoRBnASAdBSJTb8gzxsulQ6cTw34Frj7L3PjlHlNIEwgDMIgBayA56zE850ycM0Zkc7cXzSladoG/+5kgd7q0IYoFEEQMvYAc+Har4rJ4LAs8a/n3ddbPAfAdAi3Sg6KumBBu+osSCoseqpw3wqDJhaisoQAC3R4GyXQZZsA3a8jgbMzm46WcM0z7qtpLqInBxvgd8IgBZoqNtnHCt2/v3Jqro1HAu+KiWhWtmzRHgIAM91o8jM63/Cg7s4VeabrL3vky3p8snrYds95MzgO/xEAHjMDnouetb1UWjmi+3uOeLoFM+6raS62qgKkBsB4LFuFM153hCupFYbL9jdNxeScYPUVhV77Armgy3s5y/LvA1VqgKMjQDwlN3V8kuhPwdkUBVgbASAhzzt+kH9HrZVwSzPHoMQAB5yaI8b+GEpNRuLdQW4igDwTDeKTH/4s6E/B0wkWVdwlO4hGNdlPgLXMciHSU3ZyvFZM4HAzqhCwKgAPOLRnH/4Y237DradCBMVgF8Oh/4AULrddhX5otlLyk4wQCCoADxB3z9qdIpxgjBQAfjjaOgPALVJxglO2l1W0VJUAB5g3j8aNm8rAnYkbRkqAD+wBQKaZLYbecLOHDrAd6I9qAA80I2iBU9PuUI7URG0BAHgONsH+0zozwFOIgg8RxeQ+5j6CVclXUMn7Sw1eIYKwHHdKFoM9NAT+Ifpo56hAnCYXapP4w9fmOmjCywo8wcB4Db2aoFvzGy1B2wQ0H3pOLqAHNaNoktM/4TnzEDxkUmO/0T1qAAcZbt/aPzhOzNQ/AzdQm4iANxF+Yw2SbqFWEjmELqAHGTflLqhPwe01rFOHLO3lQOoANzE4C/a7AGzup21A80jANxEAKDt9tEl1Dy6gBzDvv8I0L2dOOao0wZQAbiHt3+E5iGznQTf9foRAO5h9g9CdIgQqB9dQA6h+wfQqU4c8xJUEyoAt/CDj9AdYguJ+lABOISdP4Gr7uScgeoRAI7g4BfgGiuS9nTi+BKPpTp0AbmDshdYZ/bBOs7zqBYVgCPo/gEGoiuoQlQADuDgF2Ao9gyqEAHgBhZ/AYPtZ7uI6tAF5AAOfgFGmu/EMSFQASqAhnHwC7Ch/ewcWg0CoHnM/gE2doRnVD66gBrEwS/A2JY6cUwVUDIqgGYx+AuMZ7ddLIkSEQDNIgCA8fH7UjK6gBrCzp9Abmc6cUwVUCIqgObwNgPks8+Om6EkBEBzmP0D5Md6gBIRAA2w3T/7grtxoDgCoEQEQDPo/gEmQwCUiEHgBrDzJzC5ThxHPL5yUAHUzM5lpvEHJsTmcOUhAOrH4C9QDAFQEgKgfvT/A8UQACUhAGpE9w9QChaDlYQAqBc7GgLFTbEvUDkIgHrR/QOUg26gEhAANeHgF6BUVAAlIADqw9s/UB4qgBKwEKwmnPsLlG5vJ44XeayTowKoQTeKDtP4A6WjG6ggAqAedP8A5aMbqCC6gCrGub9AZTggpiAqgOrx9g9Ugy3VCyIAqkcAABVhY7hiCIAK2e6fu1t7g0DzCIACCIBq8fYPVIsAKIAAqBZbPwPVYhC4AAKgIvbc3/2tvDnAHWwMVwABUB26f4B60A00IQKgOnT/APWgApgQAVAB2/3DHGWgHlQAEyIAqkH3D1Cf3falCzkRABX4qfSx1t0U4Da6gSZAAJQsiqKZX5He1KqbAtxHN9AECIDyce4vUD8qgAmwG2iJot7WD4sX2fsfqF0njiOeej5UAOXi3F+gIWwMlx8BUC66f4DmEAA5EQAliXrL0dfm/v9YOt+GewI8wzhATgRAea6+/X9N2tqC+wF8QwWQE4PAJYj6jn3cJWnB5xsC/HV7J4759RsTFUA5rtn355ykb0oXPL4fwFd0A+VAAJQjM/j7GWmHp/cC+IxuoBwIgIKi3tSz3f1/C1UA0AgCIAcCoLih2z7/kbTjF9JLmQsAqrLbnsWNMRAABdjB30PD/oYVSX8gXclcAFAlqoAxEQDFDH37TzwqbX1KWs5cAFAVAmBMBEAxmcHfQe6Rpi/1CgIA1WMm0JhYBzAhO/j7xLj/79skzWc+CqAKbAw3HiqAyeU68/espPul1cwFAKVjY7jxbPLhi6yLPVYufbRc+odoW1Jarkqbd0nvOJfz6zotbXmPdPEuaXvmIoAymd/dOZ7oaEEEgJ0WlvQLJo36jG3Ut+U9wP0X0krexj9xSNr+iLR8hzSduQigLIwDjKFVAWDLvuQtPmng92c+saAHC07tNIPCT0oXd1IJAFWhC2gMXg4C266aGfsnafQzq3GrMmNX+hZhTo0hBIBKsTHcBryoAOyb/YFUg9/YqVvPSxfOlbDPj5kT+m5p+zPSyjZOEQOqMMPGvKM5GQDd3uEqB21jX3oXThFz0stl/V0mBO6Wph6XVq+XtmQ+AUARpv04yRMczpkA6EbRQdvoO32u7mPSLZkPFmCmh75X2kIIAKVjHGADjY4B+NLop+1VNUt6d/W2jWBMAChXpxPHl3img9W+EMwM4Haj6Hg3isw35Rt2MzUvGv8XpG5V+zmcs2MCz0kXMxcBTIoqYITaAqAbRYe7UWQWZjzbWxTr38DnBenFzAdLtEIIAGUjAEaoPABsw78o6SHXBnTzeqLEAeBhkhBgB1GgFCwIG6GyAOhr+Gubo98GJgQ+JE0/SiUAFOX1S2fVSg8AM7Db1ob/R9JNmQ9WyGwb8WecKAYUwsZww5UWAHZwd84O7Lbyjf/ZBqZp/qW02ewi+suKxx+AFiMAhiglALpRdMSuuKPcqoDdRXQrh8oAE2EcYIhCAWB22bRv/V/ycVaPT8yCsdulKWYIAblRAQwxcQDY7RoWeeuvz0pv3+rtX2WGEJDHlN1AEn0mCgAzw0fSM6G99b9vbSlA8+6TphkXAHKhChggdwB0o+ioneETnE0OzchJxgXOUw0A4yAABsgVAN0oMjvrPZC5EIg7Hds91YwL3MF6AWAcDAQPMPZmcGb/HruFQ7AuS6s3O7pj5z3S6hel+NXS1sxFAGJjuKyxKgDb5x9042+Y7Zp3ZT7qBtMl9JvSVmYJAUPRDdRnwwCwq+iC7PMfZL+0OuDDTjhnZwmdYL0AMAjdQH1GBoCdOjWbuRCwezwYdD0mTZm5uSwcA9b9b+/cEaSMHAOwi7yY59+nqkNhymbm6H5OWv6oNO3BlwtUrhPHEU953dAKwG7vQOM/wIcc7gZKW7FrBj5ENQCseWsUfZAnsW5gANiun6OZC1jzJ9L/+fQknrLbSDA2gNDdJv1O6M8gbWAA2MafvX2GuEWavmPwJWetpMYGWDyGUP2MgeBrZALAvv0fynwmrvHH0nM+PpGzvbegaXPOAFtJIDQvSr/KN31dJgDo+hnPe6Wdrq4JGIc5Z8CsG+DoSYTkFem1UW8jy+CpPwB4+8/nzx3ZHG5S5+zRkwwSIzAsCLP6K4DDmc/AUO+Xdvg2FjCIGSR+vR0kplsIASAALAKgoM97XgWkmUFi0y30zRbdEzAAAWBdDQB7wEsrz/Kt0q3Sjns8WRcwDtMt9FFph+kW+neCAC1zrnc7UxEHxKxJVwC8/U/oC1LUtjmzplvondKOQ9KLjA+gLc6t30fwVYD6AoAHMqHXSJtPt3Q2zaPSVjM+YKaNXm5RpYPwvCB1UzcdfHunJADM4e69jSQxKXMwy10tHkA100bfJG0xA8UEAXz0X9LPU1928AGgVAXAvNgS/I10XZuXTyeriQkC+OgHa0d6XLWbcYD1ACANS2C6gh4NYGFVOgiYMQRf/L20o+9LDf7FNwmA4JOwLG+Rph8IZNB0xc4YMr9FJgioCOAq87N5Nvu1Bf/iSwBU4H5pqs3jAf2SqaN0DcFV314bA84IPgDWDoTpRtEiawDKZRrB90pbBrx1tJ4ZBzkirXxcuv56Rw/RR1j2240QB+jEAR8Un1QANP4lMw3f30rLIe6pnR4juF9aZR0BmmQWNA5p/PVT6T+6URTsGqhBu4GiJObcgCeli6EerGBa/dPSFrOOwAQBK4vRhE9nB3+vsq/+D3Wj6FI3io7aKfHBIAAqtlPa/qB0sdU3OQYTBO+0W0w87ulZCvCPeel4asRXfXatt3aNeU97QNKiDYIgxkUJgBrcJW0/RQisMb+MvyftNDOHGDBG1T424u3f+J50Q9+HkiB4thtFJ9seBARATQiBa52z4wQ323ECuodQNvOCMazvP/EdqZP54LpDNgha2zWUzAKKM1dQCbOnjtlWgaebZU5Y+5S0/LvSa5k9hCKeky7uk7aP81eM+VZmhrSOmz+dFs0aIgAaYN54T9PAjWS22P6Y9MKtG5TwQL9fSC+9Wdo87tSzp6Wl148/E9L8tUc6cXwyc8VDdAE14IS05RPSS8HdeA7JoHEyVtC3kyMwkBlT+u0cjb96ewRtynxwuCk7a2ihG0XeLySjAmjQo9LFQ2OWqZBu603pu/Ae6Ua6iNBv0sWXpto8MfnP08O2IljMXPFAUgHM89NUPwaG8zlrt5wwA8f32OmkzCKCCq68Xyj2MnG3+SvMQHHmigeSCmDOrpZGA6gEivmApD+Unn+rNEVlEB4z4Gteps4VuPOS3sLO2GpgLnPFUUkF4M0X3Ebmh/dMwCuGi3qsFwI3UxmEx7w8vbtg42/8RFrKfDA/c6jWE90oOu7LtNEkALzsv2oTs2LYbBuxK/QHUdBjdqFZEgZ/J51nALl9zEwfc161qZzL2Gjqv8udEHO/7RZyfpA4uemFzBXUzoTAD6TV23j0pXis1zV0yx6pY/o3Pyt1fyydb8GtBc2cPfHm3uFLW8t6DgNWBBe1O6kGXP5erY0BqHcu8CU7xQkN+6X04qekiLUC1ZjqneFsuo3Ov1/aeuPo1aBwhFktbrZ2qGKLdfPz8Ejmo6UxYwOHO3Hs3It2OgBm7Yg2HPFVafk+aZrvR7V29WZArH5QWn6HdAOB4BbT8JsdPUdt6laUeSl4ttq7dnIBWToAjkj6UuYz0Kh/k5bvkqbZUL8+6UC4Tbr+ZlYjN8J09Xy+ojf+QWqaj33KBoET20mkA2BP9SGISZgDVe6WpkI8XcwFSZfRu6SlO6VNu6XtTDetxnlp+a+lG07nXM1bhpxbQhThTJfQ1QBQLwQW7FQmOIiN5NxhBupnpNXfki6+XXr5ddJNhMJkTKP/ZelVX5c6RadzFlFjAMh2CZkQmM1cqVF/ANAN5LinpOV76BJy0i4bDKZS+A3putfRfTSQmZb7fenn/yhNPyJtceVnueYASBzrxHFjq4j7A4BuIA/QJeSX22w30vukC2+ULr9BuhJSxWAWWZkN174nbZ+XtjT5lj9KQwGgJscFrgkA9UKAbSE8YXbJPMbUXa8l4fA2qXuz9IKpHLZLV7ZKm32rHkxDf1G67ofSle9Ku8/Z/Zt80WAAyI4LHKg7BAYFgDkh/6HMZ8JJZpbQR6VpV9+qUNxtqQU6SVCYf75R2mTGH9L/gbIri+elCy/arctfkTY9Yf97z0s3Pm2ny1Y5PbNODQeAbAgcrHNn0UwAiEVh3jELxz4nXccAMTA5BwJAdnD4QF0zhIbtf+H08mVc69XS1s9Km5+UltlLCJjM9FpR1Tjz4j3XjaKZOr6QYRUAg8GeohoAJuPYwRy1VAIDKwDbB3UqcwHOoxoA8nNwA8ZaKoGBAWB5ecINet4iTZtXhwd6bxIARphx8/yIykNgaABQBbTD/dLUT6SVO0J/EMAIZt+n4VcbVWkIDBwDSNhTbRaZEdQOZhXxJ5gyCmQsSl3Hd4GtZExgaAWgXhVwiRlB7XGHNP0v0ot0CwHrdvXWVLi+Bbh5CT9Z9lGTIwPAMgFQxnmZcIAZJE66he6SXuR7gtB9xJ8jQ/fZ7qDSQmDDALBVwJHMBXhtmzR1Str6z9IFxgcQsvvKPQ+4avvK7JUZ68btlqXzmQvw3q3Sjkd6p49dYNooQnOHfRny7LYPdaOolFmaIweB0+zisAUGhNvNHEP5p2w3jUCYCvhWf7fs/nDR8wTGDgBxXkAwLkurfyVdPi5NEQRoq4oPgq+D+fWcKbJ5XK4AENtFB4UgQJt5/vafONOJ44nXCEwy+HFYTCMMgtlW2MwY+k9p1Uwdpe8PbWFmwLWg8Tf2daNo4kHh3BWAODMgWFQEaAPzIvOMtOLh4O8od3bieG7E9YEmCgD1QuCkGY3OXEDrJUHwkDTFqmL45kF7iFLLvnHmnWxP3hPFigSAWYwwZ+elIlDflC58RtpBEMAHpuvHrH9p6Tfr4U4cH8x8dISJA0C9EJixIUD3cOCelp77rLSzLccDon3Mls+PS6stP4w/V1dQoQAQ4wHoc15a/oL02tPt/iWDZ6bsZoi3tK/rp99SJ473ZD46ROEl0J04NmMBJzIXECTzC3ZC2vK8nTnE6mI0zTT+T0oXA2j8jd15VgkXrgASrA/AMI9Lz/0F3UNoQNL475S2B/T8x14gVmYAMCiMkS5JKw9KVx6SOkwjRdUCbfwTpzpxfDjz0T6lBYDYLwg5mKrgK9LOx3hoqEDgjX9i70ZVQKkBIGYGIacXpO4j0itf5KQylMTM9vkn6aXXSJsDf6YbVgGlB4B6IWDmon4jcwEYwcwg+rL0KrqIMKl7pNUTzEBLG1kFVBIAYnooCjLrCk5L049IWwgDbMR0N5yWlu8IY6ZPHiOrgMoCQIQASkIYYBSzrfNX2re3T5mGVgGVHoXGGgGU4W3STlPWP9vr233OlPn8pmOqt5//8iN+nupVp2YqgAQbx6EKP5bOf03a+nWpwwByWMwiw49L17d8W4eyrHTieOBB8rUEgAgBVOx56cK3pVf9gzTNgrP2MtXfMekyb/y5DTw+srYAECGAmpjtqv9VWjbjBvPSFqoD/9HwFzZwp9BaA0CEABpg1hp8X/r5V+x2FAwk+8G09EeklXulKzdKndCfRwk6/ecF1B4AIgTQMNNdNCe9/Jh0y1lJVAhuMQu5Pi1deH87jmx0yb12Ys5VjQSAmCIKhyQVwvekG74jdc7yzamd2TX2I1L3Puk6unkqk+kGaiwARAjAYWaG0RPSy9+VdlMlVCNp9H9feiWQrZqblpkN1GgAiBCAJ8zA8pJ00YTCj6SbFqQtVAr5faD35/z7pa306zfimhPDGg8AsYEcPGbGE/5HuvxD6YqpFkylQDD0TNlVuu+Slu6UNr1x7bwgNOxYJ46vHhjjRACIEEDLmHGFZemFH0ibLkqbvmUHNNu6RmGX/fM+6cLbpcu/Jt3AG76T5jtxfCD5wpwJAHGoDALyE2nJ3K0JiBekl5+XbnzaNphnHZ2qmjTyU/atfq903RukK6+Xdmc+Ga66ZhzAqQDQegjMcrwksF5JmH9+RdpkxiDSj+VlafO3SpguuVda/XXpZ6l/X2vczT+/TrqJLRda5ermcM4FQIK1AgBQiasDwZXuBlqE3cP6Xr7/AFCqmeQvczYAtL6d9J2s3geA0lwdA3A6ANQLgTmbWGcyFwEAee1JPt/5AFAvBMyAhZm6dCpzEQCQh18BoF4IXLLjAp/MXAQA5OZNACQ6cXxc0u2MCwBAMd4FgHohsGDLmPnMRQDAWLwMAK13CZlxgWOZiwCADXkbAAm7sRFTRQEgJ+8DQOtTRU2X0MOZiwCAgVoRAFrvEjpoZwlRDQDABloTAAk7S+gAC8cAYLTWBYDsLKFOHJvVwycyFwEgbFdPBGtlACQ6cXzEDhAvZS4CQOBaHQC6di8hqgEAkBaTZ9D6AND6ADHVAACEFgAJqgEAWA8AZ08Eq1o3isxMIXPeAOeZAghGJ46j5F6DqgDSqAYABOia/dOCDQBdOzZwO+sGAARgMX2LQQdAIrVu4BiriAG02EL61giAFLux3Ax7CgFoqbn0bQU7CLyRbhSZfYWOM0gMoCVWOnG8LX0rVABDdOJ41lYDnDcAoA3m+u+BABjBDhKbbqG9nD4GwHOZAKALKAfWDgDw2N5OHDMLaFJm7UAnjvcwWwiAZ5b6G38RAJOx3UImCE75+PUDCM5s5iMEwOTs+MBhu4iM8QEALjs56GtjDKAkjA8AcNQZu9A1gwqgJKnxgXvZchqAQ44P+1KoACrQjSKz2OKI/TPVuhsE4AszWWWP6bIe9PVSAVQgtX6AGUMAmjQ7rPEXFUA9ulFkgsAEwqEQ7heAMzJz/9OoAGpgvgF2xtBepo4CqMmpUY2/qACaQUUAoAYj3/5FBdAMKgIAFdvw7V9UAG6gIgBQsg3f/kUF4AYqAgAlOjFO4y8qADdREQCY0Mh5//2oABzUVxGcYB0BgDEdGbfxFxWAH1hZDGAM8504PpDnQREAHrFBcNB2D7HpHICE6SWYGbfvP0EAeKobRaaLyPzZH/qzAKAP23PMcyEAPGe3oT7MgDEQrFN2zDA3AqAl7MyhIzYMGCcAwnBG0oE8A79pBEDLME4ABGOifv80AqDFbPeQqQruDv1ZAC10pzmIqshtEQABoHsIaJ17O3E88JzfPAiAwNjZQyYM9oX+LABPfbITx0OPecyDAAhUN4pmbBAcpCoAvDHxjJ9BCIDApQaNqQoAt5Xa+IsAQJqtCg4zVgA4p/TGXwQAhrFjBQeZQQQ0rrQ+/34EAEayM4iSLiLWFQD1KmW2zzAEAMZGFxFQG7PI62DRef4bIQAwkW4UHbSVAXsQAeUy2zsc7sTxQtXPlQBAIalZRIwXAMU9bBv/ifb2yYsAQGlSYcA21UB+lQ32DkMAoBKpwePDrC8ARqqty6cfAYDKpcLgIJUBcI1jnTg+2tQjIQBQK8YMgDWNvfWnEQBoTCoMDrAnEQJhpncerbuvfxgCAM6wU0uTMGDRGdrmlFlQWdcMn3EQAHCSXXR2gHEDtMC8bfgb7e4ZhACA82xX0YFUdxHVAXwwb7t7Kl3NWwQBAO+kqoMDDCTDQc43/AkCAN6zZx8n1QFrDtAU08d/0oeGP0EAoFVS3UUHCATUwMzqMbt1Hu/E8aJvD5wAQKsRCKiImcdvpnLOujSrJy8CAEGxgZAeQ2CGEca1ZBp8X9/2ByEAELy+QeUZZhkhZcU2+l717Y+LAAD6pLqNZlL/yyrlcCRv+nOdOJ5t810TAMAY7IZ2M4RCa82nGn3nFmxVhQAAJmRDYU8qEPYwyOwNM4g7F8Jb/igEAFAyuy4hHQ57GFdolOnHX0g1+K3ry58UAQDUxA4270lVC3voSipdurE3/7vQlhk7VSAAAAfYqkG2Ykimqm6jS2koM1C7aBv5xVRj7+2c/CYQAIAHUgGRBEMSEmppF5Ppo79kG/dF+8+mkb8U0iBt1QgAoEVsN9M2e0dJN5OG/LtqCI+kIU9bSH0sadhF414/AgAAQiTp/wGp07dbIvUIVgAAAABJRU5ErkJggg=="},91903:()=>{},24394:()=>{},42634:()=>{},49746:()=>{},19977:()=>{},197:()=>{},21866:()=>{},52739:()=>{},65702:(e,t,a)=>{"use strict";a.r(t),a.d(t,{architectureOptions:()=>j,architectures:()=>q,channels:()=>B,default:()=>Z,getFlatUrls:()=>Q,githubReleasesToFetch:()=>K,operatingSystemOptions:()=>W,operatingSystems:()=>z,tools:()=>V,urls:()=>$,urlsSelector:()=>Y});const l="https://mirror.openshift.com/pub/openshift-v4/clients/butane/latest",n="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/stable/",r="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/latest/",i="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/candidate/",s="https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp/stable/",o="https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp/latest/",u="https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp/stable/",c="https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp/latest/",d="https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp/stable/",m="https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp/latest/",p="https://mirror.openshift.com/pub/openshift-v4/multi/clients/ocp/stable/",f="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp-dev-preview/pre-release/",E="https://mirror.openshift.com/pub/openshift-v4/s390x/clients/ocp-dev-preview/pre-release/",g="https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/ocp-dev-preview/pre-release/",v="https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/ocp-dev-preview/pre-release/",h="https://mirror.openshift.com/pub/openshift-v4/multi/clients/ocp-dev-preview/pre-release/",_="https://mirror.openshift.com/pub/openshift-v4/clients/coreos-installer/latest",S="https://developers.redhat.com/content-gateway/rest/mirror/pub/openshift-v4/clients/crc/latest",b="https://mirror.openshift.com/pub/openshift-v4/clients/helm/latest",C="https://mirror.openshift.com/pub/openshift-v4/clients/serverless/latest",y="https://mirror.openshift.com/pub/openshift-v4/clients/pipeline/latest",I="https://developers.redhat.com/content-gateway/rest/mirror/pub/openshift-v4/clients/odo/latest",A="https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/operator-sdk/latest",R="https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/latest",T="https://mirror.openshift.com/pub/openshift-v4/s390x/dependencies/rhcos/latest",O="https://mirror.openshift.com/pub/openshift-v4/ppc64le/dependencies/rhcos/latest",P="https://mirror.openshift.com/pub/openshift-v4/aarch64/dependencies/rhcos/latest",D="https://mirror.openshift.com/pub/openshift-v4/clients/rosa/latest",L="https://mirror.openshift.com/pub/cgw/mirror-registry/latest",N="https://developers.redhat.com/content-gateway/rest/browse/pub/openshift-v4/clients/openshift-gitops/latest/",w="https://developers.redhat.com/content-gateway/rest/browse/pub/openshift-v4/clients/openshift-builds/latest/",k="https://docs.openshift.com/container-platform/4.17",F="https://docs.openshift.com/dedicated",M="https://docs.openshift.com/rosa",x=`${M}/rosa_hcp`,G="https://access.redhat.com/documentation/en-us/red_hat_openshift_service_on_aws/4/html",U="https://access.redhat.com/documentation/en-us/openshift_cluster_manager/2023",H={ROSA_CP_DOCS:"https://access.redhat.com/documentation/en-us/red_hat_openshift_service_on_aws/4",OSD_GOOGLE_MARKETPLACE:"https://console.cloud.google.com/marketplace/product/redhat-marketplace/red-hat-openshift-dedicated?inv=1&invt=Abh7pg",ACCESS_REQUEST_DOC_LINK:`${G}/support/approved-access#approved-access`,DOCS_ENTRY:`${k}/welcome/index.html`,ROSA_TROUBLESHOOTING_INSTALLATIONS:`${G}/support/troubleshooting#rosa-troubleshooting-installations`,ROSA_DEFINITION_DOC:`${G}/introduction_to_rosa/policies-and-service-definition#rosa-service-definition`,WHAT_IS_OPENSHIFT:"https://www.redhat.com/en/technologies/cloud-computing/openshift",WHAT_IS_ROSA:"https://www.redhat.com/en/technologies/cloud-computing/openshift/aws",WHAT_IS_OSD:"https://www.redhat.com/en/technologies/cloud-computing/openshift/dedicated",LEARN_MORE_OSD:"https://www.redhat.com/en/products/interactive-walkthrough/install-openshift-dedicated-google-cloud",ROSA_COMMUNITY_SLACK:"https://red.ht/rosa-slack",ROSA_QUICKSTART:`${G}/getting_started/rosa-quickstart-guide-ui`,OSD_QUICKSTART:"https://www.youtube.com/watch?v=p9KBFvMDQJM&feature=youtu.be",OSD_INTERACTIVE_WALKTHROUGH:"https://www.redhat.com/en/products/interactive-walkthrough/install-openshift-dedicated-google-cloud",ROSA_PRICING:"https://aws.amazon.com/rosa/pricing",OSD_PRICING:"https://www.redhat.com/en/technologies/cloud-computing/openshift/dedicated?intcmp=7013a000003DQeVAAW#pricing",IDP_HTPASSWD:`${k}/authentication/identity_providers/configuring-htpasswd-identity-provider.html`,IDP_LDAP:`${k}/authentication/identity_providers/configuring-ldap-identity-provider.html`,IDP_GITHUB:`${k}/authentication/identity_providers/configuring-github-identity-provider.html`,IDP_GITLAB:`${k}/authentication/identity_providers/configuring-gitlab-identity-provider.html`,IDP_GOOGLE:`${k}/authentication/identity_providers/configuring-google-identity-provider.html`,IDP_OPENID:`${k}/authentication/identity_providers/configuring-oidc-identity-provider.html`,CCO_MANUAL_MODE:`${k}/authentication/managing_cloud_provider_credentials/cco-mode-manual.html`,UNDERSTANDING_AUTHENTICATION:`${k}/authentication/understanding-authentication.html`,UNDERSTANDING_IDENTITY_PROVIDER:`${k}/authentication/understanding-identity-provider.html`,APPLYING_AUTOSCALING:`${k}/machine_management/applying-autoscaling.html`,APPLYING_AUTOSCALING_API_DETAIL:`${k}/rest_api/autoscale_apis/clusterautoscaler-autoscaling-openshift-io-v1.html`,AWS_SPOT_INSTANCES:`${k}/machine_management/creating_machinesets/creating-machineset-aws.html#machineset-non-guaranteed-instance_creating-machineset-aws`,ENCRYPTING_ETCD:`${k}/security/encrypting-etcd.html`,GETTING_SUPPORT:`${k}/support/getting-support.html`,TELEMETRY_INFORMATION:`${k}/support/remote_health_monitoring/about-remote-health-monitoring.html`,REMOTE_HEALTH_INSIGHTS:`${k}/support/remote_health_monitoring/using-insights-to-identify-issues-with-your-cluster.html`,UPDATING_CLUSTER:`${k}/updating/updating_a_cluster/updating-cluster-web-console.html`,HIBERNATING_CLUSTER:"https://access.redhat.com/articles/7012966",MIGRATING_FROM_3_TO_4:`${k}/migrating_from_ocp_3_to_4/about-migrating-from-3-to-4.html`,SERVERLESS_ABOUT:`${k}/serverless/about/about-serverless.html`,SERVICE_MESH_ABOUT:`${k}/service_mesh/v2x/ossm-architecture.html`,SERVICE_MESH_OCP_DOC:"https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html/service_mesh/index",VIRT_ABOUT:`${k}/virt/about_virt/about-virt.html`,SUBSCRIPTION_EVAL_INFORMATION:"https://access.redhat.com/articles/4389911",MANAGED_INGRESS_KNOWLEDGE_BASE:"https://access.redhat.com/articles/7028653",OSD_DEDICATED_ADMIN_ROLE:`${F}/authentication/osd-admin-roles.html`,OSD_CCS_AWS:`${F}/osd_planning/aws-ccs.html`,OSD_CCS_AWS_LIMITS:`${F}/osd_planning/aws-ccs.html#aws-limits_aws-ccs`,OSD_CCS_AWS_SCP:`${F}/osd_planning/aws-ccs.html#ccs-aws-scp_aws-ccs`,OSD_CCS_AWS_CUSTOMER_REQ:`${F}/osd_planning/aws-ccs.html#ccs-aws-customer-requirements_aws-ccs`,OSD_CCS_GCP:`${F}/osd_planning/gcp-ccs.html`,OSD_CCS_GCP_LIMITS:`${F}/osd_planning/gcp-ccs.html#gcp-limits_gcp-ccs`,OSD_CCS_GCP_SCP:`${F}/osd_planning/gcp-ccs.html#ccs-gcp-customer-procedure_gcp-ccs`,OSD_CCS_GCP_SHEILDED_VM:`${F}/osd_install_access_delete_cluster/creating-a-gcp-cluster.html#:~:text=constraints/compute.requireShieldedVm`,OSD_CCS_GCP_WIF_GCLOUD_CLI:"https://cloud.google.com/sdk/docs/install",OSD_CCS_GCP_WIF_GCLOUD_CREDENTIALS:"https://cloud.google.com/docs/authentication/provide-credentials-adc",OSD_CCS_GCP_WIF_CREATION_LEARN_MORE:`${F}/osd_install_access_delete_cluster/creating-a-gcp-cluster-with-workload-identity-federation.html#create-wif-configuration_osd-creating-a-cluster-on-gcp-with-workload-identity-federation`,OSD_LIFE_CYCLE:`${F}/osd_architecture/osd_policy/osd-life-cycle.html`,OSD_Z_STREAM:`${F}/osd_architecture/osd_policy/osd-life-cycle.html#rosa-patch-versions_osd-life-cycle`,OSD_SERVICE_DEFINITION_COMPUTE:`${F}/osd_architecture/osd_policy/osd-service-definition.html#instance-types_osd-service-definition`,ROSA_SERVICE_DEFINITION_COMPUTE:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-sdpolicy-instance-types_rosa-service-definition`,OSD_ETCD_ENCRYPTION:`${F}/osd_architecture/osd_policy/osd-service-definition.html#etcd-encryption_osd-service-definition`,OSD_AWS_PRIVATE_CONNECTIONS:`${F}/osd_cluster_admin/osd_private_connections/aws-private-connections.html`,OSD_PRIVATE_CLUSTER:`${F}/osd_cluster_admin/osd_private_connections/private-cluster.html`,OSD_CLUSTER_WIDE_PROXY:`${F}/networking/configuring-cluster-wide-proxy.html`,OSD_UPGRADES:`${F}/upgrading/osd-upgrades.html`,OSD_LIMITED_SUPPORT_DEFINITION:`${F}/osd_architecture/osd_policy/osd-service-definition.html#limited-support_osd-service-definition`,OSD_MONITORING_STACK:`${F}/monitoring/monitoring-overview.html#understanding-the-monitoring-stack_monitoring-overview`,OSD_CIDR_MACHINE:`${F}/networking/cidr-range-definitions.html#machine-cidr-description`,ROSA_CIDR_MACHINE:`${M}/networking/cidr-range-definitions.html#machine-cidr-description`,OSD_CIDR_SERVICE:`${F}/networking/cidr-range-definitions.html#service-cidr-description`,ROSA_CIDR_SERVICE:`${M}/networking/cidr-range-definitions.html#service-cidr-description`,OSD_CIDR_POD:`${F}/networking/cidr-range-definitions.html#pod-cidr-description`,ROSA_CIDR_POD:`${M}/networking/cidr-range-definitions.html#pod-cidr-description`,OSD_CIDR_HOST:`${F}/networking/cidr-range-definitions.html#host-prefix-description`,ROSA_CIDR_HOST:`${M}/networking/cidr-range-definitions.html#host-prefix-description`,OSD_CLUSTER_AUTOSCALING:`${F}/osd_cluster_admin/osd-cluster-autoscaling.html`,ROSA_CLUSTER_AUTOSCALING:`${M}/rosa_cluster_admin/rosa-cluster-autoscaling.html`,OSD_SECURITY_GROUPS:`${F}/osd_planning/aws-ccs.html#osd-security-groups-custom_aws-ccs `,CLI_TOOLS_OCP_GETTING_STARTED:`${k}/cli_reference/openshift_cli/getting-started-cli.html`,INSTALL_DOCS_ENTRY:`${k}/installing/overview/index.html`,INSTALL_ASSISTED_LEARN_MORE:`${k}/installing/installing_on_prem_assisted/installing-on-prem-assisted.html`,INSTALL_AGENT_LEARN_MORE:`${k}/installing/installing_with_agent_based_installer/preparing-to-install-with-agent-based-installer.html`,INSTALL_AWSIPI_DOCS_LANDING:`${k}/installing/installing_aws/installing-aws-account.html`,INSTALL_AWSIPI_DOCS_ENTRY:`${k}/welcome/index.html`,INSTALL_AWSIPI_LEARN_MORE:`${k}/installing/installing_aws/ipi/installing-aws-default.html`,INSTALL_AWSUPI_GETTING_STARTED:`${k}/installing/installing_aws/upi/installing-aws-user-infra.html`,INSTALL_AWS_CUSTOMIZATIONS:`${k}/installing/installing_aws/ipi/installing-aws-customizations.html`,INSTALL_AWS_VPC:`${k}/installing/installing_aws/ipi/installing-aws-vpc.html`,INSTALL_AWS_CUSTOM_VPC_REQUIREMENTS:`${k}/installing/installing_aws/ipi/installing-aws-vpc.html#installation-custom-aws-vpc-requirements_installing-aws-vpc`,INSTALL_AWS_MULTI_ARCH:`${k}/post_installation_configuration/configuring-multi-arch-compute-machines/creating-multi-arch-compute-nodes-aws.html`,INSTALL_AZUREUPI_GETTING_STARTED:`${k}/installing/installing_azure/upi/installing-azure-user-infra.html`,INSTALL_AZUREIPI_GETTING_STARTED:`${k}/installing/installing_azure/ipi/installing-azure-default.html`,INSTALL_AZURE_CUSTOMIZATIONS:`${k}/installing/installing_azure/ipi/installing-azure-customizations.html`,INSTALL_AZURE_MULTI_ARCH:`${k}/post_installation_configuration/configuring-multi-arch-compute-machines/creating-multi-arch-compute-nodes-azure.html`,INSTALL_ASHIPI_GETTING_STARTED:`${k}/installing/installing_azure_stack_hub/ipi/ipi-ash-preparing-to-install.html`,INSTALL_ASHUPI_GETTING_STARTED:`${k}/installing/installing_azure_stack_hub/upi/installing-azure-stack-hub-user-infra.html`,INSTALL_ASHUPI_RHCOS_LEARN_MORE:`${k}/installing/installing_azure_stack_hub/upi/installing-azure-stack-hub-user-infra.html#installation-azure-user-infra-uploading-rhcos_installing-azure-stack-hub-user-infra`,INSTALL_ASH_CUSTOMIZATIONS:`${k}/installing/installing_azure_stack_hub/ipi/installing-azure-stack-hub-network-customizations.html`,RHCOS_ASHUPI_VHD_X86:`${R}/rhcos-azurestack.x86_64.vhd.gz`,INSTALL_BAREMETAL_UPI_GETTING_STARTED:`${k}/installing/installing_bare_metal/installing-bare-metal.html`,INSTALL_BAREMETAL_IPI_GETTING_STARTED:`${k}/installing/installing_bare_metal_ipi/ipi-install-installation-workflow.html`,INSTALL_BAREMETAL_IPI_LEARN_MORE:`${k}/installing/installing_bare_metal_ipi/ipi-install-overview.html`,INSTALL_BAREMETAL_RHCOS_LEARN_MORE:`${k}/installing/installing_bare_metal/installing-bare-metal.html#creating-machines-bare-metal`,INSTALL_BAREMETAL_CUSTOMIZATIONS:`${k}/installing/installing_bare_metal/installing-bare-metal-network-customizations.html`,RHCOS_BAREMETAL_ISO_X86:`${R}/rhcos-live.x86_64.iso`,RHCOS_BAREMETAL_RAW_X86:`${R}/rhcos-metal.x86_64.raw.gz`,INSTALL_BAREMETAL_MULTI_ARCH:`${k}/post_installation_configuration/configuring-multi-arch-compute-machines/creating-multi-arch-compute-nodes-bare-metal.html`,INSTALL_CRC_GETTING_STARTED:"https://access.redhat.com/documentation/en-us/red_hat_openshift_local",INSTALL_GCPIPI_GETTING_STARTED:`${k}/installing/installing_gcp/installing-gcp-account.html`,INSTALL_GCPIPI_LEARN_MORE:`${k}/installing/installing_gcp/installing-gcp-default.html`,INSTALL_GCPUPI_GETTING_STARTED:`${k}/installing/installing_gcp/installing-gcp-user-infra.html`,INSTALL_GCPUPI_RHCOS_LEARN_MORE:`${k}/installing/installing_gcp/installing-gcp-user-infra.html#installation-gcp-user-infra-rhcos_installing-gcp-user-infra`,INSTALL_GCP_CUSTOMIZATIONS:`${k}/installing/installing_gcp/installing-gcp-customizations.html`,INSTALL_GCP_VPC:`${k}/installing/installing_gcp/installing-gcp-vpc.html`,RHCOS_GCPUPI_TAR_X86:`${R}/rhcos-gcp.x86_64.tar.gz`,INSTALL_NUTANIXIPI_GETTING_STARTED:`${k}/installing/installing_nutanix/preparing-to-install-on-nutanix.html`,INSTALL_OSPIPI_GETTING_STARTED:`${k}/installing/installing_openstack/installing-openstack-installer-custom.html`,INSTALL_OSPUPI_GETTING_STARTED:`${k}/installing/installing_openstack/installing-openstack-user.html`,INSTALL_OSPUPI_RHCOS_LEARN_MORE:`${k}/installing/installing_openstack/installing-openstack-user.html#installation-osp-creating-image_installing-openstack-user`,INSTALL_OSP_CUSTOMIZATIONS:`${k}/installing/installing_openstack/installing-openstack-installer-custom.html`,RHCOS_OSPUPI_QCOW_X86:`${R}/rhcos-openstack.x86_64.qcow2.gz`,RHCOS_OSPUPI_QCOW_PPC:`${O}/rhcos-openstack.ppc64le.qcow2.gz`,INSTALL_VSPHEREUPI_GETTING_STARTED:`${k}/installing/installing_vsphere/upi/installing-vsphere.html`,INSTALL_VSPHEREIPI_GETTING_STARTED:`${k}/installing/installing_vsphere/ipi/installing-vsphere-installer-provisioned.html`,INSTALL_VSPHERE_RHCOS_LEARN_MORE:`${k}/installing/installing_vsphere/upi/installing-vsphere.html#installation-vsphere-machines_installing-vsphere`,INSTALL_VSPHERE_CUSTOMIZATIONS:`${k}/installing/installing_vsphere/ipi/installing-vsphere-installer-provisioned-customizations.html`,RHCOS_VSPHERE_OVA_X86:`${R}/rhcos-vmware.x86_64.ova`,INSTALL_IBM_CLOUD_GETTING_STARTED:`${k}/installing/installing_ibm_cloud/preparing-to-install-on-ibm-cloud.html`,INSTALL_IBMZ_GETTING_STARTED:`${k}/installing/installing_ibm_z/installing-ibm-z.html`,INSTALL_IBMZ_RHCOS_LEARN_MORE_RHEL_KVM:`${k}/installing/installing_ibm_z/installing-ibm-z-kvm.html#installation-user-infra-machines-iso-ibm-z_kvm_installing-ibm-z-kvm`,INSTALL_IBMZ_LEARN_MORE_ZVM:`${k}/installing/installing_ibm_z/installing-ibm-z.html#installation-user-infra-machines-iso-ibm-z_installing-ibm-z`,INSTALL_IBMZ_UPI_GETTING_STARTED:`${k}/installing/installing_ibm_z/preparing-to-install-on-ibm-z.html`,INSTALL_IBMZ_AGENTS_GETTING_STARTED:`${k}/installing/installing_with_agent_based_installer/prepare-pxe-assets-agent.html#installing-ocp-agent-ibm-z_prepare-pxe-assets-agent`,INSTALL_IBMPOWERVS_GETTING_STARTED:`${k}/installing/installing_ibm_powervs/preparing-to-install-on-ibm-power-vs.html`,INSTALL_IBMPOWERVS_PREREQUISITES:`${k}/installing/installing_ibm_powervs/preparing-to-install-on-ibm-power-vs.html`,RHCOS_IBMZ_ISO:`${T}/rhcos-live.s390x.iso`,RHCOS_IBMZ_INITRAMFS:`${T}/rhcos-live-initramfs.s390x.img`,RHCOS_IBMZ_KERNEL:`${T}/rhcos-live-kernel-s390x`,RHCOS_IBMZ_ROOTFS:`${T}/rhcos-live-rootfs.s390x.img`,RHCOS_IBMZ_QCOW:`${T}/rhcos-qemu.s390x.qcow2.gz`,INSTALL_GENERIC_GETTING_STARTED:`${k}/installing/installing_platform_agnostic/installing-platform-agnostic.html`,INSTALL_GENERIC_NON_TESTED_PLATFORMS:"https://access.redhat.com/articles/4207611",INSTALL_GENERIC_RHCOS_LEARN_MORE:`${k}/installing/installing_platform_agnostic/installing-platform-agnostic.html#creating-machines-platform-agnostic`,RHCOS_GENERIC_ISO_X86:`${R}/rhcos-live.x86_64.iso`,RHCOS_GENERIC_KERNEL_X86:`${R}/rhcos-live-kernel-x86_64`,RHCOS_GENERIC_INITRAMFS_X86:`${R}/rhcos-live-initramfs.x86_64.img`,RHCOS_GENERIC_ROOTFS_X86:`${R}/rhcos-live-rootfs.x86_64.img`,INSTALL_PRE_RELEASE_INSTALLER_DOC:"https://github.com/openshift/installer/tree/master/docs/user",INSTALL_PRE_RELEASE_FEEDBACK:"https://issues.redhat.com/projects/OCPBUGS/issues",INSTALL_PRE_RELEASE_SUPPORT_KCS:"https://access.redhat.com/support/offerings/devpreview",TECH_PREVIEW_KCS:"https://access.redhat.com/support/offerings/techpreview",COOPERATIVE_COMMUNITY_SUPPORT_KCS:"https://access.redhat.com/solutions/5893251",INSTALL_POWER_GETTING_STARTED:`${k}/installing/installing_ibm_power/installing-ibm-power.html`,INSTALL_POWER_RHCOS_LEARN_MORE:`${k}/installing/installing_ibm_power/installing-ibm-power.html#creating-machines-bare-metal-power`,INSTALL_POWER_UPI_GETTING_STARTED:`${k}/installing/installing_ibm_power/installing-ibm-power.html`,RHCOS_POWER_ISO:`${O}/rhcos-live.ppc64le.iso`,RHCOS_POWER_INITRAMFS:`${O}/rhcos-live-initramfs.ppc64le.img`,RHCOS_POWER_KERNEL:`${O}/rhcos-live-kernel-ppc64le`,RHCOS_POWER_ROOTFS:`${O}/rhcos-live-rootfs.ppc64le.img`,RHCOS_ARM_ISO:`${P}/rhcos-live.aarch64.iso`,RHCOS_ARM_INITRAMFS:`${P}/rhcos-live-initramfs.aarch64.img`,RHCOS_ARM_KERNEL:`${P}/rhcos-live-kernel-aarch64`,RHCOS_ARM_ROOTFS:`${P}/rhcos-live-rootfs.aarch64.img`,RHCOS_ARM_RAW:`${P}/rhcos-metal.aarch64.raw.gz`,OCM_CLI_DOCS:"https://access.redhat.com/articles/6114701",OCM_CLI_RELEASES_LATEST:"https://developers.redhat.com/content-gateway/rest/browse/pub/cgw/ocm/latest",RHOAS_CLI_DOCS:"https://access.redhat.com/documentation/en-us/red_hat_openshift_application_services/1/guide/bb30ee92-9e0a-4fd6-a67f-aed8910d7da3",RHOAS_CLI_RELEASES_LATEST:"https://github.com/redhat-developer/app-services-cli/releases/latest",HELM_DOCS:`${k}/applications/working_with_helm_charts/understanding-helm.html`,KN_DOCS:`${k}/cli_reference/kn-cli-tools.html`,TKN_DOCS:`${k}/cli_reference/tkn_cli/installing-tkn.html#installing-tkn`,ODO_DOCS:"https://odo.dev/docs/introduction",OPM_DOCS:`${k}/cli_reference/opm/cli-opm-install.html`,OSDK_DOCS:`${k}/cli_reference/osdk/cli-osdk-install.html`,BUTANE_DOCS:`${k}/installing/install_config/installing-customizing.html`,COREOS_INSTALLER_DOCS:`${k}/installing/installing_platform_agnostic/installing-platform-agnostic.html`,ARGO_CD_DOCS:"https://docs.openshift.com/gitops/1.13/installing_gitops/installing-argocd-gitops-cli.html",SHP_CLI_DOCS:"https://docs.redhat.com/en/documentation/builds_for_red_hat_openshift/1.1/html-single/work_with_builds/index",INSTALL_MIRROR_REGISTRY_LEARN_MORE:`${k}/disconnected/mirroring/installing-mirroring-installation-images.html#installation-about-mirror-registry_installing-mirroring-installation-images`,INSTALL_OC_MIRROR_PLUGIN_LEARN_MORE:`${k}/disconnected/mirroring/installing-mirroring-installation-images.html`,OPENSHIFT_DEDICATED_LEARN_MORE:"https://www.redhat.com/en/technologies/cloud-computing/openshift/dedicated",AWS_OPENSHIFT_LEARN_MORE:"https://cloud.redhat.com/products/amazon-openshift",AZURE_OPENSHIFT_GET_STARTED:"https://azure.microsoft.com/en-us/products/openshift/",ROSA_GET_STARTED:"https://cloud.redhat.com/learn/getting-started-red-hat-openshift-service-aws-rosa",ROSA_DOCS_ENTRY:`${M}/welcome/index.html`,ROSA_MONITORING:`${M}/monitoring/monitoring-overview.html#understanding-the-monitoring-stack_monitoring-overview`,ROSA_AUTOSCALING:`${M}/rosa_cluster_admin/rosa_nodes/rosa-nodes-about-autoscaling-nodes.html`,ROSA_SECURITY_GROUPS:`${M}/rosa_planning/rosa-sts-aws-prereqs.html#rosa-security-groups-custom_rosa-sts-aws-prereqs `,ROSA_CLI_DOCS:`${G}/rosa_cli/rosa-get-started-cli`,ROSA_AWS_PREREQUISITES:`${M}/rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-aws-prereqs.html`,ROSA_INSTALLING:`${M}/rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-installing-rosa.html`,ROSA_LIFE_CYCLE:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-life-cycle.html`,ROSA_Z_STREAM:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-life-cycle.html#rosa-patch-versions_rosa-life-cycle`,ROSA_RESPONSIBILITY_MATRIX:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-policy-responsibility-matrix.html`,ROSA_SERVICE_DEFINITION:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html`,ROSA_WORKER_NODE_COUNT:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-sdpolicy-compute_rosa-service-definition`,ROSA_SERVICE_ETCD_ENCRYPTION:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-sdpolicy-etcd-encryption_rosa-service-definition`,ROSA_CLUSTER_WIDE_PROXY:`${M}/networking/configuring-cluster-wide-proxy.html`,ROSA_UPGRADES:`${M}/upgrading/rosa-upgrading-sts.html`,ROSA_LIMITED_SUPPORT_DEFINITION:`${M}/rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html#rosa-limited-support_rosa-service-definition`,ROSA_SHARED_VPC:`${M}/rosa_install_access_delete_clusters/rosa-shared-vpc-config.html`,ROSA_PRIVATE_CONNECTIONS:`${M}/rosa_cluster_admin/cloud_infrastructure_access/rosa-configuring-private-connections.html`,ROSA_AWS_STS_PREREQUISITES:`${M}/rosa_planning/rosa-sts-aws-prereqs.html`,ROSA_AWS_ACCOUNT_ASSOCIATION:`${M}/rosa_planning/rosa-sts-aws-prereqs.html#rosa-associating-account_rosa-sts-aws-prereqs`,ROSA_AWS_MULTIPLE_ACCOUNT_ASSOCIATION:`${M}/rosa_planning/rosa-sts-aws-prereqs.html#rosa-associating-multiple-account_rosa-sts-aws-prereqs`,ROSA_AWS_SERVICE_QUOTAS:`${G}/prepare_your_environment/rosa-sts-required-aws-service-quotas#rosa-required-aws-service-quotas_rosa-sts-required-aws-service-quotas`,ROSA_AWS_LIMITS_SCALE:`${M}/rosa_planning/rosa-limits-scalability.html#node-scaling-after-installation_rosa-limits-scalability`,ROSA_AWS_IAM_RESOURCES:`${G}/introduction_to_rosa/rosa-sts-about-iam-resources`,ROSA_AWS_IAM_ROLES:`${M}/rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-account-wide-roles-and-policies_rosa-sts-about-iam-resources`,ROSA_AWS_ACCOUNT_ROLES:`${M}/rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-understanding-ocm-role_rosa-sts-about-iam-resources`,ROSA_AWS_OPERATOR_ROLE_PREFIX:`${M}/rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-about-operator-role-prefixes_rosa-sts-about-iam-resources`,ROSA_HCP_EXT_AUTH:`${G}/install_rosa_with_hcp_clusters/rosa-hcp-sts-creating-a-cluster-ext-auth`,ROSA_HCP_BREAK_GLASS:`${G}/install_rosa_with_hcp_clusters/rosa-hcp-sts-creating-a-cluster-ext-auth#rosa-hcp-sts-accessing-a-break-glass-cred-cli_rosa-hcp-sts-creating-a-cluster-ext-auth`,AWS_CONSOLE_ROSA_HOME:"https://console.aws.amazon.com/rosa/home",AWS_CONSOLE_ROSA_HOME_GET_STARTED:"https://console.aws.amazon.com/rosa/home#/get-started",AWS_CONSOLE_HOSTED_ZONES:"https://console.aws.amazon.com/route53/v2/hostedzones",AWS_CONSOLE_SECURITY_GROUPS:"https://console.aws.amazon.com/ec2/home#SecurityGroups",AWS_CLI:"https://aws.amazon.com/cli/",AWS_CLI_CONFIGURATION_INSTRUCTIONS:"https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html",AWS_CLI_INSTRUCTIONS:"https://docs.aws.amazon.com/ROSA/latest/userguide/getting-started-sts-auto.html",AWS_CLI_GETTING_STARTED_MANUAL:"https://docs.aws.amazon.com/ROSA/latest/userguide/getting-started-sts-manual.html",AWS_ROSA_GET_STARTED:"https://docs.aws.amazon.com/ROSA/latest/userguide/getting-started.html",AWS_FINDING_KEY_ARN:"https://docs.aws.amazon.com/kms/latest/developerguide/find-cmk-id-arn.html",AWS_IMDS:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-options.html",AWS_LOAD_BALANCER_FEATURES:"https://aws.amazon.com/elasticloadbalancing/features/#Product_comparisons",AWS_SHARED_VPC:"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-sharing.html",GCP_CONSOLE_OSD_HOME:"https://console.cloud.google.com/marketplace/agreements/redhat-marketplace/red-hat-openshift-dedicated",OCM_DOCS_MANAGING_CLUSTERS:`${U}/html/managing_clusters/assembly-managing-clusters`,OCM_DOCS_PULL_SECRETS:`${U}/html/managing_clusters/assembly-managing-clusters#downloading_and_updating_pull_secrets`,OCM_DOCS_ROLES_AND_ACCESS:`${U}/html/managing_clusters/assembly-user-management-ocm`,OCM_DOCS_SUBSCRIPTIONS:`${U}/html/managing_clusters/assembly-cluster-subscriptions`,OCM_DOCS_UPGRADING_OSD_TRIAL:`${U}/html/managing_clusters/assembly-cluster-subscriptions#upgrading-osd-trial-cluster_assembly-cluster-subscriptions`,COSTMGMT_ADDING_OCP:"https://access.redhat.com/documentation/en-us/cost_management_service/2023/html/adding_an_openshift_container_platform_source_to_cost_management/assembly-adding-openshift-container-platform-source",FINDING_AWS_ACCOUNT_IDENTIFIERS:"https://docs.aws.amazon.com/accounts/latest/reference/manage-acct-identifiers.html",CIDR_RANGE_DEFINITIONS_ROSA:"https://docs.openshift.com/rosa/networking/cidr-range-definitions.html",CIDR_RANGE_DEFINITIONS_OSD:"https://docs.openshift.com/dedicated/networking/cidr-range-definitions.html",CONFIGURE_PROXY_URL:"https://docs.openshift.com/dedicated/networking/configuring-cluster-wide-proxy.html",VIRTUAL_PRIVATE_CLOUD_URL:"https://docs.openshift.com/rosa/rosa_planning/rosa-sts-aws-prereqs.html#rosa-vpc_rosa-sts-aws-prereqs",AWS_CONTROL_PLANE_URL:`${k}/architecture/control-plane.html#hosted-control-planes-architecture_control-plane`,ROSA_AWS_FEDRAMP:"https://docs.aws.amazon.com/govcloud-us/latest/UserGuide/govcloud-rosa.html",FEDRAMP_ACCESS_REQUEST_FORM:"https://console.redhat.com/openshift/create/rosa/govcloud",TERRAFORM_ROSA_HCP_URL:`${x}/terraform/rosa-hcp-creating-a-cluster-quickly-terraform.html`,TERRAFORM_REGISTRY_ROSA_HCP:"https://registry.terraform.io/providers/terraform-redhat/rhcs/latest/docs/guides/hosted-control-planes",ROSA_HCP_CLI_URL:`${x}/rosa-hcp-sts-creating-a-cluster-quickly.html#rosa-hcp-sts-creating-a-cluster-cli_rosa-hcp-sts-creating-a-cluster-quickly`,ROSA_CREATE_NETWORK:"https://access.redhat.com/articles/7096266",CREATE_VPC_WAYS:"https://docs.aws.amazon.com/rosa/latest/userguide/getting-started-hcp.html#create-vpc-hcp"},V={OC:"oc",BUTANE:"butane",CCOCTL:"ccoctl",COREOS_INSTALLER:"coreos-installer",CRC:"crc",HELM:"helm",X86INSTALLER:"x86_64-openshift-install",IBMZINSTALLER:"s390x-openshift-install",PPCINSTALLER:"ppc64le-openshift-install",ARMINSTALLER:"aarch64-openshift-install",MULTIINSTALLER:"multi-openshift-install",KN:"kn",OCM:"ocm",ODO:"odo",OPM:"opm",OPERATOR_SDK:"operator-sdk",RHCOS:"rhcos",RHOAS:"rhoas",ROSA:"rosa",MIRROR_REGISTRY:"mirror-registry",OC_MIRROR_PLUGIN:"oc-mirror-plugin",TKN:"tkn",COPY_PULLREQUEST:"copy-pull-secret",ARGO_CD:"argo-cd",SHP_CLI:"shp-cli"},B={PRE_RELEASE:"preRelease",CANDIDATE:"candidate",STABLE:"stable"},q={arm:"arm",x86:"x86",ppc:"ppc",s390x:"s390x"},j=[{value:q.x86,label:"x86_64",path:"x86_64"},{value:q.arm,label:"aarch64",path:"aarch64"},{value:q.ppc,label:"ppc64le",path:"ppc64le"},{value:q.s390x,label:"s390x",path:"s390x"}],z={linux:"linux",rhel9:"rhel-9",rhel9_fips:"rhel-9-fips",rhel8:"rhel-8",mac:"mac",windows:"windows"},W=[{value:z.linux,label:"Linux"},{value:z.rhel9,label:"Linux - RHEL 9"},{value:z.rhel9_fips,label:"RHEL 9 (FIPS)"},{value:z.rhel8,label:"Linux - RHEL 8"},{value:z.mac,label:"MacOS"},{value:z.windows,label:"Windows"}],$={[V.OC]:{[B.STABLE]:{[q.x86]:{[z.windows]:`${n}openshift-client-windows.zip`,[z.linux]:`${n}openshift-client-linux.tar.gz`,[z.mac]:`${n}openshift-client-mac.tar.gz`},[q.s390x]:{[z.linux]:`${s}openshift-client-linux.tar.gz`},[q.ppc]:{[z.linux]:`${u}openshift-client-linux.tar.gz`},[q.arm]:{[z.linux]:`${d}openshift-client-linux.tar.gz`,[z.mac]:`${d}openshift-client-mac-arm64.tar.gz`}},[B.CANDIDATE]:{[q.x86]:{[z.windows]:`${i}openshift-client-windows.zip`,[z.linux]:`${i}openshift-client-linux.tar.gz`,[z.mac]:`${i}openshift-client-mac.tar.gz`},[q.arm]:{[z.linux]:`${d}openshift-client-linux.tar.gz`,[z.mac]:`${d}openshift-client-mac-arm64.tar.gz`}},[B.PRE_RELEASE]:{[q.x86]:{[z.windows]:`${f}openshift-client-windows.zip`,[z.linux]:`${f}openshift-client-linux.tar.gz`,[z.mac]:`${f}openshift-client-mac.tar.gz`},[q.s390x]:{[z.linux]:`${E}openshift-client-linux.tar.gz`},[q.ppc]:{[z.linux]:`${g}openshift-client-linux.tar.gz`},[q.arm]:{[z.linux]:`${v}openshift-client-linux.tar.gz`,[z.mac]:`${v}openshift-client-mac-arm64.tar.gz`}}},[V.OCM]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${H.OCM_CLI_RELEASES_LATEST}/ocm_linux_amd64.zip`,[z.mac]:`${H.OCM_CLI_RELEASES_LATEST}/ocm_darwin_amd64.zip`,[z.windows]:`${H.OCM_CLI_RELEASES_LATEST}/ocm_windows_amd64.zip`}}},[V.BUTANE]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${l}/butane-amd64`,[z.mac]:`${l}/butane-darwin-amd64`,[z.windows]:`${l}/butane-windows-amd64.exe`},[q.s390x]:{[z.linux]:`${l}/butane-s390x`},[q.ppc]:{[z.linux]:`${l}/butane-ppc64le`},[q.arm]:{[z.linux]:`${l}/butane-aarch64`}}},[V.CCOCTL]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${n}ccoctl-linux.tar.gz`},[q.s390x]:{[z.linux]:`${s}ccoctl-linux.tar.gz`},[q.ppc]:{[z.linux]:`${u}ccoctl-linux.tar.gz`},[q.arm]:{[z.linux]:`${d}ccoctl-linux.tar.gz`}}},[V.COREOS_INSTALLER]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${_}/coreos-installer_amd64`},[q.s390x]:{[z.linux]:`${_}/coreos-installer_s390x`},[q.ppc]:{[z.linux]:`${_}/coreos-installer_ppc64le`},[q.arm]:{[z.linux]:`${_}/coreos-installer_arm64`}}},[V.CRC]:{[B.STABLE]:{[q.x86]:{[z.windows]:`${S}/crc-windows-installer.zip`,[z.mac]:`${S}/crc-macos-installer.pkg`,[z.linux]:`${S}/crc-linux-amd64.tar.xz`}}},[V.HELM]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${b}/helm-linux-amd64.tar.gz`,[z.mac]:`${b}/helm-darwin-amd64.tar.gz`,[z.windows]:`${b}/helm-windows-amd64.exe.zip`},[q.s390x]:{[z.linux]:`${b}/helm-linux-s390x.tar.gz`},[q.ppc]:{[z.linux]:`${b}/helm-linux-ppc64le.tar.gz`},[q.arm]:{[z.linux]:`${b}/helm-linux-arm64.tar.gz`,[z.mac]:`${b}/helm-darwin-arm64.tar.gz`}}},[V.X86INSTALLER]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${n}openshift-install-linux.tar.gz`,[z.mac]:`${n}openshift-install-mac.tar.gz`,[z.rhel9_fips]:`${n}openshift-install-rhel9-amd64.tar.gz`},[q.arm]:{[z.mac]:`${n}openshift-install-mac-arm64.tar.gz`}},[B.CANDIDATE]:{[q.x86]:{[z.linux]:`${i}openshift-install-linux.tar.gz`,[z.mac]:`${i}openshift-install-mac.tar.gz`},[q.arm]:{[z.mac]:`${i}openshift-install-mac-arm64.tar.gz`}},[B.PRE_RELEASE]:{[q.x86]:{[z.linux]:`${f}openshift-install-linux.tar.gz`,[z.rhel9_fips]:`${f}openshift-install-rhel9-amd64.tar.gz`,[z.mac]:`${f}openshift-install-mac.tar.gz`},[q.arm]:{[z.linux]:`${f}openshift-install-linux-arm64.tar.gz`,[z.mac]:`${f}openshift-install-mac-arm64.tar.gz`}}},[V.IBMZINSTALLER]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${s}openshift-install-linux-amd64.tar.gz`,[z.mac]:`${s}openshift-install-mac.tar.gz`},[q.s390x]:{[z.linux]:`${s}openshift-install-linux.tar.gz`,[z.rhel9_fips]:`${s}openshift-install-rhel9-s390x.tar.gz`},[q.arm]:{[z.mac]:`${s}openshift-install-mac-arm64.tar.gz`}},[B.PRE_RELEASE]:{[q.x86]:{[z.linux]:`${E}openshift-install-linux-amd64.tar.gz`,[z.mac]:`${E}openshift-install-mac.tar.gz`},[q.s390x]:{[z.linux]:`${E}openshift-install-linux.tar.gz`,[z.rhel9_fips]:`${E}openshift-install-rhel9-s390x.tar.gz`},[q.arm]:{[z.linux]:`${E}openshift-install-linux-arm64.tar.gz`,[z.mac]:`${E}openshift-install-mac-arm64.tar.gz`}}},[V.PPCINSTALLER]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${u}openshift-install-linux-amd64.tar.gz`,[z.mac]:`${u}openshift-install-mac.tar.gz`},[q.ppc]:{[z.linux]:`${u}openshift-install-linux.tar.gz`,[z.rhel9_fips]:`${u}openshift-install-rhel9-ppc64le.tar.gz`},[q.arm]:{[z.linux]:`${u}openshift-install-linux-arm64.tar.gz`,[z.mac]:`${u}openshift-install-mac-arm64.tar.gz`}},[B.PRE_RELEASE]:{[q.x86]:{[z.linux]:`${g}openshift-install-linux-amd64.tar.gz`,[z.mac]:`${g}openshift-install-mac.tar.gz`},[q.ppc]:{[z.linux]:`${g}openshift-install-linux.tar.gz`,[z.rhel9_fips]:`${g}openshift-install-rhel9-ppc64le.tar.gz`},[q.arm]:{[z.linux]:`${g}openshift-install-linux-arm64.tar.gz`,[z.mac]:`${g}openshift-install-mac-arm64.tar.gz`}}},[V.ARMINSTALLER]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${d}openshift-install-linux-amd64.tar.gz`,[z.mac]:`${d}openshift-install-mac.tar.gz`},[q.arm]:{[z.linux]:`${d}openshift-install-linux.tar.gz`,[z.mac]:`${d}openshift-install-mac-arm64.tar.gz`}},[B.PRE_RELEASE]:{[q.x86]:{[z.linux]:`${v}openshift-install-linux-amd64.tar.gz`,[z.mac]:`${v}openshift-install-mac.tar.gz`},[q.arm]:{[z.linux]:`${v}openshift-install-linux.tar.gz`,[z.mac]:`${v}openshift-install-mac-arm64.tar.gz`}}},[V.MULTIINSTALLER]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${p}amd64/openshift-install-linux.tar.gz`,[z.mac]:`${p}amd64/openshift-install-mac.tar.gz`},[q.arm]:{[z.linux]:`${p}arm64/openshift-install-linux.tar.gz`,[z.mac]:`${p}arm64/openshift-install-mac-arm64.tar.gz`}},[B.PRE_RELEASE]:{[q.x86]:{[z.linux]:`${h}amd64/openshift-install-linux.tar.gz`,[z.mac]:`${h}amd64/openshift-install-mac.tar.gz`},[q.arm]:{[z.linux]:`${h}arm64/openshift-install-linux.tar.gz`,[z.mac]:`${h}arm64/openshift-install-mac-arm64.tar.gz`},[q.ppc]:{[z.linux]:`${h}ppc64le/openshift-install-linux.tar.gz`},[q.s390x]:{[z.linux]:`${h}s390x/openshift-install-linux.tar.gz`}}},[V.KN]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${C}/kn-linux-amd64.tar.gz`,[z.mac]:`${C}/kn-darwin-amd64.tar.gz`,[z.windows]:`${C}/kn-windows-amd64.zip`},[q.s390x]:{[z.linux]:`${C}/kn-linux-s390x.tar.gz`},[q.ppc]:{[z.linux]:`${C}/kn-linux-ppc64le.tar.gz`}}},[V.TKN]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${y}/tkn-linux-amd64.tar.gz`,[z.mac]:`${y}/tkn-macos-amd64.tar.gz`,[z.windows]:`${y}/tkn-windows-amd64.zip`},[q.s390x]:{[z.linux]:`${y}/tkn-linux-s390x.tar.gz`},[q.ppc]:{[z.linux]:`${y}/tkn-linux-ppc64le.tar.gz`},[q.arm]:{[z.linux]:`${y}/tkn-linux-arm64.tar.gz`,[z.mac]:`${y}/tkn-macos-arm64.tar.gz`,[z.windows]:`${y}/tkn-windows-arm64.zip`}}},[V.ODO]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${I}/odo-linux-amd64.tar.gz`,[z.mac]:`${I}/odo-darwin-amd64.tar.gz`,[z.windows]:`${I}/odo-windows-amd64.exe.zip`},[q.arm]:{[z.linux]:`${I}/odo-linux-arm64.tar.gz`,[z.mac]:`${I}/odo-darwin-arm64.tar.gz`},[q.s390x]:{[z.linux]:`${I}/odo-linux-s390x.tar.gz`},[q.ppc]:{[z.linux]:`${I}/odo-linux-ppc64le.tar.gz`}}},[V.ROSA]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${D}/rosa-linux.tar.gz`,[z.mac]:`${D}/rosa-macosx.tar.gz`,[z.windows]:`${D}/rosa-windows.zip`}}},[V.OPM]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${n}opm-linux.tar.gz`,[z.mac]:`${n}opm-mac.tar.gz`,[z.windows]:`${n}opm-windows.tar.gz`},[q.s390x]:{[z.linux]:`${s}opm-linux.tar.gz`},[q.ppc]:{[z.linux]:`${u}opm-linux.tar.gz`},[q.arm]:{[z.linux]:`${d}opm-linux.tar.gz`}}},[V.OPERATOR_SDK]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${A}/operator-sdk-linux-x86_64.tar.gz`,[z.mac]:`${A}/operator-sdk-darwin-x86_64.tar.gz`},[q.arm]:{[z.linux]:"https://mirror.openshift.com/pub/openshift-v4/aarch64/clients/operator-sdk/latest/operator-sdk-linux-aarch64.tar.gz"},[q.s390x]:{[z.linux]:"https://mirror.openshift.com/pub/openshift-v4/s390x/clients/operator-sdk/latest/operator-sdk-linux-s390x.tar.gz"},[q.ppc]:{[z.linux]:"https://mirror.openshift.com/pub/openshift-v4/ppc64le/clients/operator-sdk/latest/operator-sdk-linux-ppc64le.tar.gz"}}},[V.MIRROR_REGISTRY]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${L}/mirror-registry-amd64.tar.gz`},[q.ppc]:{[z.linux]:`${L}/mirror-registry-ppc64le.tar.gz`},[q.s390x]:{[z.linux]:`${L}/mirror-registry-s390x.tar.gz`}}},[V.OC_MIRROR_PLUGIN]:{[B.STABLE]:{[q.x86]:{[z.rhel9]:`${r}oc-mirror.rhel9.tar.gz`,[z.rhel8]:`${r}oc-mirror.tar.gz`},[q.arm]:{[z.rhel9]:`${m}oc-mirror.rhel9.tar.gz`,[z.rhel8]:`${m}oc-mirror.tar.gz`},[q.s390x]:{[z.rhel9]:`${o}oc-mirror.rhel9.tar.gz`,[z.rhel8]:`${o}oc-mirror.tar.gz`},[q.ppc]:{[z.rhel9]:`${c}oc-mirror.rhel9.tar.gz`,[z.rhel8]:`${c}oc-mirror.tar.gz`}}},[V.ARGO_CD]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${N}argocd-linux-amd64.tar.gz`,[z.windows]:`${N}argocd-windows-amd64.zip`,[z.mac]:`${N}argocd-macos-amd64.tar.gz`},[q.s390x]:{[z.linux]:`${N}argocd-linux-s390x.tar.gz`},[q.ppc]:{[z.linux]:`${N}argocd-linux-ppc64le.tar.gz`},[q.arm]:{[z.linux]:`${N}argocd-linux-arm64.tar.gz`,[z.mac]:`${N}argocd-macos-arm64.tar.gz`}}},[V.SHP_CLI]:{[B.STABLE]:{[q.x86]:{[z.linux]:`${w}shp-linux-amd64.tar.gz`,[z.windows]:`${w}shp-windows-amd64.zip`,[z.mac]:`${w}shp-darwin-amd64.tar.gz`}}}},K=["redhat-developer/app-services-cli"],Y=e=>{const t={...$,[V.RHOAS]:{[B.STABLE]:{fallbackNavigateURL:H.RHOAS_CLI_RELEASES_LATEST}}},a=e["redhat-developer/app-services-cli"];if(a?.fulfilled){const e=a.data.tag_name,l=e.replace(/^v/,""),n=`https://github.com/redhat-developer/app-services-cli/releases/download/${e}`;t[V.RHOAS]={[B.STABLE]:{[q.x86]:{[z.linux]:`${n}/rhoas_${l}_linux_amd64.tar.gz`,[z.mac]:`${n}/rhoas_${l}_macOS_amd64.tar.gz`,[z.windows]:`${n}/rhoas_${l}_windows_amd64.zip`},[q.arm]:{[z.linux]:`${n}/rhoas_${l}_linux_arm64.tar.gz`,[z.mac]:`${n}/rhoas_${l}_macOS_arm64.tar.gz`}}}}return t},Q=async()=>[...new Set([...Object.values(H),...Object.values($).flatMap(Object.values).flatMap(Object.values).flatMap(Object.values)])].sort(),Z=H},8330:e=>{"use strict";e.exports=JSON.parse('{"name":"cloud.openshift.com","version":"0.0.0","description":"OpenShift Cluster Manager","repository":{"type":"git","url":"git://github.com/openshift/cloud.openshift.com"},"license":"Apache-2.0","dependencies":{"@openshift-assisted/locales":"2.37.0","@openshift-assisted/types":"2.37.0","@openshift-assisted/ui-lib":"2.37.0","@patternfly/patternfly":"5.3.1","@patternfly/react-charts":"7.3.0","@patternfly/react-code-editor":"5.3.3","@patternfly/react-core":"5.4.7","@patternfly/react-icons":"5.3.2","@patternfly/react-styles":"5.3.1","@patternfly/react-table":"5.3.3","@patternfly/react-tokens":"5.3.1","@react-hook/resize-observer":"^2.0.0","@redhat-cloud-services/frontend-components":"^4.2.0","@redhat-cloud-services/frontend-components-config-utilities":"^3.2.2","@redhat-cloud-services/frontend-components-notifications":"^4.1.0","@redhat-cloud-services/rbac-client":"^2.0.0","@reduxjs/toolkit":"^2.2.2","@scalprum/core":"0.7.0","@scalprum/react-core":"0.8.0","@sentry/browser":"^7.77.0","@sentry/integrations":"^7.77.0","@tanstack/react-query":"^5.29.2","@tanstack/react-query-devtools":"^5.29.2","@types/file-saver":"^2.0.5","@types/humanize-duration":"^3.27.1","@types/react-dom":"^18.3.0","axios":"^1.7.4","cidr-tools":"^11.0.0","classnames":"^2.2.6","dayjs":"^1.11.10","file-saver":"^2.0.5","filesize":"^10.0.0","formik":"^2.2.9","fuse.js":"^7.0.0","history":"^5.0.0","humanize-duration":"^3.30.0","i18next":"^23.0.0","immer":"^10.0.0","imports-loader":"^5.0.0","ip-cidr":"3.1.0","is-promise":"^4.0.0","js-yaml":"^4.1.0","jsonschema":"^1.2.10","jszip":"^3.9.0","keycloak-js":"^23.0.0","lodash":"^4.17.19","monaco-editor":"^0.52.0","monaco-yaml":"^5.2.2","object.fromentries":"^2.0.5","path-browserify":"^1.0.1","prop-types":"15.7.2","qs":"6.12.2","react":"^18.2.0","react-content-loader":"^6.2.0","react-copy-to-clipboard":"^5.1.0","react-dom":"^18.2.0","react-i18next":"^15.0.0","react-markdown":"^9.0.1","react-monaco-editor":"0.56.2","react-redux":"^9.1.0","react-router-dom":"^6.2.0","react-tagsinput":"3.20.x","redux":"^5.0.1","redux-form":"^8.3.10","redux-promise-middleware":"^6.2.0","rehype-raw":"^5.1.0","remark-gfm":"^1","reselect":"^5.0.0","screenfull":"^6.0.0","semver":"^7.6.3","typesafe-actions":"^5.1.0","urijs":"^1.19.11","url":"^0.11.0","uuid":"^11.0.0","yup":"^1.4.0"},"devDependencies":{"@babel/core":"^7.23.9","@babel/plugin-transform-object-assign":"^7.23.3","@babel/plugin-transform-runtime":"^7.23.9","@babel/preset-env":"^7.23.9","@babel/preset-react":"^7.23.3","@chromatic-com/storybook":"3.2.2","@cypress/code-coverage":"^3.12.39","@cypress/grep":"^4.0.1","@redhat-cloud-services/types":"1.0.11","@sentry/cli":"^2.21.2","@storybook/addon-essentials":"8.4.4","@storybook/addon-interactions":"8.4.4","@storybook/addon-links":"8.4.4","@storybook/addon-onboarding":"8.4.4","@storybook/addon-styling-webpack":"1.0.1","@storybook/addon-webpack5-compiler-swc":"1.0.5","@storybook/blocks":"8.4.4","@storybook/react":"8.4.4","@storybook/react-webpack5":"8.4.4","@storybook/test":"8.4.4","@testing-library/dom":"^10.2.0","@testing-library/jest-dom":"^6.4.2","@testing-library/react":"^16.0.0","@testing-library/user-event":"^14.0.4","@types/history":"^5.0.0","@types/jest":"^29.5.12","@types/jest-axe":"^3.5.9","@types/js-yaml":"^4.0.9","@types/lodash":"^4.17.0","@types/prop-types":"15.7.2","@types/react":"18.3.12","@types/redux-form":"^8.3.10","@types/redux-mock-store":"^1.0.6","@types/semver":"^7.5.8","@types/sprintf-js":"^1.1.2","@types/urijs":"^1.19.19","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0","babel-jest":"^29.7.0","babel-loader":"^9.1.3","babel-plugin-transform-class-properties":"^6.24.1","babel-plugin-transform-imports":"^2.0.0","chalk":"^5.0.1","cli-progress":"^3.12.0","concurrently":"^9.0.0","copy-webpack-plugin":"^12.0.0","css-loader":"^7.0.0","cypress":"^13.6.2","cypress-each":"^1.14.0","eslint":"^8.56.0","eslint-config-airbnb":"^19.0.4","eslint-config-prettier":"^9.1.0","eslint-import-resolver-alias":"^1.1.2","eslint-plugin-custom-rules":"./eslint-plugin-custom-rules","eslint-plugin-import":"^2.29.1","eslint-plugin-jsx-a11y":"^6.8.0","eslint-plugin-no-snapshot-testing":"^1.0.61","eslint-plugin-react":"7.34.3","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-simple-import-sort":"^12.0.0","eslint-plugin-storybook":"0.11.0","eslint-plugin-testing-library":"^6.2.2","fork-ts-checker-webpack-plugin":"^9.0.0","html-webpack-plugin":"^5.3.1","husky":"^9.0.0","inquirer":"^11.0.0","jest":"^29.7.0","jest-axe":"^9.0.0","jest-cli":"^29.7.0","jest-environment-jsdom":"^29.7.0","json5":"2.2.3","lint-staged":"^15.0.0","list-git-remotes":"^1.0.1","mini-css-extract-plugin":"^2.7.5","monaco-editor-webpack-plugin":"^7.1.0","node-fetch":"^3.0.0","nyc":"^17.0.0","openapi-typescript-codegen":"^0.29.0","ora":"^8.0.0","porty":"^3.1.1","prettier":"3.3.2","progress":"^2.0.3","redux-mock-store":"^1.5.4","sass":"^1.77.2","sass-loader":"^14.0.1","shell-quote":"^1.7.3","simple-git":"3.25.0","sol-sc-explorer":"^1.1.1","sprintf-js":"^1.1.2","storybook":"8.4.4","style-loader":"4.0.0","transform-class-properties":"^1.0.0-beta","ts-jest":"^29.1.2","ts-loader":"^9.5.1","tsconfig-paths-webpack-plugin":"4.1.0","typescript":"5.5.3","wait-on":"8.0.1","webpack":"^5.89.0","webpack-bundle-analyzer":"^4.10.1","webpack-cli":"^6.0.0","webpack-dev-server":"^5.0.4","yargs":"^15.0.0"},"resolutions":{"@cypress/webpack-preprocessor":"6.0.2","@redhat-cloud-services/**/axios":"^1.7.4"},"scripts":{"start":"concurrently --kill-others --prefix=name --names=SERVER,MOCK --prefix-colors=cyan,reset --passthrough-arguments \'yarn dev-server --env noproxy api-env=staging {@}\' \'mockdata/mockserver.py\' --","build":"webpack $(run/progress-flag-if-tty.sh)","build:prod":"yarn build --mode=production","build:saas":"yarn build:prod --output-path \'dist\'","postbuild:saas":"[[ ${BETA} != \'true\' ]] && yarn sentry:sourcemaps-release:saas || :","build:saas:staging":". run/sentry-env.sh && yarn build:saas --env api-env=staging","build:saas:production":". run/sentry-env.sh --production && yarn build:saas --env api-env=production","verify":"concurrently --group --names=BUILD,LINT,TEST \'yarn build:prod --output-path dist --env api-env=staging\' \'yarn lint-prettier\' \'yarn test\'","dev-server":"webpack serve $(run/progress-flag-if-tty.sh)","insights-proxy":"make insights-proxy-check && run/insights-proxy.sh","stop-insights-proxy":"run/podman-or-docker.sh kill insightsproxy; run/podman-or-docker.sh rm --force insightsproxy; true","lint":"node --max-old-space-size=4096 ./node_modules/.bin/eslint src scripts \'run/*js\' --ext mjs,js,jsx,ts,tsx","lint-prettier":"node --max-old-space-size=4096 ./node_modules/.bin/eslint src scripts \'run/*js\' --ext mjs,js,jsx,ts,tsx && yarn prettier","lint-staged":"lint-staged","prettier":"prettier --check \'{src,cypress,scripts}/**/*.{js,ts,mjs,jsx,tsx}\' \'run/*js\'","prettier:fix":"prettier --write \'{src,cypress,scripts}/**/*.{js,ts,mjs,jsx,tsx}\' \'run/*js\'","test":"TZ=America/New_York LC_ALL=en_US.utf8 node --no-compilation-cache --expose-gc ./node_modules/.bin/jest --logHeapUsage","test-local":"yarn test --maxWorkers=50%","test-no-cache":"yarn test --no-cache","test:debug":"node --nolazy --inspect-brk ./node_modules/jest/bin/jest.js --runInBand --colors --verbose","e2e-test":"rm -rf ./coverage/* && yarn cypress-headless --env grepTags=ci","stop":"yarn stop-insights-proxy; run/podman-or-docker.sh rm --force browser; pkill --full \'concurrently.*SERVER(prevent self match){0},MOCK\'; pkill --full \'concurrently.*BROWSER(prevent self match){0},TEST\'; true","prepare":"husky","gen-types":"node scripts/gen-openapi-typescript.js && prettier --write \'src/types/**/*.ts\'","cypress-ui":"cypress open","cypress-headless":"cypress run --browser chrome","code-coverage":"nyc report --reporter=text-summary","analyze":"rm -rf dist && env BUNDLE_ANALYZER=true yarn build:prod","sentry:sourcemaps":"sentry-cli sourcemaps inject ./dist/","sentry:release":"sentry-cli --url https://glitchtip.devshift.net/ releases --org ocm","sentry:sourcemaps-release:saas":"yarn sentry:sourcemaps && yarn sentry:release --auth-token $GLITCHTIP_TOKEN --project=$SENTRY_PROJECT files $SENTRY_VERSION upload-sourcemaps dist/ --url-prefix \'/apps\'","storybook":"storybook dev -p 6006","build-storybook":"storybook build"},"insights":{"appname":"openshift"},"nyc":{"include":["src/**/*"]},"engines":{"node":">= 18.12.0","yarn":">= 1.22.19"}}')},75586:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.integration.openshift.com","apiRegionalGatewayHardcode":"https://api.aws.ap-southeast-1.integration.openshift.com","apiRegionalGatewayTemplate":"https://api.$REGION$.openshift.com","fedrampGateway":"https://console.redhat.com/api","fedrampS3":"https://fedramp-customer-interest-rob-stage.s3.us-east-1.amazonaws.com","demoExperience":"https://api.demo-experience.stage.demo.redhat.com"}')},59127:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.openshift.com","apiRegionalGatewayHardcode":"https://api.aws.ap-southeast-1.openshift.com","apiRegionalGatewayTemplate":"https://api.$REGION$.openshift.com","insightsGateway":"https://console.redhat.com/api","sentryDSN":"https://be858a1cf3a245a9a1190986e0379b4a@glitchtip.devshift.net/65","fedrampGateway":"https://console.redhat.com/api","fedrampS3":"https://fedramp-customer-interest-rob-production.s3.us-east-1.amazonaws.com","demoExperience":"https://api.demo-experience.demo.redhat.com"}')},74633:e=>{"use strict";e.exports=JSON.parse('{"apiGateway":"https://api.stage.openshift.com","apiRegionalGatewayHardcode":"https://api.aws.ap-southeast-1.stage.openshift.com","apiRegionalGatewayTemplate":"https://api.$REGION$.openshift.com","insightsGateway":"https://$SELF_PATH$/api","sentryDSN":"https://8e90d77ef3604f1bb1d1bf28c899a24b@glitchtip.devshift.net/64","fedrampGateway":"https://$SELF_PATH$/api","fedrampS3":"https://fedramp-customer-interest-rob-stage.s3.us-east-1.amazonaws.com","demoExperience":"https://api.demo-experience.stage.demo.redhat.com"}')}}]);
//# sourceMappingURL=bundle.158.1280537c0f6d248b.js.map
//# debugId=78a04d89-7cf3-5fd9-8c55-da04c07a6df1
