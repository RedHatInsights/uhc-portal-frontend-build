(self.webpackChunkcloud_openshift_com=self.webpackChunkcloud_openshift_com||[]).push([[564],{49596:(e,t,a)=>{"use strict";a.r(t),a.d(t,{advisorBaseName:()=>r,default:()=>c,getResourcesBase:()=>i,removeOcmBaseName:()=>s});const{insights:{appname:n}}=a(4147),o=()=>(null===window||void 0===window?void 0:window.location.pathname.startsWith("/beta"))?"/beta":(null===window||void 0===window||window.location.pathname.startsWith("/preview"),"/preview"),r=()=>`${o()}/openshift/insights/advisor`,l=new RegExp(`^(/preview|/beta|)/${n}`,"i"),s=e=>e.replace(l,""),i=()=>`/beta/apps/${n}`,c=()=>`${o()}/${n}`},58995:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(49596);function o(e){const t=(0,n.removeOcmBaseName)(e).replace(/^\//,"").split("/");switch(t[0]){case"downloads":case"token":return{id:"downloads"};case"quota":return{id:t[1]||"openshift-quota",parentId:"subscriptions",secondaryNav:!0};case"subscriptions":return{id:t[1],parentId:"subscriptions",secondaryNav:!0};case"overview":case"releases":return{id:t[0]};default:return{id:""}}}},1496:(e,t,a)=>{"use strict";a.r(t);var n=a(28416),o=a.n(n),r=a(31051),l=a.n(r),s=a(32750),i=a.n(s),c=(a(26398),a(86235)),p=a(77760),m=(a(62869),a(15651)),u=(a(78913),a(58995),a(49596),a(98371),a(38432),a(35592)),d=a(53894),E=a(57283),h=a.n(E),R=a(10810),v=a(42358),Z=a(72796),_=a(70315),S=a(45048);const w=(0,v.lX)(),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.compose;(0,u.createStore)((0,_.aA)(w),P((0,u.applyMiddleware)((0,R.Z)(w),d.Z,h(),(0,Z.uv)(Object.assign({},{dispatchDefaultFailure:!1})),S.Z)));var g=a(34677),A=a(55140),T=a(17420),f=a(27361),I=a.n(f),b=a(96106),O=a(52758),N=a(38352),D=a(59228),y=a(77696),z=a(6775),F=a(36842),k=a(71847),L=a(90053),C=a(73531),U=a(1258),x=a(16551),W=a(94634),M=a(51930),j=a(13268),G=a(68575),V=a(64835),$=a(94845),q=a(28275),B=a(27612),H=a(32839),K=a(55705),Q=a(49541),Y=a(62800),J=a(78456),X=a(97636),ee=a(33378),te=a(75288),ae=a(17298),ne=a(44710),oe=a(58900),re=a(94203),le=a(98452),se=a(35087),ie=a(95404),ce=a(69817),pe=a(12691),me=a(6738),ue=a(23311),de=a(1214),Ee=a(357),he=a(49758),Re=a(7100),ve=a(36926),Ze=a(96134),_e=a(39286),Se=a(80635),we=a(34782),Pe=a(39048),ge=a(24236),Ae=a(34997),Te=a(69733),fe=a(57364),Ie=a(720),be=a(95870),Oe=a(32677),Ne=a(97123),De=a(6309),ye=a(28986),ze=a(92087),Fe=a(83782),ke=a(20239),Le=a(64536),Ce=a(59446),Ue=a(57729),xe=a(57531),We=a(30726),Me=a(74396),je=a(14858),Ge=a(81292),Ve=a(59958),$e=a(25822),qe=a(30832),Be=a(30517),He=a(507),Ke=a(52964),Qe=a(41205),Ye=a(49943),Je=a(43736),Xe=a(27849),et=a(11811),tt=a(23664),at=a(77994),nt=a(58045),ot=a(48249),rt=a(30116);const{AssistedUiRouter:lt}=m,st=(0,qe.default)((e=>o().createElement(Xe.AppPage,null,o().createElement(lt,Object.assign({},e)))),N.ASSISTED_INSTALLER_FEATURE),it=(0,qe.default)(le.Z,N.ASSISTED_INSTALLER_FEATURE,ce.ZP),{Api:ct,Config:pt}=((0,p.connect)((e=>{const{cluster:t}=e.clusters.details;return{planType:I()(t,"subscription.plan.type",O.normalizedProducts.UNKNOWN),clusterId:I()(t,"subscription.cluster_id"),externalClusterId:I()(t,"subscription.external_cluster_id")}}))((0,c.withRouter)((({history:e,planType:t,clusterId:a,externalClusterId:r})=>{const{pathname:l}=(0,c.useLocation)(),{segment:{setPageMetadata:s}}=(0,A.Z)(),i=(0,b.useFeatureGate)(N.HYPERSHIFT_WIZARD_FEATURE),p=(0,b.useFeatureGate)(N.OSD_WIZARD_V2_FEATURE),{[N.OSD_WIZARD_V1]:m}=(0,ot.h)();return o().useEffect((()=>{console.info("---------------Features---------------\n",`HYPERSHIFT_WIZARD_FEATURE: ${i?"Enabled":"Disabled"}\n`,`OSD_WIZARD_V2_FEATURE: ${p?"Enabled":"Disabled"}\n`,`OSD_WIZARD_V1: ${m?"Enabled":"Disabled"}\n`,"-------------------------------------")}),[i,p,m]),(0,n.useEffect)((()=>{s(Object.assign(Object.assign({},(0,rt.Z)(l,t,a,r)),(0,rt.b)()?{title:"404 Not Found"}:{}))}),[l,t,a,r,s]),o().createElement(o().Fragment,null,o().createElement(tt.Z,null),o().createElement(T.xI,{history:e},o().createElement(Je.Z,{apiRequest:g.Z},o().createElement(c.Switch,null,o().createElement(c.Redirect,{from:"/install/osp/installer-provisioned",to:"/install/openstack/installer-provisioned"}),o().createElement(c.Redirect,{from:"/install/crc/installer-provisioned",to:"/create/local"}),o().createElement(c.Redirect,{from:"/token/moa",to:"/token/rosa"}),o().createElement(c.Redirect,{from:"/insights",to:"/overview"}),o().createElement(c.Redirect,{from:"/subscriptions",to:"/quota"}),o().createElement(c.Route,{path:"/downloads",component:$e.Z}),o().createElement(nt.Z,{path:"/token/rosa/show",history:e,render:()=>o().createElement(Xe.AppPage,null,o().createElement(Ye.Z,{show:!0}),o().createElement(Ve.Z,null))}),o().createElement(nt.Z,{path:"/token/rosa",history:e,render:()=>o().createElement(Xe.AppPage,null,o().createElement(Ye.Z,{show:!1,showPath:"/token/rosa/show"}),o().createElement(Ve.Z,null))}),o().createElement(c.Route,{path:"/token/show",render:()=>o().createElement(Qe.Z,{show:!0})}),o().createElement(c.Route,{path:"/token",render:()=>o().createElement(Qe.Z,{show:!1,showPath:"/token/show"})}),o().createElement(c.Route,{path:"/install/alibaba/installer-provisioned",component:H.ZP}),o().createElement(c.Route,{path:"/install/arm/installer-provisioned",component:ee.ZP}),o().createElement(c.Route,{path:"/install/arm/user-provisioned",component:te.ZP}),o().createElement(c.Route,{path:"/install/arm/pre-release",component:ae.ZP}),o().createElement(c.Route,{path:"/install/arm",component:X.Z}),o().createElement(c.Route,{path:"/install/aws/installer-provisioned",component:q.ZP}),o().createElement(c.Route,{path:"/install/aws/user-provisioned",component:B.ZP}),o().createElement(c.Route,{path:"/install/aws/arm/installer-provisioned",component:Q.ZP}),o().createElement(c.Route,{path:"/install/aws/arm/user-provisioned",component:Y.ZP}),o().createElement(c.Route,{path:"/install/aws/arm",component:K.Z}),o().createElement(c.Route,{path:"/install/aws/multi/installer-provisioned",component:ve.ZP}),o().createElement(c.Route,{path:"/install/aws",component:$.Z}),o().createElement(c.Route,{path:"/install/gcp/installer-provisioned",component:me.ZP}),o().createElement(c.Route,{path:"/install/gcp/user-provisioned",component:ue.ZP}),o().createElement(c.Route,{path:"/install/gcp",component:pe.Z}),o().createElement(c.Route,{path:"/install/nutanix",exact:!0,component:we.Z}),o().createElement(c.Route,{path:"/install/nutanix/installer-provisioned",component:Pe.ZP}),o().createElement(c.Route,{path:"/install/openstack/installer-provisioned",component:Ae.ZP}),o().createElement(c.Route,{path:"/install/openstack/user-provisioned",component:Te.ZP}),o().createElement(c.Route,{path:"/install/openstack",component:ge.Z}),o().createElement(c.Route,{path:"/install/rhv/installer-provisioned",component:Ce.ZP}),o().createElement(c.Route,{path:"/install/rhv/user-provisioned",component:Ue.ZP}),o().createElement(c.Route,{path:"/install/rhv",component:Le.Z}),o().createElement(c.Route,{path:"/install/azure/arm/installer-provisioned",component:J.ZP}),o().createElement(c.Route,{path:"/install/azure/multi/installer-provisioned",component:Ze.ZP}),o().createElement(c.Route,{path:"/install/azure/installer-provisioned",component:oe.ZP}),o().createElement(c.Route,{path:"/install/azure/user-provisioned",component:re.ZP}),o().createElement(c.Route,{path:"/install/azure",exact:!0,component:ne.Z}),o().createElement(c.Route,{path:"/install/azure-stack-hub/installer-provisioned",exact:!0,component:G.ZP}),o().createElement(c.Route,{path:"/install/azure-stack-hub/user-provisioned",exact:!0,component:V.ZP}),o().createElement(c.Route,{path:"/install/azure-stack-hub",exact:!0,component:j.Z}),o().createElement(c.Route,{path:"/install/metal/user-provisioned",component:ce.ZP}),o().createElement(c.Route,{path:"/install/metal/installer-provisioned",component:ie.ZP}),o().createElement(c.Route,{path:"/install/metal/agent-based",component:se.ZP}),o().createElement(c.Route,{path:"/install/metal/multi",component:_e.ZP}),o().createElement(c.Route,{path:"/install/metal",component:it}),o().createElement(c.Route,{path:"/install/multi/pre-release",component:Se.ZP}),o().createElement(c.Route,{path:"/install/vsphere",exact:!0,component:xe.Z}),o().createElement(c.Route,{path:"/install/vsphere/agent-based",component:We.ZP}),o().createElement(c.Route,{path:"/install/vsphere/user-provisioned",component:je.ZP}),o().createElement(c.Route,{path:"/install/vsphere/installer-provisioned",component:Me.ZP}),o().createElement(c.Route,{path:"/install/ibm-cloud",component:de.ZP}),o().createElement(c.Route,{path:"/install/ibmz/user-provisioned",component:Re.ZP}),o().createElement(c.Route,{path:"/install/ibmz/pre-release",component:he.ZP}),o().createElement(c.Route,{path:"/install/ibmz",exact:!0,component:Ee.Z}),o().createElement(c.Route,{path:"/install/power/user-provisioned",component:De.ZP}),o().createElement(c.Route,{path:"/install/power/pre-release",component:Ne.ZP}),o().createElement(c.Route,{path:"/install/power",exact:!0,component:Oe.Z}),o().createElement(c.Route,{path:"/install/powervs/installer-provisioned",component:ye.ZP}),o().createElement(c.Route,{path:"/install/platform-agnostic/agent-based",component:Ie.ZP}),o().createElement(c.Route,{path:"/install/platform-agnostic/user-provisioned",component:be.ZP}),o().createElement(c.Route,{path:"/install/platform-agnostic",component:fe.Z}),o().createElement(c.Route,{path:"/install/pre-release",component:ze.ZP}),o().createElement(c.Route,{path:"/install/pull-secret",component:Fe.ZP}),o().createElement(c.Route,{path:"/install/azure/aro-provisioned",component:ke.ZP}),o().createElement(c.Redirect,{from:"/install",to:"/create"}),o().createElement(c.Redirect,{from:"/create/osd/aws",to:"/create/osd"}),o().createElement(c.Redirect,{from:"/create/osd/gcp",to:"/create/osd"}),o().createElement(c.Redirect,{from:"/create/osdtrial/aws",to:"/create/osdtrial"}),o().createElement(c.Redirect,{from:"/create/osdtrial/gcp",to:"/create/osdtrial"}),p&&!m?o().createElement(nt.Z,{path:"/create/osdtrial",gobackPath:"/create",render:()=>o().createElement(Ge.j,{product:O.normalizedProducts.OSDTrial}),history:e}):o().createElement(nt.Z,{path:"/create/osdtrial",gobackPath:"/create",render:()=>o().createElement(C.Z,{product:O.normalizedProducts.OSDTrial}),history:e}),p&&!m?o().createElement(nt.Z,{path:"/create/osd",gobackPath:"/create",component:Ge.j,history:e}):o().createElement(nt.Z,{path:"/create/osd",gobackPath:"/create",render:()=>o().createElement(C.Z,{product:O.normalizedProducts.OSD}),history:e}),o().createElement(c.Route,{path:"/create/cloud",render:e=>o().createElement(L.Z,Object.assign({activeTab:"cloud"},e))}),o().createElement(c.Route,{path:"/create/datacenter",render:e=>o().createElement(L.Z,Object.assign({activeTab:"datacenter"},e))}),o().createElement(c.Route,{path:"/create/local",render:e=>o().createElement(L.Z,Object.assign({activeTab:"local"},e))}),o().createElement(c.Redirect,{from:"/create/rosa/welcome",to:"/create/rosa/getstarted"}),o().createElement(nt.Z,{path:"/create/rosa/getstarted",history:e,component:x.Z}),o().createElement(c.Route,{path:"/create/rosa/govcloud",component:et.Z}),o().createElement(nt.Z,{path:"/create/rosa/wizard",history:e,component:U.Z}),o().createElement(c.Route,{path:"/create",component:L.Z}),o().createElement(c.Route,{path:"/details/s/:id/insights/:reportId/:errorKey",component:W.default}),o().createElement(c.Route,{path:"/details/s/:id/add-idp/:idpTypeName",component:F.Z}),o().createElement(c.Route,{path:"/details/s/:id/edit-idp/:idpName",render:({match:e})=>o().createElement(F.Z,{isEditForm:!0,match:e})}),o().createElement(c.Route,{path:"/details/s/:id",component:z.Z}),o().createElement(c.Route,{path:"/details/:id/insights/:reportId/:errorKey",component:W.default}),o().createElement(c.Route,{path:"/details/:id",component:y.Z}),o().createElement(c.Route,{path:"/register",component:M.Z}),o().createElement(c.Route,{path:"/quota/resource-limits",render:()=>o().createElement(He.Z,{marketplace:!0})}),o().createElement(c.Route,{path:"/quota",component:He.Z}),o().createElement(c.Route,{path:"/archived",component:D.Z}),o().createElement(c.Route,{path:"/overview",exact:!0,component:Be.Z}),o().createElement(c.Route,{path:"/releases",exact:!0,component:Ke.Z}),o().createElement(c.Route,{path:"/assisted-installer",component:st}),o().createElement(c.Route,{path:"/",exact:!0,component:k.Z}),o().createElement(c.Route,{component:at.Z})))))}))),m);ct.setAuthInterceptor(g.w),pt.setRouteBasePath("/assisted-installer"),o().Component,Object.fromEntries||i().shim(),window.insights,l().render(o().createElement("div",{style:{margin:"25px"}},o().createElement("h1",null,"Unsupported environment"),o().createElement("h2",null,"OCM does not support this environment"),o().createElement("p",null,"Please use one of our supported environments."),o().createElement("p",null,"OCM is only being deployed to this environment to ensure navigation keeps working.")),document.getElementById("root"))},38432:(e,t,a)=>{"use strict";a.d(t,{R2:()=>p}),a(91757);var n=a(38352),o=a(84353),r=a(61810),l=a(40933),s=function(e,t,a,n){return new(a||(a=Promise))((function(o,r){function l(e){try{i(n.next(e))}catch(e){r(e)}}function s(e){try{i(n.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,s)}i((n=n.apply(e,t||[])).next())}))};const i=(e,t)=>({name:t,action:()=>o.Z.selfFeatureReview(e).then((e=>e.data.enabled))}),c=e=>s(void 0,void 0,void 0,(function*(){var t,a,n;c.cache||(c.cache=new Map);let o=!1;const l=null===(a=null===(t=(yield r.default.getCurrentAccount()).data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id;if(l){if(!c.cache.has(l)){const e=(yield r.default.getOrganization(l)).data;c.cache.set(l,JSON.parse(JSON.stringify(null!==(n=e.capabilities)&&void 0!==n?n:[])))}const t=c.cache.get(l),a=null==t?void 0:t.find((({name:t})=>t===e));o="true"===(null==a?void 0:a.value)}return o})),p=[i("osd-trial",n.OSD_TRIAL_FEATURE),i("hypershift-creation-wizard",n.HYPERSHIFT_WIZARD_FEATURE),i("hcp-rosa-getting-started-page",n.HCP_ROSA_GETTING_STARTED_PAGE),i("assisted-installer-sno",n.ASSISTED_INSTALLER_SNO_FEATURE),i("assisted-installer-ocs",n.ASSISTED_INSTALLER_OCS_FEATURE),i("assisted-installer-cnv",n.ASSISTED_INSTALLER_CNV_FEATURE),i("assisted-installer-merge-lists",n.ASSISTED_INSTALLER_MERGE_LISTS_FEATURE),i("assisted-installer-network-type-selection",n.ASSISTED_INSTALLER_NETWORK_TYPE_SELECTION_FEATURE),i("assisted-installer-platform-integration",n.ASSISTED_INSTALLER_PLATFORM_INTEGRATION_FEATURE),i("osd-creation-wizard-v2",n.OSD_WIZARD_V2_FEATURE),i("rosa-creation-wizard",n.ROSA_CREATION_WIZARD_FEATURE),{name:n.ASSISTED_INSTALLER_FEATURE,action:()=>Promise.all([o.Z.selfAccessReview({action:l.J.action.CREATE,resource_type:"BareMetalCluster"}),o.Z.selfFeatureReview("assisted-installer")]).then((([e,t])=>e.data.allowed&&t.data.enabled))},{name:n.ASSISTED_INSTALLER_PLATFORM_OCI,action:()=>s(void 0,void 0,void 0,(function*(){return c("capability.organization.bare_metal_installer_platform_oci")}))}]},98371:(e,t,a)=>{"use strict";a.r(t),a.d(t,{getOrganizationAndQuota:()=>m,selfTermsReview:()=>u,userActions:()=>d,userInfoResponse:()=>s});var n=a(91757),o=a(51955),r=a(33047),l=a(11689);const s=e=>(0,n.action)(o.userConstants.USER_INFO_RESPONSE,e),i=e=>{var t,a;return{items:(null!==(a=null===(t=e.data)||void 0===t?void 0:t.items)&&void 0!==a?a:[]).map(l.ME)}},c=e=>r.accountsService.getOrganizationQuota(e).then(i),p=(e,t)=>{const a=[c(e),t?Promise.resolve({data:t}):r.accountsService.getOrganization(e)];return Promise.all(a).then((([e,t])=>({quota:e,organization:t.data})))},m=()=>(e,t)=>{var a;const{userProfile:l}=t(),s=(null==l?void 0:l.organization.fulfilled)?null===(a=null==l?void 0:l.organization)||void 0===a?void 0:a.details:void 0,i=null==s?void 0:s.id;var c;e((c=void 0!==i?p(i,s):r.accountsService.getCurrentAccount().then((e=>{var t,a;const n=null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id;return void 0!==n?p(n):Promise.reject(Error("No organization"))})),(0,n.action)(o.userConstants.GET_ORGANIZATION,c)))},u=()=>(0,n.action)(o.userConstants.SELF_TERMS_REVIEW,r.authorizationsService.selfTermsReview()),d={userInfoResponse:s,getOrganizationAndQuota:m,processQuota:i,selfTermsReview:u}},97031:()=>{}}]);
//# sourceMappingURL=bundle.564.9700edb630398669.js.map