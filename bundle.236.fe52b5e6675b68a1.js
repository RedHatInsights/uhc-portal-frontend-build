"use strict";(self.webpackChunkcloud_openshift_com=self.webpackChunkcloud_openshift_com||[]).push([[236],{64236:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(28416),r=a.n(n),o=(a(26398),a(73727)),l=a(20133),s=a(62869),i=a(79074),c=a(47820),p=a(40802),m=a(66084),d=a(84896),E=a(78913),h=a(58995),u=a(49596),A=a(98371),Z=a(38432),v=a(19744),W=a(34677),g=a(1703);const{Api:_,Config:P}=d;_.setAuthInterceptor(W.w),P.setRouteBasePath("/assisted-installer");class w extends r().Component{constructor(){super(...arguments),this.state={ready:!1}}componentDidMount(){insights.chrome.init(),insights.chrome.identifyApp("").then((()=>{insights.chrome.appNavClick((0,h.Z)(window.location.pathname))})),insights.chrome.auth.getUser().then((e=>{var t;(null===(t=null==e?void 0:e.identity)||void 0===t?void 0:t.user)&&v.store.dispatch((0,A.userInfoResponse)(e.identity.user)),E.default.fetchConfig().then((()=>{var t;if(v.store.dispatch((0,Z.c6)()),this.setState({ready:!0}),!E.default.envOverride&&E.default.configData.sentryDSN&&(i.S1({dsn:E.default.configData.sentryDSN,integrations:[new m.x,new c.Integrations.GlobalHandlers({onerror:!0,onunhandledrejection:!1})]}),null===(t=null==e?void 0:e.identity)||void 0===t?void 0:t.user)){const{email:t,username:a}=e.identity.user;p.e((e=>{e.setUser({email:t,username:a})}))}}))})),insights.chrome.enable.segmentDev()}render(){const{ready:e}=this.state;if(e){const e=(0,u.default)();return r().createElement(l.Provider,{store:v.store},r().createElement(s.ZP,null),r().createElement(o.BrowserRouter,{basename:e,getUserConfirmation:()=>{}},r().createElement(g.Z,null)))}return null}}const f=w},49596:(e,t,a)=>{a.r(t),a.d(t,{advisorBaseName:()=>l,default:()=>p,getResourcesBase:()=>c,ocmAppPath:()=>o,removeOcmBaseName:()=>i});const{insights:{appname:n}}=a(4147),r=()=>(null===window||void 0===window?void 0:window.location.pathname.startsWith("/beta"))?"/beta":(null===window||void 0===window||window.location.pathname.startsWith("/preview"),"/preview"),o=`/${n}`,l=()=>`${r()}/openshift/insights/advisor`,s=new RegExp(`^(/preview|/beta|)/${n}`,"i"),i=e=>e.replace(s,""),c=()=>`/beta/apps/${n}`,p=()=>`${r()}/${n}`},58995:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(49596);function r(e){const t=(0,n.removeOcmBaseName)(e).replace(/^\//,"").split("/");switch(t[0]){case"downloads":case"token":return{id:"downloads"};case"quota":return{id:t[1]||"openshift-quota",parentId:"subscriptions",secondaryNav:!0};case"subscriptions":return{id:t[1],parentId:"subscriptions",secondaryNav:!0};case"overview":case"releases":return{id:t[0]};default:return{id:""}}}},1703:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(28416),r=a.n(n),o=a(92236),l=a(72052);const s=({children:e})=>{const t=document.getElementsByTagName("header")[0],[a,s]=(0,n.useState)(t.getBoundingClientRect().height);return(0,o.Z)(t,(e=>{const{contentRect:t}=e;a!==t.height&&s(t.height)})),r().createElement("div",{id:"app-outer-div",style:{height:`calc(100vh - ${a}px`}},r().createElement(l.Z,null))}},72052:(e,t,a)=>{a.d(t,{Z:()=>Me});var n=a(84896),r=a(55140),o=a(17420),l=a(27361),s=a.n(l),i=a(28416),c=a.n(i),p=a(20133),m=a(16317),d=a(96106),E=a(52758),h=a(38352),u=a(34677),A=a(59228),Z=a(77696),v=a(6775),W=a(36842),g=a(71847),_=a(90053),P=a(73531),w=a(1258),f=a(16551),R=a(94634),S=a(51930),b=a(13268),T=a(68575),I=a(64835),O=a(94845),D=a(28275),y=a(27612),N=a(32839),z=a(55705),F=a(49541),k=a(62800),x=a(78456),C=a(97636),U=a(33378),L=a(75288),H=a(17298),j=a(44710),B=a(58900),G=a(94203),$=a(98452),q=a(35087),M=a(95404),V=a(69817),Q=a(12691),K=a(6738),X=a(23311),Y=a(1214),J=a(357),ee=a(49758),te=a(7100),ae=a(36926),ne=a(96134),re=a(39286),oe=a(80635),le=a(34782),se=a(39048),ie=a(24236),ce=a(34997),pe=a(69733),me=a(57364),de=a(720),Ee=a(95870),he=a(32677),ue=a(97123),Ae=a(6309),Ze=a(28986),ve=a(92087),We=a(83782),ge=a(20239),_e=a(64536),Pe=a(59446),we=a(57729),fe=a(57531),Re=a(30726),Se=a(74396),be=a(14858),Te=a(21775),Ie=a(59958),Oe=a(25822),De=a(30832),ye=a(30517),Ne=a(507),ze=a(52964),Fe=a(41205),ke=a(49943),xe=a(43736),Ce=a(27849),Ue=a(23556),Le=a(23664),He=a(77994),je=a(58045),Be=a(48249),Ge=a(30116);const $e=(0,De.default)((e=>c().createElement(Ce.AppPage,null,c().createElement(n.Routes,Object.assign({},e)))),h.ASSISTED_INSTALLER_FEATURE),qe=(0,De.default)($.Z,h.ASSISTED_INSTALLER_FEATURE,V.ZP),Me=(0,p.connect)((e=>{const{cluster:t}=e.clusters.details;return{planType:s()(t,"subscription.plan.type",E.normalizedProducts.UNKNOWN),clusterId:s()(t,"subscription.cluster_id"),externalClusterId:s()(t,"subscription.external_cluster_id")}}))((0,m.EN)((({history:e,planType:t,clusterId:a,externalClusterId:n})=>{const{pathname:l}=(0,m.TH)(),{segment:{setPageMetadata:s}}=(0,r.Z)(),p=(0,d.useFeatureGate)(h.HYPERSHIFT_WIZARD_FEATURE),$=(0,d.useFeatureGate)(h.OSD_WIZARD_V2_FEATURE),{[h.OSD_WIZARD_V1]:De}=(0,Be.h)();return c().useEffect((()=>{console.info("---------------Features---------------\n",`HYPERSHIFT_WIZARD_FEATURE: ${p?"Enabled":"Disabled"}\n`,`OSD_WIZARD_V2_FEATURE: ${$?"Enabled":"Disabled"}\n`,`OSD_WIZARD_V1: ${De?"Enabled":"Disabled"}\n`,"-------------------------------------")}),[p,$,De]),(0,i.useEffect)((()=>{s(Object.assign(Object.assign({},(0,Ge.Z)(l,t,a,n)),(0,Ge.b)()?{title:"404 Not Found"}:{}))}),[l,t,a,n,s]),c().createElement(c().Fragment,null,c().createElement(Le.Z,null),c().createElement(o.xI,{history:e},c().createElement(xe.Z,{apiRequest:u.Z},c().createElement(m.rs,null,c().createElement(m.l_,{from:"/install/osp/installer-provisioned",to:"/install/openstack/installer-provisioned"}),c().createElement(m.l_,{from:"/install/crc/installer-provisioned",to:"/create/local"}),c().createElement(m.l_,{from:"/token/moa",to:"/token/rosa"}),c().createElement(m.l_,{from:"/insights",to:"/overview"}),c().createElement(m.l_,{from:"/subscriptions",to:"/quota"}),c().createElement(m.AW,{path:"/downloads",component:Oe.Z}),c().createElement(je.Z,{path:"/token/rosa/show",history:e,render:()=>c().createElement(Ce.AppPage,null,c().createElement(ke.Z,{show:!0}),c().createElement(Ie.Z,null))}),c().createElement(je.Z,{path:"/token/rosa",history:e,render:()=>c().createElement(Ce.AppPage,null,c().createElement(ke.Z,{show:!1,showPath:"/token/rosa/show"}),c().createElement(Ie.Z,null))}),c().createElement(m.AW,{path:"/token/show",render:()=>c().createElement(Fe.Z,{show:!0})}),c().createElement(m.AW,{path:"/token",render:()=>c().createElement(Fe.Z,{show:!1,showPath:"/token/show"})}),c().createElement(m.AW,{path:"/install/alibaba/installer-provisioned",component:N.ZP}),c().createElement(m.AW,{path:"/install/arm/installer-provisioned",component:U.ZP}),c().createElement(m.AW,{path:"/install/arm/user-provisioned",component:L.ZP}),c().createElement(m.AW,{path:"/install/arm/pre-release",component:H.ZP}),c().createElement(m.AW,{path:"/install/arm",component:C.Z}),c().createElement(m.AW,{path:"/install/aws/installer-provisioned",component:D.ZP}),c().createElement(m.AW,{path:"/install/aws/user-provisioned",component:y.ZP}),c().createElement(m.AW,{path:"/install/aws/arm/installer-provisioned",component:F.ZP}),c().createElement(m.AW,{path:"/install/aws/arm/user-provisioned",component:k.ZP}),c().createElement(m.AW,{path:"/install/aws/arm",component:z.Z}),c().createElement(m.AW,{path:"/install/aws/multi/installer-provisioned",component:ae.ZP}),c().createElement(m.AW,{path:"/install/aws",component:O.Z}),c().createElement(m.AW,{path:"/install/gcp/installer-provisioned",component:K.ZP}),c().createElement(m.AW,{path:"/install/gcp/user-provisioned",component:X.ZP}),c().createElement(m.AW,{path:"/install/gcp",component:Q.Z}),c().createElement(m.AW,{path:"/install/nutanix",exact:!0,component:le.Z}),c().createElement(m.AW,{path:"/install/nutanix/installer-provisioned",component:se.ZP}),c().createElement(m.AW,{path:"/install/openstack/installer-provisioned",component:ce.ZP}),c().createElement(m.AW,{path:"/install/openstack/user-provisioned",component:pe.ZP}),c().createElement(m.AW,{path:"/install/openstack",component:ie.Z}),c().createElement(m.AW,{path:"/install/rhv/installer-provisioned",component:Pe.ZP}),c().createElement(m.AW,{path:"/install/rhv/user-provisioned",component:we.ZP}),c().createElement(m.AW,{path:"/install/rhv",component:_e.Z}),c().createElement(m.AW,{path:"/install/azure/arm/installer-provisioned",component:x.ZP}),c().createElement(m.AW,{path:"/install/azure/multi/installer-provisioned",component:ne.ZP}),c().createElement(m.AW,{path:"/install/azure/installer-provisioned",component:B.ZP}),c().createElement(m.AW,{path:"/install/azure/user-provisioned",component:G.ZP}),c().createElement(m.AW,{path:"/install/azure",exact:!0,component:j.Z}),c().createElement(m.AW,{path:"/install/azure-stack-hub/installer-provisioned",exact:!0,component:T.ZP}),c().createElement(m.AW,{path:"/install/azure-stack-hub/user-provisioned",exact:!0,component:I.ZP}),c().createElement(m.AW,{path:"/install/azure-stack-hub",exact:!0,component:b.Z}),c().createElement(m.AW,{path:"/install/metal/user-provisioned",component:V.ZP}),c().createElement(m.AW,{path:"/install/metal/installer-provisioned",component:M.ZP}),c().createElement(m.AW,{path:"/install/metal/agent-based",component:q.ZP}),c().createElement(m.AW,{path:"/install/metal/multi",component:re.ZP}),c().createElement(m.AW,{path:"/install/metal",component:qe}),c().createElement(m.AW,{path:"/install/multi/pre-release",component:oe.ZP}),c().createElement(m.AW,{path:"/install/vsphere",exact:!0,component:fe.Z}),c().createElement(m.AW,{path:"/install/vsphere/agent-based",component:Re.ZP}),c().createElement(m.AW,{path:"/install/vsphere/user-provisioned",component:be.ZP}),c().createElement(m.AW,{path:"/install/vsphere/installer-provisioned",component:Se.ZP}),c().createElement(m.AW,{path:"/install/ibm-cloud",component:Y.ZP}),c().createElement(m.AW,{path:"/install/ibmz/user-provisioned",component:te.ZP}),c().createElement(m.AW,{path:"/install/ibmz/pre-release",component:ee.ZP}),c().createElement(m.AW,{path:"/install/ibmz",exact:!0,component:J.Z}),c().createElement(m.AW,{path:"/install/power/user-provisioned",component:Ae.ZP}),c().createElement(m.AW,{path:"/install/power/pre-release",component:ue.ZP}),c().createElement(m.AW,{path:"/install/power",exact:!0,component:he.Z}),c().createElement(m.AW,{path:"/install/powervs/installer-provisioned",component:Ze.ZP}),c().createElement(m.AW,{path:"/install/platform-agnostic/agent-based",component:de.ZP}),c().createElement(m.AW,{path:"/install/platform-agnostic/user-provisioned",component:Ee.ZP}),c().createElement(m.AW,{path:"/install/platform-agnostic",component:me.Z}),c().createElement(m.AW,{path:"/install/pre-release",component:ve.ZP}),c().createElement(m.AW,{path:"/install/pull-secret",component:We.ZP}),c().createElement(m.AW,{path:"/install/azure/aro-provisioned",component:ge.ZP}),c().createElement(m.l_,{from:"/install",to:"/create"}),c().createElement(m.l_,{from:"/create/osd/aws",to:"/create/osd"}),c().createElement(m.l_,{from:"/create/osd/gcp",to:"/create/osd"}),c().createElement(m.l_,{from:"/create/osdtrial/aws",to:"/create/osdtrial"}),c().createElement(m.l_,{from:"/create/osdtrial/gcp",to:"/create/osdtrial"}),$&&!De?c().createElement(je.Z,{path:"/create/osdtrial",gobackPath:"/create",render:()=>c().createElement(Te.j,{product:E.normalizedProducts.OSDTrial}),history:e}):c().createElement(je.Z,{path:"/create/osdtrial",gobackPath:"/create",render:()=>c().createElement(P.Z,{product:E.normalizedProducts.OSDTrial}),history:e}),$&&!De?c().createElement(je.Z,{path:"/create/osd",gobackPath:"/create",component:Te.j,history:e}):c().createElement(je.Z,{path:"/create/osd",gobackPath:"/create",render:()=>c().createElement(P.Z,{product:E.normalizedProducts.OSD}),history:e}),c().createElement(m.AW,{path:"/create/cloud",render:e=>c().createElement(_.Z,Object.assign({activeTab:"cloud"},e))}),c().createElement(m.AW,{path:"/create/datacenter",render:e=>c().createElement(_.Z,Object.assign({activeTab:"datacenter"},e))}),c().createElement(m.AW,{path:"/create/local",render:e=>c().createElement(_.Z,Object.assign({activeTab:"local"},e))}),c().createElement(m.l_,{from:"/create/rosa/welcome",to:"/create/rosa/getstarted"}),c().createElement(je.Z,{path:"/create/rosa/getstarted",history:e,component:f.Z}),c().createElement(m.AW,{path:"/create/rosa/govcloud",component:Ue.Z}),c().createElement(je.Z,{path:"/create/rosa/wizard",history:e,component:w.Z}),c().createElement(m.AW,{path:"/create",component:_.Z}),c().createElement(m.AW,{path:"/details/s/:id/insights/:reportId/:errorKey",component:R.default}),c().createElement(m.AW,{path:"/details/s/:id/add-idp/:idpTypeName",component:W.Z}),c().createElement(m.AW,{path:"/details/s/:id/edit-idp/:idpName",render:({match:e})=>c().createElement(W.Z,{isEditForm:!0,match:e})}),c().createElement(m.AW,{path:"/details/s/:id",component:v.Z}),c().createElement(m.AW,{path:"/details/:id/insights/:reportId/:errorKey",component:R.default}),c().createElement(m.AW,{path:"/details/:id",component:Z.Z}),c().createElement(m.AW,{path:"/register",component:S.Z}),c().createElement(m.AW,{path:"/quota/resource-limits",render:()=>c().createElement(Ne.Z,{marketplace:!0})}),c().createElement(m.AW,{path:"/quota",component:Ne.Z}),c().createElement(m.AW,{path:"/archived",component:A.Z}),c().createElement(m.AW,{path:"/overview",exact:!0,component:ye.Z}),c().createElement(m.AW,{path:"/releases",exact:!0,component:ze.Z}),c().createElement(m.AW,{path:"/assisted-installer",component:$e}),c().createElement(m.AW,{path:"/",exact:!0,component:g.Z}),c().createElement(m.AW,{component:He.Z})))))})))},38432:(e,t,a)=>{a.d(t,{R2:()=>c,c6:()=>p});var n=a(91757),r=a(38352),o=a(84353),l=a(40933);const s=(e,t)=>(0,n.action)(r.SET_FEATURE,{feature:e,enabled:t}),i=(e,t)=>({name:t,action:()=>o.Z.selfFeatureReview(e).then((e=>e.data.enabled))}),c=[i("osd-trial",r.OSD_TRIAL_FEATURE),i("hypershift-creation-wizard",r.HYPERSHIFT_WIZARD_FEATURE),i("hcp-rosa-getting-started-page",r.HCP_ROSA_GETTING_STARTED_PAGE),i("hcp-aws-billing-show",r.HCP_AWS_BILLING_SHOW),i("hcp-aws-billing-required",r.HCP_AWS_BILLING_REQUIRED),i("osd-creation-wizard-v2",r.OSD_WIZARD_V2_FEATURE),i("rosa-creation-wizard",r.ROSA_CREATION_WIZARD_FEATURE),i("assisted-installer-merge-lists",r.ASSISTED_INSTALLER_MERGE_LISTS_FEATURE),{name:r.ASSISTED_INSTALLER_FEATURE,action:()=>Promise.all([o.Z.selfAccessReview({action:l.J.action.CREATE,resource_type:"BareMetalCluster"}),o.Z.selfFeatureReview("assisted-installer")]).then((([e,t])=>e.data.allowed&&t.data.enabled))}],p=()=>e=>{c.forEach((({name:t,action:a})=>a().then((a=>e(s(t,a)))).catch((()=>e(s(t,!1))))))}},98371:(e,t,a)=>{a.r(t),a.d(t,{getOrganizationAndQuota:()=>m,selfTermsReview:()=>d,userActions:()=>E,userInfoResponse:()=>s});var n=a(91757),r=a(33174),o=a(33047),l=a(11689);const s=e=>(0,n.action)(r.userConstants.USER_INFO_RESPONSE,e),i=e=>{var t,a;return{items:(null!==(a=null===(t=e.data)||void 0===t?void 0:t.items)&&void 0!==a?a:[]).map(l.ME)}},c=e=>o.accountsService.getOrganizationQuota(e).then(i),p=(e,t)=>{const a=[c(e),t?Promise.resolve({data:t}):o.accountsService.getOrganization(e)];return Promise.all(a).then((([e,t])=>({quota:e,organization:t.data})))},m=()=>(e,t)=>{var a;const{userProfile:l}=t(),s=(null==l?void 0:l.organization.fulfilled)?null===(a=null==l?void 0:l.organization)||void 0===a?void 0:a.details:void 0,i=null==s?void 0:s.id;var c;e((c=void 0!==i?p(i,s):o.accountsService.getCurrentAccount().then((e=>{var t,a;const n=null===(a=null===(t=e.data)||void 0===t?void 0:t.organization)||void 0===a?void 0:a.id;return void 0!==n?p(n):Promise.reject(Error("No organization"))})),(0,n.action)(r.userConstants.GET_ORGANIZATION,c)))},d=()=>(0,n.action)(r.userConstants.SELF_TERMS_REVIEW,o.authorizationsService.selfTermsReview()),E={userInfoResponse:s,getOrganizationAndQuota:m,processQuota:i,selfTermsReview:d}},19744:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h,history:()=>d,store:()=>h});var n=a(14890),r=a(53894),o=a(57283),l=a.n(o),s=a(10810),i=a(42358),c=a(72796),p=a(88896),m=a(45048);const d=(0,i.lX)(),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.compose,h=(0,n.createStore)((0,p.aA)(d),E((0,n.applyMiddleware)((0,s.Z)(d),r.Z,l(),(0,c.uv)(Object.assign({},{dispatchDefaultFailure:!1})),m.Z)))}}]);
//# sourceMappingURL=bundle.236.fe52b5e6675b68a1.js.map